var Kw=Object.defineProperty,Jw=Object.defineProperties;var Xw=Object.getOwnPropertyDescriptors;var Df=Object.getOwnPropertySymbols;var W1=Object.prototype.hasOwnProperty,K1=Object.prototype.propertyIsEnumerable;var H0=(r,e,t)=>e in r?Kw(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,lt=(r,e)=>{for(var t in e||(e={}))W1.call(e,t)&&H0(r,t,e[t]);if(Df)for(var t of Df(e))K1.call(e,t)&&H0(r,t,e[t]);return r},kt=(r,e)=>Jw(r,Xw(e));var Ui=(r,e)=>{var t={};for(var i in r)W1.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&Df)for(var i of Df(r))e.indexOf(i)<0&&K1.call(r,i)&&(t[i]=r[i]);return t};var yn=(r,e,t)=>H0(r,typeof e!="symbol"?e+"":e,t);var de=(r,e,t)=>new Promise((i,s)=>{var o=f=>{try{h(t.next(f))}catch(d){s(d)}},c=f=>{try{h(t.throw(f))}catch(d){s(d)}},h=f=>f.done?i(f.value):Promise.resolve(f.value).then(o,c);h((t=t.apply(r,e)).next())});function Zw(r,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in r)){const o=Object.getOwnPropertyDescriptor(i,s);o&&Object.defineProperty(r,s,o.get?o:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var qA=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function cm(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Qw(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function i(){var s=!1;try{s=this instanceof i}catch(o){}return s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var s=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:function(){return r[i]}})}),t}var $0={exports:{}},gh={};var J1;function ex(){if(J1)return gh;J1=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var h in s)h!=="key"&&(o[h]=s[h])}else o=s;return s=o.ref,{$$typeof:r,type:i,key:c,ref:s!==void 0?s:null,props:o}}return gh.Fragment=e,gh.jsx=t,gh.jsxs=t,gh}var X1;function tx(){return X1||(X1=1,$0.exports=ex()),$0.exports}var m=tx(),V0={exports:{}},vh={},G0={exports:{}},Y0={};var Z1;function nx(){return Z1||(Z1=1,(function(r){function e(K,le){var ue=K.length;K.push(le);e:for(;0<ue;){var ae=ue-1>>>1,ke=K[ae];if(0<s(ke,le))K[ae]=le,K[ue]=ke,ue=ae;else break e}}function t(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var le=K[0],ue=K.pop();if(ue!==le){K[0]=ue;e:for(var ae=0,ke=K.length,G=ke>>>1;ae<G;){var A=2*(ae+1)-1,z=K[A],F=A+1,ne=K[F];if(0>s(z,ue))F<ke&&0>s(ne,z)?(K[ae]=ne,K[F]=ue,ae=F):(K[ae]=z,K[A]=ue,ae=A);else if(F<ke&&0>s(ne,ue))K[ae]=ne,K[F]=ue,ae=F;else break e}}return le}function s(K,le){var ue=K.sortIndex-le.sortIndex;return ue!==0?ue:K.id-le.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();r.unstable_now=function(){return c.now()-h}}var f=[],d=[],v=1,_=null,N=3,w=!1,E=!1,k=!1,L=!1,T=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate!="undefined"?setImmediate:null;function B(K){for(var le=t(d);le!==null;){if(le.callback===null)i(d);else if(le.startTime<=K)i(d),le.sortIndex=le.expirationTime,e(f,le);else break;le=t(d)}}function Y(K){if(k=!1,B(K),!E)if(t(f)!==null)E=!0,ie||(ie=!0,$());else{var le=t(d);le!==null&&he(Y,le.startTime-K)}}var ie=!1,te=-1,X=5,H=-1;function pe(){return L?!0:!(r.unstable_now()-H<X)}function R(){if(L=!1,ie){var K=r.unstable_now();H=K;var le=!0;try{e:{E=!1,k&&(k=!1,U(te),te=-1),w=!0;var ue=N;try{t:{for(B(K),_=t(f);_!==null&&!(_.expirationTime>K&&pe());){var ae=_.callback;if(typeof ae=="function"){_.callback=null,N=_.priorityLevel;var ke=ae(_.expirationTime<=K);if(K=r.unstable_now(),typeof ke=="function"){_.callback=ke,B(K),le=!0;break t}_===t(f)&&i(f),B(K)}else i(f);_=t(f)}if(_!==null)le=!0;else{var G=t(d);G!==null&&he(Y,G.startTime-K),le=!1}}break e}finally{_=null,N=ue,w=!1}le=void 0}}finally{le?$():ie=!1}}}var $;if(typeof O=="function")$=function(){O(R)};else if(typeof MessageChannel!="undefined"){var se=new MessageChannel,re=se.port2;se.port1.onmessage=R,$=function(){re.postMessage(null)}}else $=function(){T(R,0)};function he(K,le){te=T(function(){K(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(K){switch(N){case 1:case 2:case 3:var le=3;break;default:le=N}var ue=N;N=le;try{return K()}finally{N=ue}},r.unstable_requestPaint=function(){L=!0},r.unstable_runWithPriority=function(K,le){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ue=N;N=K;try{return le()}finally{N=ue}},r.unstable_scheduleCallback=function(K,le,ue){var ae=r.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?ae+ue:ae):ue=ae,K){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=ue+ke,K={id:v++,callback:le,priorityLevel:K,startTime:ue,expirationTime:ke,sortIndex:-1},ue>ae?(K.sortIndex=ue,e(d,K),t(f)===null&&K===t(d)&&(k?(U(te),te=-1):k=!0,he(Y,ue-ae))):(K.sortIndex=ke,e(f,K),E||w||(E=!0,ie||(ie=!0,$()))),K},r.unstable_shouldYield=pe,r.unstable_wrapCallback=function(K){var le=N;return function(){var ue=N;N=le;try{return K.apply(this,arguments)}finally{N=ue}}}})(Y0)),Y0}var Q1;function rx(){return Q1||(Q1=1,G0.exports=nx()),G0.exports}var W0={exports:{}},Ft={};var e2;function ax(){if(e2)return Ft;e2=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),N=Symbol.iterator;function w(G){return G===null||typeof G!="object"?null:(G=N&&G[N]||G["@@iterator"],typeof G=="function"?G:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,L={};function T(G,A,z){this.props=G,this.context=A,this.refs=L,this.updater=z||E}T.prototype.isReactComponent={},T.prototype.setState=function(G,A){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,A,"setState")},T.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function U(){}U.prototype=T.prototype;function O(G,A,z){this.props=G,this.context=A,this.refs=L,this.updater=z||E}var B=O.prototype=new U;B.constructor=O,k(B,T.prototype),B.isPureReactComponent=!0;var Y=Array.isArray;function ie(){}var te={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function H(G,A,z){var F=z.ref;return{$$typeof:r,type:G,key:A,ref:F!==void 0?F:null,props:z}}function pe(G,A){return H(G.type,A,G.props)}function R(G){return typeof G=="object"&&G!==null&&G.$$typeof===r}function $(G){var A={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(z){return A[z]})}var se=/\/+/g;function re(G,A){return typeof G=="object"&&G!==null&&G.key!=null?$(""+G.key):A.toString(36)}function he(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(ie,ie):(G.status="pending",G.then(function(A){G.status==="pending"&&(G.status="fulfilled",G.value=A)},function(A){G.status==="pending"&&(G.status="rejected",G.reason=A)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function K(G,A,z,F,ne){var ce=typeof G;(ce==="undefined"||ce==="boolean")&&(G=null);var we=!1;if(G===null)we=!0;else switch(ce){case"bigint":case"string":case"number":we=!0;break;case"object":switch(G.$$typeof){case r:case e:we=!0;break;case v:return we=G._init,K(we(G._payload),A,z,F,ne)}}if(we)return ne=ne(G),we=F===""?"."+re(G,0):F,Y(ne)?(z="",we!=null&&(z=we.replace(se,"$&/")+"/"),K(ne,A,z,"",function(Me){return Me})):ne!=null&&(R(ne)&&(ne=pe(ne,z+(ne.key==null||G&&G.key===ne.key?"":(""+ne.key).replace(se,"$&/")+"/")+we)),A.push(ne)),1;we=0;var je=F===""?".":F+":";if(Y(G))for(var Ae=0;Ae<G.length;Ae++)F=G[Ae],ce=je+re(F,Ae),we+=K(F,A,z,ce,ne);else if(Ae=w(G),typeof Ae=="function")for(G=Ae.call(G),Ae=0;!(F=G.next()).done;)F=F.value,ce=je+re(F,Ae++),we+=K(F,A,z,ce,ne);else if(ce==="object"){if(typeof G.then=="function")return K(he(G),A,z,F,ne);throw A=String(G),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.")}return we}function le(G,A,z){if(G==null)return G;var F=[],ne=0;return K(G,F,"","",function(ce){return A.call(z,ce,ne++)}),F}function ue(G){if(G._status===-1){var A=G._result;A=A(),A.then(function(z){(G._status===0||G._status===-1)&&(G._status=1,G._result=z)},function(z){(G._status===0||G._status===-1)&&(G._status=2,G._result=z)}),G._status===-1&&(G._status=0,G._result=A)}if(G._status===1)return G._result.default;throw G._result}var ae=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var A=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(A))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},ke={map:le,forEach:function(G,A,z){le(G,function(){A.apply(this,arguments)},z)},count:function(G){var A=0;return le(G,function(){A++}),A},toArray:function(G){return le(G,function(A){return A})||[]},only:function(G){if(!R(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return Ft.Activity=_,Ft.Children=ke,Ft.Component=T,Ft.Fragment=t,Ft.Profiler=s,Ft.PureComponent=O,Ft.StrictMode=i,Ft.Suspense=f,Ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,Ft.__COMPILER_RUNTIME={__proto__:null,c:function(G){return te.H.useMemoCache(G)}},Ft.cache=function(G){return function(){return G.apply(null,arguments)}},Ft.cacheSignal=function(){return null},Ft.cloneElement=function(G,A,z){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var F=k({},G.props),ne=G.key;if(A!=null)for(ce in A.key!==void 0&&(ne=""+A.key),A)!X.call(A,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&A.ref===void 0||(F[ce]=A[ce]);var ce=arguments.length-2;if(ce===1)F.children=z;else if(1<ce){for(var we=Array(ce),je=0;je<ce;je++)we[je]=arguments[je+2];F.children=we}return H(G.type,ne,F)},Ft.createContext=function(G){return G={$$typeof:c,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:o,_context:G},G},Ft.createElement=function(G,A,z){var F,ne={},ce=null;if(A!=null)for(F in A.key!==void 0&&(ce=""+A.key),A)X.call(A,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(ne[F]=A[F]);var we=arguments.length-2;if(we===1)ne.children=z;else if(1<we){for(var je=Array(we),Ae=0;Ae<we;Ae++)je[Ae]=arguments[Ae+2];ne.children=je}if(G&&G.defaultProps)for(F in we=G.defaultProps,we)ne[F]===void 0&&(ne[F]=we[F]);return H(G,ce,ne)},Ft.createRef=function(){return{current:null}},Ft.forwardRef=function(G){return{$$typeof:h,render:G}},Ft.isValidElement=R,Ft.lazy=function(G){return{$$typeof:v,_payload:{_status:-1,_result:G},_init:ue}},Ft.memo=function(G,A){return{$$typeof:d,type:G,compare:A===void 0?null:A}},Ft.startTransition=function(G){var A=te.T,z={};te.T=z;try{var F=G(),ne=te.S;ne!==null&&ne(z,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(ie,ae)}catch(ce){ae(ce)}finally{A!==null&&z.types!==null&&(A.types=z.types),te.T=A}},Ft.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},Ft.use=function(G){return te.H.use(G)},Ft.useActionState=function(G,A,z){return te.H.useActionState(G,A,z)},Ft.useCallback=function(G,A){return te.H.useCallback(G,A)},Ft.useContext=function(G){return te.H.useContext(G)},Ft.useDebugValue=function(){},Ft.useDeferredValue=function(G,A){return te.H.useDeferredValue(G,A)},Ft.useEffect=function(G,A){return te.H.useEffect(G,A)},Ft.useEffectEvent=function(G){return te.H.useEffectEvent(G)},Ft.useId=function(){return te.H.useId()},Ft.useImperativeHandle=function(G,A,z){return te.H.useImperativeHandle(G,A,z)},Ft.useInsertionEffect=function(G,A){return te.H.useInsertionEffect(G,A)},Ft.useLayoutEffect=function(G,A){return te.H.useLayoutEffect(G,A)},Ft.useMemo=function(G,A){return te.H.useMemo(G,A)},Ft.useOptimistic=function(G,A){return te.H.useOptimistic(G,A)},Ft.useReducer=function(G,A,z){return te.H.useReducer(G,A,z)},Ft.useRef=function(G){return te.H.useRef(G)},Ft.useState=function(G){return te.H.useState(G)},Ft.useSyncExternalStore=function(G,A,z){return te.H.useSyncExternalStore(G,A,z)},Ft.useTransition=function(){return te.H.useTransition()},Ft.version="19.2.0",Ft}var t2;function um(){return t2||(t2=1,W0.exports=ax()),W0.exports}var K0={exports:{}},da={};var n2;function ix(){if(n2)return da;n2=1;var r=um();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,d,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:f,containerInfo:d,implementation:v}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return da.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,da.createPortal=function(f,d){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,v)},da.flushSync=function(f){var d=c.T,v=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=d,i.p=v,i.d.f()}},da.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},da.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},da.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var v=d.as,_=h(v,d.crossOrigin),N=typeof d.integrity=="string"?d.integrity:void 0,w=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;v==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:N,fetchPriority:w}):v==="script"&&i.d.X(f,{crossOrigin:_,integrity:N,fetchPriority:w,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},da.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var v=h(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},da.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var v=d.as,_=h(v,d.crossOrigin);i.d.L(f,v,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},da.preloadModule=function(f,d){if(typeof f=="string")if(d){var v=h(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},da.requestFormReset=function(f){i.d.r(f)},da.unstable_batchedUpdates=function(f,d){return f(d)},da.useFormState=function(f,d,v){return c.H.useFormState(f,d,v)},da.useFormStatus=function(){return c.H.useHostTransitionStatus()},da.version="19.2.0",da}var r2;function sx(){if(r2)return K0.exports;r2=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),K0.exports=ix(),K0.exports}var a2;function ox(){if(a2)return vh;a2=1;var r=rx(),e=um(),t=sx();function i(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var a=n,l=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(l=a.return),n=a.return;while(n)}return a.tag===3?l:null}function c(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function h(n){if(n.tag===31){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function f(n){if(o(n)!==n)throw Error(i(188))}function d(n){var a=n.alternate;if(!a){if(a=o(n),a===null)throw Error(i(188));return a!==n?null:n}for(var l=n,u=a;;){var g=l.return;if(g===null)break;var b=g.alternate;if(b===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===l)return f(g),n;if(b===u)return f(g),a;b=b.sibling}throw Error(i(188))}if(l.return!==u.return)l=g,u=b;else{for(var C=!1,q=g.child;q;){if(q===l){C=!0,l=g,u=b;break}if(q===u){C=!0,u=g,l=b;break}q=q.sibling}if(!C){for(q=b.child;q;){if(q===l){C=!0,l=b,u=g;break}if(q===u){C=!0,u=b,l=g;break}q=q.sibling}if(!C)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?n:a}function v(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=v(n),a!==null)return a;n=n.sibling}return null}var _=Object.assign,N=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),O=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),pe=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function $(n){return n===null||typeof n!="object"?null:(n=R&&n[R]||n["@@iterator"],typeof n=="function"?n:null)}var se=Symbol.for("react.client.reference");function re(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===se?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case k:return"Fragment";case T:return"Profiler";case L:return"StrictMode";case Y:return"Suspense";case ie:return"SuspenseList";case H:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case E:return"Portal";case O:return n.displayName||"Context";case U:return(n._context.displayName||"Context")+".Consumer";case B:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case te:return a=n.displayName||null,a!==null?a:re(n.type)||"Memo";case X:a=n._payload,n=n._init;try{return re(n(a))}catch(l){}}return null}var he=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},ae=[],ke=-1;function G(n){return{current:n}}function A(n){0>ke||(n.current=ae[ke],ae[ke]=null,ke--)}function z(n,a){ke++,ae[ke]=n.current,n.current=a}var F=G(null),ne=G(null),ce=G(null),we=G(null);function je(n,a){switch(z(ce,a),z(ne,n),z(F,null),a.nodeType){case 9:case 11:n=(n=a.documentElement)&&(n=n.namespaceURI)?v1(n):0;break;default:if(n=a.tagName,a=a.namespaceURI)a=v1(a),n=y1(a,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}A(F),z(F,n)}function Ae(){A(F),A(ne),A(ce)}function Me(n){n.memoizedState!==null&&z(we,n);var a=F.current,l=y1(a,n.type);a!==l&&(z(ne,n),z(F,l))}function $e(n){ne.current===n&&(A(F),A(ne)),we.current===n&&(A(we),fh._currentValue=ue)}var Ke,Je;function ve(n){if(Ke===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Ke=a&&a[1]||"",Je=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ke+n+Je}var J=!1;function Ge(n,a){if(!n||J)return"";J=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var Ie=function(){throw Error()};if(Object.defineProperty(Ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ie,[])}catch(Oe){var Te=Oe}Reflect.construct(n,[],Ie)}else{try{Ie.call()}catch(Oe){Te=Oe}n.call(Ie.prototype)}}else{try{throw Error()}catch(Oe){Te=Oe}(Ie=n())&&typeof Ie.catch=="function"&&Ie.catch(function(){})}}catch(Oe){if(Oe&&Te&&typeof Oe.stack=="string")return[Oe.stack,Te.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=u.DetermineComponentFrameRoot(),C=b[0],q=b[1];if(C&&q){var fe=C.split(`
`),Le=q.split(`
`);for(g=u=0;u<fe.length&&!fe[u].includes("DetermineComponentFrameRoot");)u++;for(;g<Le.length&&!Le[g].includes("DetermineComponentFrameRoot");)g++;if(u===fe.length||g===Le.length)for(u=fe.length-1,g=Le.length-1;1<=u&&0<=g&&fe[u]!==Le[g];)g--;for(;1<=u&&0<=g;u--,g--)if(fe[u]!==Le[g]){if(u!==1||g!==1)do if(u--,g--,0>g||fe[u]!==Le[g]){var Pe=`
`+fe[u].replace(" at new "," at ");return n.displayName&&Pe.includes("<anonymous>")&&(Pe=Pe.replace("<anonymous>",n.displayName)),Pe}while(1<=u&&0<=g);break}}}finally{J=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?ve(l):""}function et(n,a){switch(n.tag){case 26:case 27:case 5:return ve(n.type);case 16:return ve("Lazy");case 13:return n.child!==a&&a!==null?ve("Suspense Fallback"):ve("Suspense");case 19:return ve("SuspenseList");case 0:case 15:return Ge(n.type,!1);case 11:return Ge(n.type.render,!1);case 1:return Ge(n.type,!0);case 31:return ve("Activity");default:return""}}function rt(n){try{var a="",l=null;do a+=et(n,l),l=n,n=n.return;while(n);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Fe=Object.prototype.hasOwnProperty,tt=r.unstable_scheduleCallback,We=r.unstable_cancelCallback,Tt=r.unstable_shouldYield,mt=r.unstable_requestPaint,Ut=r.unstable_now,zt=r.unstable_getCurrentPriorityLevel,Mt=r.unstable_ImmediatePriority,bn=r.unstable_UserBlockingPriority,Rt=r.unstable_NormalPriority,dt=r.unstable_LowPriority,Ct=r.unstable_IdlePriority,pt=r.log,Ln=r.unstable_setDisableYieldValue,Kt=null,Xe=null;function _t(n){if(typeof pt=="function"&&Ln(n),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(Kt,n)}catch(a){}}var Vt=Math.clz32?Math.clz32:It,St=Math.log,Jt=Math.LN2;function It(n){return n>>>=0,n===0?32:31-(St(n)/Jt|0)|0}var In=256,Jn=262144,mn=4194304;function xt(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function nn(n,a,l){var u=n.pendingLanes;if(u===0)return 0;var g=0,b=n.suspendedLanes,C=n.pingedLanes;n=n.warmLanes;var q=u&134217727;return q!==0?(u=q&~b,u!==0?g=xt(u):(C&=q,C!==0?g=xt(C):l||(l=q&~n,l!==0&&(g=xt(l))))):(q=u&~b,q!==0?g=xt(q):C!==0?g=xt(C):l||(l=u&~n,l!==0&&(g=xt(l)))),g===0?0:a!==0&&a!==g&&(a&b)===0&&(b=g&-g,l=a&-a,b>=l||b===32&&(l&4194048)!==0)?a:g}function Za(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function Gr(n,a){switch(n){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yi(){var n=mn;return mn<<=1,(mn&62914560)===0&&(mn=4194304),n}function Oa(n){for(var a=[],l=0;31>l;l++)a.push(n);return a}function gt(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function qi(n,a,l,u,g,b){var C=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var q=n.entanglements,fe=n.expirationTimes,Le=n.hiddenUpdates;for(l=C&~l;0<l;){var Pe=31-Vt(l),Ie=1<<Pe;q[Pe]=0,fe[Pe]=-1;var Te=Le[Pe];if(Te!==null)for(Le[Pe]=null,Pe=0;Pe<Te.length;Pe++){var Oe=Te[Pe];Oe!==null&&(Oe.lane&=-536870913)}l&=~Ie}u!==0&&bi(n,u,0),b!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=b&~(C&~a))}function bi(n,a,l){n.pendingLanes|=a,n.suspendedLanes&=~a;var u=31-Vt(a);n.entangledLanes|=a,n.entanglements[u]=n.entanglements[u]|1073741824|l&261930}function wa(n,a){var l=n.entangledLanes|=a;for(n=n.entanglements;l;){var u=31-Vt(l),g=1<<u;g&a|n[u]&a&&(n[u]|=a),l&=~g}}function xa(n,a){var l=a&-a;return l=(l&42)!==0?1:qn(l),(l&(n.suspendedLanes|a))!==0?0:l}function qn(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function hr(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function jr(){var n=le.p;return n!==0?n:(n=window.event,n===void 0?32:q1(n.type))}function Ns(n,a){var l=le.p;try{return le.p=n,a()}finally{le.p=l}}var na=Math.random().toString(36).slice(2),Nn="__reactFiber$"+na,Hn="__reactProps$"+na,Yr="__reactContainer$"+na,_a="__reactEvents$"+na,Ra="__reactListeners$"+na,Js="__reactHandles$"+na,Qa="__reactResources$"+na,ei="__reactMarker$"+na;function As(n){delete n[Nn],delete n[Hn],delete n[_a],delete n[Ra],delete n[Js]}function ti(n){var a=n[Nn];if(a)return a;for(var l=n.parentNode;l;){if(a=l[Yr]||l[Nn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(n=A1(n);n!==null;){if(l=n[Nn])return l;n=A1(n)}return a}n=l,l=n.parentNode}return null}function ni(n){if(n=n[Nn]||n[Yr]){var a=n.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return n}return null}function Xs(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(i(33))}function wi(n){var a=n[Qa];return a||(a=n[Qa]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function rr(n){n[ei]=!0}var Nl=new Set,Sa={};function ri(n,a){Fi(n,a),Fi(n+"Capture",a)}function Fi(n,a){for(Sa[n]=a,n=0;n<a.length;n++)Nl.add(a[n])}var Al=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jl={},El={};function yc(n){return Fe.call(El,n)?!0:Fe.call(jl,n)?!1:Al.test(n)?El[n]=!0:(jl[n]=!0,!1)}function Hi(n,a,l){if(yc(a))if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+l)}}function Mo(n,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+l)}}function Sn(n,a,l,u){if(u===null)n.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(a,l,""+u)}}function ra(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Cl(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function $i(n,a,l){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,a);if(!n.hasOwnProperty(a)&&typeof u!="undefined"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,b=u.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return g.call(this)},set:function(C){l=""+C,b.call(this,C)}}),Object.defineProperty(n,a,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(C){l=""+C},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function Vi(n){if(!n._valueTracker){var a=Cl(n)?"checked":"value";n._valueTracker=$i(n,a,""+n[a])}}function Da(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return n&&(u=Cl(n)?n.checked?"true":"false":n.value),n=u,n!==l?(a.setValue(n),!0):!1}function xi(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch(a){return n.body}}var ar=/[\n"\\]/g;function Wr(n){return n.replace(ar,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Ll(n,a,l,u,g,b,C,q){n.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.type=C:n.removeAttribute("type"),a!=null?C==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+ra(a)):n.value!==""+ra(a)&&(n.value=""+ra(a)):C!=="submit"&&C!=="reset"||n.removeAttribute("value"),a!=null?kl(n,C,ra(a)):l!=null?kl(n,C,ra(l)):u!=null&&n.removeAttribute("value"),g==null&&b!=null&&(n.defaultChecked=!!b),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?n.name=""+ra(q):n.removeAttribute("name")}function bc(n,a,l,u,g,b,C,q){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.type=b),a!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||a!=null)){Vi(n);return}l=l!=null?""+ra(l):"",a=a!=null?""+ra(a):l,q||a===n.value||(n.value=a),n.defaultValue=a}u=u!=null?u:g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=q?n.checked:!!u,n.defaultChecked=!!u,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(n.name=C),Vi(n)}function kl(n,a,l){a==="number"&&xi(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function aa(n,a,l,u){if(n=n.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<n.length;l++)g=a.hasOwnProperty("$"+n[l].value),n[l].selected!==g&&(n[l].selected=g),g&&u&&(n[l].defaultSelected=!0)}else{for(l=""+ra(l),a=null,g=0;g<n.length;g++){if(n[g].value===l){n[g].selected=!0,u&&(n[g].defaultSelected=!0);return}a!==null||n[g].disabled||(a=n[g])}a!==null&&(a.selected=!0)}}function Tl(n,a,l){if(a!=null&&(a=""+ra(a),a!==n.value&&(n.value=a),l==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=l!=null?""+ra(l):""}function Ol(n,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(he(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=ra(a),n.defaultValue=l,u=n.textContent,u===l&&u!==""&&u!==null&&(n.value=u),Vi(n)}function Na(n,a){if(a){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=a;return}}n.textContent=a}var Rl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wc(n,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":u?n.setProperty(a,l):typeof l!="number"||l===0||Rl.has(a)?a==="float"?n.cssFloat=l:n[a]=(""+l).trim():n[a]=l+"px"}function xc(n,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(n=n.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var g in a)u=a[g],a.hasOwnProperty(g)&&l[g]!==u&&wc(n,g,u)}else for(var b in a)a.hasOwnProperty(b)&&wc(n,b,a[b])}function Dl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ai(n){return Zs.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function ii(){}var Gi=null;function Qs(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Nt=null,js=null;function _c(n){var a=ni(n);if(a&&(n=a.stateNode)){var l=n[Hn]||null;e:switch(n=a.stateNode,a.type){case"input":if(Ll(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Wr(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==n&&u.form===n.form){var g=u[Hn]||null;if(!g)throw Error(i(90));Ll(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===n.form&&Da(u)}break e;case"textarea":Tl(n,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&aa(n,!!l.multiple,a,!1)}}}var Ml=!1;function Sc(n,a,l){if(Ml)return n(a,l);Ml=!0;try{var u=n(a);return u}finally{if(Ml=!1,(Nt!==null||js!==null)&&(ff(),Nt&&(a=Nt,n=js,js=Nt=null,_c(a),n)))for(a=0;a<n.length;a++)_c(n[a])}}function Aa(n,a){var l=n.stateNode;if(l===null)return null;var u=l[Hn]||null;if(u===null)return null;l=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Dr=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Bl=!1;if(Dr)try{var eo={};Object.defineProperty(eo,"passive",{get:function(){Bl=!0}}),window.addEventListener("test",eo,eo),window.removeEventListener("test",eo,eo)}catch(n){Bl=!1}var ja=null,to=null,_i=null;function no(){if(_i)return _i;var n,a=to,l=a.length,u,g="value"in ja?ja.value:ja.textContent,b=g.length;for(n=0;n<l&&a[n]===g[n];n++);var C=l-n;for(u=1;u<=C&&a[l-u]===g[b-u];u++);return _i=g.slice(n,1<u?1-u:void 0)}function Yi(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function Bo(){return!0}function Uo(){return!1}function Er(n){function a(l,u,g,b,C){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=b,this.target=C,this.currentTarget=null;for(var q in n)n.hasOwnProperty(q)&&(l=n[q],this[q]=l?l(b):b[q]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Bo:Uo,this.isPropagationStopped=Uo,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Bo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Bo)},persist:function(){},isPersistent:Bo}),a}var Ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Er(Ea),Wi=_({},Ea,{view:0,detail:0}),zo=Er(Wi),ro,Ki,Es,ao=_({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lt,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Es&&(Es&&n.type==="mousemove"?(ro=n.screenX-Es.screenX,Ki=n.screenY-Es.screenY):Ki=ro=0,Es=n),ro)},movementY:function(n){return"movementY"in n?n.movementY:Ki}}),Ni=Er(ao),Ji=_({},ao,{dataTransfer:0}),Nc=Er(Ji),Ac=_({},Wi,{relatedTarget:0}),Xi=Er(Ac),jc=_({},Ea,{animationName:0,elapsedTime:0,pseudoElement:0}),x=Er(jc),D=_({},Ea,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ee=Er(D),me=_({},Ea,{data:0}),xe=Er(me),Be={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},He={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},at={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ct(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=at[n])?!!a[n]:!1}function Lt(){return ct}var Bt=_({},Wi,{key:function(n){if(n.key){var a=Be[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=Yi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?He[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lt,charCode:function(n){return n.type==="keypress"?Yi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Yi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),un=Er(Bt),$n=_({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ir=Er($n),kn=_({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lt}),wr=Er(kn),fr=_({},Ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pr=Er(fr),Pa=_({},ao,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ua=Er(Pa),Ec=_({},Ea,{newState:0,oldState:0}),Io=Er(Ec),io=[9,13,27,32],Ai=Dr&&"CompositionEvent"in window,si=null;Dr&&"documentMode"in document&&(si=document.documentMode);var so=Dr&&"TextEvent"in window&&!si,Cs=Dr&&(!Ai||si&&8<si&&11>=si),Mr=" ",Ls=!1;function ks(n,a){switch(n){case"keyup":return io.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qo(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ji=!1;function Xn(n,a){switch(n){case"compositionend":return qo(a);case"keypress":return a.which!==32?null:(Ls=!0,Mr);case"textInput":return n=a.data,n===Mr&&Ls?null:n;default:return null}}function Zi(n,a){if(ji)return n==="compositionend"||!Ai&&ks(n,a)?(n=no(),_i=to=ja=null,ji=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Cs&&a.locale!=="ko"?null:a.data;default:return null}}var Fo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ul(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!Fo[n.type]:a==="textarea"}function Ca(n,a,l,u){Nt?js?js.push(u):js=[u]:Nt=u,a=bf(a,"onChange"),0<a.length&&(l=new Si("onChange","change",null,l,u),n.push({event:l,listeners:a}))}var oi=null,Qi=null;function zl(n){h1(n,0)}function li(n){var a=Xs(n);if(Da(a))return n}function Ts(n,a){if(n==="change")return a}var ha=!1;if(Dr){var ia;if(Dr){var Ei="oninput"in document;if(!Ei){var Ci=document.createElement("div");Ci.setAttribute("oninput","return;"),Ei=typeof Ci.oninput=="function"}ia=Ei}else ia=!1;ha=ia&&(!document.documentMode||9<document.documentMode)}function es(){oi&&(oi.detachEvent("onpropertychange",Ho),Qi=oi=null)}function Ho(n){if(n.propertyName==="value"&&li(Qi)){var a=[];Ca(a,Qi,n,Qs(n)),Sc(zl,a)}}function $o(n,a,l){n==="focusin"?(es(),oi=a,Qi=l,oi.attachEvent("onpropertychange",Ho)):n==="focusout"&&es()}function sr(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return li(Qi)}function Cc(n,a){if(n==="click")return li(a)}function Li(n,a){if(n==="input"||n==="change")return li(a)}function ki(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var Br=typeof Object.is=="function"?Object.is:ki;function ts(n,a){if(Br(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var l=Object.keys(n),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!Fe.call(a,g)||!Br(n[g],a[g]))return!1}return!0}function Vo(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Go(n,a){var l=Vo(n);n=0;for(var u;l;){if(l.nodeType===3){if(u=n+l.textContent.length,n<=a&&u>=a)return{node:l,offset:a-n};n=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Vo(l)}}function ns(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?ns(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function rs(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=xi(n.document);a instanceof n.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch(u){l=!1}if(l)n=a.contentWindow;else break;a=xi(n.document)}return a}function Ti(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}var oo=Dr&&"documentMode"in document&&11>=document.documentMode,La=null,as=null,Kr=null,Ma=!1;function hn(n,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ma||La==null||La!==xi(u)||(u=La,"selectionStart"in u&&Ti(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Kr&&ts(Kr,u)||(Kr=u,u=bf(as,"onSelect"),0<u.length&&(a=new Si("onSelect","select",null,a,l),n.push({event:a,listeners:u}),a.target=La)))}function rn(n,a){var l={};return l[n.toLowerCase()]=a.toLowerCase(),l["Webkit"+n]="webkit"+a,l["Moz"+n]="moz"+a,l}var Tn={animationend:rn("Animation","AnimationEnd"),animationiteration:rn("Animation","AnimationIteration"),animationstart:rn("Animation","AnimationStart"),transitionrun:rn("Transition","TransitionRun"),transitionstart:rn("Transition","TransitionStart"),transitioncancel:rn("Transition","TransitionCancel"),transitionend:rn("Transition","TransitionEnd")},or={},Oi={};Dr&&(Oi=document.createElement("div").style,"AnimationEvent"in window||(delete Tn.animationend.animation,delete Tn.animationiteration.animation,delete Tn.animationstart.animation),"TransitionEvent"in window||delete Tn.transitionend.transition);function ci(n){if(or[n])return or[n];if(!Tn[n])return n;var a=Tn[n],l;for(l in a)if(a.hasOwnProperty(l)&&l in Oi)return or[n]=a[l];return n}var lo=ci("animationend"),Il=ci("animationiteration"),Pu=ci("animationstart"),qh=ci("transitionrun"),Fh=ci("transitionstart"),Hh=ci("transitioncancel"),Mu=ci("transitionend"),Bu=new Map,co="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");co.push("scrollEnd");function Ba(n,a){Bu.set(n,a),ri(a,[n])}var ql=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},ka=[],uo=0,Lc=0;function Fl(){for(var n=uo,a=Lc=uo=0;a<n;){var l=ka[a];ka[a++]=null;var u=ka[a];ka[a++]=null;var g=ka[a];ka[a++]=null;var b=ka[a];if(ka[a++]=null,u!==null&&g!==null){var C=u.pending;C===null?g.next=g:(g.next=C.next,C.next=g),u.pending=g}b!==0&&$l(l,g,b)}}function Hl(n,a,l,u){ka[uo++]=n,ka[uo++]=a,ka[uo++]=l,ka[uo++]=u,Lc|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function kc(n,a,l,u){return Hl(n,a,l,u),Jr(n)}function is(n,a){return Hl(n,null,null,a),Jr(n)}function $l(n,a,l){n.lanes|=l;var u=n.alternate;u!==null&&(u.lanes|=l);for(var g=!1,b=n.return;b!==null;)b.childLanes|=l,u=b.alternate,u!==null&&(u.childLanes|=l),b.tag===22&&(n=b.stateNode,n===null||n._visibility&1||(g=!0)),n=b,b=b.return;return n.tag===3?(b=n.stateNode,g&&a!==null&&(g=31-Vt(l),n=b.hiddenUpdates,u=n[g],u===null?n[g]=[a]:u.push(a),a.lane=l|536870912),b):null}function Jr(n){if(50<ih)throw ih=0,d0=null,Error(i(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var Ur={};function Tc(n,a,l,u){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(n,a,l,u){return new Tc(n,a,l,u)}function Oc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ua(n,a){var l=n.alternate;return l===null?(l=Xr(n.tag,a,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=a,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,a=n.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function Vl(n,a){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,a=l.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function Yo(n,a,l,u,g,b){var C=0;if(u=n,typeof n=="function")Oc(n)&&(C=1);else if(typeof n=="string")C=Bw(n,l,F.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case H:return n=Xr(31,l,a,g),n.elementType=H,n.lanes=b,n;case k:return Os(l.children,g,b,a);case L:C=8,g|=24;break;case T:return n=Xr(12,l,a,g|2),n.elementType=T,n.lanes=b,n;case Y:return n=Xr(13,l,a,g),n.elementType=Y,n.lanes=b,n;case ie:return n=Xr(19,l,a,g),n.elementType=ie,n.lanes=b,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case O:C=10;break e;case U:C=9;break e;case B:C=11;break e;case te:C=14;break e;case X:C=16,u=null;break e}C=29,l=Error(i(130,n===null?"null":typeof n,"")),u=null}return a=Xr(C,l,a,g),a.elementType=n,a.type=u,a.lanes=b,a}function Os(n,a,l,u){return n=Xr(7,n,u,a),n.lanes=l,n}function Gl(n,a,l){return n=Xr(6,n,null,a),n.lanes=l,n}function Rc(n){var a=Xr(18,null,null,0);return a.stateNode=n,a}function Wo(n,a,l){return a=Xr(4,n.children!==null?n.children:[],n.key,a),a.lanes=l,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}var Dc=new WeakMap;function za(n,a){if(typeof n=="object"&&n!==null){var l=Dc.get(n);return l!==void 0?l:(a={value:n,source:a,stack:rt(a)},Dc.set(n,a),a)}return{value:n,source:a,stack:rt(a)}}var Ko=[],ho=0,Pc=null,Yl=0,Ia=[],qa=0,Rs=null,Fa=1,Ha="";function Ta(n,a){Ko[ho++]=Yl,Ko[ho++]=Pc,Pc=n,Yl=a}function $h(n,a,l){Ia[qa++]=Fa,Ia[qa++]=Ha,Ia[qa++]=Rs,Rs=n;var u=Fa;n=Ha;var g=32-Vt(u)-1;u&=~(1<<g),l+=1;var b=32-Vt(a)+g;if(30<b){var C=g-g%5;b=(u&(1<<C)-1).toString(32),u>>=C,g-=C,Fa=1<<32-Vt(a)+g|l<<g|u,Ha=b+n}else Fa=1<<b|l<<g|u,Ha=n}function Uu(n){n.return!==null&&(Ta(n,1),$h(n,1,0))}function Mc(n){for(;n===Pc;)Pc=Ko[--ho],Ko[ho]=null,Yl=Ko[--ho],Ko[ho]=null;for(;n===Rs;)Rs=Ia[--qa],Ia[qa]=null,Ha=Ia[--qa],Ia[qa]=null,Fa=Ia[--qa],Ia[qa]=null}function Vh(n,a){Ia[qa++]=Fa,Ia[qa++]=Ha,Ia[qa++]=Rs,Fa=a.id,Ha=a.overflow,Rs=n}var zr=null,Mn=null,Xt=!1,sa=null,Zn=!1,ui=Error(i(519));function Ds(n){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jo(za(a,n)),ui}function zu(n){var a=n.stateNode,l=n.type,u=n.memoizedProps;switch(a[Nn]=n,a[Hn]=u,l){case"dialog":Qt("cancel",a),Qt("close",a);break;case"iframe":case"object":case"embed":Qt("load",a);break;case"video":case"audio":for(l=0;l<oh.length;l++)Qt(oh[l],a);break;case"source":Qt("error",a);break;case"img":case"image":case"link":Qt("error",a),Qt("load",a);break;case"details":Qt("toggle",a);break;case"input":Qt("invalid",a),bc(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Qt("invalid",a);break;case"textarea":Qt("invalid",a),Ol(a,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||m1(a.textContent,l)?(u.popover!=null&&(Qt("beforetoggle",a),Qt("toggle",a)),u.onScroll!=null&&Qt("scroll",a),u.onScrollEnd!=null&&Qt("scrollend",a),u.onClick!=null&&(a.onclick=ii),a=!0):a=!1,a||Ds(n,!0)}function ss(n){for(zr=n.return;zr;)switch(zr.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:zr=zr.return}}function Ir(n){if(n!==zr)return!1;if(!Xt)return ss(n),Xt=!0,!1;var a=n.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||C0(n.type,n.memoizedProps)),l=!l),l&&Mn&&Ds(n),ss(n),a===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));Mn=N1(n)}else if(a===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));Mn=N1(n)}else a===27?(a=Mn,ul(n.type)?(n=R0,R0=null,Mn=n):Mn=a):Mn=zr?Mi(n.stateNode.nextSibling):null;return!0}function fo(){Mn=zr=null,Xt=!1}function Iu(){var n=sa;return n!==null&&(Ka===null?Ka=n:Ka.push.apply(Ka,n),sa=null),n}function Jo(n){sa===null?sa=[n]:sa.push(n)}var Bc=G(null),Ps=null,Ri=null;function Ms(n,a,l){z(Bc,a._currentValue),a._currentValue=l}function $a(n){n._currentValue=Bc.current,A(Bc)}function Xo(n,a,l){for(;n!==null;){var u=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),n===l)break;n=n.return}}function po(n,a,l,u){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var b=g.dependencies;if(b!==null){var C=g.child;b=b.firstContext;e:for(;b!==null;){var q=b;b=g;for(var fe=0;fe<a.length;fe++)if(q.context===a[fe]){b.lanes|=l,q=b.alternate,q!==null&&(q.lanes|=l),Xo(b.return,l,n),u||(C=null);break e}b=q.next}}else if(g.tag===18){if(C=g.return,C===null)throw Error(i(341));C.lanes|=l,b=C.alternate,b!==null&&(b.lanes|=l),Xo(C,l,n),C=null}else C=g.child;if(C!==null)C.return=g;else for(C=g;C!==null;){if(C===n){C=null;break}if(g=C.sibling,g!==null){g.return=C.return,C=g;break}C=C.return}g=C}}function Bs(n,a,l,u){n=null;for(var g=a,b=!1;g!==null;){if(!b){if((g.flags&524288)!==0)b=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var C=g.alternate;if(C===null)throw Error(i(387));if(C=C.memoizedProps,C!==null){var q=g.type;Br(g.pendingProps.value,C.value)||(n!==null?n.push(q):n=[q])}}else if(g===we.current){if(C=g.alternate,C===null)throw Error(i(387));C.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(fh):n=[fh])}g=g.return}n!==null&&po(a,n,l,u),a.flags|=262144}function Uc(n){for(n=n.firstContext;n!==null;){if(!Br(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Us(n){Ps=n,Ri=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function qr(n){return Gh(Ps,n)}function zc(n,a){return Ps===null&&Us(n),Gh(n,a)}function Gh(n,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Ri===null){if(n===null)throw Error(i(308));Ri=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else Ri=Ri.next=a;return l}var Od=typeof AbortController!="undefined"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(l,u){n.push(u)}};this.abort=function(){a.aborted=!0,n.forEach(function(l){return l()})}},Rd=r.unstable_scheduleCallback,Dd=r.unstable_NormalPriority,lr={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zo(){return{controller:new Od,data:new Map,refCount:0}}function Wl(n){n.refCount--,n.refCount===0&&Rd(Dd,function(){n.controller.abort()})}var Kl=null,Ic=0,p=0,y=null;function S(n,a){if(Kl===null){var l=Kl=[];Ic=0,p=b0(),y={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Ic++,a.then(j,j),a}function j(){if(--Ic===0&&Kl!==null){y!==null&&(y.status="fulfilled");var n=Kl;Kl=null,p=0,y=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function P(n,a){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return n.then(function(){u.status="fulfilled",u.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var M=K.S;K.S=function(n,a){zg=Ut(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&S(n,a),M!==null&&M(n,a)};var I=G(null);function V(){var n=I.current;return n!==null?n:Un.pooledCache}function W(n,a){a===null?z(I,I.current):z(I,a.pool)}function Q(){var n=V();return n===null?null:{parent:lr._currentValue,pool:n}}var ge=Error(i(460)),Ee=Error(i(474)),Z=Error(i(542)),be={then:function(){}};function Se(n){return n=n.status,n==="fulfilled"||n==="rejected"}function De(n,a,l){switch(l=n[l],l===void 0?n.push(a):l!==a&&(a.then(ii,ii),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Ve(n),n;default:if(typeof a.status=="string")a.then(ii,ii);else{if(n=Un,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=a,n.status="pending",n.then(function(u){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=u}},function(u){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Ve(n),n}throw Re=a,ge}}function Ne(n){try{var a=n._init;return a(n._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Re=l,ge):l}}var Re=null;function Ue(){if(Re===null)throw Error(i(459));var n=Re;return Re=null,n}function Ve(n){if(n===ge||n===Z)throw Error(i(483))}var qe=null,st=0;function Ze(n){var a=st;return st+=1,qe===null&&(qe=[]),De(qe,n,a)}function Dt(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function nt(n,a){throw a.$$typeof===N?Error(i(525)):(n=Object.prototype.toString.call(a),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function Wt(n){function a(_e,ye){if(n){var Ce=_e.deletions;Ce===null?(_e.deletions=[ye],_e.flags|=16):Ce.push(ye)}}function l(_e,ye){if(!n)return null;for(;ye!==null;)a(_e,ye),ye=ye.sibling;return null}function u(_e){for(var ye=new Map;_e!==null;)_e.key!==null?ye.set(_e.key,_e):ye.set(_e.index,_e),_e=_e.sibling;return ye}function g(_e,ye){return _e=Ua(_e,ye),_e.index=0,_e.sibling=null,_e}function b(_e,ye,Ce){return _e.index=Ce,n?(Ce=_e.alternate,Ce!==null?(Ce=Ce.index,Ce<ye?(_e.flags|=67108866,ye):Ce):(_e.flags|=67108866,ye)):(_e.flags|=1048576,ye)}function C(_e){return n&&_e.alternate===null&&(_e.flags|=67108866),_e}function q(_e,ye,Ce,ze){return ye===null||ye.tag!==6?(ye=Gl(Ce,_e.mode,ze),ye.return=_e,ye):(ye=g(ye,Ce),ye.return=_e,ye)}function fe(_e,ye,Ce,ze){var wt=Ce.type;return wt===k?Pe(_e,ye,Ce.props.children,ze,Ce.key):ye!==null&&(ye.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===X&&Ne(wt)===ye.type)?(ye=g(ye,Ce.props),Dt(ye,Ce),ye.return=_e,ye):(ye=Yo(Ce.type,Ce.key,Ce.props,null,_e.mode,ze),Dt(ye,Ce),ye.return=_e,ye)}function Le(_e,ye,Ce,ze){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Ce.containerInfo||ye.stateNode.implementation!==Ce.implementation?(ye=Wo(Ce,_e.mode,ze),ye.return=_e,ye):(ye=g(ye,Ce.children||[]),ye.return=_e,ye)}function Pe(_e,ye,Ce,ze,wt){return ye===null||ye.tag!==7?(ye=Os(Ce,_e.mode,ze,wt),ye.return=_e,ye):(ye=g(ye,Ce),ye.return=_e,ye)}function Ie(_e,ye,Ce){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ye=Gl(""+ye,_e.mode,Ce),ye.return=_e,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case w:return Ce=Yo(ye.type,ye.key,ye.props,null,_e.mode,Ce),Dt(Ce,ye),Ce.return=_e,Ce;case E:return ye=Wo(ye,_e.mode,Ce),ye.return=_e,ye;case X:return ye=Ne(ye),Ie(_e,ye,Ce)}if(he(ye)||$(ye))return ye=Os(ye,_e.mode,Ce,null),ye.return=_e,ye;if(typeof ye.then=="function")return Ie(_e,Ze(ye),Ce);if(ye.$$typeof===O)return Ie(_e,zc(_e,ye),Ce);nt(_e,ye)}return null}function Te(_e,ye,Ce,ze){var wt=ye!==null?ye.key:null;if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return wt!==null?null:q(_e,ye,""+Ce,ze);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case w:return Ce.key===wt?fe(_e,ye,Ce,ze):null;case E:return Ce.key===wt?Le(_e,ye,Ce,ze):null;case X:return Ce=Ne(Ce),Te(_e,ye,Ce,ze)}if(he(Ce)||$(Ce))return wt!==null?null:Pe(_e,ye,Ce,ze,null);if(typeof Ce.then=="function")return Te(_e,ye,Ze(Ce),ze);if(Ce.$$typeof===O)return Te(_e,ye,zc(_e,Ce),ze);nt(_e,Ce)}return null}function Oe(_e,ye,Ce,ze,wt){if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return _e=_e.get(Ce)||null,q(ye,_e,""+ze,wt);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case w:return _e=_e.get(ze.key===null?Ce:ze.key)||null,fe(ye,_e,ze,wt);case E:return _e=_e.get(ze.key===null?Ce:ze.key)||null,Le(ye,_e,ze,wt);case X:return ze=Ne(ze),Oe(_e,ye,Ce,ze,wt)}if(he(ze)||$(ze))return _e=_e.get(Ce)||null,Pe(ye,_e,ze,wt,null);if(typeof ze.then=="function")return Oe(_e,ye,Ce,Ze(ze),wt);if(ze.$$typeof===O)return Oe(_e,ye,Ce,zc(ye,ze),wt);nt(ye,ze)}return null}function it(_e,ye,Ce,ze){for(var wt=null,gn=null,ut=ye,Gt=ye=0,tn=null;ut!==null&&Gt<Ce.length;Gt++){ut.index>Gt?(tn=ut,ut=null):tn=ut.sibling;var vn=Te(_e,ut,Ce[Gt],ze);if(vn===null){ut===null&&(ut=tn);break}n&&ut&&vn.alternate===null&&a(_e,ut),ye=b(vn,ye,Gt),gn===null?wt=vn:gn.sibling=vn,gn=vn,ut=tn}if(Gt===Ce.length)return l(_e,ut),Xt&&Ta(_e,Gt),wt;if(ut===null){for(;Gt<Ce.length;Gt++)ut=Ie(_e,Ce[Gt],ze),ut!==null&&(ye=b(ut,ye,Gt),gn===null?wt=ut:gn.sibling=ut,gn=ut);return Xt&&Ta(_e,Gt),wt}for(ut=u(ut);Gt<Ce.length;Gt++)tn=Oe(ut,_e,Gt,Ce[Gt],ze),tn!==null&&(n&&tn.alternate!==null&&ut.delete(tn.key===null?Gt:tn.key),ye=b(tn,ye,Gt),gn===null?wt=tn:gn.sibling=tn,gn=tn);return n&&ut.forEach(function(ml){return a(_e,ml)}),Xt&&Ta(_e,Gt),wt}function jt(_e,ye,Ce,ze){if(Ce==null)throw Error(i(151));for(var wt=null,gn=null,ut=ye,Gt=ye=0,tn=null,vn=Ce.next();ut!==null&&!vn.done;Gt++,vn=Ce.next()){ut.index>Gt?(tn=ut,ut=null):tn=ut.sibling;var ml=Te(_e,ut,vn.value,ze);if(ml===null){ut===null&&(ut=tn);break}n&&ut&&ml.alternate===null&&a(_e,ut),ye=b(ml,ye,Gt),gn===null?wt=ml:gn.sibling=ml,gn=ml,ut=tn}if(vn.done)return l(_e,ut),Xt&&Ta(_e,Gt),wt;if(ut===null){for(;!vn.done;Gt++,vn=Ce.next())vn=Ie(_e,vn.value,ze),vn!==null&&(ye=b(vn,ye,Gt),gn===null?wt=vn:gn.sibling=vn,gn=vn);return Xt&&Ta(_e,Gt),wt}for(ut=u(ut);!vn.done;Gt++,vn=Ce.next())vn=Oe(ut,_e,Gt,vn.value,ze),vn!==null&&(n&&vn.alternate!==null&&ut.delete(vn.key===null?Gt:vn.key),ye=b(vn,ye,Gt),gn===null?wt=vn:gn.sibling=vn,gn=vn);return n&&ut.forEach(function(Ww){return a(_e,Ww)}),Xt&&Ta(_e,Gt),wt}function Pn(_e,ye,Ce,ze){if(typeof Ce=="object"&&Ce!==null&&Ce.type===k&&Ce.key===null&&(Ce=Ce.props.children),typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case w:e:{for(var wt=Ce.key;ye!==null;){if(ye.key===wt){if(wt=Ce.type,wt===k){if(ye.tag===7){l(_e,ye.sibling),ze=g(ye,Ce.props.children),ze.return=_e,_e=ze;break e}}else if(ye.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===X&&Ne(wt)===ye.type){l(_e,ye.sibling),ze=g(ye,Ce.props),Dt(ze,Ce),ze.return=_e,_e=ze;break e}l(_e,ye);break}else a(_e,ye);ye=ye.sibling}Ce.type===k?(ze=Os(Ce.props.children,_e.mode,ze,Ce.key),ze.return=_e,_e=ze):(ze=Yo(Ce.type,Ce.key,Ce.props,null,_e.mode,ze),Dt(ze,Ce),ze.return=_e,_e=ze)}return C(_e);case E:e:{for(wt=Ce.key;ye!==null;){if(ye.key===wt)if(ye.tag===4&&ye.stateNode.containerInfo===Ce.containerInfo&&ye.stateNode.implementation===Ce.implementation){l(_e,ye.sibling),ze=g(ye,Ce.children||[]),ze.return=_e,_e=ze;break e}else{l(_e,ye);break}else a(_e,ye);ye=ye.sibling}ze=Wo(Ce,_e.mode,ze),ze.return=_e,_e=ze}return C(_e);case X:return Ce=Ne(Ce),Pn(_e,ye,Ce,ze)}if(he(Ce))return it(_e,ye,Ce,ze);if($(Ce)){if(wt=$(Ce),typeof wt!="function")throw Error(i(150));return Ce=wt.call(Ce),jt(_e,ye,Ce,ze)}if(typeof Ce.then=="function")return Pn(_e,ye,Ze(Ce),ze);if(Ce.$$typeof===O)return Pn(_e,ye,zc(_e,Ce),ze);nt(_e,Ce)}return typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint"?(Ce=""+Ce,ye!==null&&ye.tag===6?(l(_e,ye.sibling),ze=g(ye,Ce),ze.return=_e,_e=ze):(l(_e,ye),ze=Gl(Ce,_e.mode,ze),ze.return=_e,_e=ze),C(_e)):l(_e,ye)}return function(_e,ye,Ce,ze){try{st=0;var wt=Pn(_e,ye,Ce,ze);return qe=null,wt}catch(ut){if(ut===ge||ut===Z)throw ut;var gn=Xr(29,ut,null,_e.mode);return gn.lanes=ze,gn.return=_e,gn}finally{}}}var Bn=Wt(!0),qt=Wt(!1),Qe=!1;function Ye(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vn(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function At(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function $t(n,a,l){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(_n&2)!==0){var g=u.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),u.pending=a,a=Jr(n),$l(n,null,l),a}return Hl(n,u,a,l),Jr(n)}function wn(n,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=n.pendingLanes,l|=u,a.lanes=l,wa(n,l)}}function xr(n,a){var l=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?g=b=C:b=b.next=C,l=l.next}while(l!==null);b===null?g=b=a:b=b.next=a}else g=b=a;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:u.shared,callbacks:u.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=a:n.next=a,l.lastBaseUpdate=a}var Fr=!1;function On(){if(Fr){var n=y;if(n!==null)throw n}}function dr(n,a,l,u){Fr=!1;var g=n.updateQueue;Qe=!1;var b=g.firstBaseUpdate,C=g.lastBaseUpdate,q=g.shared.pending;if(q!==null){g.shared.pending=null;var fe=q,Le=fe.next;fe.next=null,C===null?b=Le:C.next=Le,C=fe;var Pe=n.alternate;Pe!==null&&(Pe=Pe.updateQueue,q=Pe.lastBaseUpdate,q!==C&&(q===null?Pe.firstBaseUpdate=Le:q.next=Le,Pe.lastBaseUpdate=fe))}if(b!==null){var Ie=g.baseState;C=0,Pe=Le=fe=null,q=b;do{var Te=q.lane&-536870913,Oe=Te!==q.lane;if(Oe?(en&Te)===Te:(u&Te)===Te){Te!==0&&Te===p&&(Fr=!0),Pe!==null&&(Pe=Pe.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var it=n,jt=q;Te=a;var Pn=l;switch(jt.tag){case 1:if(it=jt.payload,typeof it=="function"){Ie=it.call(Pn,Ie,Te);break e}Ie=it;break e;case 3:it.flags=it.flags&-65537|128;case 0:if(it=jt.payload,Te=typeof it=="function"?it.call(Pn,Ie,Te):it,Te==null)break e;Ie=_({},Ie,Te);break e;case 2:Qe=!0}}Te=q.callback,Te!==null&&(n.flags|=64,Oe&&(n.flags|=8192),Oe=g.callbacks,Oe===null?g.callbacks=[Te]:Oe.push(Te))}else Oe={lane:Te,tag:q.tag,payload:q.payload,callback:q.callback,next:null},Pe===null?(Le=Pe=Oe,fe=Ie):Pe=Pe.next=Oe,C|=Te;if(q=q.next,q===null){if(q=g.shared.pending,q===null)break;Oe=q,q=Oe.next,Oe.next=null,g.lastBaseUpdate=Oe,g.shared.pending=null}}while(!0);Pe===null&&(fe=Ie),g.baseState=fe,g.firstBaseUpdate=Le,g.lastBaseUpdate=Pe,b===null&&(g.shared.lanes=0),il|=C,n.lanes=C,n.memoizedState=Ie}}function Zr(n,a){if(typeof n!="function")throw Error(i(191,n));n.call(a)}function pr(n,a){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)Zr(l[n],a)}var Yt=G(null),on=G(0);function Gn(n,a){n=No,z(on,n),z(Yt,a),No=n|a.baseLanes}function fn(){z(on,No),z(Yt,Yt.current)}function _r(){No=on.current,A(Yt),A(on)}var Yn=G(null),ln=null;function cr(n){var a=n.alternate;z(an,an.current&1),z(Yn,n),ln===null&&(a===null||Yt.current!==null||a.memoizedState!==null)&&(ln=n)}function xn(n){z(an,an.current),z(Yn,n),ln===null&&(ln=n)}function mr(n){n.tag===22?(z(an,an.current),z(Yn,n),ln===null&&(ln=n)):gr()}function gr(){z(an,an.current),z(Yn,Yn.current)}function An(n){A(Yn),ln===n&&(ln=null),A(an)}var an=G(0);function Qr(n){for(var a=n;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||T0(l)||O0(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Qn=0,vt=null,bt=null,cn=null,fa=!1,Va=!1,oa=!1,vr=0,zs=0,Is=null,qc=0;function Rn(){throw Error(i(321))}function qu(n,a){if(a===null)return!1;for(var l=0;l<a.length&&l<n.length;l++)if(!Br(n[l],a[l]))return!1;return!0}function Fu(n,a,l,u,g,b){return Qn=b,vt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,K.H=n===null||n.memoizedState===null?Jm:Fd,oa=!1,b=l(u,g),oa=!1,Va&&(b=os(a,l,u,g)),Fc(n),b}function Fc(n){K.H=Ju;var a=bt!==null&&bt.next!==null;if(Qn=0,cn=bt=vt=null,fa=!1,zs=0,Is=null,a)throw Error(i(300));n===null||Lr||(n=n.dependencies,n!==null&&Uc(n)&&(Lr=!0))}function os(n,a,l,u){vt=n;var g=0;do{if(Va&&(Is=null),zs=0,Va=!1,25<=g)throw Error(i(301));if(g+=1,cn=bt=null,n.updateQueue!=null){var b=n.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}K.H=Xm,b=a(l,u)}while(Va);return b}function Pd(){var n=K.H,a=n.useState()[0];return a=typeof a.then=="function"?qs(a):a,n=n.useState()[0],(bt!==null?bt.memoizedState:null)!==n&&(vt.flags|=1024),a}function Hu(){var n=vr!==0;return vr=0,n}function $u(n,a,l){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~l}function Hc(n){if(fa){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}fa=!1}Qn=0,cn=bt=vt=null,Va=!1,zs=vr=0,Is=null}function Cr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?vt.memoizedState=cn=n:cn=cn.next=n,cn}function er(){if(bt===null){var n=vt.alternate;n=n!==null?n.memoizedState:null}else n=bt.next;var a=cn===null?vt.memoizedState:cn.next;if(a!==null)cn=a,bt=n;else{if(n===null)throw vt.alternate===null?Error(i(467)):Error(i(310));bt=n,n={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},cn===null?vt.memoizedState=cn=n:cn=cn.next=n}return cn}function Jl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qs(n){var a=zs;return zs+=1,Is===null&&(Is=[]),n=De(Is,n,a),a=vt,(cn===null?a.memoizedState:cn.next)===null&&(a=a.alternate,K.H=a===null||a.memoizedState===null?Jm:Fd),n}function Qo(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return qs(n);if(n.$$typeof===O)return qr(n)}throw Error(i(438,String(n)))}function mo(n){var a=null,l=vt.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=vt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Jl(),vt.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(n),u=0;u<n;u++)l[u]=pe;return a.index++,l}function Di(n,a){return typeof a=="function"?a(n):a}function $c(n){var a=er();return el(a,bt,n)}function el(n,a,l){var u=n.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var g=n.baseQueue,b=u.pending;if(b!==null){if(g!==null){var C=g.next;g.next=b.next,b.next=C}a.baseQueue=g=b,u.pending=null}if(b=n.baseState,g===null)n.memoizedState=b;else{a=g.next;var q=C=null,fe=null,Le=a,Pe=!1;do{var Ie=Le.lane&-536870913;if(Ie!==Le.lane?(en&Ie)===Ie:(Qn&Ie)===Ie){var Te=Le.revertLane;if(Te===0)fe!==null&&(fe=fe.next={lane:0,revertLane:0,gesture:null,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),Ie===p&&(Pe=!0);else if((Qn&Te)===Te){Le=Le.next,Te===p&&(Pe=!0);continue}else Ie={lane:0,revertLane:Le.revertLane,gesture:null,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},fe===null?(q=fe=Ie,C=b):fe=fe.next=Ie,vt.lanes|=Te,il|=Te;Ie=Le.action,oa&&l(b,Ie),b=Le.hasEagerState?Le.eagerState:l(b,Ie)}else Te={lane:Ie,revertLane:Le.revertLane,gesture:Le.gesture,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},fe===null?(q=fe=Te,C=b):fe=fe.next=Te,vt.lanes|=Ie,il|=Ie;Le=Le.next}while(Le!==null&&Le!==a);if(fe===null?C=b:fe.next=q,!Br(b,n.memoizedState)&&(Lr=!0,Pe&&(l=y,l!==null)))throw l;n.memoizedState=b,n.baseState=C,n.baseQueue=fe,u.lastRenderedState=b}return g===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Vc(n){var a=er(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var u=l.dispatch,g=l.pending,b=a.memoizedState;if(g!==null){l.pending=null;var C=g=g.next;do b=n(b,C.action),C=C.next;while(C!==g);Br(b,a.memoizedState)||(Lr=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),l.lastRenderedState=b}return[b,u]}function Gc(n,a,l){var u=vt,g=er(),b=Xt;if(b){if(l===void 0)throw Error(i(407));l=l()}else l=a();var C=!Br((bt||g).memoizedState,l);if(C&&(g.memoizedState=l,Lr=!0),g=g.queue,Md(Gu.bind(null,u,g,n),[n]),g.getSnapshot!==a||C||cn!==null&&cn.memoizedState.tag&1){if(u.flags|=2048,vo(9,{destroy:void 0},Vu.bind(null,u,g,l,a),null),Un===null)throw Error(i(349));b||(Qn&127)!==0||ls(u,a,l)}return l}function ls(n,a,l){n.flags|=16384,n={getSnapshot:a,value:l},a=vt.updateQueue,a===null?(a=Jl(),vt.updateQueue=a,a.stores=[n]):(l=a.stores,l===null?a.stores=[n]:l.push(n))}function Vu(n,a,l,u){a.value=l,a.getSnapshot=u,Yh(a)&&Yu(n)}function Gu(n,a,l){return l(function(){Yh(a)&&Yu(n)})}function Yh(n){var a=n.getSnapshot;n=n.value;try{var l=a();return!Br(n,l)}catch(u){return!0}}function Yu(n){var a=is(n,2);a!==null&&Ja(a,n,2)}function Fs(n){var a=Cr();if(typeof n=="function"){var l=n;if(n=l(),oa){_t(!0);try{l()}finally{_t(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:n},a}function Wh(n,a,l,u){return n.baseState=l,el(n,bt,typeof u=="function"?u:Di)}function Kh(n,a,l,u,g){if(Qh(n))throw Error(i(485));if(n=a.action,n!==null){var b={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){b.listeners.push(C)}};K.T!==null?l(!0):b.isTransition=!1,u(b),l=a.pending,l===null?(b.next=a.pending=b,Jh(a,b)):(b.next=l.next,a.pending=l.next=b)}}function Jh(n,a){var l=a.action,u=a.payload,g=n.state;if(a.isTransition){var b=K.T,C={};K.T=C;try{var q=l(g,u),fe=K.S;fe!==null&&fe(C,q),Wu(n,a,q)}catch(Le){go(n,a,Le)}finally{b!==null&&C.types!==null&&(b.types=C.types),K.T=b}}else try{b=l(g,u),Wu(n,a,b)}catch(Le){go(n,a,Le)}}function Wu(n,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Xh(n,a,u)},function(u){return go(n,a,u)}):Xh(n,a,l)}function Xh(n,a,l){a.status="fulfilled",a.value=l,Yc(a),n.state=l,a=n.pending,a!==null&&(l=a.next,l===a?n.pending=null:(l=l.next,a.next=l,Jh(n,l)))}function go(n,a,l){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,Yc(a),a=a.next;while(a!==u)}n.action=null}function Yc(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function Xl(n,a){return a}function Pi(n,a){if(Xt){var l=Un.formState;if(l!==null){e:{var u=vt;if(Xt){if(Mn){t:{for(var g=Mn,b=Zn;g.nodeType!==8;){if(!b){g=null;break t}if(g=Mi(g.nextSibling),g===null){g=null;break t}}b=g.data,g=b==="F!"||b==="F"?g:null}if(g){Mn=Mi(g.nextSibling),u=g.data==="F!";break e}}Ds(u)}u=!1}u&&(a=l[0])}}return l=Cr(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xl,lastRenderedState:a},l.queue=u,l=Ym.bind(null,vt,u),u.dispatch=l,u=Fs(!1),b=qd.bind(null,vt,!1,u.queue),u=Cr(),g={state:a,dispatch:null,action:n,pending:null},u.queue=g,l=Kh.bind(null,vt,g,b,l),g.dispatch=l,u.memoizedState=n,[a,l,!1]}function cs(n){var a=er();return us(a,bt,n)}function us(n,a,l){if(a=el(n,a,Xl)[0],n=$c(Di)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=qs(a)}catch(C){throw C===ge?Z:C}else u=a;a=er();var g=a.queue,b=g.dispatch;return l!==a.memoizedState&&(vt.flags|=2048,vo(9,{destroy:void 0},Wc.bind(null,g,l),null)),[u,b,n]}function Wc(n,a){n.action=a}function Kc(n){var a=er(),l=bt;if(l!==null)return us(a,l,n);er(),a=a.memoizedState,l=er();var u=l.queue.dispatch;return l.memoizedState=n,[a,u,!1]}function vo(n,a,l,u){return n={tag:n,create:l,deps:u,inst:a,next:null},a=vt.updateQueue,a===null&&(a=Jl(),vt.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=n.next=n:(u=l.next,l.next=n,n.next=u,a.lastEffect=n),n}function Zh(){return er().memoizedState}function tl(n,a,l,u){var g=Cr();vt.flags|=n,g.memoizedState=vo(1|a,{destroy:void 0},l,u===void 0?null:u)}function nl(n,a,l,u){var g=er();u=u===void 0?null:u;var b=g.memoizedState.inst;bt!==null&&u!==null&&qu(u,bt.memoizedState.deps)?g.memoizedState=vo(a,b,l,u):(vt.flags|=n,g.memoizedState=vo(1|a,b,l,u))}function Rm(n,a){tl(8390656,8,n,a)}function Md(n,a){nl(2048,8,n,a)}function Fb(n){vt.flags|=4;var a=vt.updateQueue;if(a===null)a=Jl(),vt.updateQueue=a,a.events=[n];else{var l=a.events;l===null?a.events=[n]:l.push(n)}}function Dm(n){var a=er().memoizedState;return Fb({ref:a,nextImpl:n}),function(){if((_n&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function Pm(n,a){return nl(4,2,n,a)}function Mm(n,a){return nl(4,4,n,a)}function Bm(n,a){if(typeof a=="function"){n=n();var l=a(n);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function Um(n,a,l){l=l!=null?l.concat([n]):null,nl(4,4,Bm.bind(null,a,n),l)}function Bd(){}function zm(n,a){var l=er();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&qu(a,u[1])?u[0]:(l.memoizedState=[n,a],n)}function Im(n,a){var l=er();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&qu(a,u[1]))return u[0];if(u=n(),oa){_t(!0);try{n()}finally{_t(!1)}}return l.memoizedState=[u,a],u}function Ud(n,a,l){return l===void 0||(Qn&1073741824)!==0&&(en&261930)===0?n.memoizedState=a:(n.memoizedState=l,n=qg(),vt.lanes|=n,il|=n,l)}function qm(n,a,l,u){return Br(l,a)?l:Yt.current!==null?(n=Ud(n,l,u),Br(n,a)||(Lr=!0),n):(Qn&42)===0||(Qn&1073741824)!==0&&(en&261930)===0?(Lr=!0,n.memoizedState=l):(n=qg(),vt.lanes|=n,il|=n,a)}function Fm(n,a,l,u,g){var b=le.p;le.p=b!==0&&8>b?b:8;var C=K.T,q={};K.T=q,qd(n,!1,a,l);try{var fe=g(),Le=K.S;if(Le!==null&&Le(q,fe),fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var Pe=P(fe,u);Ku(n,a,Pe,di(n))}else Ku(n,a,u,di(n))}catch(Ie){Ku(n,a,{then:function(){},status:"rejected",reason:Ie},di())}finally{le.p=b,C!==null&&q.types!==null&&(C.types=q.types),K.T=C}}function Hb(){}function zd(n,a,l,u){if(n.tag!==5)throw Error(i(476));var g=Hm(n).queue;Fm(n,g,a,ue,l===null?Hb:function(){return $m(n),l(u)})}function Hm(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:ue},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:l},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function $m(n){var a=Hm(n);a.next===null&&(a=n.alternate.memoizedState),Ku(n,a.next.queue,{},di())}function Id(){return qr(fh)}function Vm(){return er().memoizedState}function Gm(){return er().memoizedState}function $b(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var l=di();n=At(l);var u=$t(a,n,l);u!==null&&(Ja(u,a,l),wn(u,a,l)),a={cache:Zo()},n.payload=a;return}a=a.return}}function Vb(n,a,l){var u=di();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Qh(n)?Wm(a,l):(l=kc(n,a,l,u),l!==null&&(Ja(l,n,u),Km(l,a,u)))}function Ym(n,a,l){var u=di();Ku(n,a,l,u)}function Ku(n,a,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Qh(n))Wm(a,g);else{var b=n.alternate;if(n.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var C=a.lastRenderedState,q=b(C,l);if(g.hasEagerState=!0,g.eagerState=q,Br(q,C))return Hl(n,a,g,0),Un===null&&Fl(),!1}catch(fe){}finally{}if(l=kc(n,a,g,u),l!==null)return Ja(l,n,u),Km(l,a,u),!0}return!1}function qd(n,a,l,u){if(u={lane:2,revertLane:b0(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Qh(n)){if(a)throw Error(i(479))}else a=kc(n,l,u,2),a!==null&&Ja(a,n,2)}function Qh(n){var a=n.alternate;return n===vt||a!==null&&a===vt}function Wm(n,a){Va=fa=!0;var l=n.pending;l===null?a.next=a:(a.next=l.next,l.next=a),n.pending=a}function Km(n,a,l){if((l&4194048)!==0){var u=a.lanes;u&=n.pendingLanes,l|=u,a.lanes=l,wa(n,l)}}var Ju={readContext:qr,use:Qo,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useLayoutEffect:Rn,useInsertionEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useSyncExternalStore:Rn,useId:Rn,useHostTransitionStatus:Rn,useFormState:Rn,useActionState:Rn,useOptimistic:Rn,useMemoCache:Rn,useCacheRefresh:Rn};Ju.useEffectEvent=Rn;var Jm={readContext:qr,use:Qo,useCallback:function(n,a){return Cr().memoizedState=[n,a===void 0?null:a],n},useContext:qr,useEffect:Rm,useImperativeHandle:function(n,a,l){l=l!=null?l.concat([n]):null,tl(4194308,4,Bm.bind(null,a,n),l)},useLayoutEffect:function(n,a){return tl(4194308,4,n,a)},useInsertionEffect:function(n,a){tl(4,2,n,a)},useMemo:function(n,a){var l=Cr();a=a===void 0?null:a;var u=n();if(oa){_t(!0);try{n()}finally{_t(!1)}}return l.memoizedState=[u,a],u},useReducer:function(n,a,l){var u=Cr();if(l!==void 0){var g=l(a);if(oa){_t(!0);try{l(a)}finally{_t(!1)}}}else g=a;return u.memoizedState=u.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},u.queue=n,n=n.dispatch=Vb.bind(null,vt,n),[u.memoizedState,n]},useRef:function(n){var a=Cr();return n={current:n},a.memoizedState=n},useState:function(n){n=Fs(n);var a=n.queue,l=Ym.bind(null,vt,a);return a.dispatch=l,[n.memoizedState,l]},useDebugValue:Bd,useDeferredValue:function(n,a){var l=Cr();return Ud(l,n,a)},useTransition:function(){var n=Fs(!1);return n=Fm.bind(null,vt,n.queue,!0,!1),Cr().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,l){var u=vt,g=Cr();if(Xt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),Un===null)throw Error(i(349));(en&127)!==0||ls(u,a,l)}g.memoizedState=l;var b={value:l,getSnapshot:a};return g.queue=b,Rm(Gu.bind(null,u,b,n),[n]),u.flags|=2048,vo(9,{destroy:void 0},Vu.bind(null,u,b,l,a),null),l},useId:function(){var n=Cr(),a=Un.identifierPrefix;if(Xt){var l=Ha,u=Fa;l=(u&~(1<<32-Vt(u)-1)).toString(32)+l,a="_"+a+"R_"+l,l=vr++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=qc++,a="_"+a+"r_"+l.toString(32)+"_";return n.memoizedState=a},useHostTransitionStatus:Id,useFormState:Pi,useActionState:Pi,useOptimistic:function(n){var a=Cr();a.memoizedState=a.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=qd.bind(null,vt,!0,l),l.dispatch=a,[n,a]},useMemoCache:mo,useCacheRefresh:function(){return Cr().memoizedState=$b.bind(null,vt)},useEffectEvent:function(n){var a=Cr(),l={impl:n};return a.memoizedState=l,function(){if((_n&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Fd={readContext:qr,use:Qo,useCallback:zm,useContext:qr,useEffect:Md,useImperativeHandle:Um,useInsertionEffect:Pm,useLayoutEffect:Mm,useMemo:Im,useReducer:$c,useRef:Zh,useState:function(){return $c(Di)},useDebugValue:Bd,useDeferredValue:function(n,a){var l=er();return qm(l,bt.memoizedState,n,a)},useTransition:function(){var n=$c(Di)[0],a=er().memoizedState;return[typeof n=="boolean"?n:qs(n),a]},useSyncExternalStore:Gc,useId:Vm,useHostTransitionStatus:Id,useFormState:cs,useActionState:cs,useOptimistic:function(n,a){var l=er();return Wh(l,bt,n,a)},useMemoCache:mo,useCacheRefresh:Gm};Fd.useEffectEvent=Dm;var Xm={readContext:qr,use:Qo,useCallback:zm,useContext:qr,useEffect:Md,useImperativeHandle:Um,useInsertionEffect:Pm,useLayoutEffect:Mm,useMemo:Im,useReducer:Vc,useRef:Zh,useState:function(){return Vc(Di)},useDebugValue:Bd,useDeferredValue:function(n,a){var l=er();return bt===null?Ud(l,n,a):qm(l,bt.memoizedState,n,a)},useTransition:function(){var n=Vc(Di)[0],a=er().memoizedState;return[typeof n=="boolean"?n:qs(n),a]},useSyncExternalStore:Gc,useId:Vm,useHostTransitionStatus:Id,useFormState:Kc,useActionState:Kc,useOptimistic:function(n,a){var l=er();return bt!==null?Wh(l,bt,n,a):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:mo,useCacheRefresh:Gm};Xm.useEffectEvent=Dm;function Hd(n,a,l,u){a=n.memoizedState,l=l(u,a),l=l==null?a:_({},a,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var $d={enqueueSetState:function(n,a,l){n=n._reactInternals;var u=di(),g=At(u);g.payload=a,l!=null&&(g.callback=l),a=$t(n,g,u),a!==null&&(Ja(a,n,u),wn(a,n,u))},enqueueReplaceState:function(n,a,l){n=n._reactInternals;var u=di(),g=At(u);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=$t(n,g,u),a!==null&&(Ja(a,n,u),wn(a,n,u))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var l=di(),u=At(l);u.tag=2,a!=null&&(u.callback=a),a=$t(n,u,l),a!==null&&(Ja(a,n,l),wn(a,n,l))}};function Zm(n,a,l,u,g,b,C){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,b,C):a.prototype&&a.prototype.isPureReactComponent?!ts(l,u)||!ts(g,b):!0}function Qm(n,a,l,u){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==n&&$d.enqueueReplaceState(a,a.state,null)}function Zl(n,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(n=n.defaultProps){l===a&&(l=_({},l));for(var g in n)l[g]===void 0&&(l[g]=n[g])}return l}function eg(n){ql(n)}function tg(n){console.error(n)}function ng(n){ql(n)}function ef(n,a){try{var l=n.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function rg(n,a,l){try{var u=n.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Vd(n,a,l){return l=At(l),l.tag=3,l.payload={element:null},l.callback=function(){ef(n,a)},l}function ag(n){return n=At(n),n.tag=3,n}function ig(n,a,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var b=u.value;n.payload=function(){return g(b)},n.callback=function(){rg(a,l,u)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(n.callback=function(){rg(a,l,u),typeof g!="function"&&(sl===null?sl=new Set([this]):sl.add(this));var q=u.stack;this.componentDidCatch(u.value,{componentStack:q!==null?q:""})})}function Gb(n,a,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&Bs(a,l,g,!0),l=Yn.current,l!==null){switch(l.tag){case 31:case 13:return ln===null?df():l.alternate===null&&yr===0&&(yr=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===be?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),g0(n,u,g)),!1;case 22:return l.flags|=65536,u===be?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),g0(n,u,g)),!1}throw Error(i(435,l.tag))}return g0(n,u,g),df(),!1}if(Xt)return a=Yn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,u!==ui&&(n=Error(i(422),{cause:u}),Jo(za(n,l)))):(u!==ui&&(a=Error(i(423),{cause:u}),Jo(za(a,l))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,u=za(u,l),g=Vd(n.stateNode,u,g),xr(n,g),yr!==4&&(yr=2)),!1;var b=Error(i(520),{cause:u});if(b=za(b,l),ah===null?ah=[b]:ah.push(b),yr!==4&&(yr=2),a===null)return!0;u=za(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,n=g&-g,l.lanes|=n,n=Vd(l.stateNode,u,n),xr(l,n),!1;case 1:if(a=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(sl===null||!sl.has(b))))return l.flags|=65536,g&=-g,l.lanes|=g,g=ag(g),ig(g,n,l,u),xr(l,g),!1}l=l.return}while(l!==null);return!1}var Gd=Error(i(461)),Lr=!1;function la(n,a,l,u){a.child=n===null?qt(a,null,l,u):Bn(a,n.child,l,u)}function sg(n,a,l,u,g){l=l.render;var b=a.ref;if("ref"in u){var C={};for(var q in u)q!=="ref"&&(C[q]=u[q])}else C=u;return Us(a),u=Fu(n,a,l,C,b,g),q=Hu(),n!==null&&!Lr?($u(n,a,g),yo(n,a,g)):(Xt&&q&&Uu(a),a.flags|=1,la(n,a,u,g),a.child)}function og(n,a,l,u,g){if(n===null){var b=l.type;return typeof b=="function"&&!Oc(b)&&b.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=b,lg(n,a,b,u,g)):(n=Yo(l.type,null,u,a,a.mode,g),n.ref=a.ref,n.return=a,a.child=n)}if(b=n.child,!e0(n,g)){var C=b.memoizedProps;if(l=l.compare,l=l!==null?l:ts,l(C,u)&&n.ref===a.ref)return yo(n,a,g)}return a.flags|=1,n=Ua(b,u),n.ref=a.ref,n.return=a,a.child=n}function lg(n,a,l,u,g){if(n!==null){var b=n.memoizedProps;if(ts(b,u)&&n.ref===a.ref)if(Lr=!1,a.pendingProps=u=b,e0(n,g))(n.flags&131072)!==0&&(Lr=!0);else return a.lanes=n.lanes,yo(n,a,g)}return Yd(n,a,l,u,g)}function cg(n,a,l,u){var g=u.children,b=n!==null?n.memoizedState:null;if(n===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(b=b!==null?b.baseLanes|l:l,n!==null){for(u=a.child=n.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~b}else u=0,a.child=null;return ug(n,a,b,l,u)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&W(a,b!==null?b.cachePool:null),b!==null?Gn(a,b):fn(),mr(a);else return u=a.lanes=536870912,ug(n,a,b!==null?b.baseLanes|l:l,l,u)}else b!==null?(W(a,b.cachePool),Gn(a,b),gr(),a.memoizedState=null):(n!==null&&W(a,null),fn(),gr());return la(n,a,g,l),a.child}function Xu(n,a){return n!==null&&n.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function ug(n,a,l,u,g){var b=V();return b=b===null?null:{parent:lr._currentValue,pool:b},a.memoizedState={baseLanes:l,cachePool:b},n!==null&&W(a,null),fn(),mr(a),n!==null&&Bs(n,a,u,!0),a.childLanes=g,null}function tf(n,a){return a=rf({mode:a.mode,children:a.children},n.mode),a.ref=n.ref,n.child=a,a.return=n,a}function hg(n,a,l){return Bn(a,n.child,null,l),n=tf(a,a.pendingProps),n.flags|=2,An(a),a.memoizedState=null,n}function Yb(n,a,l){var u=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,n===null){if(Xt){if(u.mode==="hidden")return n=tf(a,u),a.lanes=536870912,Xu(null,n);if(xn(a),(n=Mn)?(n=S1(n,Zn),n=n!==null&&n.data==="&"?n:null,n!==null&&(a.memoizedState={dehydrated:n,treeContext:Rs!==null?{id:Fa,overflow:Ha}:null,retryLane:536870912,hydrationErrors:null},l=Rc(n),l.return=a,a.child=l,zr=a,Mn=null)):n=null,n===null)throw Ds(a);return a.lanes=536870912,null}return tf(a,u)}var b=n.memoizedState;if(b!==null){var C=b.dehydrated;if(xn(a),g)if(a.flags&256)a.flags&=-257,a=hg(n,a,l);else if(a.memoizedState!==null)a.child=n.child,a.flags|=128,a=null;else throw Error(i(558));else if(Lr||Bs(n,a,l,!1),g=(l&n.childLanes)!==0,Lr||g){if(u=Un,u!==null&&(C=xa(u,l),C!==0&&C!==b.retryLane))throw b.retryLane=C,is(n,C),Ja(u,n,C),Gd;df(),a=hg(n,a,l)}else n=b.treeContext,Mn=Mi(C.nextSibling),zr=a,Xt=!0,sa=null,Zn=!1,n!==null&&Vh(a,n),a=tf(a,u),a.flags|=4096;return a}return n=Ua(n.child,{mode:u.mode,children:u.children}),n.ref=a.ref,a.child=n,n.return=a,n}function nf(n,a){var l=a.ref;if(l===null)n!==null&&n.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(n===null||n.ref!==l)&&(a.flags|=4194816)}}function Yd(n,a,l,u,g){return Us(a),l=Fu(n,a,l,u,void 0,g),u=Hu(),n!==null&&!Lr?($u(n,a,g),yo(n,a,g)):(Xt&&u&&Uu(a),a.flags|=1,la(n,a,l,g),a.child)}function fg(n,a,l,u,g,b){return Us(a),a.updateQueue=null,l=os(a,u,l,g),Fc(n),u=Hu(),n!==null&&!Lr?($u(n,a,b),yo(n,a,b)):(Xt&&u&&Uu(a),a.flags|=1,la(n,a,l,b),a.child)}function dg(n,a,l,u,g){if(Us(a),a.stateNode===null){var b=Ur,C=l.contextType;typeof C=="object"&&C!==null&&(b=qr(C)),b=new l(u,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=$d,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=u,b.state=a.memoizedState,b.refs={},Ye(a),C=l.contextType,b.context=typeof C=="object"&&C!==null?qr(C):Ur,b.state=a.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(Hd(a,l,C,u),b.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(C=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),C!==b.state&&$d.enqueueReplaceState(b,b.state,null),dr(a,u,b,g),On(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(n===null){b=a.stateNode;var q=a.memoizedProps,fe=Zl(l,q);b.props=fe;var Le=b.context,Pe=l.contextType;C=Ur,typeof Pe=="object"&&Pe!==null&&(C=qr(Pe));var Ie=l.getDerivedStateFromProps;Pe=typeof Ie=="function"||typeof b.getSnapshotBeforeUpdate=="function",q=a.pendingProps!==q,Pe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(q||Le!==C)&&Qm(a,b,u,C),Qe=!1;var Te=a.memoizedState;b.state=Te,dr(a,u,b,g),On(),Le=a.memoizedState,q||Te!==Le||Qe?(typeof Ie=="function"&&(Hd(a,l,Ie,u),Le=a.memoizedState),(fe=Qe||Zm(a,l,fe,u,Te,Le,C))?(Pe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=Le),b.props=u,b.state=Le,b.context=C,u=fe):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{b=a.stateNode,Vn(n,a),C=a.memoizedProps,Pe=Zl(l,C),b.props=Pe,Ie=a.pendingProps,Te=b.context,Le=l.contextType,fe=Ur,typeof Le=="object"&&Le!==null&&(fe=qr(Le)),q=l.getDerivedStateFromProps,(Le=typeof q=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C!==Ie||Te!==fe)&&Qm(a,b,u,fe),Qe=!1,Te=a.memoizedState,b.state=Te,dr(a,u,b,g),On();var Oe=a.memoizedState;C!==Ie||Te!==Oe||Qe||n!==null&&n.dependencies!==null&&Uc(n.dependencies)?(typeof q=="function"&&(Hd(a,l,q,u),Oe=a.memoizedState),(Pe=Qe||Zm(a,l,Pe,u,Te,Oe,fe)||n!==null&&n.dependencies!==null&&Uc(n.dependencies))?(Le||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(u,Oe,fe),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(u,Oe,fe)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||C===n.memoizedProps&&Te===n.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&Te===n.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=Oe),b.props=u,b.state=Oe,b.context=fe,u=Pe):(typeof b.componentDidUpdate!="function"||C===n.memoizedProps&&Te===n.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&Te===n.memoizedState||(a.flags|=1024),u=!1)}return b=u,nf(n,a),u=(a.flags&128)!==0,b||u?(b=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,n!==null&&u?(a.child=Bn(a,n.child,null,g),a.child=Bn(a,null,l,g)):la(n,a,l,g),a.memoizedState=b.state,n=a.child):n=yo(n,a,g),n}function pg(n,a,l,u){return fo(),a.flags|=256,la(n,a,l,u),a.child}var Wd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kd(n){return{baseLanes:n,cachePool:Q()}}function Jd(n,a,l){return n=n!==null?n.childLanes&~l:0,a&&(n|=fi),n}function mg(n,a,l){var u=a.pendingProps,g=!1,b=(a.flags&128)!==0,C;if((C=b)||(C=n!==null&&n.memoizedState===null?!1:(an.current&2)!==0),C&&(g=!0,a.flags&=-129),C=(a.flags&32)!==0,a.flags&=-33,n===null){if(Xt){if(g?cr(a):gr(),(n=Mn)?(n=S1(n,Zn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(a.memoizedState={dehydrated:n,treeContext:Rs!==null?{id:Fa,overflow:Ha}:null,retryLane:536870912,hydrationErrors:null},l=Rc(n),l.return=a,a.child=l,zr=a,Mn=null)):n=null,n===null)throw Ds(a);return O0(n)?a.lanes=32:a.lanes=536870912,null}var q=u.children;return u=u.fallback,g?(gr(),g=a.mode,q=rf({mode:"hidden",children:q},g),u=Os(u,g,l,null),q.return=a,u.return=a,q.sibling=u,a.child=q,u=a.child,u.memoizedState=Kd(l),u.childLanes=Jd(n,C,l),a.memoizedState=Wd,Xu(null,u)):(cr(a),Xd(a,q))}var fe=n.memoizedState;if(fe!==null&&(q=fe.dehydrated,q!==null)){if(b)a.flags&256?(cr(a),a.flags&=-257,a=Zd(n,a,l)):a.memoizedState!==null?(gr(),a.child=n.child,a.flags|=128,a=null):(gr(),q=u.fallback,g=a.mode,u=rf({mode:"visible",children:u.children},g),q=Os(q,g,l,null),q.flags|=2,u.return=a,q.return=a,u.sibling=q,a.child=u,Bn(a,n.child,null,l),u=a.child,u.memoizedState=Kd(l),u.childLanes=Jd(n,C,l),a.memoizedState=Wd,a=Xu(null,u));else if(cr(a),O0(q)){if(C=q.nextSibling&&q.nextSibling.dataset,C)var Le=C.dgst;C=Le,u=Error(i(419)),u.stack="",u.digest=C,Jo({value:u,source:null,stack:null}),a=Zd(n,a,l)}else if(Lr||Bs(n,a,l,!1),C=(l&n.childLanes)!==0,Lr||C){if(C=Un,C!==null&&(u=xa(C,l),u!==0&&u!==fe.retryLane))throw fe.retryLane=u,is(n,u),Ja(C,n,u),Gd;T0(q)||df(),a=Zd(n,a,l)}else T0(q)?(a.flags|=192,a.child=n.child,a=null):(n=fe.treeContext,Mn=Mi(q.nextSibling),zr=a,Xt=!0,sa=null,Zn=!1,n!==null&&Vh(a,n),a=Xd(a,u.children),a.flags|=4096);return a}return g?(gr(),q=u.fallback,g=a.mode,fe=n.child,Le=fe.sibling,u=Ua(fe,{mode:"hidden",children:u.children}),u.subtreeFlags=fe.subtreeFlags&65011712,Le!==null?q=Ua(Le,q):(q=Os(q,g,l,null),q.flags|=2),q.return=a,u.return=a,u.sibling=q,a.child=u,Xu(null,u),u=a.child,q=n.child.memoizedState,q===null?q=Kd(l):(g=q.cachePool,g!==null?(fe=lr._currentValue,g=g.parent!==fe?{parent:fe,pool:fe}:g):g=Q(),q={baseLanes:q.baseLanes|l,cachePool:g}),u.memoizedState=q,u.childLanes=Jd(n,C,l),a.memoizedState=Wd,Xu(n.child,u)):(cr(a),l=n.child,n=l.sibling,l=Ua(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,n!==null&&(C=a.deletions,C===null?(a.deletions=[n],a.flags|=16):C.push(n)),a.child=l,a.memoizedState=null,l)}function Xd(n,a){return a=rf({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function rf(n,a){return n=Xr(22,n,null,a),n.lanes=0,n}function Zd(n,a,l){return Bn(a,n.child,null,l),n=Xd(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function gg(n,a,l){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a),Xo(n.return,a,l)}function Qd(n,a,l,u,g,b){var C=n.memoizedState;C===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:b}:(C.isBackwards=a,C.rendering=null,C.renderingStartTime=0,C.last=u,C.tail=l,C.tailMode=g,C.treeForkCount=b)}function vg(n,a,l){var u=a.pendingProps,g=u.revealOrder,b=u.tail;u=u.children;var C=an.current,q=(C&2)!==0;if(q?(C=C&1|2,a.flags|=128):C&=1,z(an,C),la(n,a,u,l),u=Xt?Yl:0,!q&&n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&gg(n,l,a);else if(n.tag===19)gg(n,l,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(g){case"forwards":for(l=a.child,g=null;l!==null;)n=l.alternate,n!==null&&Qr(n)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),Qd(a,!1,g,l,b,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(n=g.alternate,n!==null&&Qr(n)===null){a.child=g;break}n=g.sibling,g.sibling=l,l=g,g=n}Qd(a,!0,l,null,b,u);break;case"together":Qd(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function yo(n,a,l){if(n!==null&&(a.dependencies=n.dependencies),il|=a.lanes,(l&a.childLanes)===0)if(n!==null){if(Bs(n,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(i(153));if(a.child!==null){for(n=a.child,l=Ua(n,n.pendingProps),a.child=l,l.return=a;n.sibling!==null;)n=n.sibling,l=l.sibling=Ua(n,n.pendingProps),l.return=a;l.sibling=null}return a.child}function e0(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&Uc(n)))}function Wb(n,a,l){switch(a.tag){case 3:je(a,a.stateNode.containerInfo),Ms(a,lr,n.memoizedState.cache),fo();break;case 27:case 5:Me(a);break;case 4:je(a,a.stateNode.containerInfo);break;case 10:Ms(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,xn(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(cr(a),a.flags|=128,null):(l&a.child.childLanes)!==0?mg(n,a,l):(cr(a),n=yo(n,a,l),n!==null?n.sibling:null);cr(a);break;case 19:var g=(n.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(Bs(n,a,l,!1),u=(l&a.childLanes)!==0),g){if(u)return vg(n,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),z(an,an.current),u)break;return null;case 22:return a.lanes=0,cg(n,a,l,a.pendingProps);case 24:Ms(a,lr,n.memoizedState.cache)}return yo(n,a,l)}function yg(n,a,l){if(n!==null)if(n.memoizedProps!==a.pendingProps)Lr=!0;else{if(!e0(n,l)&&(a.flags&128)===0)return Lr=!1,Wb(n,a,l);Lr=(n.flags&131072)!==0}else Lr=!1,Xt&&(a.flags&1048576)!==0&&$h(a,Yl,a.index);switch(a.lanes=0,a.tag){case 16:e:{var u=a.pendingProps;if(n=Ne(a.elementType),a.type=n,typeof n=="function")Oc(n)?(u=Zl(n,u),a.tag=1,a=dg(null,a,n,u,l)):(a.tag=0,a=Yd(null,a,n,u,l));else{if(n!=null){var g=n.$$typeof;if(g===B){a.tag=11,a=sg(null,a,n,u,l);break e}else if(g===te){a.tag=14,a=og(null,a,n,u,l);break e}}throw a=re(n)||n,Error(i(306,a,""))}}return a;case 0:return Yd(n,a,a.type,a.pendingProps,l);case 1:return u=a.type,g=Zl(u,a.pendingProps),dg(n,a,u,g,l);case 3:e:{if(je(a,a.stateNode.containerInfo),n===null)throw Error(i(387));u=a.pendingProps;var b=a.memoizedState;g=b.element,Vn(n,a),dr(a,u,null,l);var C=a.memoizedState;if(u=C.cache,Ms(a,lr,u),u!==b.cache&&po(a,[lr],l,!0),On(),u=C.element,b.isDehydrated)if(b={element:u,isDehydrated:!1,cache:C.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=pg(n,a,u,l);break e}else if(u!==g){g=za(Error(i(424)),a),Jo(g),a=pg(n,a,u,l);break e}else{switch(n=a.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Mn=Mi(n.firstChild),zr=a,Xt=!0,sa=null,Zn=!0,l=qt(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(fo(),u===g){a=yo(n,a,l);break e}la(n,a,u,l)}a=a.child}return a;case 26:return nf(n,a),n===null?(l=L1(a.type,null,a.pendingProps,null))?a.memoizedState=l:Xt||(l=a.type,n=a.pendingProps,u=wf(ce.current).createElement(l),u[Nn]=a,u[Hn]=n,ca(u,l,n),rr(u),a.stateNode=u):a.memoizedState=L1(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return Me(a),n===null&&Xt&&(u=a.stateNode=j1(a.type,a.pendingProps,ce.current),zr=a,Zn=!0,g=Mn,ul(a.type)?(R0=g,Mn=Mi(u.firstChild)):Mn=g),la(n,a,a.pendingProps.children,l),nf(n,a),n===null&&(a.flags|=4194304),a.child;case 5:return n===null&&Xt&&((g=u=Mn)&&(u=Nw(u,a.type,a.pendingProps,Zn),u!==null?(a.stateNode=u,zr=a,Mn=Mi(u.firstChild),Zn=!1,g=!0):g=!1),g||Ds(a)),Me(a),g=a.type,b=a.pendingProps,C=n!==null?n.memoizedProps:null,u=b.children,C0(g,b)?u=null:C!==null&&C0(g,C)&&(a.flags|=32),a.memoizedState!==null&&(g=Fu(n,a,Pd,null,null,l),fh._currentValue=g),nf(n,a),la(n,a,u,l),a.child;case 6:return n===null&&Xt&&((n=l=Mn)&&(l=Aw(l,a.pendingProps,Zn),l!==null?(a.stateNode=l,zr=a,Mn=null,n=!0):n=!1),n||Ds(a)),null;case 13:return mg(n,a,l);case 4:return je(a,a.stateNode.containerInfo),u=a.pendingProps,n===null?a.child=Bn(a,null,u,l):la(n,a,u,l),a.child;case 11:return sg(n,a,a.type,a.pendingProps,l);case 7:return la(n,a,a.pendingProps,l),a.child;case 8:return la(n,a,a.pendingProps.children,l),a.child;case 12:return la(n,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,Ms(a,a.type,u.value),la(n,a,u.children,l),a.child;case 9:return g=a.type._context,u=a.pendingProps.children,Us(a),g=qr(g),u=u(g),a.flags|=1,la(n,a,u,l),a.child;case 14:return og(n,a,a.type,a.pendingProps,l);case 15:return lg(n,a,a.type,a.pendingProps,l);case 19:return vg(n,a,l);case 31:return Yb(n,a,l);case 22:return cg(n,a,l,a.pendingProps);case 24:return Us(a),u=qr(lr),n===null?(g=V(),g===null&&(g=Un,b=Zo(),g.pooledCache=b,b.refCount++,b!==null&&(g.pooledCacheLanes|=l),g=b),a.memoizedState={parent:u,cache:g},Ye(a),Ms(a,lr,g)):((n.lanes&l)!==0&&(Vn(n,a),dr(a,null,null,l),On()),g=n.memoizedState,b=a.memoizedState,g.parent!==u?(g={parent:u,cache:u},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Ms(a,lr,u)):(u=b.cache,Ms(a,lr,u),u!==g.cache&&po(a,[lr],l,!0))),la(n,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function bo(n){n.flags|=4}function t0(n,a,l,u,g){if((a=(n.mode&32)!==0)&&(a=!1),a){if(n.flags|=16777216,(g&335544128)===g)if(n.stateNode.complete)n.flags|=8192;else if(Vg())n.flags|=8192;else throw Re=be,Ee}else n.flags&=-16777217}function bg(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!D1(a))if(Vg())n.flags|=8192;else throw Re=be,Ee}function af(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?yi():536870912,n.lanes|=a,Qc|=a)}function Zu(n,a){if(!Xt)switch(n.tailMode){case"hidden":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Wn(n){var a=n.alternate!==null&&n.alternate.child===n.child,l=0,u=0;if(a)for(var g=n.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=u,n.childLanes=l,a}function Kb(n,a,l){var u=a.pendingProps;switch(Mc(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wn(a),null;case 1:return Wn(a),null;case 3:return l=a.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),$a(lr),Ae(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(Ir(a)?bo(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Iu())),Wn(a),null;case 26:var g=a.type,b=a.memoizedState;return n===null?(bo(a),b!==null?(Wn(a),bg(a,b)):(Wn(a),t0(a,g,null,u,l))):b?b!==n.memoizedState?(bo(a),Wn(a),bg(a,b)):(Wn(a),a.flags&=-16777217):(n=n.memoizedProps,n!==u&&bo(a),Wn(a),t0(a,g,n,u,l)),null;case 27:if($e(a),l=ce.current,g=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==u&&bo(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return Wn(a),null}n=F.current,Ir(a)?zu(a):(n=j1(g,u,l),a.stateNode=n,bo(a))}return Wn(a),null;case 5:if($e(a),g=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==u&&bo(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return Wn(a),null}if(b=F.current,Ir(a))zu(a);else{var C=wf(ce.current);switch(b){case 1:b=C.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:b=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":b=C.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":b=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":b=C.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof u.is=="string"?C.createElement("select",{is:u.is}):C.createElement("select"),u.multiple?b.multiple=!0:u.size&&(b.size=u.size);break;default:b=typeof u.is=="string"?C.createElement(g,{is:u.is}):C.createElement(g)}}b[Nn]=a,b[Hn]=u;e:for(C=a.child;C!==null;){if(C.tag===5||C.tag===6)b.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===a)break e;for(;C.sibling===null;){if(C.return===null||C.return===a)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}a.stateNode=b;e:switch(ca(b,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&bo(a)}}return Wn(a),t0(a,a.type,n===null?null:n.memoizedProps,a.pendingProps,l),null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==u&&bo(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(n=ce.current,Ir(a)){if(n=a.stateNode,l=a.memoizedProps,u=null,g=zr,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}n[Nn]=a,n=!!(n.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||m1(n.nodeValue,l)),n||Ds(a,!0)}else n=wf(n).createTextNode(u),n[Nn]=a,a.stateNode=n}return Wn(a),null;case 31:if(l=a.memoizedState,n===null||n.memoizedState!==null){if(u=Ir(a),l!==null){if(n===null){if(!u)throw Error(i(318));if(n=a.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[Nn]=a}else fo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Wn(a),n=!1}else l=Iu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),n=!0;if(!n)return a.flags&256?(An(a),a):(An(a),null);if((a.flags&128)!==0)throw Error(i(558))}return Wn(a),null;case 13:if(u=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=Ir(a),u!==null&&u.dehydrated!==null){if(n===null){if(!g)throw Error(i(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Nn]=a}else fo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Wn(a),g=!1}else g=Iu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(An(a),a):(An(a),null)}return An(a),(a.flags&128)!==0?(a.lanes=l,a):(l=u!==null,n=n!==null&&n.memoizedState!==null,l&&(u=a.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),b=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(b=u.memoizedState.cachePool.pool),b!==g&&(u.flags|=2048)),l!==n&&l&&(a.child.flags|=8192),af(a,a.updateQueue),Wn(a),null);case 4:return Ae(),n===null&&S0(a.stateNode.containerInfo),Wn(a),null;case 10:return $a(a.type),Wn(a),null;case 19:if(A(an),u=a.memoizedState,u===null)return Wn(a),null;if(g=(a.flags&128)!==0,b=u.rendering,b===null)if(g)Zu(u,!1);else{if(yr!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(b=Qr(n),b!==null){for(a.flags|=128,Zu(u,!1),n=b.updateQueue,a.updateQueue=n,af(a,n),a.subtreeFlags=0,n=l,l=a.child;l!==null;)Vl(l,n),l=l.sibling;return z(an,an.current&1|2),Xt&&Ta(a,u.treeForkCount),a.child}n=n.sibling}u.tail!==null&&Ut()>uf&&(a.flags|=128,g=!0,Zu(u,!1),a.lanes=4194304)}else{if(!g)if(n=Qr(b),n!==null){if(a.flags|=128,g=!0,n=n.updateQueue,a.updateQueue=n,af(a,n),Zu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!b.alternate&&!Xt)return Wn(a),null}else 2*Ut()-u.renderingStartTime>uf&&l!==536870912&&(a.flags|=128,g=!0,Zu(u,!1),a.lanes=4194304);u.isBackwards?(b.sibling=a.child,a.child=b):(n=u.last,n!==null?n.sibling=b:a.child=b,u.last=b)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Ut(),n.sibling=null,l=an.current,z(an,g?l&1|2:l&1),Xt&&Ta(a,u.treeForkCount),n):(Wn(a),null);case 22:case 23:return An(a),_r(),u=a.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(Wn(a),a.subtreeFlags&6&&(a.flags|=8192)):Wn(a),l=a.updateQueue,l!==null&&af(a,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),n!==null&&A(I),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),$a(lr),Wn(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function Jb(n,a){switch(Mc(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return $a(lr),Ae(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return $e(a),null;case 31:if(a.memoizedState!==null){if(An(a),a.alternate===null)throw Error(i(340));fo()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 13:if(An(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(i(340));fo()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return A(an),null;case 4:return Ae(),null;case 10:return $a(a.type),null;case 22:case 23:return An(a),_r(),n!==null&&A(I),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return $a(lr),null;case 25:return null;default:return null}}function wg(n,a){switch(Mc(a),a.tag){case 3:$a(lr),Ae();break;case 26:case 27:case 5:$e(a);break;case 4:Ae();break;case 31:a.memoizedState!==null&&An(a);break;case 13:An(a);break;case 19:A(an);break;case 10:$a(a.type);break;case 22:case 23:An(a),_r(),n!==null&&A(I);break;case 24:$a(lr)}}function Qu(n,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&n)===n){u=void 0;var b=l.create,C=l.inst;u=b(),C.destroy=u}l=l.next}while(l!==g)}}catch(q){En(a,a.return,q)}}function rl(n,a,l){try{var u=a.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var b=g.next;u=b;do{if((u.tag&n)===n){var C=u.inst,q=C.destroy;if(q!==void 0){C.destroy=void 0,g=a;var fe=l,Le=q;try{Le()}catch(Pe){En(g,fe,Pe)}}}u=u.next}while(u!==b)}}catch(Pe){En(a,a.return,Pe)}}function xg(n){var a=n.updateQueue;if(a!==null){var l=n.stateNode;try{pr(a,l)}catch(u){En(n,n.return,u)}}}function _g(n,a,l){l.props=Zl(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(u){En(n,a,u)}}function eh(n,a){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof l=="function"?n.refCleanup=l(u):l.current=u}}catch(g){En(n,a,g)}}function Hs(n,a){var l=n.ref,u=n.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){En(n,a,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){En(n,a,g)}else l.current=null}function Sg(n){var a=n.type,l=n.memoizedProps,u=n.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){En(n,n.return,g)}}function n0(n,a,l){try{var u=n.stateNode;yw(u,n.type,l,a),u[Hn]=a}catch(g){En(n,n.return,g)}}function Ng(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ul(n.type)||n.tag===4}function r0(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Ng(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ul(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function a0(n,a,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(n),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=ii));else if(u!==4&&(u===27&&ul(n.type)&&(l=n.stateNode,a=null),n=n.child,n!==null))for(a0(n,a,l),n=n.sibling;n!==null;)a0(n,a,l),n=n.sibling}function sf(n,a,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,a?l.insertBefore(n,a):l.appendChild(n);else if(u!==4&&(u===27&&ul(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(sf(n,a,l),n=n.sibling;n!==null;)sf(n,a,l),n=n.sibling}function Ag(n){var a=n.stateNode,l=n.memoizedProps;try{for(var u=n.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);ca(a,u,l),a[Nn]=n,a[Hn]=l}catch(b){En(n,n.return,b)}}var wo=!1,kr=!1,i0=!1,jg=typeof WeakSet=="function"?WeakSet:Set,ea=null;function Xb(n,a){if(n=n.containerInfo,j0=Ef,n=rs(n),Ti(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,b=u.focusNode;u=u.focusOffset;try{l.nodeType,b.nodeType}catch(jt){l=null;break e}var C=0,q=-1,fe=-1,Le=0,Pe=0,Ie=n,Te=null;t:for(;;){for(var Oe;Ie!==l||g!==0&&Ie.nodeType!==3||(q=C+g),Ie!==b||u!==0&&Ie.nodeType!==3||(fe=C+u),Ie.nodeType===3&&(C+=Ie.nodeValue.length),(Oe=Ie.firstChild)!==null;)Te=Ie,Ie=Oe;for(;;){if(Ie===n)break t;if(Te===l&&++Le===g&&(q=C),Te===b&&++Pe===u&&(fe=C),(Oe=Ie.nextSibling)!==null)break;Ie=Te,Te=Ie.parentNode}Ie=Oe}l=q===-1||fe===-1?null:{start:q,end:fe}}else l=null}l=l||{start:0,end:0}}else l=null;for(E0={focusedElem:n,selectionRange:l},Ef=!1,ea=a;ea!==null;)if(a=ea,n=a.child,(a.subtreeFlags&1028)!==0&&n!==null)n.return=a,ea=n;else for(;ea!==null;){switch(a=ea,b=a.alternate,n=a.flags,a.tag){case 0:if((n&4)!==0&&(n=a.updateQueue,n=n!==null?n.events:null,n!==null))for(l=0;l<n.length;l++)g=n[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&b!==null){n=void 0,l=a,g=b.memoizedProps,b=b.memoizedState,u=l.stateNode;try{var it=Zl(l.type,g);n=u.getSnapshotBeforeUpdate(it,b),u.__reactInternalSnapshotBeforeUpdate=n}catch(jt){En(l,l.return,jt)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,l=n.nodeType,l===9)k0(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":k0(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=a.sibling,n!==null){n.return=a.return,ea=n;break}ea=a.return}}function Eg(n,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:_o(n,l),u&4&&Qu(5,l);break;case 1:if(_o(n,l),u&4)if(n=l.stateNode,a===null)try{n.componentDidMount()}catch(C){En(l,l.return,C)}else{var g=Zl(l.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(g,a,n.__reactInternalSnapshotBeforeUpdate)}catch(C){En(l,l.return,C)}}u&64&&xg(l),u&512&&eh(l,l.return);break;case 3:if(_o(n,l),u&64&&(n=l.updateQueue,n!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{pr(n,a)}catch(C){En(l,l.return,C)}}break;case 27:a===null&&u&4&&Ag(l);case 26:case 5:_o(n,l),a===null&&u&4&&Sg(l),u&512&&eh(l,l.return);break;case 12:_o(n,l);break;case 31:_o(n,l),u&4&&kg(n,l);break;case 13:_o(n,l),u&4&&Tg(n,l),u&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=sw.bind(null,l),jw(n,l))));break;case 22:if(u=l.memoizedState!==null||wo,!u){a=a!==null&&a.memoizedState!==null||kr,g=wo;var b=kr;wo=u,(kr=a)&&!b?So(n,l,(l.subtreeFlags&8772)!==0):_o(n,l),wo=g,kr=b}break;case 30:break;default:_o(n,l)}}function Cg(n){var a=n.alternate;a!==null&&(n.alternate=null,Cg(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&As(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var tr=null,Ga=!1;function xo(n,a,l){for(l=l.child;l!==null;)Lg(n,a,l),l=l.sibling}function Lg(n,a,l){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(Kt,l)}catch(b){}switch(l.tag){case 26:kr||Hs(l,a),xo(n,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:kr||Hs(l,a);var u=tr,g=Ga;ul(l.type)&&(tr=l.stateNode,Ga=!1),xo(n,a,l),ch(l.stateNode),tr=u,Ga=g;break;case 5:kr||Hs(l,a);case 6:if(u=tr,g=Ga,tr=null,xo(n,a,l),tr=u,Ga=g,tr!==null)if(Ga)try{(tr.nodeType===9?tr.body:tr.nodeName==="HTML"?tr.ownerDocument.body:tr).removeChild(l.stateNode)}catch(b){En(l,a,b)}else try{tr.removeChild(l.stateNode)}catch(b){En(l,a,b)}break;case 18:tr!==null&&(Ga?(n=tr,x1(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),ou(n)):x1(tr,l.stateNode));break;case 4:u=tr,g=Ga,tr=l.stateNode.containerInfo,Ga=!0,xo(n,a,l),tr=u,Ga=g;break;case 0:case 11:case 14:case 15:rl(2,l,a),kr||rl(4,l,a),xo(n,a,l);break;case 1:kr||(Hs(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&_g(l,a,u)),xo(n,a,l);break;case 21:xo(n,a,l);break;case 22:kr=(u=kr)||l.memoizedState!==null,xo(n,a,l),kr=u;break;default:xo(n,a,l)}}function kg(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{ou(n)}catch(l){En(a,a.return,l)}}}function Tg(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ou(n)}catch(l){En(a,a.return,l)}}function Zb(n){switch(n.tag){case 31:case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new jg),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new jg),a;default:throw Error(i(435,n.tag))}}function of(n,a){var l=Zb(n);a.forEach(function(u){if(!l.has(u)){l.add(u);var g=ow.bind(null,n,u);u.then(g,g)}})}function Ya(n,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],b=n,C=a,q=C;e:for(;q!==null;){switch(q.tag){case 27:if(ul(q.type)){tr=q.stateNode,Ga=!1;break e}break;case 5:tr=q.stateNode,Ga=!1;break e;case 3:case 4:tr=q.stateNode.containerInfo,Ga=!0;break e}q=q.return}if(tr===null)throw Error(i(160));Lg(b,C,g),tr=null,Ga=!1,b=g.alternate,b!==null&&(b.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Og(a,n),a=a.sibling}var hs=null;function Og(n,a){var l=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Ya(a,n),Wa(n),u&4&&(rl(3,n,n.return),Qu(3,n),rl(5,n,n.return));break;case 1:Ya(a,n),Wa(n),u&512&&(kr||l===null||Hs(l,l.return)),u&64&&wo&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=hs;if(Ya(a,n),Wa(n),u&512&&(kr||l===null||Hs(l,l.return)),u&4){var b=l!==null?l.memoizedState:null;if(u=n.memoizedState,l===null)if(u===null)if(n.stateNode===null){e:{u=n.type,l=n.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":b=g.getElementsByTagName("title")[0],(!b||b[ei]||b[Nn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=g.createElement(u),g.head.insertBefore(b,g.querySelector("head > title"))),ca(b,u,l),b[Nn]=n,rr(b),u=b;break e;case"link":var C=O1("link","href",g).get(u+(l.href||""));if(C){for(var q=0;q<C.length;q++)if(b=C[q],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(q,1);break t}}b=g.createElement(u),ca(b,u,l),g.head.appendChild(b);break;case"meta":if(C=O1("meta","content",g).get(u+(l.content||""))){for(q=0;q<C.length;q++)if(b=C[q],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(q,1);break t}}b=g.createElement(u),ca(b,u,l),g.head.appendChild(b);break;default:throw Error(i(468,u))}b[Nn]=n,rr(b),u=b}n.stateNode=u}else R1(g,n.type,n.stateNode);else n.stateNode=T1(g,u,n.memoizedProps);else b!==u?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,u===null?R1(g,n.type,n.stateNode):T1(g,u,n.memoizedProps)):u===null&&n.stateNode!==null&&n0(n,n.memoizedProps,l.memoizedProps)}break;case 27:Ya(a,n),Wa(n),u&512&&(kr||l===null||Hs(l,l.return)),l!==null&&u&4&&n0(n,n.memoizedProps,l.memoizedProps);break;case 5:if(Ya(a,n),Wa(n),u&512&&(kr||l===null||Hs(l,l.return)),n.flags&32){g=n.stateNode;try{Na(g,"")}catch(it){En(n,n.return,it)}}u&4&&n.stateNode!=null&&(g=n.memoizedProps,n0(n,g,l!==null?l.memoizedProps:g)),u&1024&&(i0=!0);break;case 6:if(Ya(a,n),Wa(n),u&4){if(n.stateNode===null)throw Error(i(162));u=n.memoizedProps,l=n.stateNode;try{l.nodeValue=u}catch(it){En(n,n.return,it)}}break;case 3:if(Sf=null,g=hs,hs=xf(a.containerInfo),Ya(a,n),hs=g,Wa(n),u&4&&l!==null&&l.memoizedState.isDehydrated)try{ou(a.containerInfo)}catch(it){En(n,n.return,it)}i0&&(i0=!1,Rg(n));break;case 4:u=hs,hs=xf(n.stateNode.containerInfo),Ya(a,n),Wa(n),hs=u;break;case 12:Ya(a,n),Wa(n);break;case 31:Ya(a,n),Wa(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,of(n,u)));break;case 13:Ya(a,n),Wa(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(cf=Ut()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,of(n,u)));break;case 22:g=n.memoizedState!==null;var fe=l!==null&&l.memoizedState!==null,Le=wo,Pe=kr;if(wo=Le||g,kr=Pe||fe,Ya(a,n),kr=Pe,wo=Le,Wa(n),u&8192)e:for(a=n.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||fe||wo||kr||Ql(n)),l=null,a=n;;){if(a.tag===5||a.tag===26){if(l===null){fe=l=a;try{if(b=fe.stateNode,g)C=b.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{q=fe.stateNode;var Ie=fe.memoizedProps.style,Te=Ie!=null&&Ie.hasOwnProperty("display")?Ie.display:null;q.style.display=Te==null||typeof Te=="boolean"?"":(""+Te).trim()}}catch(it){En(fe,fe.return,it)}}}else if(a.tag===6){if(l===null){fe=a;try{fe.stateNode.nodeValue=g?"":fe.memoizedProps}catch(it){En(fe,fe.return,it)}}}else if(a.tag===18){if(l===null){fe=a;try{var Oe=fe.stateNode;g?_1(Oe,!0):_1(fe.stateNode,!1)}catch(it){En(fe,fe.return,it)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=n.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,of(n,l))));break;case 19:Ya(a,n),Wa(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,of(n,u)));break;case 30:break;case 21:break;default:Ya(a,n),Wa(n)}}function Wa(n){var a=n.flags;if(a&2){try{for(var l,u=n.return;u!==null;){if(Ng(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,b=r0(n);sf(n,b,g);break;case 5:var C=l.stateNode;l.flags&32&&(Na(C,""),l.flags&=-33);var q=r0(n);sf(n,q,C);break;case 3:case 4:var fe=l.stateNode.containerInfo,Le=r0(n);a0(n,Le,fe);break;default:throw Error(i(161))}}catch(Pe){En(n,n.return,Pe)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function Rg(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;Rg(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function _o(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Eg(n,a.alternate,a),a=a.sibling}function Ql(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:rl(4,a,a.return),Ql(a);break;case 1:Hs(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&_g(a,a.return,l),Ql(a);break;case 27:ch(a.stateNode);case 26:case 5:Hs(a,a.return),Ql(a);break;case 22:a.memoizedState===null&&Ql(a);break;case 30:Ql(a);break;default:Ql(a)}n=n.sibling}}function So(n,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,g=n,b=a,C=b.flags;switch(b.tag){case 0:case 11:case 15:So(g,b,l),Qu(4,b);break;case 1:if(So(g,b,l),u=b,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Le){En(u,u.return,Le)}if(u=b,g=u.updateQueue,g!==null){var q=u.stateNode;try{var fe=g.shared.hiddenCallbacks;if(fe!==null)for(g.shared.hiddenCallbacks=null,g=0;g<fe.length;g++)Zr(fe[g],q)}catch(Le){En(u,u.return,Le)}}l&&C&64&&xg(b),eh(b,b.return);break;case 27:Ag(b);case 26:case 5:So(g,b,l),l&&u===null&&C&4&&Sg(b),eh(b,b.return);break;case 12:So(g,b,l);break;case 31:So(g,b,l),l&&C&4&&kg(g,b);break;case 13:So(g,b,l),l&&C&4&&Tg(g,b);break;case 22:b.memoizedState===null&&So(g,b,l),eh(b,b.return);break;case 30:break;default:So(g,b,l)}a=a.sibling}}function s0(n,a){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&Wl(l))}function o0(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&Wl(n))}function fs(n,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Dg(n,a,l,u),a=a.sibling}function Dg(n,a,l,u){var g=a.flags;switch(a.tag){case 0:case 11:case 15:fs(n,a,l,u),g&2048&&Qu(9,a);break;case 1:fs(n,a,l,u);break;case 3:fs(n,a,l,u),g&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&Wl(n)));break;case 12:if(g&2048){fs(n,a,l,u),n=a.stateNode;try{var b=a.memoizedProps,C=b.id,q=b.onPostCommit;typeof q=="function"&&q(C,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(fe){En(a,a.return,fe)}}else fs(n,a,l,u);break;case 31:fs(n,a,l,u);break;case 13:fs(n,a,l,u);break;case 23:break;case 22:b=a.stateNode,C=a.alternate,a.memoizedState!==null?b._visibility&2?fs(n,a,l,u):th(n,a):b._visibility&2?fs(n,a,l,u):(b._visibility|=2,Jc(n,a,l,u,(a.subtreeFlags&10256)!==0||!1)),g&2048&&s0(C,a);break;case 24:fs(n,a,l,u),g&2048&&o0(a.alternate,a);break;default:fs(n,a,l,u)}}function Jc(n,a,l,u,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var b=n,C=a,q=l,fe=u,Le=C.flags;switch(C.tag){case 0:case 11:case 15:Jc(b,C,q,fe,g),Qu(8,C);break;case 23:break;case 22:var Pe=C.stateNode;C.memoizedState!==null?Pe._visibility&2?Jc(b,C,q,fe,g):th(b,C):(Pe._visibility|=2,Jc(b,C,q,fe,g)),g&&Le&2048&&s0(C.alternate,C);break;case 24:Jc(b,C,q,fe,g),g&&Le&2048&&o0(C.alternate,C);break;default:Jc(b,C,q,fe,g)}a=a.sibling}}function th(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=n,u=a,g=u.flags;switch(u.tag){case 22:th(l,u),g&2048&&s0(u.alternate,u);break;case 24:th(l,u),g&2048&&o0(u.alternate,u);break;default:th(l,u)}a=a.sibling}}var nh=8192;function Xc(n,a,l){if(n.subtreeFlags&nh)for(n=n.child;n!==null;)Pg(n,a,l),n=n.sibling}function Pg(n,a,l){switch(n.tag){case 26:Xc(n,a,l),n.flags&nh&&n.memoizedState!==null&&Uw(l,hs,n.memoizedState,n.memoizedProps);break;case 5:Xc(n,a,l);break;case 3:case 4:var u=hs;hs=xf(n.stateNode.containerInfo),Xc(n,a,l),hs=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=nh,nh=16777216,Xc(n,a,l),nh=u):Xc(n,a,l));break;default:Xc(n,a,l)}}function Mg(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function rh(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];ea=u,Ug(u,n)}Mg(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Bg(n),n=n.sibling}function Bg(n){switch(n.tag){case 0:case 11:case 15:rh(n),n.flags&2048&&rl(9,n,n.return);break;case 3:rh(n);break;case 12:rh(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&2&&(n.return===null||n.return.tag!==13)?(a._visibility&=-3,lf(n)):rh(n);break;default:rh(n)}}function lf(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];ea=u,Ug(u,n)}Mg(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:rl(8,a,a.return),lf(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,lf(a));break;default:lf(a)}n=n.sibling}}function Ug(n,a){for(;ea!==null;){var l=ea;switch(l.tag){case 0:case 11:case 15:rl(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Wl(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,ea=u;else e:for(l=n;ea!==null;){u=ea;var g=u.sibling,b=u.return;if(Cg(u),u===l){ea=null;break e}if(g!==null){g.return=b,ea=g;break e}ea=b}}}var Qb={getCacheForType:function(n){var a=qr(lr),l=a.data.get(n);return l===void 0&&(l=n(),a.data.set(n,l)),l},cacheSignal:function(){return qr(lr).controller.signal}},ew=typeof WeakMap=="function"?WeakMap:Map,_n=0,Un=null,Zt=null,en=0,jn=0,hi=null,al=!1,Zc=!1,l0=!1,No=0,yr=0,il=0,ec=0,c0=0,fi=0,Qc=0,ah=null,Ka=null,u0=!1,cf=0,zg=0,uf=1/0,hf=null,sl=null,Hr=0,ol=null,eu=null,Ao=0,h0=0,f0=null,Ig=null,ih=0,d0=null;function di(){return(_n&2)!==0&&en!==0?en&-en:K.T!==null?b0():jr()}function qg(){if(fi===0)if((en&536870912)===0||Xt){var n=Jn;Jn<<=1,(Jn&3932160)===0&&(Jn=262144),fi=n}else fi=536870912;return n=Yn.current,n!==null&&(n.flags|=32),fi}function Ja(n,a,l){(n===Un&&(jn===2||jn===9)||n.cancelPendingCommit!==null)&&(tu(n,0),ll(n,en,fi,!1)),gt(n,l),((_n&2)===0||n!==Un)&&(n===Un&&((_n&2)===0&&(ec|=l),yr===4&&ll(n,en,fi,!1)),$s(n))}function Fg(n,a,l){if((_n&6)!==0)throw Error(i(327));var u=!l&&(a&127)===0&&(a&n.expiredLanes)===0||Za(n,a),g=u?rw(n,a):m0(n,a,!0),b=u;do{if(g===0){Zc&&!u&&ll(n,a,0,!1);break}else{if(l=n.current.alternate,b&&!tw(l)){g=m0(n,a,!1),b=!1;continue}if(g===2){if(b=a,n.errorRecoveryDisabledLanes&b)var C=0;else C=n.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){a=C;e:{var q=n;g=ah;var fe=q.current.memoizedState.isDehydrated;if(fe&&(tu(q,C).flags|=256),C=m0(q,C,!1),C!==2){if(l0&&!fe){q.errorRecoveryDisabledLanes|=b,ec|=b,g=4;break e}b=Ka,Ka=g,b!==null&&(Ka===null?Ka=b:Ka.push.apply(Ka,b))}g=C}if(b=!1,g!==2)continue}}if(g===1){tu(n,0),ll(n,a,0,!0);break}e:{switch(u=n,b=g,b){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ll(u,a,fi,!al);break e;case 2:Ka=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(g=cf+300-Ut(),10<g)){if(ll(u,a,fi,!al),nn(u,0,!0)!==0)break e;Ao=a,u.timeoutHandle=b1(Hg.bind(null,u,l,Ka,hf,u0,a,fi,ec,Qc,al,b,"Throttled",-0,0),g);break e}Hg(u,l,Ka,hf,u0,a,fi,ec,Qc,al,b,null,-0,0)}}break}while(!0);$s(n)}function Hg(n,a,l,u,g,b,C,q,fe,Le,Pe,Ie,Te,Oe){if(n.timeoutHandle=-1,Ie=a.subtreeFlags,Ie&8192||(Ie&16785408)===16785408){Ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},Pg(a,b,Ie);var it=(b&62914560)===b?cf-Ut():(b&4194048)===b?zg-Ut():0;if(it=zw(Ie,it),it!==null){Ao=b,n.cancelPendingCommit=it(Xg.bind(null,n,a,b,l,u,g,C,q,fe,Pe,Ie,null,Te,Oe)),ll(n,b,C,!Le);return}}Xg(n,a,b,l,u,g,C,q,fe)}function tw(n){for(var a=n;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],b=g.getSnapshot;g=g.value;try{if(!Br(b(),g))return!1}catch(C){return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ll(n,a,l,u){a&=~c0,a&=~ec,n.suspendedLanes|=a,n.pingedLanes&=~a,u&&(n.warmLanes|=a),u=n.expirationTimes;for(var g=a;0<g;){var b=31-Vt(g),C=1<<b;u[b]=-1,g&=~C}l!==0&&bi(n,l,a)}function ff(){return(_n&6)===0?(sh(0),!1):!0}function p0(){if(Zt!==null){if(jn===0)var n=Zt.return;else n=Zt,Ri=Ps=null,Hc(n),qe=null,st=0,n=Zt;for(;n!==null;)wg(n.alternate,n),n=n.return;Zt=null}}function tu(n,a){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,xw(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),Ao=0,p0(),Un=n,Zt=l=Ua(n.current,null),en=a,jn=0,hi=null,al=!1,Zc=Za(n,a),l0=!1,Qc=fi=c0=ec=il=yr=0,Ka=ah=null,u0=!1,(a&8)!==0&&(a|=a&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=a;0<u;){var g=31-Vt(u),b=1<<g;a|=n[g],u&=~b}return No=a,Fl(),l}function $g(n,a){vt=null,K.H=Ju,a===ge||a===Z?(a=Ue(),jn=3):a===Ee?(a=Ue(),jn=4):jn=a===Gd?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,hi=a,Zt===null&&(yr=1,ef(n,za(a,n.current)))}function Vg(){var n=Yn.current;return n===null?!0:(en&4194048)===en?ln===null:(en&62914560)===en||(en&536870912)!==0?n===ln:!1}function Gg(){var n=K.H;return K.H=Ju,n===null?Ju:n}function Yg(){var n=K.A;return K.A=Qb,n}function df(){yr=4,al||(en&4194048)!==en&&Yn.current!==null||(Zc=!0),(il&134217727)===0&&(ec&134217727)===0||Un===null||ll(Un,en,fi,!1)}function m0(n,a,l){var u=_n;_n|=2;var g=Gg(),b=Yg();(Un!==n||en!==a)&&(hf=null,tu(n,a)),a=!1;var C=yr;e:do try{if(jn!==0&&Zt!==null){var q=Zt,fe=hi;switch(jn){case 8:p0(),C=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(a=!0);var Le=jn;if(jn=0,hi=null,nu(n,q,fe,Le),l&&Zc){C=0;break e}break;default:Le=jn,jn=0,hi=null,nu(n,q,fe,Le)}}nw(),C=yr;break}catch(Pe){$g(n,Pe)}while(!0);return a&&n.shellSuspendCounter++,Ri=Ps=null,_n=u,K.H=g,K.A=b,Zt===null&&(Un=null,en=0,Fl()),C}function nw(){for(;Zt!==null;)Wg(Zt)}function rw(n,a){var l=_n;_n|=2;var u=Gg(),g=Yg();Un!==n||en!==a?(hf=null,uf=Ut()+500,tu(n,a)):Zc=Za(n,a);e:do try{if(jn!==0&&Zt!==null){a=Zt;var b=hi;t:switch(jn){case 1:jn=0,hi=null,nu(n,a,b,1);break;case 2:case 9:if(Se(b)){jn=0,hi=null,Kg(a);break}a=function(){jn!==2&&jn!==9||Un!==n||(jn=7),$s(n)},b.then(a,a);break e;case 3:jn=7;break e;case 4:jn=5;break e;case 7:Se(b)?(jn=0,hi=null,Kg(a)):(jn=0,hi=null,nu(n,a,b,7));break;case 5:var C=null;switch(Zt.tag){case 26:C=Zt.memoizedState;case 5:case 27:var q=Zt;if(C?D1(C):q.stateNode.complete){jn=0,hi=null;var fe=q.sibling;if(fe!==null)Zt=fe;else{var Le=q.return;Le!==null?(Zt=Le,pf(Le)):Zt=null}break t}}jn=0,hi=null,nu(n,a,b,5);break;case 6:jn=0,hi=null,nu(n,a,b,6);break;case 8:p0(),yr=6;break e;default:throw Error(i(462))}}aw();break}catch(Pe){$g(n,Pe)}while(!0);return Ri=Ps=null,K.H=u,K.A=g,_n=l,Zt!==null?0:(Un=null,en=0,Fl(),yr)}function aw(){for(;Zt!==null&&!Tt();)Wg(Zt)}function Wg(n){var a=yg(n.alternate,n,No);n.memoizedProps=n.pendingProps,a===null?pf(n):Zt=a}function Kg(n){var a=n,l=a.alternate;switch(a.tag){case 15:case 0:a=fg(l,a,a.pendingProps,a.type,void 0,en);break;case 11:a=fg(l,a,a.pendingProps,a.type.render,a.ref,en);break;case 5:Hc(a);default:wg(l,a),a=Zt=Vl(a,No),a=yg(l,a,No)}n.memoizedProps=n.pendingProps,a===null?pf(n):Zt=a}function nu(n,a,l,u){Ri=Ps=null,Hc(a),qe=null,st=0;var g=a.return;try{if(Gb(n,g,a,l,en)){yr=1,ef(n,za(l,n.current)),Zt=null;return}}catch(b){if(g!==null)throw Zt=g,b;yr=1,ef(n,za(l,n.current)),Zt=null;return}a.flags&32768?(Xt||u===1?n=!0:Zc||(en&536870912)!==0?n=!1:(al=n=!0,(u===2||u===9||u===3||u===6)&&(u=Yn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Jg(a,n)):pf(a)}function pf(n){var a=n;do{if((a.flags&32768)!==0){Jg(a,al);return}n=a.return;var l=Kb(a.alternate,a,No);if(l!==null){Zt=l;return}if(a=a.sibling,a!==null){Zt=a;return}Zt=a=n}while(a!==null);yr===0&&(yr=5)}function Jg(n,a){do{var l=Jb(n.alternate,n);if(l!==null){l.flags&=32767,Zt=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(n=n.sibling,n!==null)){Zt=n;return}Zt=n=l}while(n!==null);yr=6,Zt=null}function Xg(n,a,l,u,g,b,C,q,fe){n.cancelPendingCommit=null;do mf();while(Hr!==0);if((_n&6)!==0)throw Error(i(327));if(a!==null){if(a===n.current)throw Error(i(177));if(b=a.lanes|a.childLanes,b|=Lc,qi(n,l,b,C,q,fe),n===Un&&(Zt=Un=null,en=0),eu=a,ol=n,Ao=l,h0=b,f0=g,Ig=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,lw(Rt,function(){return n1(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=K.T,K.T=null,g=le.p,le.p=2,C=_n,_n|=4;try{Xb(n,a,l)}finally{_n=C,le.p=g,K.T=u}}Hr=1,Zg(),Qg(),e1()}}function Zg(){if(Hr===1){Hr=0;var n=ol,a=eu,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=K.T,K.T=null;var u=le.p;le.p=2;var g=_n;_n|=4;try{Og(a,n);var b=E0,C=rs(n.containerInfo),q=b.focusedElem,fe=b.selectionRange;if(C!==q&&q&&q.ownerDocument&&ns(q.ownerDocument.documentElement,q)){if(fe!==null&&Ti(q)){var Le=fe.start,Pe=fe.end;if(Pe===void 0&&(Pe=Le),"selectionStart"in q)q.selectionStart=Le,q.selectionEnd=Math.min(Pe,q.value.length);else{var Ie=q.ownerDocument||document,Te=Ie&&Ie.defaultView||window;if(Te.getSelection){var Oe=Te.getSelection(),it=q.textContent.length,jt=Math.min(fe.start,it),Pn=fe.end===void 0?jt:Math.min(fe.end,it);!Oe.extend&&jt>Pn&&(C=Pn,Pn=jt,jt=C);var _e=Go(q,jt),ye=Go(q,Pn);if(_e&&ye&&(Oe.rangeCount!==1||Oe.anchorNode!==_e.node||Oe.anchorOffset!==_e.offset||Oe.focusNode!==ye.node||Oe.focusOffset!==ye.offset)){var Ce=Ie.createRange();Ce.setStart(_e.node,_e.offset),Oe.removeAllRanges(),jt>Pn?(Oe.addRange(Ce),Oe.extend(ye.node,ye.offset)):(Ce.setEnd(ye.node,ye.offset),Oe.addRange(Ce))}}}}for(Ie=[],Oe=q;Oe=Oe.parentNode;)Oe.nodeType===1&&Ie.push({element:Oe,left:Oe.scrollLeft,top:Oe.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<Ie.length;q++){var ze=Ie[q];ze.element.scrollLeft=ze.left,ze.element.scrollTop=ze.top}}Ef=!!j0,E0=j0=null}finally{_n=g,le.p=u,K.T=l}}n.current=a,Hr=2}}function Qg(){if(Hr===2){Hr=0;var n=ol,a=eu,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=K.T,K.T=null;var u=le.p;le.p=2;var g=_n;_n|=4;try{Eg(n,a.alternate,a)}finally{_n=g,le.p=u,K.T=l}}Hr=3}}function e1(){if(Hr===4||Hr===3){Hr=0,mt();var n=ol,a=eu,l=Ao,u=Ig;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Hr=5:(Hr=0,eu=ol=null,t1(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(sl=null),hr(l),a=a.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(Kt,a,void 0,(a.current.flags&128)===128)}catch(fe){}if(u!==null){a=K.T,g=le.p,le.p=2,K.T=null;try{for(var b=n.onRecoverableError,C=0;C<u.length;C++){var q=u[C];b(q.value,{componentStack:q.stack})}}finally{K.T=a,le.p=g}}(Ao&3)!==0&&mf(),$s(n),g=n.pendingLanes,(l&261930)!==0&&(g&42)!==0?n===d0?ih++:(ih=0,d0=n):ih=0,sh(0)}}function t1(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,Wl(a)))}function mf(){return Zg(),Qg(),e1(),n1()}function n1(){if(Hr!==5)return!1;var n=ol,a=h0;h0=0;var l=hr(Ao),u=K.T,g=le.p;try{le.p=32>l?32:l,K.T=null,l=f0,f0=null;var b=ol,C=Ao;if(Hr=0,eu=ol=null,Ao=0,(_n&6)!==0)throw Error(i(331));var q=_n;if(_n|=4,Bg(b.current),Dg(b,b.current,C,l),_n=q,sh(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(Kt,b)}catch(fe){}return!0}finally{le.p=g,K.T=u,t1(n,a)}}function r1(n,a,l){a=za(l,a),a=Vd(n.stateNode,a,2),n=$t(n,a,2),n!==null&&(gt(n,2),$s(n))}function En(n,a,l){if(n.tag===3)r1(n,n,l);else for(;a!==null;){if(a.tag===3){r1(a,n,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(sl===null||!sl.has(u))){n=za(l,n),l=ag(2),u=$t(a,l,2),u!==null&&(ig(l,u,a,n),gt(u,2),$s(u));break}}a=a.return}}function g0(n,a,l){var u=n.pingCache;if(u===null){u=n.pingCache=new ew;var g=new Set;u.set(a,g)}else g=u.get(a),g===void 0&&(g=new Set,u.set(a,g));g.has(l)||(l0=!0,g.add(l),n=iw.bind(null,n,a,l),a.then(n,n))}function iw(n,a,l){var u=n.pingCache;u!==null&&u.delete(a),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,Un===n&&(en&l)===l&&(yr===4||yr===3&&(en&62914560)===en&&300>Ut()-cf?(_n&2)===0&&tu(n,0):c0|=l,Qc===en&&(Qc=0)),$s(n)}function a1(n,a){a===0&&(a=yi()),n=is(n,a),n!==null&&(gt(n,a),$s(n))}function sw(n){var a=n.memoizedState,l=0;a!==null&&(l=a.retryLane),a1(n,l)}function ow(n,a){var l=0;switch(n.tag){case 31:case 13:var u=n.stateNode,g=n.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),a1(n,l)}function lw(n,a){return tt(n,a)}var gf=null,ru=null,v0=!1,vf=!1,y0=!1,cl=0;function $s(n){n!==ru&&n.next===null&&(ru===null?gf=ru=n:ru=ru.next=n),vf=!0,v0||(v0=!0,uw())}function sh(n,a){if(!y0&&vf){y0=!0;do for(var l=!1,u=gf;u!==null;){if(n!==0){var g=u.pendingLanes;if(g===0)var b=0;else{var C=u.suspendedLanes,q=u.pingedLanes;b=(1<<31-Vt(42|n)+1)-1,b&=g&~(C&~q),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,l1(u,b))}else b=en,b=nn(u,u===Un?b:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(b&3)===0||Za(u,b)||(l=!0,l1(u,b));u=u.next}while(l);y0=!1}}function cw(){i1()}function i1(){vf=v0=!1;var n=0;cl!==0&&ww()&&(n=cl);for(var a=Ut(),l=null,u=gf;u!==null;){var g=u.next,b=s1(u,a);b===0?(u.next=null,l===null?gf=g:l.next=g,g===null&&(ru=l)):(l=u,(n!==0||(b&3)!==0)&&(vf=!0)),u=g}Hr!==0&&Hr!==5||sh(n),cl!==0&&(cl=0)}function s1(n,a){for(var l=n.suspendedLanes,u=n.pingedLanes,g=n.expirationTimes,b=n.pendingLanes&-62914561;0<b;){var C=31-Vt(b),q=1<<C,fe=g[C];fe===-1?((q&l)===0||(q&u)!==0)&&(g[C]=Gr(q,a)):fe<=a&&(n.expiredLanes|=q),b&=~q}if(a=Un,l=en,l=nn(n,n===a?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,l===0||n===a&&(jn===2||jn===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&We(u),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||Za(n,l)){if(a=l&-l,a===n.callbackPriority)return a;switch(u!==null&&We(u),hr(l)){case 2:case 8:l=bn;break;case 32:l=Rt;break;case 268435456:l=Ct;break;default:l=Rt}return u=o1.bind(null,n),l=tt(l,u),n.callbackPriority=a,n.callbackNode=l,a}return u!==null&&u!==null&&We(u),n.callbackPriority=2,n.callbackNode=null,2}function o1(n,a){if(Hr!==0&&Hr!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(mf()&&n.callbackNode!==l)return null;var u=en;return u=nn(n,n===Un?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Fg(n,u,a),s1(n,Ut()),n.callbackNode!=null&&n.callbackNode===l?o1.bind(null,n):null)}function l1(n,a){if(mf())return null;Fg(n,a,!0)}function uw(){_w(function(){(_n&6)!==0?tt(Mt,cw):i1()})}function b0(){if(cl===0){var n=p;n===0&&(n=In,In<<=1,(In&261888)===0&&(In=256)),cl=n}return cl}function c1(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ai(""+n)}function u1(n,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,n.id&&l.setAttribute("form",n.id),a.parentNode.insertBefore(l,a),n=new FormData(n),l.parentNode.removeChild(l),n}function hw(n,a,l,u,g){if(a==="submit"&&l&&l.stateNode===g){var b=c1((g[Hn]||null).action),C=u.submitter;C&&(a=(a=C[Hn]||null)?c1(a.formAction):C.getAttribute("formAction"),a!==null&&(b=a,C=null));var q=new Si("action","action",null,u,g);n.push({event:q,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(cl!==0){var fe=C?u1(g,C):new FormData(g);zd(l,{pending:!0,data:fe,method:g.method,action:b},null,fe)}}else typeof b=="function"&&(q.preventDefault(),fe=C?u1(g,C):new FormData(g),zd(l,{pending:!0,data:fe,method:g.method,action:b},b,fe))},currentTarget:g}]})}}for(var w0=0;w0<co.length;w0++){var x0=co[w0],fw=x0.toLowerCase(),dw=x0[0].toUpperCase()+x0.slice(1);Ba(fw,"on"+dw)}Ba(lo,"onAnimationEnd"),Ba(Il,"onAnimationIteration"),Ba(Pu,"onAnimationStart"),Ba("dblclick","onDoubleClick"),Ba("focusin","onFocus"),Ba("focusout","onBlur"),Ba(qh,"onTransitionRun"),Ba(Fh,"onTransitionStart"),Ba(Hh,"onTransitionCancel"),Ba(Mu,"onTransitionEnd"),Fi("onMouseEnter",["mouseout","mouseover"]),Fi("onMouseLeave",["mouseout","mouseover"]),Fi("onPointerEnter",["pointerout","pointerover"]),Fi("onPointerLeave",["pointerout","pointerover"]),ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oh));function h1(n,a){a=(a&4)!==0;for(var l=0;l<n.length;l++){var u=n[l],g=u.event;u=u.listeners;e:{var b=void 0;if(a)for(var C=u.length-1;0<=C;C--){var q=u[C],fe=q.instance,Le=q.currentTarget;if(q=q.listener,fe!==b&&g.isPropagationStopped())break e;b=q,g.currentTarget=Le;try{b(g)}catch(Pe){ql(Pe)}g.currentTarget=null,b=fe}else for(C=0;C<u.length;C++){if(q=u[C],fe=q.instance,Le=q.currentTarget,q=q.listener,fe!==b&&g.isPropagationStopped())break e;b=q,g.currentTarget=Le;try{b(g)}catch(Pe){ql(Pe)}g.currentTarget=null,b=fe}}}}function Qt(n,a){var l=a[_a];l===void 0&&(l=a[_a]=new Set);var u=n+"__bubble";l.has(u)||(f1(a,n,2,!1),l.add(u))}function _0(n,a,l){var u=0;a&&(u|=4),f1(l,n,u,a)}var yf="_reactListening"+Math.random().toString(36).slice(2);function S0(n){if(!n[yf]){n[yf]=!0,Nl.forEach(function(l){l!=="selectionchange"&&(pw.has(l)||_0(l,!1,n),_0(l,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[yf]||(a[yf]=!0,_0("selectionchange",!1,a))}}function f1(n,a,l,u){switch(q1(a)){case 2:var g=Fw;break;case 8:g=Hw;break;default:g=U0}l=g.bind(null,a,l,n),g=void 0,!Bl||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),u?g!==void 0?n.addEventListener(a,l,{capture:!0,passive:g}):n.addEventListener(a,l,!0):g!==void 0?n.addEventListener(a,l,{passive:g}):n.addEventListener(a,l,!1)}function N0(n,a,l,u,g){var b=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var C=u.tag;if(C===3||C===4){var q=u.stateNode.containerInfo;if(q===g)break;if(C===4)for(C=u.return;C!==null;){var fe=C.tag;if((fe===3||fe===4)&&C.stateNode.containerInfo===g)return;C=C.return}for(;q!==null;){if(C=ti(q),C===null)return;if(fe=C.tag,fe===5||fe===6||fe===26||fe===27){u=b=C;continue e}q=q.parentNode}}u=u.return}Sc(function(){var Le=b,Pe=Qs(l),Ie=[];e:{var Te=Bu.get(n);if(Te!==void 0){var Oe=Si,it=n;switch(n){case"keypress":if(Yi(l)===0)break e;case"keydown":case"keyup":Oe=un;break;case"focusin":it="focus",Oe=Xi;break;case"focusout":it="blur",Oe=Xi;break;case"beforeblur":case"afterblur":Oe=Xi;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Oe=Ni;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Oe=Nc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Oe=wr;break;case lo:case Il:case Pu:Oe=x;break;case Mu:Oe=Pr;break;case"scroll":case"scrollend":Oe=zo;break;case"wheel":Oe=ua;break;case"copy":case"cut":case"paste":Oe=ee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Oe=ir;break;case"toggle":case"beforetoggle":Oe=Io}var jt=(a&4)!==0,Pn=!jt&&(n==="scroll"||n==="scrollend"),_e=jt?Te!==null?Te+"Capture":null:Te;jt=[];for(var ye=Le,Ce;ye!==null;){var ze=ye;if(Ce=ze.stateNode,ze=ze.tag,ze!==5&&ze!==26&&ze!==27||Ce===null||_e===null||(ze=Aa(ye,_e),ze!=null&&jt.push(lh(ye,ze,Ce))),Pn)break;ye=ye.return}0<jt.length&&(Te=new Oe(Te,it,null,l,Pe),Ie.push({event:Te,listeners:jt}))}}if((a&7)===0){e:{if(Te=n==="mouseover"||n==="pointerover",Oe=n==="mouseout"||n==="pointerout",Te&&l!==Gi&&(it=l.relatedTarget||l.fromElement)&&(ti(it)||it[Yr]))break e;if((Oe||Te)&&(Te=Pe.window===Pe?Pe:(Te=Pe.ownerDocument)?Te.defaultView||Te.parentWindow:window,Oe?(it=l.relatedTarget||l.toElement,Oe=Le,it=it?ti(it):null,it!==null&&(Pn=o(it),jt=it.tag,it!==Pn||jt!==5&&jt!==27&&jt!==6)&&(it=null)):(Oe=null,it=Le),Oe!==it)){if(jt=Ni,ze="onMouseLeave",_e="onMouseEnter",ye="mouse",(n==="pointerout"||n==="pointerover")&&(jt=ir,ze="onPointerLeave",_e="onPointerEnter",ye="pointer"),Pn=Oe==null?Te:Xs(Oe),Ce=it==null?Te:Xs(it),Te=new jt(ze,ye+"leave",Oe,l,Pe),Te.target=Pn,Te.relatedTarget=Ce,ze=null,ti(Pe)===Le&&(jt=new jt(_e,ye+"enter",it,l,Pe),jt.target=Ce,jt.relatedTarget=Pn,ze=jt),Pn=ze,Oe&&it)t:{for(jt=mw,_e=Oe,ye=it,Ce=0,ze=_e;ze;ze=jt(ze))Ce++;ze=0;for(var wt=ye;wt;wt=jt(wt))ze++;for(;0<Ce-ze;)_e=jt(_e),Ce--;for(;0<ze-Ce;)ye=jt(ye),ze--;for(;Ce--;){if(_e===ye||ye!==null&&_e===ye.alternate){jt=_e;break t}_e=jt(_e),ye=jt(ye)}jt=null}else jt=null;Oe!==null&&d1(Ie,Te,Oe,jt,!1),it!==null&&Pn!==null&&d1(Ie,Pn,it,jt,!0)}}e:{if(Te=Le?Xs(Le):window,Oe=Te.nodeName&&Te.nodeName.toLowerCase(),Oe==="select"||Oe==="input"&&Te.type==="file")var gn=Ts;else if(Ul(Te))if(ha)gn=Li;else{gn=sr;var ut=$o}else Oe=Te.nodeName,!Oe||Oe.toLowerCase()!=="input"||Te.type!=="checkbox"&&Te.type!=="radio"?Le&&Dl(Le.elementType)&&(gn=Ts):gn=Cc;if(gn&&(gn=gn(n,Le))){Ca(Ie,gn,l,Pe);break e}ut&&ut(n,Te,Le),n==="focusout"&&Le&&Te.type==="number"&&Le.memoizedProps.value!=null&&kl(Te,"number",Te.value)}switch(ut=Le?Xs(Le):window,n){case"focusin":(Ul(ut)||ut.contentEditable==="true")&&(La=ut,as=Le,Kr=null);break;case"focusout":Kr=as=La=null;break;case"mousedown":Ma=!0;break;case"contextmenu":case"mouseup":case"dragend":Ma=!1,hn(Ie,l,Pe);break;case"selectionchange":if(oo)break;case"keydown":case"keyup":hn(Ie,l,Pe)}var Gt;if(Ai)e:{switch(n){case"compositionstart":var tn="onCompositionStart";break e;case"compositionend":tn="onCompositionEnd";break e;case"compositionupdate":tn="onCompositionUpdate";break e}tn=void 0}else ji?ks(n,l)&&(tn="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(tn="onCompositionStart");tn&&(Cs&&l.locale!=="ko"&&(ji||tn!=="onCompositionStart"?tn==="onCompositionEnd"&&ji&&(Gt=no()):(ja=Pe,to="value"in ja?ja.value:ja.textContent,ji=!0)),ut=bf(Le,tn),0<ut.length&&(tn=new xe(tn,n,null,l,Pe),Ie.push({event:tn,listeners:ut}),Gt?tn.data=Gt:(Gt=qo(l),Gt!==null&&(tn.data=Gt)))),(Gt=so?Xn(n,l):Zi(n,l))&&(tn=bf(Le,"onBeforeInput"),0<tn.length&&(ut=new xe("onBeforeInput","beforeinput",null,l,Pe),Ie.push({event:ut,listeners:tn}),ut.data=Gt)),hw(Ie,n,Le,l,Pe)}h1(Ie,a)})}function lh(n,a,l){return{instance:n,listener:a,currentTarget:l}}function bf(n,a){for(var l=a+"Capture",u=[];n!==null;){var g=n,b=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||b===null||(g=Aa(n,l),g!=null&&u.unshift(lh(n,g,b)),g=Aa(n,a),g!=null&&u.push(lh(n,g,b))),n.tag===3)return u;n=n.return}return[]}function mw(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function d1(n,a,l,u,g){for(var b=a._reactName,C=[];l!==null&&l!==u;){var q=l,fe=q.alternate,Le=q.stateNode;if(q=q.tag,fe!==null&&fe===u)break;q!==5&&q!==26&&q!==27||Le===null||(fe=Le,g?(Le=Aa(l,b),Le!=null&&C.unshift(lh(l,Le,fe))):g||(Le=Aa(l,b),Le!=null&&C.push(lh(l,Le,fe)))),l=l.return}C.length!==0&&n.push({event:a,listeners:C})}var gw=/\r\n?/g,vw=/\u0000|\uFFFD/g;function p1(n){return(typeof n=="string"?n:""+n).replace(gw,`
`).replace(vw,"")}function m1(n,a){return a=p1(a),p1(n)===a}function Dn(n,a,l,u,g,b){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Na(n,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Na(n,""+u);break;case"className":Mo(n,"class",u);break;case"tabIndex":Mo(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Mo(n,l,u);break;case"style":xc(n,u,b);break;case"data":if(a!=="object"){Mo(n,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){n.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=ai(""+u),n.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(a!=="input"&&Dn(n,a,"name",g.name,g,null),Dn(n,a,"formEncType",g.formEncType,g,null),Dn(n,a,"formMethod",g.formMethod,g,null),Dn(n,a,"formTarget",g.formTarget,g,null)):(Dn(n,a,"encType",g.encType,g,null),Dn(n,a,"method",g.method,g,null),Dn(n,a,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=ai(""+u),n.setAttribute(l,u);break;case"onClick":u!=null&&(n.onclick=ii);break;case"onScroll":u!=null&&Qt("scroll",n);break;case"onScrollEnd":u!=null&&Qt("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}l=ai(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""+u):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":u===!0?n.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,u):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(l,u):n.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(l):n.setAttribute(l,u);break;case"popover":Qt("beforetoggle",n),Qt("toggle",n),Hi(n,"popover",u);break;case"xlinkActuate":Sn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Sn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Sn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Sn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Sn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Sn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Sn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Sn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Sn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Hi(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Pl.get(l)||l,Hi(n,l,u))}}function A0(n,a,l,u,g,b){switch(l){case"style":xc(n,u,b);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"children":typeof u=="string"?Na(n,u):(typeof u=="number"||typeof u=="bigint")&&Na(n,""+u);break;case"onScroll":u!=null&&Qt("scroll",n);break;case"onScrollEnd":u!=null&&Qt("scrollend",n);break;case"onClick":u!=null&&(n.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sa.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),b=n[Hn]||null,b=b!=null?b[l]:null,typeof b=="function"&&n.removeEventListener(a,b,g),typeof u=="function")){typeof b!="function"&&b!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(a,u,g);break e}l in n?n[l]=u:u===!0?n.setAttribute(l,""):Hi(n,l,u)}}}function ca(n,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qt("error",n),Qt("load",n);var u=!1,g=!1,b;for(b in l)if(l.hasOwnProperty(b)){var C=l[b];if(C!=null)switch(b){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Dn(n,a,b,C,l,null)}}g&&Dn(n,a,"srcSet",l.srcSet,l,null),u&&Dn(n,a,"src",l.src,l,null);return;case"input":Qt("invalid",n);var q=b=C=g=null,fe=null,Le=null;for(u in l)if(l.hasOwnProperty(u)){var Pe=l[u];if(Pe!=null)switch(u){case"name":g=Pe;break;case"type":C=Pe;break;case"checked":fe=Pe;break;case"defaultChecked":Le=Pe;break;case"value":b=Pe;break;case"defaultValue":q=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(i(137,a));break;default:Dn(n,a,u,Pe,l,null)}}bc(n,b,q,fe,Le,C,g,!1);return;case"select":Qt("invalid",n),u=C=b=null;for(g in l)if(l.hasOwnProperty(g)&&(q=l[g],q!=null))switch(g){case"value":b=q;break;case"defaultValue":C=q;break;case"multiple":u=q;default:Dn(n,a,g,q,l,null)}a=b,l=C,n.multiple=!!u,a!=null?aa(n,!!u,a,!1):l!=null&&aa(n,!!u,l,!0);return;case"textarea":Qt("invalid",n),b=g=u=null;for(C in l)if(l.hasOwnProperty(C)&&(q=l[C],q!=null))switch(C){case"value":u=q;break;case"defaultValue":g=q;break;case"children":b=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(91));break;default:Dn(n,a,C,q,l,null)}Ol(n,u,g,b);return;case"option":for(fe in l)if(l.hasOwnProperty(fe)&&(u=l[fe],u!=null))switch(fe){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Dn(n,a,fe,u,l,null)}return;case"dialog":Qt("beforetoggle",n),Qt("toggle",n),Qt("cancel",n),Qt("close",n);break;case"iframe":case"object":Qt("load",n);break;case"video":case"audio":for(u=0;u<oh.length;u++)Qt(oh[u],n);break;case"image":Qt("error",n),Qt("load",n);break;case"details":Qt("toggle",n);break;case"embed":case"source":case"link":Qt("error",n),Qt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Le in l)if(l.hasOwnProperty(Le)&&(u=l[Le],u!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Dn(n,a,Le,u,l,null)}return;default:if(Dl(a)){for(Pe in l)l.hasOwnProperty(Pe)&&(u=l[Pe],u!==void 0&&A0(n,a,Pe,u,l,void 0));return}}for(q in l)l.hasOwnProperty(q)&&(u=l[q],u!=null&&Dn(n,a,q,u,l,null))}function yw(n,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,b=null,C=null,q=null,fe=null,Le=null,Pe=null;for(Oe in l){var Ie=l[Oe];if(l.hasOwnProperty(Oe)&&Ie!=null)switch(Oe){case"checked":break;case"value":break;case"defaultValue":fe=Ie;default:u.hasOwnProperty(Oe)||Dn(n,a,Oe,null,u,Ie)}}for(var Te in u){var Oe=u[Te];if(Ie=l[Te],u.hasOwnProperty(Te)&&(Oe!=null||Ie!=null))switch(Te){case"type":b=Oe;break;case"name":g=Oe;break;case"checked":Le=Oe;break;case"defaultChecked":Pe=Oe;break;case"value":C=Oe;break;case"defaultValue":q=Oe;break;case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(i(137,a));break;default:Oe!==Ie&&Dn(n,a,Te,Oe,u,Ie)}}Ll(n,C,q,fe,Le,Pe,b,g);return;case"select":Oe=C=q=Te=null;for(b in l)if(fe=l[b],l.hasOwnProperty(b)&&fe!=null)switch(b){case"value":break;case"multiple":Oe=fe;default:u.hasOwnProperty(b)||Dn(n,a,b,null,u,fe)}for(g in u)if(b=u[g],fe=l[g],u.hasOwnProperty(g)&&(b!=null||fe!=null))switch(g){case"value":Te=b;break;case"defaultValue":q=b;break;case"multiple":C=b;default:b!==fe&&Dn(n,a,g,b,u,fe)}a=q,l=C,u=Oe,Te!=null?aa(n,!!l,Te,!1):!!u!=!!l&&(a!=null?aa(n,!!l,a,!0):aa(n,!!l,l?[]:"",!1));return;case"textarea":Oe=Te=null;for(q in l)if(g=l[q],l.hasOwnProperty(q)&&g!=null&&!u.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:Dn(n,a,q,null,u,g)}for(C in u)if(g=u[C],b=l[C],u.hasOwnProperty(C)&&(g!=null||b!=null))switch(C){case"value":Te=g;break;case"defaultValue":Oe=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==b&&Dn(n,a,C,g,u,b)}Tl(n,Te,Oe);return;case"option":for(var it in l)if(Te=l[it],l.hasOwnProperty(it)&&Te!=null&&!u.hasOwnProperty(it))switch(it){case"selected":n.selected=!1;break;default:Dn(n,a,it,null,u,Te)}for(fe in u)if(Te=u[fe],Oe=l[fe],u.hasOwnProperty(fe)&&Te!==Oe&&(Te!=null||Oe!=null))switch(fe){case"selected":n.selected=Te&&typeof Te!="function"&&typeof Te!="symbol";break;default:Dn(n,a,fe,Te,u,Oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var jt in l)Te=l[jt],l.hasOwnProperty(jt)&&Te!=null&&!u.hasOwnProperty(jt)&&Dn(n,a,jt,null,u,Te);for(Le in u)if(Te=u[Le],Oe=l[Le],u.hasOwnProperty(Le)&&Te!==Oe&&(Te!=null||Oe!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(i(137,a));break;default:Dn(n,a,Le,Te,u,Oe)}return;default:if(Dl(a)){for(var Pn in l)Te=l[Pn],l.hasOwnProperty(Pn)&&Te!==void 0&&!u.hasOwnProperty(Pn)&&A0(n,a,Pn,void 0,u,Te);for(Pe in u)Te=u[Pe],Oe=l[Pe],!u.hasOwnProperty(Pe)||Te===Oe||Te===void 0&&Oe===void 0||A0(n,a,Pe,Te,u,Oe);return}}for(var _e in l)Te=l[_e],l.hasOwnProperty(_e)&&Te!=null&&!u.hasOwnProperty(_e)&&Dn(n,a,_e,null,u,Te);for(Ie in u)Te=u[Ie],Oe=l[Ie],!u.hasOwnProperty(Ie)||Te===Oe||Te==null&&Oe==null||Dn(n,a,Ie,Te,u,Oe)}function g1(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bw(){if(typeof performance.getEntriesByType=="function"){for(var n=0,a=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],b=g.transferSize,C=g.initiatorType,q=g.duration;if(b&&q&&g1(C)){for(C=0,q=g.responseEnd,u+=1;u<l.length;u++){var fe=l[u],Le=fe.startTime;if(Le>q)break;var Pe=fe.transferSize,Ie=fe.initiatorType;Pe&&g1(Ie)&&(fe=fe.responseEnd,C+=Pe*(fe<q?1:(q-Le)/(fe-Le)))}if(--u,a+=8*(b+C)/(g.duration/1e3),n++,10<n)break}}if(0<n)return a/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var j0=null,E0=null;function wf(n){return n.nodeType===9?n:n.ownerDocument}function v1(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y1(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function C0(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var L0=null;function ww(){var n=window.event;return n&&n.type==="popstate"?n===L0?!1:(L0=n,!0):(L0=null,!1)}var b1=typeof setTimeout=="function"?setTimeout:void 0,xw=typeof clearTimeout=="function"?clearTimeout:void 0,w1=typeof Promise=="function"?Promise:void 0,_w=typeof queueMicrotask=="function"?queueMicrotask:typeof w1!="undefined"?function(n){return w1.resolve(null).then(n).catch(Sw)}:b1;function Sw(n){setTimeout(function(){throw n})}function ul(n){return n==="head"}function x1(n,a){var l=a,u=0;do{var g=l.nextSibling;if(n.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){n.removeChild(g),ou(a);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")ch(n.ownerDocument.documentElement);else if(l==="head"){l=n.ownerDocument.head,ch(l);for(var b=l.firstChild;b;){var C=b.nextSibling,q=b.nodeName;b[ei]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=C}}else l==="body"&&ch(n.ownerDocument.body);l=g}while(l);ou(a)}function _1(n,a){var l=n;n=0;do{var u=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(n===0)break;n--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||n++;l=u}while(l)}function k0(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":k0(l),As(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function Nw(n,a,l,u){for(;n.nodeType===1;){var g=l;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[ei])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(b=n.getAttribute("rel"),b==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(b!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(b=n.getAttribute("src"),(b!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&b&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var b=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===b)return n}else return n;if(n=Mi(n.nextSibling),n===null)break}return null}function Aw(n,a,l){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=Mi(n.nextSibling),n===null))return null;return n}function S1(n,a){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Mi(n.nextSibling),n===null))return null;return n}function T0(n){return n.data==="$?"||n.data==="$~"}function O0(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function jw(n,a){var l=n.ownerDocument;if(n.data==="$~")n._reactRetry=a;else if(n.data!=="$?"||l.readyState!=="loading")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Mi(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return n}var R0=null;function N1(n){n=n.nextSibling;for(var a=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"||l==="/&"){if(a===0)return Mi(n.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}n=n.nextSibling}return null}function A1(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return n;a--}else l!=="/$"&&l!=="/&"||a++}n=n.previousSibling}return null}function j1(n,a,l){switch(a=wf(l),n){case"html":if(n=a.documentElement,!n)throw Error(i(452));return n;case"head":if(n=a.head,!n)throw Error(i(453));return n;case"body":if(n=a.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function ch(n){for(var a=n.attributes;a.length;)n.removeAttributeNode(a[0]);As(n)}var Bi=new Map,E1=new Set;function xf(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var jo=le.d;le.d={f:Ew,r:Cw,D:Lw,C:kw,L:Tw,m:Ow,X:Dw,S:Rw,M:Pw};function Ew(){var n=jo.f(),a=ff();return n||a}function Cw(n){var a=ni(n);a!==null&&a.tag===5&&a.type==="form"?$m(a):jo.r(n)}var au=typeof document=="undefined"?null:document;function C1(n,a,l){var u=au;if(u&&typeof a=="string"&&a){var g=Wr(a);g='link[rel="'+n+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),E1.has(g)||(E1.add(g),n={rel:n,crossOrigin:l,href:a},u.querySelector(g)===null&&(a=u.createElement("link"),ca(a,"link",n),rr(a),u.head.appendChild(a)))}}function Lw(n){jo.D(n),C1("dns-prefetch",n,null)}function kw(n,a){jo.C(n,a),C1("preconnect",n,a)}function Tw(n,a,l){jo.L(n,a,l);var u=au;if(u&&n&&a){var g='link[rel="preload"][as="'+Wr(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Wr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Wr(l.imageSizes)+'"]')):g+='[href="'+Wr(n)+'"]';var b=g;switch(a){case"style":b=iu(n);break;case"script":b=su(n)}Bi.has(b)||(n=_({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:n,as:a},l),Bi.set(b,n),u.querySelector(g)!==null||a==="style"&&u.querySelector(uh(b))||a==="script"&&u.querySelector(hh(b))||(a=u.createElement("link"),ca(a,"link",n),rr(a),u.head.appendChild(a)))}}function Ow(n,a){jo.m(n,a);var l=au;if(l&&n){var u=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+Wr(u)+'"][href="'+Wr(n)+'"]',b=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=su(n)}if(!Bi.has(b)&&(n=_({rel:"modulepreload",href:n},a),Bi.set(b,n),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(hh(b)))return}u=l.createElement("link"),ca(u,"link",n),rr(u),l.head.appendChild(u)}}}function Rw(n,a,l){jo.S(n,a,l);var u=au;if(u&&n){var g=wi(u).hoistableStyles,b=iu(n);a=a||"default";var C=g.get(b);if(!C){var q={loading:0,preload:null};if(C=u.querySelector(uh(b)))q.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":a},l),(l=Bi.get(b))&&D0(n,l);var fe=C=u.createElement("link");rr(fe),ca(fe,"link",n),fe._p=new Promise(function(Le,Pe){fe.onload=Le,fe.onerror=Pe}),fe.addEventListener("load",function(){q.loading|=1}),fe.addEventListener("error",function(){q.loading|=2}),q.loading|=4,_f(C,a,u)}C={type:"stylesheet",instance:C,count:1,state:q},g.set(b,C)}}}function Dw(n,a){jo.X(n,a);var l=au;if(l&&n){var u=wi(l).hoistableScripts,g=su(n),b=u.get(g);b||(b=l.querySelector(hh(g)),b||(n=_({src:n,async:!0},a),(a=Bi.get(g))&&P0(n,a),b=l.createElement("script"),rr(b),ca(b,"link",n),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},u.set(g,b))}}function Pw(n,a){jo.M(n,a);var l=au;if(l&&n){var u=wi(l).hoistableScripts,g=su(n),b=u.get(g);b||(b=l.querySelector(hh(g)),b||(n=_({src:n,async:!0,type:"module"},a),(a=Bi.get(g))&&P0(n,a),b=l.createElement("script"),rr(b),ca(b,"link",n),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},u.set(g,b))}}function L1(n,a,l,u){var g=(g=ce.current)?xf(g):null;if(!g)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=iu(l.href),l=wi(g).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=iu(l.href);var b=wi(g).hoistableStyles,C=b.get(n);if(C||(g=g.ownerDocument||g,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(n,C),(b=g.querySelector(uh(n)))&&!b._p&&(C.instance=b,C.state.loading=5),Bi.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Bi.set(n,l),b||Mw(g,n,l,C.state))),a&&u===null)throw Error(i(528,""));return C}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=su(l),l=wi(g).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function iu(n){return'href="'+Wr(n)+'"'}function uh(n){return'link[rel="stylesheet"]['+n+"]"}function k1(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function Mw(n,a,l,u){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=n.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),ca(a,"link",l),rr(a),n.head.appendChild(a))}function su(n){return'[src="'+Wr(n)+'"]'}function hh(n){return"script[async]"+n}function T1(n,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=n.querySelector('style[data-href~="'+Wr(l.href)+'"]');if(u)return a.instance=u,rr(u),u;var g=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),rr(u),ca(u,"style",g),_f(u,l.precedence,n),a.instance=u;case"stylesheet":g=iu(l.href);var b=n.querySelector(uh(g));if(b)return a.state.loading|=4,a.instance=b,rr(b),b;u=k1(l),(g=Bi.get(g))&&D0(u,g),b=(n.ownerDocument||n).createElement("link"),rr(b);var C=b;return C._p=new Promise(function(q,fe){C.onload=q,C.onerror=fe}),ca(b,"link",u),a.state.loading|=4,_f(b,l.precedence,n),a.instance=b;case"script":return b=su(l.src),(g=n.querySelector(hh(b)))?(a.instance=g,rr(g),g):(u=l,(g=Bi.get(b))&&(u=_({},l),P0(u,g)),n=n.ownerDocument||n,g=n.createElement("script"),rr(g),ca(g,"link",u),n.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,_f(u,l.precedence,n));return a.instance}function _f(n,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,b=g,C=0;C<u.length;C++){var q=u[C];if(q.dataset.precedence===a)b=q;else if(b!==g)break}b?b.parentNode.insertBefore(n,b.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(n,a.firstChild))}function D0(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function P0(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var Sf=null;function O1(n,a,l){if(Sf===null){var u=new Map,g=Sf=new Map;g.set(l,u)}else g=Sf,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(n))return u;for(u.set(n,null),l=l.getElementsByTagName(n),g=0;g<l.length;g++){var b=l[g];if(!(b[ei]||b[Nn]||n==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var C=b.getAttribute(a)||"";C=n+C;var q=u.get(C);q?q.push(b):u.set(C,[b])}}return u}function R1(n,a,l){n=n.ownerDocument||n,n.head.insertBefore(l,a==="title"?n.querySelector("head > title"):null)}function Bw(n,a,l){if(l===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return n=a.disabled,typeof a.precedence=="string"&&n==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function D1(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function Uw(n,a,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=iu(u.href),b=a.querySelector(uh(g));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(n.count++,n=Nf.bind(n),a.then(n,n)),l.state.loading|=4,l.instance=b,rr(b);return}b=a.ownerDocument||a,u=k1(u),(g=Bi.get(g))&&D0(u,g),b=b.createElement("link"),rr(b);var C=b;C._p=new Promise(function(q,fe){C.onload=q,C.onerror=fe}),ca(b,"link",u),l.instance=b}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(n.count++,l=Nf.bind(n),a.addEventListener("load",l),a.addEventListener("error",l))}}var M0=0;function zw(n,a){return n.stylesheets&&n.count===0&&jf(n,n.stylesheets),0<n.count||0<n.imgCount?function(l){var u=setTimeout(function(){if(n.stylesheets&&jf(n,n.stylesheets),n.unsuspend){var b=n.unsuspend;n.unsuspend=null,b()}},6e4+a);0<n.imgBytes&&M0===0&&(M0=62500*bw());var g=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&jf(n,n.stylesheets),n.unsuspend)){var b=n.unsuspend;n.unsuspend=null,b()}},(n.imgBytes>M0?50:800)+a);return n.unsuspend=l,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function Nf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Af=null;function jf(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Af=new Map,a.forEach(Iw,n),Af=null,Nf.call(n))}function Iw(n,a){if(!(a.state.loading&4)){var l=Af.get(n);if(l)var u=l.get(null);else{l=new Map,Af.set(n,l);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<g.length;b++){var C=g[b];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),u=C)}u&&l.set(null,u)}g=a.instance,C=g.getAttribute("data-precedence"),b=l.get(C)||u,b===u&&l.set(null,g),l.set(C,g),this.count++,u=Nf.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),b?b.parentNode.insertBefore(g,b.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),a.state.loading|=4}}var fh={$$typeof:O,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function qw(n,a,l,u,g,b,C,q,fe){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oa(0),this.hiddenUpdates=Oa(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=b,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=fe,this.incompleteTransitions=new Map}function P1(n,a,l,u,g,b,C,q,fe,Le,Pe,Ie){return n=new qw(n,a,l,C,fe,Le,Pe,Ie,q),a=1,b===!0&&(a|=24),b=Xr(3,null,null,a),n.current=b,b.stateNode=n,a=Zo(),a.refCount++,n.pooledCache=a,a.refCount++,b.memoizedState={element:u,isDehydrated:l,cache:a},Ye(b),n}function M1(n){return n?(n=Ur,n):Ur}function B1(n,a,l,u,g,b){g=M1(g),u.context===null?u.context=g:u.pendingContext=g,u=At(a),u.payload={element:l},b=b===void 0?null:b,b!==null&&(u.callback=b),l=$t(n,u,a),l!==null&&(Ja(l,n,a),wn(l,n,a))}function U1(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<a?l:a}}function B0(n,a){U1(n,a),(n=n.alternate)&&U1(n,a)}function z1(n){if(n.tag===13||n.tag===31){var a=is(n,67108864);a!==null&&Ja(a,n,67108864),B0(n,67108864)}}function I1(n){if(n.tag===13||n.tag===31){var a=di();a=qn(a);var l=is(n,a);l!==null&&Ja(l,n,a),B0(n,a)}}var Ef=!0;function Fw(n,a,l,u){var g=K.T;K.T=null;var b=le.p;try{le.p=2,U0(n,a,l,u)}finally{le.p=b,K.T=g}}function Hw(n,a,l,u){var g=K.T;K.T=null;var b=le.p;try{le.p=8,U0(n,a,l,u)}finally{le.p=b,K.T=g}}function U0(n,a,l,u){if(Ef){var g=z0(u);if(g===null)N0(n,a,u,Cf,l),F1(n,u);else if(Vw(g,n,a,l,u))u.stopPropagation();else if(F1(n,u),a&4&&-1<$w.indexOf(n)){for(;g!==null;){var b=ni(g);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var C=xt(b.pendingLanes);if(C!==0){var q=b;for(q.pendingLanes|=2,q.entangledLanes|=2;C;){var fe=1<<31-Vt(C);q.entanglements[1]|=fe,C&=~fe}$s(b),(_n&6)===0&&(uf=Ut()+500,sh(0))}}break;case 31:case 13:q=is(b,2),q!==null&&Ja(q,b,2),ff(),B0(b,2)}if(b=z0(u),b===null&&N0(n,a,u,Cf,l),b===g)break;g=b}g!==null&&u.stopPropagation()}else N0(n,a,u,null,l)}}function z0(n){return n=Qs(n),I0(n)}var Cf=null;function I0(n){if(Cf=null,n=ti(n),n!==null){var a=o(n);if(a===null)n=null;else{var l=a.tag;if(l===13){if(n=c(a),n!==null)return n;n=null}else if(l===31){if(n=h(a),n!==null)return n;n=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return Cf=n,null}function q1(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zt()){case Mt:return 2;case bn:return 8;case Rt:case dt:return 32;case Ct:return 268435456;default:return 32}default:return 32}}var q0=!1,hl=null,fl=null,dl=null,dh=new Map,ph=new Map,pl=[],$w="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F1(n,a){switch(n){case"focusin":case"focusout":hl=null;break;case"dragenter":case"dragleave":fl=null;break;case"mouseover":case"mouseout":dl=null;break;case"pointerover":case"pointerout":dh.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ph.delete(a.pointerId)}}function mh(n,a,l,u,g,b){return n===null||n.nativeEvent!==b?(n={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:b,targetContainers:[g]},a!==null&&(a=ni(a),a!==null&&z1(a)),n):(n.eventSystemFlags|=u,a=n.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),n)}function Vw(n,a,l,u,g){switch(a){case"focusin":return hl=mh(hl,n,a,l,u,g),!0;case"dragenter":return fl=mh(fl,n,a,l,u,g),!0;case"mouseover":return dl=mh(dl,n,a,l,u,g),!0;case"pointerover":var b=g.pointerId;return dh.set(b,mh(dh.get(b)||null,n,a,l,u,g)),!0;case"gotpointercapture":return b=g.pointerId,ph.set(b,mh(ph.get(b)||null,n,a,l,u,g)),!0}return!1}function H1(n){var a=ti(n.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){n.blockedOn=a,Ns(n.priority,function(){I1(l)});return}}else if(a===31){if(a=h(l),a!==null){n.blockedOn=a,Ns(n.priority,function(){I1(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Lf(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var l=z0(n.nativeEvent);if(l===null){l=n.nativeEvent;var u=new l.constructor(l.type,l);Gi=u,l.target.dispatchEvent(u),Gi=null}else return a=ni(l),a!==null&&z1(a),n.blockedOn=l,!1;a.shift()}return!0}function $1(n,a,l){Lf(n)&&l.delete(a)}function Gw(){q0=!1,hl!==null&&Lf(hl)&&(hl=null),fl!==null&&Lf(fl)&&(fl=null),dl!==null&&Lf(dl)&&(dl=null),dh.forEach($1),ph.forEach($1)}function kf(n,a){n.blockedOn===a&&(n.blockedOn=null,q0||(q0=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Gw)))}var Tf=null;function V1(n){Tf!==n&&(Tf=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Tf===n&&(Tf=null);for(var a=0;a<n.length;a+=3){var l=n[a],u=n[a+1],g=n[a+2];if(typeof u!="function"){if(I0(u||l)===null)continue;break}var b=ni(l);b!==null&&(n.splice(a,3),a-=3,zd(b,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function ou(n){function a(fe){return kf(fe,n)}hl!==null&&kf(hl,n),fl!==null&&kf(fl,n),dl!==null&&kf(dl,n),dh.forEach(a),ph.forEach(a);for(var l=0;l<pl.length;l++){var u=pl[l];u.blockedOn===n&&(u.blockedOn=null)}for(;0<pl.length&&(l=pl[0],l.blockedOn===null);)H1(l),l.blockedOn===null&&pl.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],b=l[u+1],C=g[Hn]||null;if(typeof b=="function")C||V1(l);else if(C){var q=null;if(b&&b.hasAttribute("formAction")){if(g=b,C=b[Hn]||null)q=C.formAction;else if(I0(g)!==null)continue}else q=C.action;typeof q=="function"?l[u+1]=q:(l.splice(u,3),u-=3),V1(l)}}}function G1(){function n(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(C){return g=C})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function F0(n){this._internalRoot=n}Of.prototype.render=F0.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=di();B1(l,u,n,a,null,null)},Of.prototype.unmount=F0.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;B1(n.current,2,null,n,null,null),ff(),a[Yr]=null}};function Of(n){this._internalRoot=n}Of.prototype.unstable_scheduleHydration=function(n){if(n){var a=jr();n={blockedOn:null,target:n,priority:a};for(var l=0;l<pl.length&&a!==0&&a<pl[l].priority;l++);pl.splice(l,0,n),l===0&&H1(n)}};var Y1=e.version;if(Y1!=="19.2.0")throw Error(i(527,Y1,"19.2.0"));le.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=d(a),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var Yw={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rf.isDisabled&&Rf.supportsFiber)try{Kt=Rf.inject(Yw),Xe=Rf}catch(n){}}return vh.createRoot=function(n,a){if(!s(n))throw Error(i(299));var l=!1,u="",g=eg,b=tg,C=ng;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError)),a=P1(n,1,!1,null,null,l,u,null,g,b,C,G1),n[Yr]=a.current,S0(n),new F0(a)},vh.hydrateRoot=function(n,a,l){if(!s(n))throw Error(i(299));var u=!1,g="",b=eg,C=tg,q=ng,fe=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(q=l.onRecoverableError),l.formState!==void 0&&(fe=l.formState)),a=P1(n,1,!0,a,l!=null?l:null,u,g,fe,b,C,q,G1),a.context=M1(null),l=a.current,u=di(),u=qn(u),g=At(u),g.callback=null,$t(l,g,u),l=u,a.current.lanes=l,gt(a,l),$s(a),n[Yr]=a.current,S0(n),new Of(a)},vh.version="19.2.0",vh}var i2;function lx(){if(i2)return V0.exports;i2=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),V0.exports=ox(),V0.exports}var cx=lx();const ux=cm(cx);var oe=um();const s2=cm(oe);var o2="popstate";function hx(r={}){function e(i,s){let{pathname:o,search:c,hash:h}=i.location;return Dp("",{pathname:o,search:c,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:Ch(s)}return dx(e,t,null,r)}function Vr(r,e){if(r===!1||r===null||typeof r=="undefined")throw new Error(e)}function bs(r,e){if(!r){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch(t){}}}function fx(){return Math.random().toString(36).substring(2,10)}function l2(r,e){return{usr:r.state,key:r.key,idx:e}}function Dp(r,e,t=null,i){return kt(lt({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Mh(e):e),{state:t,key:e&&e.key||i||fx()})}function Ch({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Mh(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function dx(r,e,t,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,c=s.history,h="POP",f=null,d=v();d==null&&(d=0,c.replaceState(kt(lt({},c.state),{idx:d}),""));function v(){return(c.state||{idx:null}).idx}function _(){h="POP";let L=v(),T=L==null?null:L-d;d=L,f&&f({action:h,location:k.location,delta:T})}function N(L,T){h="PUSH";let U=Dp(k.location,L,T);d=v()+1;let O=l2(U,d),B=k.createHref(U);try{c.pushState(O,"",B)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;s.location.assign(B)}o&&f&&f({action:h,location:k.location,delta:1})}function w(L,T){h="REPLACE";let U=Dp(k.location,L,T);d=v();let O=l2(U,d),B=k.createHref(U);c.replaceState(O,"",B),o&&f&&f({action:h,location:k.location,delta:0})}function E(L){return px(L)}let k={get action(){return h},get location(){return r(s,c)},listen(L){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(o2,_),f=L,()=>{s.removeEventListener(o2,_),f=null}},createHref(L){return e(s,L)},createURL:E,encodeLocation(L){let T=E(L);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:N,replace:w,go(L){return c.go(L)}};return k}function px(r,e=!1){let t="http://localhost";typeof window!="undefined"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Vr(t,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:Ch(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function g5(r,e,t="/"){return mx(r,e,t,!1)}function mx(r,e,t,i){let s=typeof e=="string"?Mh(e):e,o=Ro(s.pathname||"/",t);if(o==null)return null;let c=v5(r);gx(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let d=Ex(o);h=Ax(c[f],d,i)}return h}function v5(r,e=[],t=[],i="",s=!1){let o=(c,h,f=s,d)=>{let v={relativePath:d===void 0?c.path||"":d,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&f)return;Vr(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let _=Oo([i,v.relativePath]),N=t.concat(v);c.children&&c.children.length>0&&(Vr(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),v5(c.children,e,N,_,f)),!(c.path==null&&!c.index)&&e.push({path:_,score:Sx(_,c.index),routesMeta:N})};return r.forEach((c,h)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))o(c,h);else for(let d of y5(c.path))o(c,h,!0,d)}),e}function y5(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let c=y5(i.join("/")),h=[];return h.push(...c.map(f=>f===""?o:[o,f].join("/"))),s&&h.push(...c),h.map(f=>r.startsWith("/")&&f===""?"/":f)}function gx(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:Nx(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var vx=/^:[\w-]+$/,yx=3,bx=2,wx=1,xx=10,_x=-2,c2=r=>r==="*";function Sx(r,e){let t=r.split("/"),i=t.length;return t.some(c2)&&(i+=_x),e&&(i+=bx),t.filter(s=>!c2(s)).reduce((s,o)=>s+(vx.test(o)?yx:o===""?wx:xx),i)}function Nx(r,e){return r.length===e.length&&r.slice(0,-1).every((i,s)=>i===e[s])?r[r.length-1]-e[e.length-1]:0}function Ax(r,e,t=!1){let{routesMeta:i}=r,s={},o="/",c=[];for(let h=0;h<i.length;++h){let f=i[h],d=h===i.length-1,v=o==="/"?e:e.slice(o.length)||"/",_=ud({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},v),N=f.route;if(!_&&d&&t&&!i[i.length-1].route.index&&(_=ud({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!_)return null;Object.assign(s,_.params),c.push({params:s,pathname:Oo([o,_.pathname]),pathnameBase:Ox(Oo([o,_.pathnameBase])),route:N}),_.pathnameBase!=="/"&&(o=Oo([o,_.pathnameBase]))}return c}function ud(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=jx(r.path,r.caseSensitive,r.end),s=e.match(t);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:i.reduce((d,{paramName:v,isOptional:_},N)=>{if(v==="*"){let E=h[N]||"";c=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const w=h[N];return _&&!w?d[v]=void 0:d[v]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:c,pattern:r}}function jx(r,e=!1,t=!0){bs(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function Ex(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bs(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ro(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}var Cx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lx=r=>Cx.test(r);function kx(r,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof r=="string"?Mh(r):r,o;if(t)if(Lx(t))o=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),bs(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?o=u2(t.substring(1),"/"):o=u2(t,e)}else o=e;return{pathname:o,search:Rx(i),hash:Dx(s)}}function u2(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function J0(r,e,t,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Tx(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function b5(r){let e=Tx(r);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function w5(r,e,t,i=!1){let s;typeof r=="string"?s=Mh(r):(s=lt({},r),Vr(!s.pathname||!s.pathname.includes("?"),J0("?","pathname","search",s)),Vr(!s.pathname||!s.pathname.includes("#"),J0("#","pathname","hash",s)),Vr(!s.search||!s.search.includes("#"),J0("#","search","hash",s)));let o=r===""||s.pathname==="",c=o?"/":s.pathname,h;if(c==null)h=t;else{let _=e.length-1;if(!i&&c.startsWith("..")){let N=c.split("/");for(;N[0]==="..";)N.shift(),_-=1;s.pathname=N.join("/")}h=_>=0?e[_]:"/"}let f=kx(s,h),d=c&&c!=="/"&&c.endsWith("/"),v=(o||c===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||v)&&(f.pathname+="/"),f}var Oo=r=>r.join("/").replace(/\/\/+/g,"/"),Ox=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Rx=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Dx=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Px(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var x5=["POST","PUT","PATCH","DELETE"];new Set(x5);var Mx=["GET",...x5];new Set(Mx);var Tu=oe.createContext(null);Tu.displayName="DataRouter";var _d=oe.createContext(null);_d.displayName="DataRouterState";oe.createContext(!1);var _5=oe.createContext({isTransitioning:!1});_5.displayName="ViewTransition";var Bx=oe.createContext(new Map);Bx.displayName="Fetchers";var Ux=oe.createContext(null);Ux.displayName="Await";var Ws=oe.createContext(null);Ws.displayName="Navigation";var Sd=oe.createContext(null);Sd.displayName="Location";var Po=oe.createContext({outlet:null,matches:[],isDataRoute:!1});Po.displayName="Route";var hm=oe.createContext(null);hm.displayName="RouteError";function zx(r,{relative:e}={}){Vr(Bh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=oe.useContext(Ws),{hash:s,pathname:o,search:c}=Uh(r,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Oo([t,o])),i.createHref({pathname:h,search:c,hash:s})}function Bh(){return oe.useContext(Sd)!=null}function mc(){return Vr(Bh(),"useLocation() may be used only in the context of a <Router> component."),oe.useContext(Sd).location}var S5="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function N5(r){oe.useContext(Ws).static||oe.useLayoutEffect(r)}function Ix(){let{isDataRoute:r}=oe.useContext(Po);return r?Qx():qx()}function qx(){Vr(Bh(),"useNavigate() may be used only in the context of a <Router> component.");let r=oe.useContext(Tu),{basename:e,navigator:t}=oe.useContext(Ws),{matches:i}=oe.useContext(Po),{pathname:s}=mc(),o=JSON.stringify(b5(i)),c=oe.useRef(!1);return N5(()=>{c.current=!0}),oe.useCallback((f,d={})=>{if(bs(c.current,S5),!c.current)return;if(typeof f=="number"){t.go(f);return}let v=w5(f,JSON.parse(o),s,d.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Oo([e,v.pathname])),(d.replace?t.replace:t.push)(v,d.state,d)},[e,t,o,s,r])}oe.createContext(null);function Uh(r,{relative:e}={}){let{matches:t}=oe.useContext(Po),{pathname:i}=mc(),s=JSON.stringify(b5(t));return oe.useMemo(()=>w5(r,JSON.parse(s),i,e==="path"),[r,s,i,e])}function Fx(r,e,t,i,s){Vr(Bh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=oe.useContext(Ws),{matches:c}=oe.useContext(Po),h=c[c.length-1],f=h?h.params:{},d=h?h.pathname:"/",v=h?h.pathnameBase:"/",_=h&&h.route;{let U=_&&_.path||"";A5(d,!_||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let N=mc(),w;w=N;let E=w.pathname||"/",k=E;if(v!=="/"){let U=v.replace(/^\//,"").split("/");k="/"+E.replace(/^\//,"").split("/").slice(U.length).join("/")}let L=g5(r,{pathname:k});return bs(_||L!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),bs(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Yx(L&&L.map(U=>Object.assign({},U,{params:Object.assign({},f,U.params),pathname:Oo([v,o.encodeLocation?o.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?v:Oo([v,o.encodeLocation?o.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),c,t,i,s)}function Hx(){let r=Zx(),e=Px(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=oe.createElement(oe.Fragment,null,oe.createElement("p",null," Hey developer "),oe.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",oe.createElement("code",{style:o},"ErrorBoundary")," or"," ",oe.createElement("code",{style:o},"errorElement")," prop on your route.")),oe.createElement(oe.Fragment,null,oe.createElement("h2",null,"Unexpected Application Error!"),oe.createElement("h3",{style:{fontStyle:"italic"}},e),t?oe.createElement("pre",{style:s},t):null,c)}var $x=oe.createElement(Hx,null),Vx=class extends oe.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?oe.createElement(Po.Provider,{value:this.props.routeContext},oe.createElement(hm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Gx({routeContext:r,match:e,children:t}){let i=oe.useContext(Tu);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),oe.createElement(Po.Provider,{value:r},t)}function Yx(r,e=[],t=null,i=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,c=t==null?void 0:t.errors;if(c!=null){let v=o.findIndex(_=>_.route.id&&(c==null?void 0:c[_.route.id])!==void 0);Vr(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,v+1))}let h=!1,f=-1;if(t)for(let v=0;v<o.length;v++){let _=o[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(f=v),_.route.id){let{loaderData:N,errors:w}=t,E=_.route.loader&&!N.hasOwnProperty(_.route.id)&&(!w||w[_.route.id]===void 0);if(_.route.lazy||E){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let d=t&&i?(v,_)=>{var N,w,E;i(v,{location:t.location,params:(E=(w=(N=t.matches)==null?void 0:N[0])==null?void 0:w.params)!=null?E:{},errorInfo:_})}:void 0;return o.reduceRight((v,_,N)=>{let w,E=!1,k=null,L=null;t&&(w=c&&_.route.id?c[_.route.id]:void 0,k=_.route.errorElement||$x,h&&(f<0&&N===0?(A5("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,L=null):f===N&&(E=!0,L=_.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,N+1)),U=()=>{let O;return w?O=k:E?O=L:_.route.Component?O=oe.createElement(_.route.Component,null):_.route.element?O=_.route.element:O=v,oe.createElement(Gx,{match:_,routeContext:{outlet:v,matches:T,isDataRoute:t!=null},children:O})};return t&&(_.route.ErrorBoundary||_.route.errorElement||N===0)?oe.createElement(Vx,{location:t.location,revalidation:t.revalidation,component:k,error:w,children:U(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:d}):U()},null)}function fm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Wx(r){let e=oe.useContext(Tu);return Vr(e,fm(r)),e}function Kx(r){let e=oe.useContext(_d);return Vr(e,fm(r)),e}function Jx(r){let e=oe.useContext(Po);return Vr(e,fm(r)),e}function dm(r){let e=Jx(r),t=e.matches[e.matches.length-1];return Vr(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function Xx(){return dm("useRouteId")}function Zx(){var i;let r=oe.useContext(hm),e=Kx("useRouteError"),t=dm("useRouteError");return r!==void 0?r:(i=e.errors)==null?void 0:i[t]}function Qx(){let{router:r}=Wx("useNavigate"),e=dm("useNavigate"),t=oe.useRef(!1);return N5(()=>{t.current=!0}),oe.useCallback((c,...h)=>de(null,[c,...h],function*(s,o={}){bs(t.current,S5),t.current&&(typeof s=="number"?r.navigate(s):yield r.navigate(s,lt({fromRouteId:e},o)))}),[r,e])}var h2={};function A5(r,e,t){!e&&!h2[r]&&(h2[r]=!0,bs(!1,t))}oe.memo(e_);function e_({routes:r,future:e,state:t,unstable_onError:i}){return Fx(r,void 0,t,i,e)}function t_({basename:r="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:o=!1}){Vr(!Bh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),h=oe.useMemo(()=>({basename:c,navigator:s,static:o,future:{}}),[c,s,o]);typeof t=="string"&&(t=Mh(t));let{pathname:f="/",search:d="",hash:v="",state:_=null,key:N="default"}=t,w=oe.useMemo(()=>{let E=Ro(f,c);return E==null?null:{location:{pathname:E,search:d,hash:v,state:_,key:N},navigationType:i}},[c,f,d,v,_,N,i]);return bs(w!=null,`<Router basename="${c}"> is not able to match the URL "${f}${d}${v}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:oe.createElement(Ws.Provider,{value:h},oe.createElement(Sd.Provider,{children:e,value:w}))}var ed="get",td="application/x-www-form-urlencoded";function Nd(r){return r!=null&&typeof r.tagName=="string"}function n_(r){return Nd(r)&&r.tagName.toLowerCase()==="button"}function r_(r){return Nd(r)&&r.tagName.toLowerCase()==="form"}function a_(r){return Nd(r)&&r.tagName.toLowerCase()==="input"}function i_(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function s_(r,e){return r.button===0&&(!e||e==="_self")&&!i_(r)}var Pf=null;function o_(){if(Pf===null)try{new FormData(document.createElement("form"),0),Pf=!1}catch(r){Pf=!0}return Pf}var l_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function X0(r){return r!=null&&!l_.has(r)?(bs(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${td}"`),null):r}function c_(r,e){let t,i,s,o,c;if(r_(r)){let h=r.getAttribute("action");i=h?Ro(h,e):null,t=r.getAttribute("method")||ed,s=X0(r.getAttribute("enctype"))||td,o=new FormData(r)}else if(n_(r)||a_(r)&&(r.type==="submit"||r.type==="image")){let h=r.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=r.getAttribute("formaction")||h.getAttribute("action");if(i=f?Ro(f,e):null,t=r.getAttribute("formmethod")||h.getAttribute("method")||ed,s=X0(r.getAttribute("formenctype"))||X0(h.getAttribute("enctype"))||td,o=new FormData(h,r),!o_()){let{name:d,type:v,value:_}=r;if(v==="image"){let N=d?`${d}.`:"";o.append(`${N}x`,"0"),o.append(`${N}y`,"0")}else d&&o.append(d,_)}}else{if(Nd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ed,i=null,s=td,c=r}return o&&s==="text/plain"&&(c=o,o=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function pm(r,e){if(r===!1||r===null||typeof r=="undefined")throw new Error(e)}function u_(r,e,t){let i=typeof r=="string"?new URL(r,typeof window=="undefined"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Ro(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}function h_(r,e){return de(this,null,function*(){if(r.id in e)return e[r.id];try{let t=yield import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}})}function f_(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}function d_(r,e,t){return de(this,null,function*(){let i=yield Promise.all(r.map(s=>de(null,null,function*(){let o=e.routes[s.route.id];if(o){let c=yield h_(o,t);return c.links?c.links():[]}return[]})));return v_(i.flat(1).filter(f_).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?kt(lt({},s),{rel:"prefetch",as:"style"}):kt(lt({},s),{rel:"prefetch"})))})}function f2(r,e,t,i,s,o){let c=(f,d)=>t[d]?f.route.id!==t[d].route.id:!0,h=(f,d)=>{var v;return t[d].pathname!==f.pathname||((v=t[d].route.path)==null?void 0:v.endsWith("*"))&&t[d].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,d)=>c(f,d)||h(f,d)):o==="data"?e.filter((f,d)=>{var _;let v=i.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(c(f,d)||h(f,d))return!0;if(f.route.shouldRevalidate){let N=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(r,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof N=="boolean")return N}return!0}):[]}function p_(r,e,{includeHydrateFallback:t}={}){return m_(r.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function m_(r){return[...new Set(r)]}function g_(r){let e={},t=Object.keys(r).sort();for(let i of t)e[i]=r[i];return e}function v_(r,e){let t=new Set;return new Set(e),r.reduce((i,s)=>{let o=JSON.stringify(g_(s));return t.has(o)||(t.add(o),i.push({key:o,link:s})),i},[])}function j5(){let r=oe.useContext(Tu);return pm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function y_(){let r=oe.useContext(_d);return pm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var mm=oe.createContext(void 0);mm.displayName="FrameworkContext";function E5(){let r=oe.useContext(mm);return pm(r,"You must render this element inside a <HydratedRouter> element"),r}function b_(r,e){let t=oe.useContext(mm),[i,s]=oe.useState(!1),[o,c]=oe.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:d,onMouseLeave:v,onTouchStart:_}=e,N=oe.useRef(null);oe.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let k=T=>{T.forEach(U=>{c(U.isIntersecting)})},L=new IntersectionObserver(k,{threshold:.5});return N.current&&L.observe(N.current),()=>{L.disconnect()}}},[r]),oe.useEffect(()=>{if(i){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[i]);let w=()=>{s(!0)},E=()=>{s(!1),c(!1)};return t?r!=="intent"?[o,N,{}]:[o,N,{onFocus:yh(h,w),onBlur:yh(f,E),onMouseEnter:yh(d,w),onMouseLeave:yh(v,E),onTouchStart:yh(_,w)}]:[!1,N,{}]}function yh(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function w_(t){var i=t,{page:r}=i,e=Ui(i,["page"]);let{router:s}=j5(),o=oe.useMemo(()=>g5(s.routes,r,s.basename),[s.routes,r,s.basename]);return o?oe.createElement(__,lt({page:r,matches:o},e)):null}function x_(r){let{manifest:e,routeModules:t}=E5(),[i,s]=oe.useState([]);return oe.useEffect(()=>{let o=!1;return d_(r,e,t).then(c=>{o||s(c)}),()=>{o=!0}},[r,e,t]),i}function __(i){var s=i,{page:r,matches:e}=s,t=Ui(s,["page","matches"]);let o=mc(),{manifest:c,routeModules:h}=E5(),{basename:f}=j5(),{loaderData:d,matches:v}=y_(),_=oe.useMemo(()=>f2(r,e,v,c,o,"data"),[r,e,v,c,o]),N=oe.useMemo(()=>f2(r,e,v,c,o,"assets"),[r,e,v,c,o]),w=oe.useMemo(()=>{if(r===o.pathname+o.search+o.hash)return[];let L=new Set,T=!1;if(e.forEach(O=>{var Y;let B=c.routes[O.route.id];!B||!B.hasLoader||(!_.some(ie=>ie.route.id===O.route.id)&&O.route.id in d&&((Y=h[O.route.id])!=null&&Y.shouldRevalidate)||B.hasClientLoader?T=!0:L.add(O.route.id))}),L.size===0)return[];let U=u_(r,f,"data");return T&&L.size>0&&U.searchParams.set("_routes",e.filter(O=>L.has(O.route.id)).map(O=>O.route.id).join(",")),[U.pathname+U.search]},[f,d,o,c,_,e,r,h]),E=oe.useMemo(()=>p_(N,c),[N,c]),k=x_(N);return oe.createElement(oe.Fragment,null,w.map(L=>oe.createElement("link",lt({key:L,rel:"prefetch",as:"fetch",href:L},t))),E.map(L=>oe.createElement("link",lt({key:L,rel:"modulepreload",href:L},t))),k.map(({key:L,link:T})=>oe.createElement("link",lt({key:L,nonce:t.nonce},T))))}function S_(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var C5=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{C5&&(window.__reactRouterVersion="7.9.6")}catch(r){}function N_({basename:r,children:e,window:t}){let i=oe.useRef();i.current==null&&(i.current=hx({window:t,v5Compat:!0}));let s=i.current,[o,c]=oe.useState({action:s.action,location:s.location}),h=oe.useCallback(f=>{oe.startTransition(()=>c(f))},[c]);return oe.useLayoutEffect(()=>s.listen(h),[s,h]),oe.createElement(t_,{basename:r,children:e,location:o.location,navigationType:o.action,navigator:s})}var L5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,k5=oe.forwardRef(function(E,w){var k=E,{onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:o,replace:c,state:h,target:f,to:d,preventScrollReset:v,viewTransition:_}=k,N=Ui(k,["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"]);let{basename:L}=oe.useContext(Ws),T=typeof d=="string"&&L5.test(d),U,O=!1;if(typeof d=="string"&&T&&(U=d,C5))try{let R=new URL(window.location.href),$=d.startsWith("//")?new URL(R.protocol+d):new URL(d),se=Ro($.pathname,L);$.origin===R.origin&&se!=null?d=se+$.search+$.hash:O=!0}catch(R){bs(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=zx(d,{relative:s}),[Y,ie,te]=b_(i,N),X=C_(d,{replace:c,state:h,target:f,preventScrollReset:v,relative:s,viewTransition:_});function H(R){e&&e(R),R.defaultPrevented||X(R)}let pe=oe.createElement("a",kt(lt(lt({},N),te),{href:U||B,onClick:O||o?e:H,ref:S_(w,ie),target:f,"data-discover":!T&&t==="render"?"true":void 0}));return Y&&!T?oe.createElement(oe.Fragment,null,pe,oe.createElement(w_,{page:B})):pe});k5.displayName="Link";var A_=oe.forwardRef(function(_,v){var N=_,{"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:o,to:c,viewTransition:h,children:f}=N,d=Ui(N,["aria-current","caseSensitive","className","end","style","to","viewTransition","children"]);let w=Uh(c,{relative:d.relative}),E=mc(),k=oe.useContext(_d),{navigator:L,basename:T}=oe.useContext(Ws),U=k!=null&&R_(w)&&h===!0,O=L.encodeLocation?L.encodeLocation(w).pathname:w.pathname,B=E.pathname,Y=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;t||(B=B.toLowerCase(),Y=Y?Y.toLowerCase():null,O=O.toLowerCase()),Y&&T&&(Y=Ro(Y,T)||Y);const ie=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let te=B===O||!s&&B.startsWith(O)&&B.charAt(ie)==="/",X=Y!=null&&(Y===O||!s&&Y.startsWith(O)&&Y.charAt(O.length)==="/"),H={isActive:te,isPending:X,isTransitioning:U},pe=te?e:void 0,R;typeof i=="function"?R=i(H):R=[i,te?"active":null,X?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let $=typeof o=="function"?o(H):o;return oe.createElement(k5,kt(lt({},d),{"aria-current":pe,className:R,ref:v,style:$,to:c,viewTransition:h}),typeof f=="function"?f(H):f)});A_.displayName="NavLink";var j_=oe.forwardRef((E,w)=>{var k=E,{discover:r="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:o,method:c=ed,action:h,onSubmit:f,relative:d,preventScrollReset:v,viewTransition:_}=k,N=Ui(k,["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"]);let L=T_(),T=O_(h,{relative:d}),U=c.toLowerCase()==="get"?"get":"post",O=typeof h=="string"&&L5.test(h),B=Y=>{if(f&&f(Y),Y.defaultPrevented)return;Y.preventDefault();let ie=Y.nativeEvent.submitter,te=(ie==null?void 0:ie.getAttribute("formmethod"))||c;L(ie||Y.currentTarget,{fetcherKey:e,method:te,navigate:t,replace:s,state:o,relative:d,preventScrollReset:v,viewTransition:_})};return oe.createElement("form",kt(lt({ref:w,method:U,action:T,onSubmit:i?f:B},N),{"data-discover":!O&&r==="render"?"true":void 0}))});j_.displayName="Form";function E_(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T5(r){let e=oe.useContext(Tu);return Vr(e,E_(r)),e}function C_(r,{target:e,replace:t,state:i,preventScrollReset:s,relative:o,viewTransition:c}={}){let h=Ix(),f=mc(),d=Uh(r,{relative:o});return oe.useCallback(v=>{if(s_(v,e)){v.preventDefault();let _=t!==void 0?t:Ch(f)===Ch(d);h(r,{replace:_,state:i,preventScrollReset:s,relative:o,viewTransition:c})}},[f,h,d,t,i,e,r,s,o,c])}var L_=0,k_=()=>`__${String(++L_)}__`;function T_(){let{router:r}=T5("useSubmit"),{basename:e}=oe.useContext(Ws),t=Xx();return oe.useCallback((o,...c)=>de(null,[o,...c],function*(i,s={}){let{action:h,method:f,encType:d,formData:v,body:_}=c_(i,e);if(s.navigate===!1){let N=s.fetcherKey||k_();yield r.fetch(N,t,s.action||h,{preventScrollReset:s.preventScrollReset,formData:v,body:_,formMethod:s.method||f,formEncType:s.encType||d,flushSync:s.flushSync})}else yield r.navigate(s.action||h,{preventScrollReset:s.preventScrollReset,formData:v,body:_,formMethod:s.method||f,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})}),[r,e,t])}function O_(r,{relative:e}={}){let{basename:t}=oe.useContext(Ws),i=oe.useContext(Po);Vr(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o=lt({},Uh(r||".",{relative:e})),c=mc();if(r==null){o.search=c.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(v=>v==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let v=h.toString();o.search=v?`?${v}`:""}}return(!r||r===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Oo([t,o.pathname])),Ch(o)}function R_(r,{relative:e}={}){let t=oe.useContext(_5);Vr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=T5("useViewTransitionState"),s=Uh(r,{relative:e});if(!t.isTransitioning)return!1;let o=Ro(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Ro(t.nextLocation.pathname,i)||t.nextLocation.pathname;return ud(s.pathname,c)!=null||ud(s.pathname,o)!=null}var Pp=function(r,e){return Pp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])},Pp(r,e)};function O5(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Pp(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var hd=function(){return hd=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},hd.apply(this,arguments)};function Ou(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(r);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(r,i[s])&&(t[i[s]]=r[i[s]]);return t}function R5(r,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var h=r.length-1;h>=0;h--)(c=r[h])&&(o=(s<3?c(o):s>3?c(e,t,o):c(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o}function D5(r,e){return function(t,i){e(t,i,r)}}function P5(r,e,t,i,s,o){function c(T){if(T!==void 0&&typeof T!="function")throw new TypeError("Function expected");return T}for(var h=i.kind,f=h==="getter"?"get":h==="setter"?"set":"value",d=!e&&r?i.static?r:r.prototype:null,v=e||(d?Object.getOwnPropertyDescriptor(d,i.name):{}),_,N=!1,w=t.length-1;w>=0;w--){var E={};for(var k in i)E[k]=k==="access"?{}:i[k];for(var k in i.access)E.access[k]=i.access[k];E.addInitializer=function(T){if(N)throw new TypeError("Cannot add initializers after decoration has completed");o.push(c(T||null))};var L=(0,t[w])(h==="accessor"?{get:v.get,set:v.set}:v[f],E);if(h==="accessor"){if(L===void 0)continue;if(L===null||typeof L!="object")throw new TypeError("Object expected");(_=c(L.get))&&(v.get=_),(_=c(L.set))&&(v.set=_),(_=c(L.init))&&s.unshift(_)}else(_=c(L))&&(h==="field"?s.unshift(_):v[f]=_)}d&&Object.defineProperty(d,i.name,v),N=!0}function M5(r,e,t){for(var i=arguments.length>2,s=0;s<e.length;s++)t=i?e[s].call(r,t):e[s].call(r);return i?t:void 0}function B5(r){return typeof r=="symbol"?r:"".concat(r)}function U5(r,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(r,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function z5(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function ht(r,e,t,i){function s(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function h(v){try{d(i.next(v))}catch(_){c(_)}}function f(v){try{d(i.throw(v))}catch(_){c(_)}}function d(v){v.done?o(v.value):s(v.value).then(h,f)}d((i=i.apply(r,e||[])).next())})}function I5(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,s,o,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=h(0),c.throw=h(1),c.return=h(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(d){return function(v){return f([d,v])}}function f(d){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,d[0]&&(t=0)),t;)try{if(i=1,s&&(o=d[0]&2?s.return:d[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,d[1])).done)return o;switch(s=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,s=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){t.label=d[1];break}if(d[0]===6&&t.label<o[1]){t.label=o[1],o=d;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(d);break}o[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(r,t)}catch(v){d=[6,v],s=0}finally{i=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var Ad=Object.create?(function(r,e,t,i){i===void 0&&(i=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,i,s)}):(function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]});function q5(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ad(e,r,t)}function fd(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function gm(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),s,o=[],c;try{for(;(e===void 0||e-- >0)&&!(s=i.next()).done;)o.push(s.value)}catch(h){c={error:h}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return o}function F5(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(gm(arguments[e]));return r}function H5(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var i=Array(r),s=0,e=0;e<t;e++)for(var o=arguments[e],c=0,h=o.length;c<h;c++,s++)i[s]=o[c];return i}function $5(r,e,t){if(t||arguments.length===2)for(var i=0,s=e.length,o;i<s;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return r.concat(o||Array.prototype.slice.call(e))}function Lu(r){return this instanceof Lu?(this.v=r,this):new Lu(r)}function V5(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(r,e||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),s[Symbol.asyncIterator]=function(){return this},s;function c(w){return function(E){return Promise.resolve(E).then(w,_)}}function h(w,E){i[w]&&(s[w]=function(k){return new Promise(function(L,T){o.push([w,k,L,T])>1||f(w,k)})},E&&(s[w]=E(s[w])))}function f(w,E){try{d(i[w](E))}catch(k){N(o[0][3],k)}}function d(w){w.value instanceof Lu?Promise.resolve(w.value.v).then(v,_):N(o[0][2],w)}function v(w){f("next",w)}function _(w){f("throw",w)}function N(w,E){w(E),o.shift(),o.length&&f(o[0][0],o[0][1])}}function G5(r){var e,t;return e={},i("next"),i("throw",function(s){throw s}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(s,o){e[s]=r[s]?function(c){return(t=!t)?{value:Lu(r[s](c)),done:!1}:o?o(c):c}:o}}function Y5(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof fd=="function"?fd(r):r[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=r[o]&&function(c){return new Promise(function(h,f){c=r[o](c),s(h,f,c.done,c.value)})}}function s(o,c,h,f){Promise.resolve(f).then(function(d){o({value:d,done:h})},c)}}function W5(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}var D_=Object.create?(function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}):function(r,e){r.default=e},Mp=function(r){return Mp=Object.getOwnPropertyNames||function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[t.length]=i);return t},Mp(r)};function K5(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t=Mp(r),i=0;i<t.length;i++)t[i]!=="default"&&Ad(e,r,t[i]);return D_(e,r),e}function J5(r){return r&&r.__esModule?r:{default:r}}function X5(r,e,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(r):i?i.value:e.get(r)}function Z5(r,e,t,i,s){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t}function Q5(r,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?e===r:r.has(e)}function ey(r,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,s;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],t&&(s=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");s&&(i=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),r.stack.push({value:e,dispose:i,async:t})}else t&&r.stack.push({async:!0});return e}var P_=typeof SuppressedError=="function"?SuppressedError:function(r,e,t){var i=new Error(t);return i.name="SuppressedError",i.error=r,i.suppressed=e,i};function ty(r){function e(o){r.error=r.hasError?new P_(o,r.error,"An error was suppressed during disposal."):o,r.hasError=!0}var t,i=0;function s(){for(;t=r.stack.pop();)try{if(!t.async&&i===1)return i=0,r.stack.push(t),Promise.resolve().then(s);if(t.dispose){var o=t.dispose.call(t.value);if(t.async)return i|=2,Promise.resolve(o).then(s,function(c){return e(c),s()})}else i|=1}catch(c){e(c)}if(i===1)return r.hasError?Promise.reject(r.error):Promise.resolve();if(r.hasError)throw r.error}return s()}function ny(r,e){return typeof r=="string"&&/^\.\.?\//.test(r)?r.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,i,s,o,c){return i?e?".jsx":".js":s&&(!o||!c)?t:s+o+"."+c.toLowerCase()+"js"}):r}const M_={__extends:O5,__assign:hd,__rest:Ou,__decorate:R5,__param:D5,__esDecorate:P5,__runInitializers:M5,__propKey:B5,__setFunctionName:U5,__metadata:z5,__awaiter:ht,__generator:I5,__createBinding:Ad,__exportStar:q5,__values:fd,__read:gm,__spread:F5,__spreadArrays:H5,__spreadArray:$5,__await:Lu,__asyncGenerator:V5,__asyncDelegator:G5,__asyncValues:Y5,__makeTemplateObject:W5,__importStar:K5,__importDefault:J5,__classPrivateFieldGet:X5,__classPrivateFieldSet:Z5,__classPrivateFieldIn:Q5,__addDisposableResource:ey,__disposeResources:ty,__rewriteRelativeImportExtension:ny},B_=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:ey,get __assign(){return hd},__asyncDelegator:G5,__asyncGenerator:V5,__asyncValues:Y5,__await:Lu,__awaiter:ht,__classPrivateFieldGet:X5,__classPrivateFieldIn:Q5,__classPrivateFieldSet:Z5,__createBinding:Ad,__decorate:R5,__disposeResources:ty,__esDecorate:P5,__exportStar:q5,__extends:O5,__generator:I5,__importDefault:J5,__importStar:K5,__makeTemplateObject:W5,__metadata:z5,__param:D5,__propKey:B5,__read:gm,__rest:Ou,__rewriteRelativeImportExtension:ny,__runInitializers:M5,__setFunctionName:U5,__spread:F5,__spreadArray:$5,__spreadArrays:H5,__values:fd,default:M_},Symbol.toStringTag,{value:"Module"})),U_=r=>r?(...e)=>r(...e):(...e)=>fetch(...e);class vm extends Error{constructor(e,t="FunctionsError",i){super(e),this.name=t,this.context=i}}class d2 extends vm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class p2 extends vm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class m2 extends vm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Bp;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Bp||(Bp={}));class z_{constructor(e,{headers:t={},customFetch:i,region:s=Bp.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=U_(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ht(this,arguments,void 0,function*(t,i={}){var s;try{const{headers:o,method:c,body:h,signal:f}=i;let d={},{region:v}=i;v||(v=this.region);const _=new URL(`${this.url}/${t}`);v&&v!=="any"&&(d["x-region"]=v,_.searchParams.set("forceFunctionRegion",v));let N;h&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob!="undefined"&&h instanceof Blob||h instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",N=h):typeof h=="string"?(d["Content-Type"]="text/plain",N=h):typeof FormData!="undefined"&&h instanceof FormData?N=h:(d["Content-Type"]="application/json",N=JSON.stringify(h)):N=h;const w=yield this.fetch(_.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),o),body:N,signal:f}).catch(T=>{throw T.name==="AbortError"?T:new d2(T)}),E=w.headers.get("x-relay-error");if(E&&E==="true")throw new p2(w);if(!w.ok)throw new m2(w);let k=((s=w.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),L;return k==="application/json"?L=yield w.json():k==="application/octet-stream"||k==="application/pdf"?L=yield w.blob():k==="text/event-stream"?L=w:k==="multipart/form-data"?L=yield w.formData():L=yield w.text(),{data:L,error:null,response:w}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new d2(o)}:{data:null,error:o,response:o instanceof m2||o instanceof p2?o.context:void 0}}})}}var pa={};const Ru=Qw(B_);var Mf={},Bf={},Uf={},zf={},If={},qf={},g2;function ry(){if(g2)return qf;g2=1,Object.defineProperty(qf,"__esModule",{value:!0});class r extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return qf.default=r,qf}var v2;function ay(){if(v2)return If;v2=1,Object.defineProperty(If,"__esModule",{value:!0});const e=Ru.__importDefault(ry());class t{constructor(s){var o,c;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(o=s.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=s.signal,this.isMaybeSingle=(c=s.isMaybeSingle)!==null&&c!==void 0?c:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=new Headers(this.headers),this.headers.set(s,o),this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let h=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(f=>de(this,null,function*(){var d,v,_,N;let w=null,E=null,k=null,L=f.status,T=f.statusText;if(f.ok){if(this.method!=="HEAD"){const Y=yield f.text();Y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?E=Y:E=JSON.parse(Y))}const O=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),B=(_=f.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");O&&B&&B.length>1&&(k=parseInt(B[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(w={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,k=null,L=406,T="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const O=yield f.text();try{w=JSON.parse(O),Array.isArray(w)&&f.status===404&&(E=[],w=null,L=200,T="OK")}catch(B){f.status===404&&O===""?(L=204,T="No Content"):w={message:O}}if(w&&this.isMaybeSingle&&(!((N=w==null?void 0:w.details)===null||N===void 0)&&N.includes("0 rows"))&&(w=null,L=200,T="OK"),w&&this.shouldThrowOnError)throw new e.default(w)}return{error:w,data:E,count:k,status:L,statusText:T}}));return this.shouldThrowOnError||(h=h.catch(f=>{var d,v,_;return{error:{message:`${(d=f==null?void 0:f.name)!==null&&d!==void 0?d:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(v=f==null?void 0:f.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(_=f==null?void 0:f.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),h.then(s,o)}returns(){return this}overrideTypes(){return this}}return If.default=t,If}var y2;function iy(){if(y2)return zf;y2=1,Object.defineProperty(zf,"__esModule",{value:!0});const e=Ru.__importDefault(ay());class t extends e.default{select(s){let o=!1;const c=(s!=null?s:"*").split("").map(h=>/\s/.test(h)&&!o?"":(h==='"'&&(o=!o),h)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:o=!0,nullsFirst:c,foreignTable:h,referencedTable:f=h}={}){const d=f?`${f}.order`:"order",v=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${v?`${v},`:""}${s}.${o?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:c=o}={}){const h=typeof c=="undefined"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${s}`),this}range(s,o,{foreignTable:c,referencedTable:h=c}={}){const f=typeof h=="undefined"?"offset":`${h}.offset`,d=typeof h=="undefined"?"limit":`${h}.limit`;return this.url.searchParams.set(f,`${s}`),this.url.searchParams.set(d,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:o=!1,settings:c=!1,buffers:h=!1,wal:f=!1,format:d="text"}={}){var v;const _=[s?"analyze":null,o?"verbose":null,c?"settings":null,h?"buffers":null,f?"wal":null].filter(Boolean).join("|"),N=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${N}"; options=${_};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return zf.default=t,zf}var b2;function ym(){if(b2)return Uf;b2=1,Object.defineProperty(Uf,"__esModule",{value:!0});const e=Ru.__importDefault(iy()),t=new RegExp("[,()]");class i extends e.default{eq(o,c){return this.url.searchParams.append(o,`eq.${c}`),this}neq(o,c){return this.url.searchParams.append(o,`neq.${c}`),this}gt(o,c){return this.url.searchParams.append(o,`gt.${c}`),this}gte(o,c){return this.url.searchParams.append(o,`gte.${c}`),this}lt(o,c){return this.url.searchParams.append(o,`lt.${c}`),this}lte(o,c){return this.url.searchParams.append(o,`lte.${c}`),this}like(o,c){return this.url.searchParams.append(o,`like.${c}`),this}likeAllOf(o,c){return this.url.searchParams.append(o,`like(all).{${c.join(",")}}`),this}likeAnyOf(o,c){return this.url.searchParams.append(o,`like(any).{${c.join(",")}}`),this}ilike(o,c){return this.url.searchParams.append(o,`ilike.${c}`),this}ilikeAllOf(o,c){return this.url.searchParams.append(o,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(o,c){return this.url.searchParams.append(o,`ilike(any).{${c.join(",")}}`),this}is(o,c){return this.url.searchParams.append(o,`is.${c}`),this}in(o,c){const h=Array.from(new Set(c)).map(f=>typeof f=="string"&&t.test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(o,`in.(${h})`),this}contains(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cs.{${c.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(c)}`),this}containedBy(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cd.{${c.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(c)}`),this}rangeGt(o,c){return this.url.searchParams.append(o,`sr.${c}`),this}rangeGte(o,c){return this.url.searchParams.append(o,`nxl.${c}`),this}rangeLt(o,c){return this.url.searchParams.append(o,`sl.${c}`),this}rangeLte(o,c){return this.url.searchParams.append(o,`nxr.${c}`),this}rangeAdjacent(o,c){return this.url.searchParams.append(o,`adj.${c}`),this}overlaps(o,c){return typeof c=="string"?this.url.searchParams.append(o,`ov.${c}`):this.url.searchParams.append(o,`ov.{${c.join(",")}}`),this}textSearch(o,c,{config:h,type:f}={}){let d="";f==="plain"?d="pl":f==="phrase"?d="ph":f==="websearch"&&(d="w");const v=h===void 0?"":`(${h})`;return this.url.searchParams.append(o,`${d}fts${v}.${c}`),this}match(o){return Object.entries(o).forEach(([c,h])=>{this.url.searchParams.append(c,`eq.${h}`)}),this}not(o,c,h){return this.url.searchParams.append(o,`not.${c}.${h}`),this}or(o,{foreignTable:c,referencedTable:h=c}={}){const f=h?`${h}.or`:"or";return this.url.searchParams.append(f,`(${o})`),this}filter(o,c,h){return this.url.searchParams.append(o,`${c}.${h}`),this}}return Uf.default=i,Uf}var w2;function sy(){if(w2)return Bf;w2=1,Object.defineProperty(Bf,"__esModule",{value:!0});const e=Ru.__importDefault(ym());class t{constructor(s,{headers:o={},schema:c,fetch:h}){this.url=s,this.headers=new Headers(o),this.schema=c,this.fetch=h}select(s,o){const{head:c=!1,count:h}=o!=null?o:{},f=c?"HEAD":"GET";let d=!1;const v=(s!=null?s:"*").split("").map(_=>/\s/.test(_)&&!d?"":(_==='"'&&(d=!d),_)).join("");return this.url.searchParams.set("select",v),h&&this.headers.append("Prefer",`count=${h}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:o,defaultToNull:c=!0}={}){var h;const f="POST";if(o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const d=s.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(d.length>0){const v=[...new Set(d)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(s,{onConflict:o,ignoreDuplicates:c=!1,count:h,defaultToNull:f=!0}={}){var d;const v="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),h&&this.headers.append("Prefer",`count=${h}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const _=s.reduce((N,w)=>N.concat(Object.keys(w)),[]);if(_.length>0){const N=[...new Set(_)].map(w=>`"${w}"`);this.url.searchParams.set("columns",N.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(s,{count:o}={}){var c;const h="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:s}={}){var o;const c="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Bf.default=t,Bf}var x2;function I_(){if(x2)return Mf;x2=1,Object.defineProperty(Mf,"__esModule",{value:!0});const r=Ru,e=r.__importDefault(sy()),t=r.__importDefault(ym());class i{constructor(o,{headers:c={},schema:h,fetch:f}={}){this.url=o,this.headers=new Headers(c),this.schemaName=h,this.fetch=f}from(o){const c=new URL(`${this.url}/${o}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,c={},{head:h=!1,get:f=!1,count:d}={}){var v;let _;const N=new URL(`${this.url}/rpc/${o}`);let w;h||f?(_=h?"HEAD":"GET",Object.entries(c).filter(([k,L])=>L!==void 0).map(([k,L])=>[k,Array.isArray(L)?`{${L.join(",")}}`:`${L}`]).forEach(([k,L])=>{N.searchParams.append(k,L)})):(_="POST",w=c);const E=new Headers(this.headers);return d&&E.set("Prefer",`count=${d}`),new t.default({method:_,url:N,headers:E,schema:this.schemaName,body:w,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return Mf.default=i,Mf}var _2;function q_(){if(_2)return pa;_2=1,Object.defineProperty(pa,"__esModule",{value:!0}),pa.PostgrestError=pa.PostgrestBuilder=pa.PostgrestTransformBuilder=pa.PostgrestFilterBuilder=pa.PostgrestQueryBuilder=pa.PostgrestClient=void 0;const r=Ru,e=r.__importDefault(I_());pa.PostgrestClient=e.default;const t=r.__importDefault(sy());pa.PostgrestQueryBuilder=t.default;const i=r.__importDefault(ym());pa.PostgrestFilterBuilder=i.default;const s=r.__importDefault(iy());pa.PostgrestTransformBuilder=s.default;const o=r.__importDefault(ay());pa.PostgrestBuilder=o.default;const c=r.__importDefault(ry());return pa.PostgrestError=c.default,pa.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:o.default,PostgrestError:c.default},pa}var oy=q_();const ly=cm(oy),F_=Zw({__proto__:null,default:ly},[oy]),{PostgrestClient:H_,PostgrestQueryBuilder:FA,PostgrestFilterBuilder:HA,PostgrestTransformBuilder:$A,PostgrestBuilder:VA,PostgrestError:GA}=ly||F_;class $_{static detectEnvironment(){var e;if(typeof WebSocket!="undefined")return{type:"native",constructor:WebSocket};if(typeof globalThis!="undefined"&&typeof globalThis.WebSocket!="undefined")return{type:"native",constructor:globalThis.WebSocket};if(typeof global!="undefined"&&typeof global.WebSocket!="undefined")return{type:"native",constructor:global.WebSocket};if(typeof globalThis!="undefined"&&typeof globalThis.WebSocketPair!="undefined"&&typeof globalThis.WebSocket=="undefined")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis!="undefined"&&globalThis.EdgeRuntime||typeof navigator!="undefined"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process!="undefined"){const t=process.versions;if(t&&t.node){const i=t.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket!="undefined"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const i=this.getWebSocketConstructor();return new i(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch(e){return!1}}}const V_="2.80.0",G_=`realtime-js/${V_}`,Y_="1.0.0",Up=1e4,W_=1e3,K_=100;var _h;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(_h||(_h={}));var $r;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})($r||($r={}));var vs;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(vs||(vs={}));var zp;(function(r){r.websocket="websocket"})(zp||(zp={}));var ic;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(ic||(ic={}));class J_{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,t,i)}_decodeBroadcast(e,t,i){const s=t.getUint8(1),o=t.getUint8(2);let c=this.HEADER_LENGTH+2;const h=i.decode(e.slice(c,c+s));c=c+s;const f=i.decode(e.slice(c,c+o));c=c+o;const d=JSON.parse(i.decode(e.slice(c,e.byteLength)));return{ref:null,topic:h,event:f,payload:d}}}class cy{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Fn;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Fn||(Fn={}));const S2=(r,e,t={})=>{var i;const s=(i=t.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((o,c)=>(o[c]=X_(c,r,e,s),o),{}):{}},X_=(r,e,t,i)=>{const s=e.find(h=>h.name===r),o=s==null?void 0:s.type,c=t[r];return o&&!i.includes(o)?uy(o,c):Ip(c)},uy=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return t3(e,t)}switch(r){case Fn.bool:return Z_(e);case Fn.float4:case Fn.float8:case Fn.int2:case Fn.int4:case Fn.int8:case Fn.numeric:case Fn.oid:return Q_(e);case Fn.json:case Fn.jsonb:return e3(e);case Fn.timestamp:return n3(e);case Fn.abstime:case Fn.date:case Fn.daterange:case Fn.int4range:case Fn.int8range:case Fn.money:case Fn.reltime:case Fn.text:case Fn.time:case Fn.timestamptz:case Fn.timetz:case Fn.tsrange:case Fn.tstzrange:return Ip(e);default:return Ip(e)}},Ip=r=>r,Z_=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Q_=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},e3=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},t3=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,i=r[t];if(r[0]==="{"&&i==="}"){let o;const c=r.slice(1,t);try{o=JSON.parse("["+c+"]")}catch(h){o=c?c.split(","):[]}return o.map(h=>uy(e,h))}return r},n3=r=>typeof r=="string"?r.replace(" ","T"):r,hy=r=>{const e=new URL(r);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Z0{constructor(e,t,i={},s=Up){this.channel=e,this.event=t,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var N2;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(N2||(N2={}));class Sh{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:o,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Sh.syncState(this.state,s,o,c),this.pendingDiffs.forEach(f=>{this.state=Sh.syncDiff(this.state,f,o,c)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},s=>{const{onJoin:o,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Sh.syncDiff(this.state,s,o,c),h())}),this.onJoin((s,o,c)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:c})}),this.onLeave((s,o,c)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,s){const o=this.cloneDeep(e),c=this.transformState(t),h={},f={};return this.map(o,(d,v)=>{c[d]||(f[d]=v)}),this.map(c,(d,v)=>{const _=o[d];if(_){const N=v.map(L=>L.presence_ref),w=_.map(L=>L.presence_ref),E=v.filter(L=>w.indexOf(L.presence_ref)<0),k=_.filter(L=>N.indexOf(L.presence_ref)<0);E.length>0&&(h[d]=E),k.length>0&&(f[d]=k)}else h[d]=v}),this.syncDiff(o,{joins:h,leaves:f},i,s)}static syncDiff(e,t,i,s){const{joins:o,leaves:c}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(o,(h,f)=>{var d;const v=(d=e[h])!==null&&d!==void 0?d:[];if(e[h]=this.cloneDeep(f),v.length>0){const _=e[h].map(w=>w.presence_ref),N=v.filter(w=>_.indexOf(w.presence_ref)<0);e[h].unshift(...N)}i(h,v,f)}),this.map(c,(h,f)=>{let d=e[h];if(!d)return;const v=f.map(_=>_.presence_ref);d=d.filter(_=>v.indexOf(_.presence_ref)<0),e[h]=d,s(h,d,f),d.length===0&&delete e[h]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,i)=>{const s=e[i];return"metas"in s?t[i]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[i]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var A2;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(A2||(A2={}));var Nh;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Nh||(Nh={}));var Lo;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Lo||(Lo={}));class bm{constructor(e,t={config:{}},i){var s,o;if(this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=$r.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Z0(this,vs.join,this.params,this.timeout),this.rejoinTimer=new cy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=$r.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=$r.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=$r.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=$r.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=$r.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vs.reply,{},(c,h)=>{this._trigger(this._replyEventName(h),c)}),this.presence=new Sh(this),this.broadcastEndpointURL=hy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var i,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==$r.closed){const{config:{broadcast:c,presence:h,private:f}}=this.params,d=(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(w=>w.filter))!==null&&s!==void 0?s:[],v=!!this.bindings[Nh.PRESENCE]&&this.bindings[Nh.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,_={},N={broadcast:c,presence:Object.assign(Object.assign({},h),{enabled:v}),postgres_changes:d,private:f};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(w=>e==null?void 0:e(Lo.CHANNEL_ERROR,w)),this._onClose(()=>e==null?void 0:e(Lo.CLOSED)),this.updateJoinPayload(Object.assign({config:N},_)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",E=>de(this,[E],function*({postgres_changes:w}){var k;if(this.socket.setAuth(),w===void 0){e==null||e(Lo.SUBSCRIBED);return}else{const L=this.bindings.postgres_changes,T=(k=L==null?void 0:L.length)!==null&&k!==void 0?k:0,U=[];for(let O=0;O<T;O++){const B=L[O],{filter:{event:Y,schema:ie,table:te,filter:X}}=B,H=w&&w[O];if(H&&H.event===Y&&H.schema===ie&&H.table===te&&H.filter===X)U.push(Object.assign(Object.assign({},B),{id:H.id}));else{this.unsubscribe(),this.state=$r.errored,e==null||e(Lo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=U,e&&e(Lo.SUBSCRIBED);return}})).receive("error",w=>{this.state=$r.errored,e==null||e(Lo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Lo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(i){return de(this,arguments,function*(e,t={}){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)})}untrack(){return de(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,t,i){return this.state===$r.joined&&e===Nh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,i)}httpSend(s,o){return de(this,arguments,function*(e,t,i={}){var c;const h=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");const f={method:"POST",headers:{Authorization:h,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},d=yield this._fetchWithTimeout(this.broadcastEndpointURL,f,(c=i.timeout)!==null&&c!==void 0?c:this.timeout);if(d.status===202)return{success:!0};let v=d.statusText;try{const _=yield d.json();v=_.error||_.message||v}catch(_){}return Promise.reject(new Error(v))})}send(i){return de(this,arguments,function*(e,t={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:h}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const v=yield this._fetchWithTimeout(this.broadcastEndpointURL,d,(s=t.timeout)!==null&&s!==void 0?s:this.timeout);return yield(o=v.body)===null||o===void 0?void 0:o.cancel(),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,f,d;const v=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(f=(h=this.params)===null||h===void 0?void 0:h.config)===null||f===void 0?void 0:f.broadcast)===null||d===void 0)&&d.ack)&&c("ok"),v.receive("ok",()=>c("ok")),v.receive("error",()=>c("error")),v.receive("timeout",()=>c("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=$r.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vs.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(s=>{i=new Z0(this,vs.leave,{},e),i.receive("ok",()=>{t(),s("ok")}).receive("timeout",()=>{t(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=$r.closed,this.bindings={}}_fetchWithTimeout(e,t,i){return de(this,null,function*(){const s=new AbortController,o=setTimeout(()=>s.abort(),i),c=yield this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(o),c})}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Z0(this,e,t,i);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>K_){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var s,o;const c=e.toLocaleLowerCase(),{close:h,error:f,leave:d,join:v}=vs;if(i&&[h,f,d,v].indexOf(c)>=0&&i!==this._joinRef())return;let N=this._onMessage(c,t,i);if(t&&!N)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(w=>{var E,k,L;return((E=w.filter)===null||E===void 0?void 0:E.event)==="*"||((L=(k=w.filter)===null||k===void 0?void 0:k.event)===null||L===void 0?void 0:L.toLocaleLowerCase())===c}).map(w=>w.callback(N,i)):(o=this.bindings[c])===null||o===void 0||o.filter(w=>{var E,k,L,T,U,O;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in w){const B=w.id,Y=(E=w.filter)===null||E===void 0?void 0:E.event;return B&&((k=t.ids)===null||k===void 0?void 0:k.includes(B))&&(Y==="*"||(Y==null?void 0:Y.toLocaleLowerCase())===((L=t.data)===null||L===void 0?void 0:L.type.toLocaleLowerCase()))}else{const B=(U=(T=w==null?void 0:w.filter)===null||T===void 0?void 0:T.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return B==="*"||B===((O=t==null?void 0:t.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===c}).map(w=>{if(typeof N=="object"&&"ids"in N){const E=N.data,{schema:k,table:L,commit_timestamp:T,type:U,errors:O}=E;N=Object.assign(Object.assign({},{schema:k,table:L,commit_timestamp:T,eventType:U,new:{},old:{},errors:O}),this._getPayloadRecords(E))}w.callback(N,i)})}_isClosed(){return this.state===$r.closed}_isJoined(){return this.state===$r.joined}_isJoining(){return this.state===$r.joining}_isLeaving(){return this.state===$r.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){const s=e.toLocaleLowerCase(),o={type:s,filter:t,callback:i};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,t){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&bm.isEqual(s.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(vs.close,{},e)}_onError(e){this._on(vs.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=$r.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=S2(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=S2(e.columns,e.old_record)),t}}const Q0=()=>{},Ff={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},r3=[1e3,2e3,5e3,1e4],a3=1e4,i3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class s3{constructor(e,t){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Up,this.transport=null,this.heartbeatIntervalMs=Ff.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Q0,this.ref=0,this.reconnectTimer=null,this.logger=Q0,this.conn=null,this.sendBuffer=[],this.serializer=new J_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((i=t==null?void 0:t.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${zp.websocket}`,this.httpEndpoint=hy(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=$_.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Y_}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,t!=null?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(e){return de(this,null,function*(){const t=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return de(this,null,function*(){const e=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case _h.connecting:return ic.Connecting;case _h.open:return ic.Open;case _h.closing:return ic.Closing;default:return ic.Closed}}isConnected(){return this.connectionState()===ic.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const i=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===i);if(s)return s;{const o=new bm(`realtime:${e}`,t,this);return this.channels.push(o),o}}push(e){const{topic:t,event:i,payload:s,ref:o}=e,c=()=>{this.encode(e,h=>{var f;(f=this.conn)===null||f===void 0||f.send(h)})};this.log("push",`${t} ${i} (${o})`,s),this.isConnected()?c():this.sendBuffer.push(c)}setAuth(e=null){return de(this,null,function*(){this._authPromise=this._performAuth(e);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return de(this,null,function*(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(W_,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Ff.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:s,payload:o,ref:c}=t,h=c?`(${c})`:"",f=o.status||"";this.log("receive",`${f} ${i} ${s} ${h}`.trim(),o),this.channels.filter(d=>d._isMember(i)).forEach(d=>d._trigger(s,o,c)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(vs.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const i=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${i}${s}`}_workerObjectUrl(e){let t;if(e)t=e;else{const i=new Blob([i3],{type:"application/javascript"});t=URL.createObjectURL(i)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}_performAuth(e=null){return de(this,null,function*(){let t;e?t=e:this.accessToken?t=yield this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(i=>{const s={access_token:t,version:G_};t&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(vs.access_token,{access_token:t})}))})}_waitForAuthIfNeeded(){return de(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(t)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new cy(()=>de(this,null,function*(){setTimeout(()=>de(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),Ff.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(e){var t,i,s,o,c,h,f,d,v;if(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:Up,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Ff.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(h=e==null?void 0:e.heartbeatCallback)!==null&&h!==void 0?h:Q0,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e==null?void 0:e.reconnectAfterMs)!==null&&f!==void 0?f:(_=>r3[_-1]||a3),this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:((_,N)=>N(JSON.stringify(_))),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window!="undefined"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class wm extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ur(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class o3 extends wm{constructor(e,t,i){super(e),this.name="StorageApiError",this.status=t,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class qp extends wm{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const xm=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),l3=()=>Response,Fp=r=>{if(Array.isArray(r))return r.map(t=>Fp(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,i])=>{const s=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=Fp(i)}),e},c3=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},ep=r=>{var e;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(e=r.error)===null||e===void 0?void 0:e.message)||JSON.stringify(r)},u3=(r,e,t)=>ht(void 0,void 0,void 0,function*(){const i=yield l3();r instanceof i&&!(t!=null&&t.noResolveJson)?r.json().then(s=>{const o=r.status||500,c=(s==null?void 0:s.statusCode)||o+"";e(new o3(ep(s),o,c))}).catch(s=>{e(new qp(ep(s),s))}):e(new qp(ep(r),r))}),h3=(r,e,t,i)=>{const s={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"||!i?s:(c3(i)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(i)):s.body=i,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),t))};function zh(r,e,t,i,s,o){return ht(this,void 0,void 0,function*(){return new Promise((c,h)=>{r(t,h3(e,i,s,o)).then(f=>{if(!f.ok)throw f;return i!=null&&i.noResolveJson?f:f.json()}).then(f=>c(f)).catch(f=>u3(f,h,i))})})}function Lh(r,e,t,i){return ht(this,void 0,void 0,function*(){return zh(r,"GET",e,t,i)})}function gs(r,e,t,i,s){return ht(this,void 0,void 0,function*(){return zh(r,"POST",e,i,s,t)})}function Hp(r,e,t,i,s){return ht(this,void 0,void 0,function*(){return zh(r,"PUT",e,i,s,t)})}function f3(r,e,t,i){return ht(this,void 0,void 0,function*(){return zh(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),i)})}function _m(r,e,t,i,s){return ht(this,void 0,void 0,function*(){return zh(r,"DELETE",e,i,s,t)})}class d3{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return ht(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ur(e))return{data:null,error:e};throw e}})}}var fy;class p3{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[fy]="BlobDownloadBuilder",this.promise=null}asStream(){return new d3(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ht(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ur(e))return{data:null,error:e};throw e}})}}fy=Symbol.toStringTag;const m3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},j2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class g3{constructor(e,t={},i,s){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=i,this.fetch=xm(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,i,s){return ht(this,void 0,void 0,function*(){try{let o;const c=Object.assign(Object.assign({},j2),s);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const f=c.metadata;typeof Blob!="undefined"&&i instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),f&&o.append("metadata",this.encodeMetadata(f)),o.append("",i)):typeof FormData!="undefined"&&i instanceof FormData?(o=i,o.has("cacheControl")||o.append("cacheControl",c.cacheControl),f&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(f))):(o=i,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,f&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(f))),(typeof ReadableStream!="undefined"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!c.duplex&&(c.duplex="half")),s!=null&&s.headers&&(h=Object.assign(Object.assign({},h),s.headers));const d=this._removeEmptyFolders(t),v=this._getFinalPath(d),_=yield(e=="PUT"?Hp:gs)(this.fetch,`${this.url}/object/${v}`,o,Object.assign({headers:h},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:d,id:_.Id,fullPath:_.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ur(o))return{data:null,error:o};throw o}})}upload(e,t,i){return ht(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,i)})}uploadToSignedUrl(e,t,i,s){return ht(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),c=this._getFinalPath(o),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",t);try{let f;const d=Object.assign({upsert:j2.upsert},s),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob!="undefined"&&i instanceof Blob?(f=new FormData,f.append("cacheControl",d.cacheControl),f.append("",i)):typeof FormData!="undefined"&&i instanceof FormData?(f=i,f.append("cacheControl",d.cacheControl)):(f=i,v["cache-control"]=`max-age=${d.cacheControl}`,v["content-type"]=d.contentType);const _=yield Hp(this.fetch,h.toString(),f,{headers:v});return{data:{path:o,fullPath:_.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(ur(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,t){return ht(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const s=Object.assign({},this.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const o=yield gs(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:s}),c=new URL(this.url+o.url),h=c.searchParams.get("token");if(!h)throw new wm("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:h},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ur(i))return{data:null,error:i};throw i}})}update(e,t,i){return ht(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,i)})}move(e,t,i){return ht(this,void 0,void 0,function*(){try{return{data:yield gs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ur(s))return{data:null,error:s};throw s}})}copy(e,t,i){return ht(this,void 0,void 0,function*(){try{return{data:{path:(yield gs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ur(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,i){return ht(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),o=yield gs(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ur(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,i){return ht(this,void 0,void 0,function*(){try{const s=yield gs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:s.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ur(s))return{data:null,error:s};throw s}})}download(e,t){const s=typeof(t==null?void 0:t.transform)!="undefined"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),c=o?`?${o}`:"",h=this._getFinalPath(e),f=()=>Lh(this.fetch,`${this.url}/${s}/${h}${c}`,{headers:this.headers,noResolveJson:!0});return new p3(f,this.shouldThrowOnError)}info(e){return ht(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const i=yield Lh(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Fp(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ur(i))return{data:null,error:i};throw i}})}exists(e){return ht(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield f3(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ur(i)&&i instanceof qp){const s=i.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,t){const i=this._getFinalPath(e),s=[],o=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&s.push(o);const h=typeof(t==null?void 0:t.transform)!="undefined"?"render/image":"object",f=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});f!==""&&s.push(f);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${d}`)}}}remove(e){return ht(this,void 0,void 0,function*(){try{return{data:yield _m(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ur(t))return{data:null,error:t};throw t}})}list(e,t,i){return ht(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},m3),t),{prefix:e||""});return{data:yield gs(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},i),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ur(s))return{data:null,error:s};throw s}})}listV2(e,t){return ht(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield gs(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},t),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ur(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer!="undefined"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const dy="2.80.0",py={"X-Client-Info":`storage-js/${dy}`};class v3{constructor(e,t={},i,s){this.shouldThrowOnError=!1;const o=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},py),t),this.fetch=xm(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ht(this,void 0,void 0,function*(){try{const t=this.listBucketOptionsToQueryString(e);return{data:yield Lh(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ur(t))return{data:null,error:t};throw t}})}getBucket(e){return ht(this,void 0,void 0,function*(){try{return{data:yield Lh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ur(t))return{data:null,error:t};throw t}})}createBucket(e){return ht(this,arguments,void 0,function*(t,i={public:!1}){try{return{data:yield gs(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ur(s))return{data:null,error:s};throw s}})}updateBucket(e,t){return ht(this,void 0,void 0,function*(){try{return{data:yield Hp(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ur(i))return{data:null,error:i};throw i}})}emptyBucket(e){return ht(this,void 0,void 0,function*(){try{return{data:yield gs(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ur(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ht(this,void 0,void 0,function*(){try{return{data:yield _m(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ur(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}}class y3{constructor(e,t={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},py),t),this.fetch=xm(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ht(this,void 0,void 0,function*(){try{return{data:yield gs(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ur(t))return{data:null,error:t};throw t}})}listBuckets(e){return ht(this,void 0,void 0,function*(){try{const t=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&t.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&t.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&t.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&t.set("sortOrder",e.sortOrder),e!=null&&e.search&&t.set("search",e.search);const i=t.toString(),s=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield Lh(this.fetch,s,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ur(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ht(this,void 0,void 0,function*(){try{return{data:yield _m(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ur(t))return{data:null,error:t};throw t}})}}const Sm={"X-Client-Info":`storage-js/${dy}`,"Content-Type":"application/json"};class my extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function mi(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}class tp extends my{constructor(e,t,i){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class b3 extends my{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var E2;(function(r){r.InternalError="InternalError",r.S3VectorConflictException="S3VectorConflictException",r.S3VectorNotFoundException="S3VectorNotFoundException",r.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",r.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",r.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(E2||(E2={}));const Nm=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),w3=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},C2=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),x3=(r,e,t)=>ht(void 0,void 0,void 0,function*(){if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!(t!=null&&t.noResolveJson)){const s=r.status||500,o=r;if(typeof o.json=="function")o.json().then(c=>{const h=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||s+"";e(new tp(C2(c),s,h))}).catch(()=>{const c=s+"",h=o.statusText||`HTTP ${s} error`;e(new tp(h,s,c))});else{const c=s+"",h=o.statusText||`HTTP ${s} error`;e(new tp(h,s,c))}}else e(new b3(C2(r),r))}),_3=(r,e,t,i)=>{const s={method:r,headers:(e==null?void 0:e.headers)||{}};return i?(w3(i)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(i)):s.body=i,Object.assign(Object.assign({},s),t)):s};function S3(r,e,t,i,s,o){return ht(this,void 0,void 0,function*(){return new Promise((c,h)=>{r(t,_3(e,i,s,o)).then(f=>{if(!f.ok)throw f;if(i!=null&&i.noResolveJson)return f;const d=f.headers.get("content-type");return!d||!d.includes("application/json")?{}:f.json()}).then(f=>c(f)).catch(f=>x3(f,h,i))})})}function gi(r,e,t,i,s){return ht(this,void 0,void 0,function*(){return S3(r,"POST",e,i,s,t)})}class N3{constructor(e,t={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sm),t),this.fetch=Nm(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ht(this,void 0,void 0,function*(){try{return{data:(yield gi(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(mi(t))return{data:null,error:t};throw t}})}getIndex(e,t){return ht(this,void 0,void 0,function*(){try{return{data:yield gi(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(mi(i))return{data:null,error:i};throw i}})}listIndexes(e){return ht(this,void 0,void 0,function*(){try{return{data:yield gi(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(mi(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return ht(this,void 0,void 0,function*(){try{return{data:(yield gi(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(mi(i))return{data:null,error:i};throw i}})}}class A3{constructor(e,t={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sm),t),this.fetch=Nm(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ht(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield gi(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(mi(t))return{data:null,error:t};throw t}})}getVectors(e){return ht(this,void 0,void 0,function*(){try{return{data:yield gi(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(mi(t))return{data:null,error:t};throw t}})}listVectors(e){return ht(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield gi(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(mi(t))return{data:null,error:t};throw t}})}queryVectors(e){return ht(this,void 0,void 0,function*(){try{return{data:yield gi(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(mi(t))return{data:null,error:t};throw t}})}deleteVectors(e){return ht(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield gi(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(mi(t))return{data:null,error:t};throw t}})}}class j3{constructor(e,t={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sm),t),this.fetch=Nm(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ht(this,void 0,void 0,function*(){try{return{data:(yield gi(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(mi(t))return{data:null,error:t};throw t}})}getBucket(e){return ht(this,void 0,void 0,function*(){try{return{data:yield gi(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(mi(t))return{data:null,error:t};throw t}})}listBuckets(){return ht(this,arguments,void 0,function*(e={}){try{return{data:yield gi(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(mi(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ht(this,void 0,void 0,function*(){try{return{data:(yield gi(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(mi(t))return{data:null,error:t};throw t}})}}class E3 extends j3{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new C3(this.url,this.headers,e,this.fetch)}}class C3 extends N3{constructor(e,t,i,s){super(e,t,s),this.vectorBucketName=i}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ht(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ht(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ht(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ht(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new L3(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class L3 extends A3{constructor(e,t,i,s,o){super(e,t,o),this.vectorBucketName=i,this.indexName=s}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ht(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ht(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ht(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ht(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ht(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class k3 extends v3{constructor(e,t={},i,s){super(e,t,i,s)}from(e){return new g3(this.url,this.headers,e,this.fetch)}get vectors(){return new E3(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new y3(this.url+"/iceberg",this.headers,this.fetch)}}const T3="2.80.0";let xh="";typeof Deno!="undefined"?xh="deno":typeof document!="undefined"?xh="web":typeof navigator!="undefined"&&navigator.product==="ReactNative"?xh="react-native":xh="node";const O3={"X-Client-Info":`supabase-js-${xh}/${T3}`},R3={headers:O3},D3={schema:"public"},P3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},M3={},B3=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),U3=()=>Headers,z3=(r,e,t)=>{const i=B3(t),s=U3();return(o,c)=>de(null,null,function*(){var h;const f=(h=yield e())!==null&&h!==void 0?h:r;let d=new s(c==null?void 0:c.headers);return d.has("apikey")||d.set("apikey",r),d.has("Authorization")||d.set("Authorization",`Bearer ${f}`),i(o,Object.assign(Object.assign({},c),{headers:d}))})};function I3(r){return r.endsWith("/")?r:r+"/"}function q3(r,e){var t,i;const{db:s,auth:o,realtime:c,global:h}=r,{db:f,auth:d,realtime:v,global:_}=e,N={db:Object.assign(Object.assign({},f),s),auth:Object.assign(Object.assign({},d),o),realtime:Object.assign(Object.assign({},v),c),storage:{},global:Object.assign(Object.assign(Object.assign({},_),h),{headers:Object.assign(Object.assign({},(t=_==null?void 0:_.headers)!==null&&t!==void 0?t:{}),(i=h==null?void 0:h.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>de(null,null,function*(){return""})};return r.accessToken?N.accessToken=r.accessToken:delete N.accessToken,N}function F3(r){const e=r==null?void 0:r.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(I3(e))}catch(t){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const gy="2.80.0",gu=30*1e3,$p=3,np=$p*gu,H3="http://localhost:9999",$3="supabase.auth.token",V3={"X-Client-Info":`gotrue-js/${gy}`},Vp="X-Supabase-Api-Version",vy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},G3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Y3=600*1e3;class kh extends Error{constructor(e,t,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=i}}function yt(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class W3 extends kh{constructor(e,t,i){super(e,t,i),this.name="AuthApiError",this.status=t,this.code=i}}function K3(r){return yt(r)&&r.name==="AuthApiError"}class sc extends kh{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Sl extends kh{constructor(e,t,i,s){super(e,i,s),this.name=t,this.status=i}}class ps extends Sl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function J3(r){return yt(r)&&r.name==="AuthSessionMissingError"}class lu extends Sl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hf extends Sl{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class $f extends Sl{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function X3(r){return yt(r)&&r.name==="AuthImplicitGrantRedirectError"}class L2 extends Sl{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Gp extends Sl{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function rp(r){return yt(r)&&r.name==="AuthRetryableFetchError"}class k2 extends Sl{constructor(e,t,i){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=i}}class Yp extends Sl{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const dd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),T2=` 	
\r=`.split(""),Z3=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<T2.length;e+=1)r[T2[e].charCodeAt(0)]=-2;for(let e=0;e<dd.length;e+=1)r[dd[e].charCodeAt(0)]=e;return r})();function O2(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(dd[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(dd[i]),e.queuedBits-=6}}function yy(r,e,t){const i=Z3[r];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function R2(r){const e=[],t=c=>{e.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=c=>{t4(c,i,t)};for(let c=0;c<r.length;c+=1)yy(r.charCodeAt(c),s,o);return e.join("")}function Q3(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function e4(r,e){for(let t=0;t<r.length;t+=1){let i=r.charCodeAt(t);if(i>55295&&i<=56319){const s=(i-55296)*1024&65535;i=(r.charCodeAt(t+1)-56320&65535|s)+65536,t+=1}Q3(i,e)}}function t4(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let i=1;i<6;i+=1)if((r>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function xu(r){const e=[],t={queue:0,queuedBits:0},i=s=>{e.push(s)};for(let s=0;s<r.length;s+=1)yy(r.charCodeAt(s),t,i);return new Uint8Array(e)}function n4(r){const e=[];return e4(r,t=>e.push(t)),new Uint8Array(e)}function lc(r){const e=[],t={queue:0,queuedBits:0},i=s=>{e.push(s)};return r.forEach(s=>O2(s,t,i)),O2(null,t,i),e.join("")}function r4(r){return Math.round(Date.now()/1e3)+r}function a4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const ba=()=>typeof window!="undefined"&&typeof document!="undefined",tc={tested:!1,writable:!1},by=()=>{if(!ba())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch(e){return!1}if(tc.tested)return tc.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),tc.tested=!0,tc.writable=!0}catch(e){tc.tested=!0,tc.writable=!1}return tc.writable};function i4(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch(i){}return t.searchParams.forEach((i,s)=>{e[s]=i}),e}const wy=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),s4=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",vu=(r,e,t)=>de(null,null,function*(){yield r.setItem(e,JSON.stringify(t))}),nc=(r,e)=>de(null,null,function*(){const t=yield r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch(i){return t}}),gl=(r,e)=>de(null,null,function*(){yield r.removeItem(e)});class jd{constructor(){this.promise=new jd.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}jd.promiseConstructor=Promise;function ap(r){const e=r.split(".");if(e.length!==3)throw new Yp("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!G3.test(e[i]))throw new Yp("JWT not in base64url format");return{header:JSON.parse(R2(e[0])),payload:JSON.parse(R2(e[1])),signature:xu(e[2]),raw:{header:e[0],payload:e[1]}}}function o4(r){return de(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),r)})})}function l4(r,e){return new Promise((i,s)=>{de(null,null,function*(){for(let o=0;o<1/0;o++)try{const c=yield r(o);if(!e(o,null,c)){i(c);return}}catch(c){if(!e(o,c)){s(c);return}}})})}function c4(r){return("0"+r.toString(16)).substr(-2)}function u4(){const e=new Uint32Array(56);if(typeof crypto=="undefined"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=t.length;let s="";for(let o=0;o<56;o++)s+=t.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(e),Array.from(e,c4).join("")}function h4(r){return de(this,null,function*(){const t=new TextEncoder().encode(r),i=yield crypto.subtle.digest("SHA-256",t),s=new Uint8Array(i);return Array.from(s).map(o=>String.fromCharCode(o)).join("")})}function f4(r){return de(this,null,function*(){if(!(typeof crypto!="undefined"&&typeof crypto.subtle!="undefined"&&typeof TextEncoder!="undefined"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=yield h4(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function cu(r,e,t=!1){return de(this,null,function*(){const i=u4();let s=i;t&&(s+="/PASSWORD_RECOVERY"),yield vu(r,`${e}-code-verifier`,s);const o=yield f4(i);return[o,i===o?"plain":"s256"]})}const d4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function p4(r){const e=r.headers.get(Vp);if(!e||!e.match(d4))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch(t){return null}}function m4(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function g4(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const v4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function uu(r){if(!v4.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ip(){const r={};return new Proxy(r,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const i=t.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function y4(r,e){return new Proxy(r,{get:(t,i,s)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,i,s)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,i,s)}})}function D2(r){return JSON.parse(JSON.stringify(r))}const rc=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),b4=[502,503,504];function P2(r){return de(this,null,function*(){var e;if(!s4(r))throw new Gp(rc(r),0);if(b4.includes(r.status))throw new Gp(rc(r),r.status);let t;try{t=yield r.json()}catch(o){throw new sc(rc(o),o)}let i;const s=p4(r);if(s&&s.getTime()>=vy["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?i=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(i=t.error_code),i){if(i==="weak_password")throw new k2(rc(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new ps}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new k2(rc(t),r.status,t.weak_password.reasons);throw new W3(rc(t),r.status||500,i)})}const w4=(r,e,t,i)=>{const s={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),t))};function Ot(r,e,t,i){return de(this,null,function*(){var s;const o=Object.assign({},i==null?void 0:i.headers);o[Vp]||(o[Vp]=vy["2024-01-01"].name),i!=null&&i.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const c=(s=i==null?void 0:i.query)!==null&&s!==void 0?s:{};i!=null&&i.redirectTo&&(c.redirect_to=i.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=yield x4(r,e,t+h,{headers:o,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(f):{data:Object.assign({},f),error:null}})}function x4(r,e,t,i,s,o){return de(this,null,function*(){const c=w4(e,i,s,o);let h;try{h=yield r(t,Object.assign({},c))}catch(f){throw console.error(f),new Gp(rc(f),0)}if(h.ok||(yield P2(h)),i!=null&&i.noResolveJson)return h;try{return yield h.json()}catch(f){yield P2(f)}})}function ms(r){var e;let t=null;N4(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=r4(r.expires_in)));const i=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:i},error:null}}function M2(r){const e=ms(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,i)=>t&&typeof i=="string",!0)&&(e.data.weak_password=r.weak_password),e}function wl(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function _4(r){return{data:r,error:null}}function S4(r){const{action_link:e,email_otp:t,hashed_token:i,redirect_to:s,verification_type:o}=r,c=Ou(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:t,hashed_token:i,redirect_to:s,verification_type:o},f=Object.assign({},c);return{data:{properties:h,user:f},error:null}}function B2(r){return r}function N4(r){return r.access_token&&r.refresh_token&&r.expires_in}const sp=["global","local","others"];class A4{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=wy(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(i){return de(this,arguments,function*(e,t=sp[0]){if(sp.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${sp.join(", ")}`);try{return yield Ot(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}})}inviteUserByEmail(i){return de(this,arguments,function*(e,t={}){try{return yield Ot(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:wl})}catch(s){if(yt(s))return{data:{user:null},error:s};throw s}})}generateLink(e){return de(this,null,function*(){try{const{options:t}=e,i=Ou(e,["options"]),s=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(s.new_email=i==null?void 0:i.newEmail,delete s.newEmail),yield Ot(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:S4,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(yt(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(e){return de(this,null,function*(){try{return yield Ot(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:wl})}catch(t){if(yt(t))return{data:{user:null},error:t};throw t}})}listUsers(e){return de(this,null,function*(){var t,i,s,o,c,h,f;try{const d={nextPage:null,lastPage:0,total:0},v=yield Ot(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:B2});if(v.error)throw v.error;const _=yield v.json(),N=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(f=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(E=>{const k=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),L=JSON.parse(E.split(";")[1].split("=")[1]);d[`${L}Page`]=k}),d.total=parseInt(N)),{data:Object.assign(Object.assign({},_),d),error:null}}catch(d){if(yt(d))return{data:{users:[]},error:d};throw d}})}getUserById(e){return de(this,null,function*(){uu(e);try{return yield Ot(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:wl})}catch(t){if(yt(t))return{data:{user:null},error:t};throw t}})}updateUserById(e,t){return de(this,null,function*(){uu(e);try{return yield Ot(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:wl})}catch(i){if(yt(i))return{data:{user:null},error:i};throw i}})}deleteUser(e,t=!1){return de(this,null,function*(){uu(e);try{return yield Ot(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:wl})}catch(i){if(yt(i))return{data:{user:null},error:i};throw i}})}_listFactors(e){return de(this,null,function*(){uu(e.userId);try{const{data:t,error:i}=yield Ot(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:i}}catch(t){if(yt(t))return{data:null,error:t};throw t}})}_deleteFactor(e){return de(this,null,function*(){uu(e.userId),uu(e.id);try{return{data:yield Ot(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(yt(t))return{data:null,error:t};throw t}})}_listOAuthClients(e){return de(this,null,function*(){var t,i,s,o,c,h,f;try{const d={nextPage:null,lastPage:0,total:0},v=yield Ot(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:B2});if(v.error)throw v.error;const _=yield v.json(),N=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(f=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(E=>{const k=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),L=JSON.parse(E.split(";")[1].split("=")[1]);d[`${L}Page`]=k}),d.total=parseInt(N)),{data:Object.assign(Object.assign({},_),d),error:null}}catch(d){if(yt(d))return{data:{clients:[]},error:d};throw d}})}_createOAuthClient(e){return de(this,null,function*(){try{return yield Ot(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(yt(t))return{data:null,error:t};throw t}})}_getOAuthClient(e){return de(this,null,function*(){try{return yield Ot(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(yt(t))return{data:null,error:t};throw t}})}_updateOAuthClient(e,t){return de(this,null,function*(){try{return yield Ot(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(yt(i))return{data:null,error:i};throw i}})}_deleteOAuthClient(e){return de(this,null,function*(){try{return yield Ot(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(yt(t))return{data:null,error:t};throw t}})}_regenerateOAuthClientSecret(e){return de(this,null,function*(){try{return yield Ot(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(yt(t))return{data:null,error:t};throw t}})}}function U2(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}const hu={debug:!!(globalThis&&by()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class j4 extends xy{}function E4(r,e,t){return de(this,null,function*(){hu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),hu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},s=>de(null,null,function*(){if(s){hu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,s.name);try{return yield t()}finally{hu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,s.name)}}else{if(e===0)throw hu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new j4(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(hu.debug)try{const o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}})))})}function C4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(r){typeof self!="undefined"&&(self.globalThis=self)}}function _y(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function L4(r){return parseInt(r,16)}function k4(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function T4(r){var e;const{chainId:t,domain:i,expirationTime:s,issuedAt:o=new Date,nonce:c,notBefore:h,requestId:f,resources:d,scheme:v,uri:_,version:N}=r;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(N!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${N}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const w=_y(r.address),E=v?`${v}://${i}`:i,k=r.statement?`${r.statement}
`:"",L=`${E} wants you to sign in with your Ethereum account:
${w}

${k}`;let T=`URI: ${_}
Version: ${N}
Chain ID: ${t}${c?`
Nonce: ${c}`:""}
Issued At: ${o.toISOString()}`;if(s&&(T+=`
Expiration Time: ${s.toISOString()}`),h&&(T+=`
Not Before: ${h.toISOString()}`),f&&(T+=`
Request ID: ${f}`),d){let U=`
Resources:`;for(const O of d){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);U+=`
- ${O}`}T+=U}return`${L}
${T}`}class Tr extends Error{constructor({message:e,code:t,cause:i,name:s}){var o;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(o=s!=null?s:i instanceof Error?i.name:void 0)!==null&&o!==void 0?o:"Unknown Error",this.code=t}}class pd extends Tr{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function O4({error:r,options:e}){var t,i,s;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Tr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((t=o.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new Tr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Tr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Tr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new Tr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new Tr({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return o.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new Tr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new Tr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const c=window.location.hostname;if(Sy(c)){if(o.rp.id!==c)return new Tr({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Tr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Tr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new Tr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Tr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function R4({error:r,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Tr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new Tr({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const i=window.location.hostname;if(Sy(i)){if(t.rpId!==i)return new Tr({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Tr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new Tr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Tr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class D4{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const P4=new D4;function M4(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential!="undefined"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:t,excludeCredentials:i}=r,s=Ou(r,["challenge","user","excludeCredentials"]),o=xu(e).buffer,c=Object.assign(Object.assign({},t),{id:xu(t.id).buffer}),h=Object.assign(Object.assign({},s),{challenge:o,user:c});if(i&&i.length>0){h.excludeCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const d=i[f];h.excludeCredentials[f]=Object.assign(Object.assign({},d),{id:xu(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return h}function B4(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential!="undefined"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:t}=r,i=Ou(r,["challenge","allowCredentials"]),s=xu(e).buffer,o=Object.assign(Object.assign({},i),{challenge:s});if(t&&t.length>0){o.allowCredentials=new Array(t.length);for(let c=0;c<t.length;c++){const h=t[c];o.allowCredentials[c]=Object.assign(Object.assign({},h),{id:xu(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return o}function U4(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r;return{id:r.id,rawId:r.id,response:{attestationObject:lc(new Uint8Array(r.response.attestationObject)),clientDataJSON:lc(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function z4(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r,i=r.getClientExtensionResults(),s=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:lc(new Uint8Array(s.authenticatorData)),clientDataJSON:lc(new Uint8Array(s.clientDataJSON)),signature:lc(new Uint8Array(s.signature)),userHandle:s.userHandle?lc(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Sy(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function z2(){var r,e;return!!(ba()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}function I4(r){return de(this,null,function*(){try{const e=yield navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new pd("Browser returned unexpected credential type",e)}:{data:null,error:new pd("Empty credential response",e)}}catch(e){return{data:null,error:O4({error:e,options:r})}}})}function q4(r){return de(this,null,function*(){try{const e=yield navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new pd("Browser returned unexpected credential type",e)}:{data:null,error:new pd("Empty credential response",e)}}catch(e){return{data:null,error:R4({error:e,options:r})}}})}const F4={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},H4={userVerification:"preferred",hints:["security-key"]};function md(...r){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),t=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),i={};for(const s of r)if(s)for(const o in s){const c=s[o];if(c!==void 0)if(Array.isArray(c))i[o]=c;else if(t(c))i[o]=c;else if(e(c)){const h=i[o];e(h)?i[o]=md(h,c):i[o]=md(c)}else i[o]=c}return i}function $4(r,e){return md(F4,r,e||{})}function V4(r,e){return md(H4,r,e||{})}class G4{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(e){return de(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))})}_challenge(c,h){return de(this,arguments,function*({factorId:e,webauthn:t,friendlyName:i,signal:s},o){try{const{data:f,error:d}=yield this.client.mfa.challenge({factorId:e,webauthn:t});if(!f)return{data:null,error:d};const v=s!=null?s:P4.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:_}=f.webauthn.credential_options.publicKey;_.name||(_.name=`${_.id}:${i}`),_.displayName||(_.displayName=_.name)}switch(f.webauthn.type){case"create":{const _=$4(f.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:N,error:w}=yield I4({publicKey:_,signal:v});return N?{data:{factorId:e,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:N}},error:null}:{data:null,error:w}}case"request":{const _=V4(f.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:N,error:w}=yield q4(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:_,signal:v}));return N?{data:{factorId:e,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:N}},error:null}:{data:null,error:w}}}}catch(f){return yt(f)?{data:null,error:f}:{data:null,error:new sc("Unexpected error in challenge",f)}}})}_verify(s){return de(this,arguments,function*({challengeId:e,factorId:t,webauthn:i}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:i})})}_authenticate(c,h){return de(this,arguments,function*({factorId:e,webauthn:{rpId:t=typeof window!="undefined"?window.location.hostname:void 0,rpOrigins:i=typeof window!="undefined"?[window.location.origin]:void 0,signal:s}},o){if(!t)return{data:null,error:new kh("rpId is required for WebAuthn authentication")};try{if(!z2())return{data:null,error:new sc("Browser does not support WebAuthn",null)};const{data:f,error:d}=yield this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:i},signal:s},{request:o});if(!f)return{data:null,error:d};const{webauthn:v}=f;return this._verify({factorId:e,challengeId:f.challengeId,webauthn:{type:v.type,rpId:t,rpOrigins:i,credential_response:v.credential_response}})}catch(f){return yt(f)?{data:null,error:f}:{data:null,error:new sc("Unexpected error in authenticate",f)}}})}_register(c,h){return de(this,arguments,function*({friendlyName:e,rpId:t=typeof window!="undefined"?window.location.hostname:void 0,rpOrigins:i=typeof window!="undefined"?[window.location.origin]:void 0,signal:s},o){if(!t)return{data:null,error:new kh("rpId is required for WebAuthn registration")};try{if(!z2())return{data:null,error:new sc("Browser does not support WebAuthn",null)};const{data:f,error:d}=yield this._enroll({friendlyName:e});if(!f)return yield this.client.mfa.listFactors().then(N=>{var w;return(w=N.data)===null||w===void 0?void 0:w.all.find(E=>E.factor_type==="webauthn"&&E.friendly_name===e&&E.status!=="unverified")}).then(N=>N?this.client.mfa.unenroll({factorId:N==null?void 0:N.id}):void 0),{data:null,error:d};const{data:v,error:_}=yield this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:t,rpOrigins:i},signal:s},{create:o});return v?this._verify({factorId:f.id,challengeId:v.challengeId,webauthn:{rpId:t,rpOrigins:i,type:v.webauthn.type,credential_response:v.webauthn.credential_response}}):{data:null,error:_}}catch(f){return yt(f)?{data:null,error:f}:{data:null,error:new sc("Unexpected error in register",f)}}})}}C4();const Y4={url:H3,storageKey:$3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:V3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};function I2(r,e,t){return de(this,null,function*(){return yield t()})}const fu={};class Th{get jwks(){var e,t;return(t=(e=fu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){fu[this.storageKey]=Object.assign(Object.assign({},fu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=fu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){fu[this.storageKey]=Object.assign(Object.assign({},fu[this.storageKey]),{cachedAt:e})}constructor(e){var t,i,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},Y4),e);if(this.storageKey=o.storageKey,this.instanceID=(t=Th.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,Th.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&ba()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new A4({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=wy(o.fetch),this.lock=o.lock||I2,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:ba()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=E4:this.lock=I2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new G4(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:by()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=U2(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=U2(this.memoryStorage)),ba()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",c=>de(this,null,function*(){this._debug("received broadcast notification from other tab or client",c),yield this._notifyAllSubscribers(c.data.event,c.data.session,!1)}))}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${gy}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}initialize(){return de(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=de(this,null,function*(){return yield this._acquireLock(-1,()=>de(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return de(this,null,function*(){var e;try{let t={},i="none";if(ba()&&(t=i4(window.location.href),this._isImplicitGrantCallback(t)?i="implicit":(yield this._isPKCECallback(t))&&(i="pkce")),ba()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:o}=yield this._getSessionFromURL(t,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),X3(o)){const f=(e=o.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:o}}return yield this._removeSession(),{error:o}}const{session:c,redirectType:h}=s;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),yield this._saveSession(c),setTimeout(()=>de(this,null,function*(){h==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",c):yield this._notifyAllSubscribers("SIGNED_IN",c)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(t){return yt(t)?this._returnResult({error:t}):this._returnResult({error:new sc("Unexpected error during initialization",t)})}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return de(this,null,function*(){var t,i,s;try{const o=yield Ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ms}),{data:c,error:h}=o;if(h||!c)return this._returnResult({data:{user:null,session:null},error:h});const f=c.session,d=c.user;return c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(o){if(yt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}signUp(e){return de(this,null,function*(){var t,i,s;try{let o;if("email"in e){const{email:v,password:_,options:N}=e;let w=null,E=null;this.flowType==="pkce"&&([w,E]=yield cu(this.storage,this.storageKey)),o=yield Ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:N==null?void 0:N.emailRedirectTo,body:{email:v,password:_,data:(t=N==null?void 0:N.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:N==null?void 0:N.captchaToken},code_challenge:w,code_challenge_method:E},xform:ms})}else if("phone"in e){const{phone:v,password:_,options:N}=e;o=yield Ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:_,data:(i=N==null?void 0:N.data)!==null&&i!==void 0?i:{},channel:(s=N==null?void 0:N.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:N==null?void 0:N.captchaToken}},xform:ms})}else throw new Hf("You must provide either an email or phone number and a password");const{data:c,error:h}=o;if(h||!c)return this._returnResult({data:{user:null,session:null},error:h});const f=c.session,d=c.user;return c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(o){if(yt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}signInWithPassword(e){return de(this,null,function*(){try{let t;if("email"in e){const{email:o,password:c,options:h}=e;t=yield Ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:M2})}else if("phone"in e){const{phone:o,password:c,options:h}=e;t=yield Ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:M2})}else throw new Hf("You must provide either an email or phone number and a password");const{data:i,error:s}=t;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!i||!i.session||!i.user){const o=new lu;return this._returnResult({data:{user:null,session:null},error:o})}return i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(t){if(yt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}})}signInWithOAuth(e){return de(this,null,function*(){var t,i,s,o;return yield this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})})}exchangeCodeForSession(e){return de(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>de(this,null,function*(){return this._exchangeCodeForSession(e)}))})}signInWithWeb3(e){return de(this,null,function*(){const{chain:t}=e;switch(t){case"ethereum":return yield this.signInWithEthereum(e);case"solana":return yield this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}})}signInWithEthereum(e){return de(this,null,function*(){var t,i,s,o,c,h,f,d,v,_,N;let w,E;if("message"in e)w=e.message,E=e.signature;else{const{chain:k,wallet:L,statement:T,options:U}=e;let O;if(ba())if(typeof L=="object")O=L;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")O=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!(U!=null&&U.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=L}const B=new URL((t=U==null?void 0:U.url)!==null&&t!==void 0?t:window.location.href),Y=yield O.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Y||Y.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ie=_y(Y[0]);let te=(i=U==null?void 0:U.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!te){const H=yield O.request({method:"eth_chainId"});te=L4(H)}const X={domain:B.host,address:ie,statement:T,uri:B.href,version:"1",chainId:te,nonce:(s=U==null?void 0:U.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(c=(o=U==null?void 0:U.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(h=U==null?void 0:U.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(f=U==null?void 0:U.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(d=U==null?void 0:U.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(v=U==null?void 0:U.signInWithEthereum)===null||v===void 0?void 0:v.resources};w=T4(X),E=yield O.request({method:"personal_sign",params:[k4(w),ie]})}try{const{data:k,error:L}=yield Ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:E},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(N=e.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:ms});if(L)throw L;if(!k||!k.session||!k.user){const T=new lu;return this._returnResult({data:{user:null,session:null},error:T})}return k.session&&(yield this._saveSession(k.session),yield this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:L})}catch(k){if(yt(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}})}signInWithSolana(e){return de(this,null,function*(){var t,i,s,o,c,h,f,d,v,_,N,w;let E,k;if("message"in e)E=e.message,k=e.signature;else{const{chain:L,wallet:T,statement:U,options:O}=e;let B;if(ba())if(typeof T=="object")B=T;else{const ie=window;if("solana"in ie&&typeof ie.solana=="object"&&("signIn"in ie.solana&&typeof ie.solana.signIn=="function"||"signMessage"in ie.solana&&typeof ie.solana.signMessage=="function"))B=ie.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=T}const Y=new URL((t=O==null?void 0:O.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in B&&B.signIn){const ie=yield B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O==null?void 0:O.signInWithSolana),{version:"1",domain:Y.host,uri:Y.href}),U?{statement:U}:null));let te;if(Array.isArray(ie)&&ie[0]&&typeof ie[0]=="object")te=ie[0];else if(ie&&typeof ie=="object"&&"signedMessage"in ie&&"signature"in ie)te=ie;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in te&&"signature"in te&&(typeof te.signedMessage=="string"||te.signedMessage instanceof Uint8Array)&&te.signature instanceof Uint8Array)E=typeof te.signedMessage=="string"?te.signedMessage:new TextDecoder().decode(te.signedMessage),k=te.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${Y.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...U?["",U,""]:[""],"Version: 1",`URI: ${Y.href}`,`Issued At: ${(s=(i=O==null?void 0:O.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=O==null?void 0:O.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((c=O==null?void 0:O.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((h=O==null?void 0:O.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((f=O==null?void 0:O.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((d=O==null?void 0:O.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((_=(v=O==null?void 0:O.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||_===void 0)&&_.length?["Resources",...O.signInWithSolana.resources.map(te=>`- ${te}`)]:[]].join(`
`);const ie=yield B.signMessage(new TextEncoder().encode(E),"utf8");if(!ie||!(ie instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=ie}}try{const{data:L,error:T}=yield Ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:lc(k)},!((N=e.options)===null||N===void 0)&&N.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:ms});if(T)throw T;if(!L||!L.session||!L.user){const U=new lu;return this._returnResult({data:{user:null,session:null},error:U})}return L.session&&(yield this._saveSession(L.session),yield this._notifyAllSubscribers("SIGNED_IN",L.session)),this._returnResult({data:Object.assign({},L),error:T})}catch(L){if(yt(L))return this._returnResult({data:{user:null,session:null},error:L});throw L}})}_exchangeCodeForSession(e){return de(this,null,function*(){const t=yield nc(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(t!=null?t:"").split("/");try{const{data:o,error:c}=yield Ot(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:ms});if(yield gl(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!o||!o.session||!o.user){const h=new lu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s!=null?s:null}),error:c})}catch(o){if(yt(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}})}signInWithIdToken(e){return de(this,null,function*(){try{const{options:t,provider:i,token:s,access_token:o,nonce:c}=e,h=yield Ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:ms}),{data:f,error:d}=h;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!f||!f.session||!f.user){const v=new lu;return this._returnResult({data:{user:null,session:null},error:v})}return f.session&&(yield this._saveSession(f.session),yield this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:d})}catch(t){if(yt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}})}signInWithOtp(e){return de(this,null,function*(){var t,i,s,o,c;try{if("email"in e){const{email:h,options:f}=e;let d=null,v=null;this.flowType==="pkce"&&([d,v]=yield cu(this.storage,this.storageKey));const{error:_}=yield Ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(t=f==null?void 0:f.data)!==null&&t!==void 0?t:{},create_user:(i=f==null?void 0:f.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:d,code_challenge_method:v},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in e){const{phone:h,options:f}=e,{data:d,error:v}=yield Ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},create_user:(o=f==null?void 0:f.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(c=f==null?void 0:f.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:v})}throw new Hf("You must provide either an email or phone number.")}catch(h){if(yt(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}})}verifyOtp(e){return de(this,null,function*(){var t,i;try{let s,o;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,o=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:h}=yield Ot(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:ms});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const f=c.session,d=c.user;return f!=null&&f.access_token&&(yield this._saveSession(f),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(s){if(yt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signInWithSSO(e){return de(this,null,function*(){var t,i,s;try{let o=null,c=null;this.flowType==="pkce"&&([o,c]=yield cu(this.storage,this.storageKey));const h=yield Ot(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:_4});return this._returnResult(h)}catch(o){if(yt(o))return this._returnResult({data:null,error:o});throw o}})}reauthenticate(){return de(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>de(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return de(this,null,function*(){try{return yield this._useSession(e=>de(this,null,function*(){const{data:{session:t},error:i}=e;if(i)throw i;if(!t)throw new ps;const{error:s}=yield Ot(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:s})}))}catch(e){if(yt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}})}resend(e){return de(this,null,function*(){try{const t=`${this.url}/resend`;if("email"in e){const{email:i,type:s,options:o}=e,{error:c}=yield Ot(this.fetch,"POST",t,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:i,type:s,options:o}=e,{data:c,error:h}=yield Ot(this.fetch,"POST",t,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h})}throw new Hf("You must provide either an email or phone number and a type")}catch(t){if(yt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}})}getSession(){return de(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>de(this,null,function*(){return this._useSession(t=>de(this,null,function*(){return t}))}))})}_acquireLock(e,t){return de(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=de(this,null,function*(){return yield i,yield t()});return this.pendingInLock.push(de(this,null,function*(){try{yield s}catch(o){}})),s}return yield this.lock(`lock:${this.storageKey}`,e,()=>de(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=t();for(this.pendingInLock.push(de(this,null,function*(){try{yield i}catch(s){}})),yield i;this.pendingInLock.length;){const s=[...this.pendingInLock];yield Promise.all(s),this.pendingInLock.splice(0,s.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return de(this,null,function*(){this._debug("#_useSession","begin");try{const t=yield this.__loadSession();return yield e(t)}finally{this._debug("#_useSession","end")}})}__loadSession(){return de(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=yield nc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<np:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const c=yield nc(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=ip()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=y4(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:o}=yield this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}})}getUser(e){return de(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>de(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return de(this,null,function*(){try{return e?yield Ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:wl}):yield this._useSession(t=>de(this,null,function*(){var i,s,o;const{data:c,error:h}=t;if(h)throw h;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ps}:yield Ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:wl})}))}catch(t){if(yt(t))return J3(t)&&(yield this._removeSession(),yield gl(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}})}updateUser(i){return de(this,arguments,function*(e,t={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>de(this,null,function*(){return yield this._updateUser(e,t)}))})}_updateUser(i){return de(this,arguments,function*(e,t={}){try{return yield this._useSession(s=>de(this,null,function*(){const{data:o,error:c}=s;if(c)throw c;if(!o.session)throw new ps;const h=o.session;let f=null,d=null;this.flowType==="pkce"&&e.email!=null&&([f,d]=yield cu(this.storage,this.storageKey));const{data:v,error:_}=yield Ot(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:d}),jwt:h.access_token,xform:wl});if(_)throw _;return h.user=v.user,yield this._saveSession(h),yield this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})}))}catch(s){if(yt(s))return this._returnResult({data:{user:null},error:s});throw s}})}setSession(e){return de(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>de(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return de(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new ps;const t=Date.now()/1e3;let i=t,s=!0,o=null;const{payload:c}=ap(e.access_token);if(c.exp&&(i=c.exp,s=i<=t),s){const{data:h,error:f}=yield this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h)return{data:{user:null,session:null},error:null};o=h}else{const{data:h,error:f}=yield this._getUser(e.access_token);if(f)throw f;o={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:i-t,expires_at:i},yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(t){if(yt(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}})}refreshSession(e){return de(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>de(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return de(this,null,function*(){try{return yield this._useSession(t=>de(this,null,function*(){var i;if(!e){const{data:c,error:h}=t;if(h)throw h;e=(i=c.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new ps;const{data:s,error:o}=yield this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})}))}catch(t){if(yt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}})}_getSessionFromURL(e,t){return de(this,null,function*(){try{if(!ba())throw new $f("No browser detected.");if(e.error||e.error_description||e.error_code)throw new $f(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new L2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $f("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new L2("No code detected.");const{data:U,error:O}=yield this._exchangeCodeForSession(e.code);if(O)throw O;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:U.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:o,refresh_token:c,expires_in:h,expires_at:f,token_type:d}=e;if(!o||!h||!c||!d)throw new $f("No session defined in URL");const v=Math.round(Date.now()/1e3),_=parseInt(h);let N=v+_;f&&(N=parseInt(f));const w=N-v;w*1e3<=gu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${_}s`);const E=N-_;v-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,N,v):v-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,N,v);const{data:k,error:L}=yield this._getUser(o);if(L)throw L;const T={provider_token:i,provider_refresh_token:s,access_token:o,expires_in:_,expires_at:N,refresh_token:c,token_type:d,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:e.type},error:null})}catch(i){if(yt(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return de(this,null,function*(){const t=yield nc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)})}signOut(){return de(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>de(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return de(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(t=>de(this,null,function*(){var i;const{data:s,error:o}=t;if(o)return this._returnResult({error:o});const c=(i=s.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:h}=yield this.admin.signOut(c,e);if(h&&!(K3(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return e!=="others"&&(yield this._removeSession(),yield gl(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})}))})}onAuthStateChange(e){const t=a4(),i={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,i),de(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>de(this,null,function*(){this._emitInitialSession(t)}))}),{data:{subscription:i}}}_emitInitialSession(e){return de(this,null,function*(){return yield this._useSession(t=>de(this,null,function*(){var i,s;try{const{data:{session:o},error:c}=t;if(c)throw c;yield(i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){yield(s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}}))})}resetPasswordForEmail(i){return de(this,arguments,function*(e,t={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=yield cu(this.storage,this.storageKey,!0));try{return yield Ot(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(c){if(yt(c))return this._returnResult({data:null,error:c});throw c}})}getUserIdentities(){return de(this,null,function*(){var e;try{const{data:t,error:i}=yield this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(yt(t))return this._returnResult({data:null,error:t});throw t}})}linkIdentity(e){return de(this,null,function*(){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)})}linkIdentityOAuth(e){return de(this,null,function*(){var t;try{const{data:i,error:s}=yield this._useSession(o=>de(this,null,function*(){var c,h,f,d,v;const{data:_,error:N}=o;if(N)throw N;const w=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return yield Ot(this.fetch,"GET",w,{headers:this.headers,jwt:(v=(d=_.session)===null||d===void 0?void 0:d.access_token)!==null&&v!==void 0?v:void 0})}));if(s)throw s;return ba()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:e.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(yt(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}})}linkIdentityIdToken(e){return de(this,null,function*(){return yield this._useSession(t=>de(this,null,function*(){var i;try{const{error:s,data:{session:o}}=t;if(s)throw s;const{options:c,provider:h,token:f,access_token:d,nonce:v}=e,_=yield Ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=o==null?void 0:o.access_token)!==null&&i!==void 0?i:void 0,body:{provider:h,id_token:f,access_token:d,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:ms}),{data:N,error:w}=_;return w?this._returnResult({data:{user:null,session:null},error:w}):!N||!N.session||!N.user?this._returnResult({data:{user:null,session:null},error:new lu}):(N.session&&(yield this._saveSession(N.session),yield this._notifyAllSubscribers("USER_UPDATED",N.session)),this._returnResult({data:N,error:w}))}catch(s){if(yt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}))})}unlinkIdentity(e){return de(this,null,function*(){try{return yield this._useSession(t=>de(this,null,function*(){var i,s;const{data:o,error:c}=t;if(c)throw c;return yield Ot(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})}))}catch(t){if(yt(t))return this._returnResult({data:null,error:t});throw t}})}_refreshAccessToken(e){return de(this,null,function*(){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return yield l4(s=>de(this,null,function*(){return s>0&&(yield o4(200*Math.pow(2,s-1))),this._debug(t,"refreshing attempt",s),yield Ot(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ms})}),(s,o)=>{const c=200*Math.pow(2,s);return o&&rp(o)&&Date.now()+c-i<gu})}catch(i){if(this._debug(t,"error",i),yt(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(t,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,t){return de(this,null,function*(){const i=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",i),ba()&&!t.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}})}_recoverAndRefresh(){return de(this,null,function*(){var e,t;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const s=yield nc(this.storage,this.storageKey);if(s&&this.userStorage){let c=yield nc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:s.user},yield vu(this.userStorage,this.storageKey+"-user",c)),s.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:ip()}else if(s&&!s.user&&!s.user){const c=yield nc(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(s.user=c.user,yield gl(this.storage,this.storageKey+"-user"),yield vu(this.storage,this.storageKey,s)):s.user=ip()}if(this._debug(i,"session from storage",s),!this._isValidSession(s)){this._debug(i,"session is not valid"),s!==null&&(yield this._removeSession());return}const o=((t=s.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<np;if(this._debug(i,`session has${o?"":" not"} expired with margin of ${np}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:c}=yield this._callRefreshToken(s.refresh_token);c&&(console.error(c),rp(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),yield this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=yield this._getUser(s.access_token);!h&&(c!=null&&c.user)?(s.user=c.user,yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else yield this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(i,"error",s),console.error(s);return}finally{this._debug(i,"end")}})}_callRefreshToken(e){return de(this,null,function*(){var t,i;if(!e)throw new ps;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new jd;const{data:o,error:c}=yield this._refreshAccessToken(e);if(c)throw c;if(!o.session)throw new ps;yield this._saveSession(o.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const h={data:o.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(o){if(this._debug(s,"error",o),yt(o)){const c={data:null,error:o};return rp(o)||(yield this._removeSession()),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}})}_notifyAllSubscribers(e,t,i=!0){return de(this,null,function*(){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:t});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(h=>de(this,null,function*(){try{yield h.callback(e,t)}catch(f){o.push(f)}}));if(yield Promise.all(c),o.length>0){for(let h=0;h<o.length;h+=1)console.error(o[h]);throw o[0]}}finally{this._debug(s,"end")}})}_saveSession(e){return de(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),i=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&t.user&&(yield vu(this.userStorage,this.storageKey+"-user",{user:t.user}));const s=Object.assign({},t);delete s.user;const o=D2(s);yield vu(this.storage,this.storageKey,o)}else{const s=D2(t);yield vu(this.storage,this.storageKey,s)}})}_removeSession(){return de(this,null,function*(){this._debug("#_removeSession()"),yield gl(this.storage,this.storageKey),yield gl(this.storage,this.storageKey+"-code-verifier"),yield gl(this.storage,this.storageKey+"-user"),this.userStorage&&(yield gl(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ba()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}_startAutoRefresh(){return de(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),gu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno!="undefined"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>de(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return de(this,null,function*(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return de(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return de(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return de(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>de(this,null,function*(){try{const e=Date.now();try{return yield this._useSession(t=>de(this,null,function*(){const{data:{session:i}}=t;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-e)/gu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${gu}ms, refresh threshold is ${$p} ticks`),s<=$p&&(yield this._callRefreshToken(i.refresh_token))}))}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof xy)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return de(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!ba()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>de(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return de(this,null,function*(){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>de(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,t,i){return de(this,null,function*(){const s=[`provider=${encodeURIComponent(t)}`];if(i!=null&&i.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,c]=yield cu(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});s.push(h.toString())}if(i!=null&&i.queryParams){const o=new URLSearchParams(i.queryParams);s.push(o.toString())}return i!=null&&i.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${s.join("&")}`})}_unenroll(e){return de(this,null,function*(){try{return yield this._useSession(t=>de(this,null,function*(){var i;const{data:s,error:o}=t;return o?this._returnResult({data:null,error:o}):yield Ot(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})}))}catch(t){if(yt(t))return this._returnResult({data:null,error:t});throw t}})}_enroll(e){return de(this,null,function*(){try{return yield this._useSession(t=>de(this,null,function*(){var i,s;const{data:o,error:c}=t;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:d}=yield Ot(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return d?this._returnResult({data:null,error:d}):(e.factorType==="totp"&&f.type==="totp"&&(!((s=f==null?void 0:f.totp)===null||s===void 0)&&s.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))}))}catch(t){if(yt(t))return this._returnResult({data:null,error:t});throw t}})}_verify(e){return de(this,null,function*(){return this._acquireLock(-1,()=>de(this,null,function*(){try{return yield this._useSession(t=>de(this,null,function*(){var i;const{data:s,error:o}=t;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?U4(e.webauthn.credential_response):z4(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:f}=yield Ot(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return f?this._returnResult({data:null,error:f}):(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:f}))}))}catch(t){if(yt(t))return this._returnResult({data:null,error:t});throw t}}))})}_challenge(e){return de(this,null,function*(){return this._acquireLock(-1,()=>de(this,null,function*(){try{return yield this._useSession(t=>de(this,null,function*(){var i;const{data:s,error:o}=t;if(o)return this._returnResult({data:null,error:o});const c=yield Ot(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});if(c.error)return c;const{data:h}=c;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:M4(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:B4(h.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(t){if(yt(t))return this._returnResult({data:null,error:t});throw t}}))})}_challengeAndVerify(e){return de(this,null,function*(){const{data:t,error:i}=yield this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):yield this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})})}_listFactors(){return de(this,null,function*(){var e;const{data:{user:t},error:i}=yield this.getUser();if(i)return{data:null,error:i};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}})}_getAuthenticatorAssuranceLevel(){return de(this,null,function*(){var e,t;const{data:{session:i},error:s}=yield this.getSession();if(s)return this._returnResult({data:null,error:s});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ap(i.access_token);let c=null;o.aal&&(c=o.aal);let h=c;((t=(e=i.user.factors)===null||e===void 0?void 0:e.filter(v=>v.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(h="aal2");const d=o.amr||[];return{data:{currentLevel:c,nextLevel:h,currentAuthenticationMethods:d},error:null}})}_getAuthorizationDetails(e){return de(this,null,function*(){try{return yield this._useSession(t=>de(this,null,function*(){const{data:{session:i},error:s}=t;return s?this._returnResult({data:null,error:s}):i?yield Ot(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new ps})}))}catch(t){if(yt(t))return this._returnResult({data:null,error:t});throw t}})}_approveAuthorization(e,t){return de(this,null,function*(){try{return yield this._useSession(i=>de(this,null,function*(){const{data:{session:s},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new ps});const c=yield Ot(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&ba()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c}))}catch(i){if(yt(i))return this._returnResult({data:null,error:i});throw i}})}_denyAuthorization(e,t){return de(this,null,function*(){try{return yield this._useSession(i=>de(this,null,function*(){const{data:{session:s},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new ps});const c=yield Ot(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&ba()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c}))}catch(i){if(yt(i))return this._returnResult({data:null,error:i});throw i}})}fetchJwk(i){return de(this,arguments,function*(e,t={keys:[]}){let s=t.keys.find(f=>f.kid===e);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(f=>f.kid===e),s&&this.jwks_cached_at+Y3>o)return s;const{data:c,error:h}=yield Ot(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,s=c.keys.find(f=>f.kid===e),!s)?null:s})}getClaims(i){return de(this,arguments,function*(e,t={}){try{let s=e;if(!s){const{data:E,error:k}=yield this.getSession();if(k||!E.session)return this._returnResult({data:null,error:k});s=E.session.access_token}const{header:o,payload:c,signature:h,raw:{header:f,payload:d}}=ap(s);t!=null&&t.allowExpired||m4(c.exp);const v=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(o.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!v){const{error:E}=yield this.getUser(s);if(E)throw E;return{data:{claims:c,header:o,signature:h},error:null}}const _=g4(o.alg),N=yield crypto.subtle.importKey("jwk",v,_,!0,["verify"]);if(!(yield crypto.subtle.verify(_,N,h,n4(`${f}.${d}`))))throw new Yp("Invalid JWT signature");return{data:{claims:c,header:o,signature:h},error:null}}catch(s){if(yt(s))return this._returnResult({data:null,error:s});throw s}})}}Th.nextInstanceID={};const W4=Th;class K4 extends W4{constructor(e){super(e)}}class J4{constructor(e,t,i){var s,o,c;this.supabaseUrl=e,this.supabaseKey=t;const h=F3(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const f=`sb-${h.hostname.split(".")[0]}-auth-token`,d={db:D3,realtime:M3,auth:Object.assign(Object.assign({},P3),{storageKey:f}),global:R3},v=q3(i!=null?i:{},d);this.storageKey=(s=v.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=v.global.headers)!==null&&o!==void 0?o:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(_,N)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(N)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=v.auth)!==null&&c!==void 0?c:{},this.headers,v.global.fetch),this.fetch=z3(t,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new H_(new URL("rest/v1",h).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new k3(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new z_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,i)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return de(this,null,function*(){var e,t;if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(t=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:s,userStorage:o,storageKey:c,flowType:h,lock:f,debug:d,throwOnError:v},_,N){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new K4({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),_),storageKey:c,autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:s,userStorage:o,flowType:h,lock:f,debug:d,throwOnError:v,fetch:N,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new s3(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,i)=>{this._handleTokenChanged(t,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,t,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ny=(r,e,t)=>new J4(r,e,t);function X4(){if(typeof window!="undefined"||typeof process=="undefined")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}X4()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ay="https://uljakqvlrtajbpislunr.supabase.co",Z4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVsamFrcXZscnRhamJwaXNsdW5yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI0OTg0NDIsImV4cCI6MjA3ODA3NDQ0Mn0.pARpx76EyUoj69G2dbVDGlgeW3XTO2viMRnbReyGkeU",Q4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVsamFrcXZscnRhamJwaXNsdW5yIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MjQ5ODQ0MiwiZXhwIjoyMDc4MDc0NDQyfQ.bCV4Rd0jqD_W9mg5WaG1cFFEgTvfkea9Dgm_kqxR_RI",Et=Ny(Ay,Z4,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},global:{headers:{"x-client-info":"supabase-js-web"}},db:{schema:"public"},realtime:{params:{eventsPerSecond:10}}}),dn=Ny(Ay,Q4,{auth:{autoRefreshToken:!1,persistSession:!1,storageKey:"supabase-admin-auth",storage:{getItem:()=>null,setItem:()=>{},removeItem:()=>{}}},global:{headers:{"x-client-info":"supabase-admin-js"}}}),jy=oe.createContext(void 0),e6=({children:r})=>{const[e,t]=oe.useState(null),[i,s]=oe.useState(null),[o,c]=oe.useState(!0),[h,f]=oe.useState(null),d=oe.useRef(null),v=oe.useRef(null),_=300*1e3;oe.useEffect(()=>{de(null,null,function*(){var Y,ie,te;try{const{data:{session:X},error:H}=yield Et.auth.getSession();if(H){console.error("Erro ao buscar sesso:",H),yield Et.auth.signOut(),t(null),s(null),c(!1);return}t((Y=X==null?void 0:X.user)!=null?Y:null),d.current=(te=(ie=X==null?void 0:X.user)==null?void 0:ie.id)!=null?te:null,X!=null&&X.user&&(yield w(X.user.id))===!1&&(console.warn("Perfil no encontrado, fazendo logout..."),yield Et.auth.signOut(),t(null),s(null))}catch(X){console.error("Erro inesperado ao inicializar sesso:",X),yield Et.auth.signOut(),t(null),s(null)}finally{c(!1)}});const{data:B}=Et.auth.onAuthStateChange((Y,ie)=>de(null,null,function*(){var te,X,H,pe;if(console.log(" Auth state changed:",Y),Y==="TOKEN_REFRESHED"||Y==="USER_UPDATED"){console.log(`${Y} - mantendo perfil atual`);return}if(Y==="INITIAL_SESSION"){console.log(" INITIAL_SESSION detectado (ignorando - j tratado)");return}if(Y==="SIGNED_OUT"){console.log(" SIGNED_OUT - limpando estado"),t(null),s(null);return}if(Y==="SIGNED_IN"){const R=(te=ie==null?void 0:ie.user)==null?void 0:te.id,$=d.current;if(R===$){console.log(" SIGNED_IN ignorado - mesmo usurio j logado");return}console.log(" SIGNED_IN - novo login detectado, carregando perfil"),t((X=ie==null?void 0:ie.user)!=null?X:null),d.current=(pe=(H=ie==null?void 0:ie.user)==null?void 0:H.id)!=null?pe:null,ie!=null&&ie.user?yield w(ie.user.id):s(null)}}));return()=>{B.subscription.unsubscribe()}},[]);const N=()=>f(null),w=(O,B=!1)=>de(null,null,function*(){try{console.log(" Buscando perfil para userId:",O,B?"(FORANDO REFRESH COM BYPASS DE CACHE)":""),B&&(yield new Promise(te=>setTimeout(te,100)));const{data:Y,error:ie}=yield Et.from("user_profiles").select("*, company:companies(*)").eq("id",O).maybeSingle();return ie?(console.error(" Erro ao buscar perfil:",ie.message,ie),s(null),!1):Y?(console.log(" Perfil carregado:",{id:Y.id,full_name:Y.full_name,email:Y.email,force_password_change:Y.force_password_change,timestamp:new Date().toISOString()}),s(Y),!0):(console.error(" Perfil no encontrado para o usurio:",O),s(null),!1)}catch(Y){return console.error(" Erro inesperado ao buscar perfil:",Y),s(null),!1}}),E=(O,B)=>de(null,null,function*(){console.log(" [AuthContext] signIn chamado para:",O),c(!0),f(null);try{console.log(" [AuthContext] Enviando credenciais para Supabase...");const{error:Y}=yield Et.auth.signInWithPassword({email:O.trim(),password:B});return console.log(" [AuthContext] Resposta do Supabase:",{error:Y}),Y?(console.error(" [AuthContext] Erro no login:",Y.message),c(!1),Y.message.includes("Invalid login credentials")?(console.log(" [AuthContext] Retornando: Email ou senha incorretos"),f("Email ou senha incorretos"),"Email ou senha incorretos"):Y.message.includes("Email not confirmed")?(console.log(" [AuthContext] Retornando: Email no confirmado"),f("Por favor, confirme seu email antes de fazer login"),"Por favor, confirme seu email antes de fazer login"):(console.log(" [AuthContext] Retornando erro original:",Y.message),f(Y.message),Y.message)):(console.log(" [AuthContext] Login bem-sucedido, retornando null"),c(!1),null)}catch(Y){return console.error(" [AuthContext] Erro inesperado no login:",Y),c(!1),f("Erro inesperado ao fazer login. Tente novamente."),"Erro inesperado ao fazer login. Tente novamente."}}),k=()=>de(null,null,function*(){try{console.log(" [Auth] Iniciando logout..."),t(null),d.current=null,s(null),f(null);const O=Et.auth.signOut(),B=new Promise(Y=>setTimeout(()=>{console.log(" [Auth] Timeout no logout do Supabase (ignorando)"),Y(null)},2e3));yield Promise.race([O,B]),console.log(" [Auth] Logout concludo");try{if(typeof window!="undefined"){const Y="/portal-chamados/";window.location.href=Y}}catch(Y){console.warn("No foi possvel redirecionar automaticamente:",Y)}}catch(O){console.error(" [Auth] Erro ao fazer logout (ignorando):",O),t(null),d.current=null,s(null)}}),L=()=>{v.current&&(window.clearTimeout(v.current),v.current=null)},T=()=>{L(),e&&(v.current=window.setTimeout(()=>de(null,null,function*(){try{console.log(" Inatividade detectada  efetuando logout automtico"),yield k()}catch(O){console.error("Erro no logout por inatividade:",O)}}),_))};oe.useEffect(()=>{if(!e){L();return}const O=["mousemove","mousedown","keydown","touchstart","scroll","click"],B=()=>{T()};for(const ie of O)window.addEventListener(ie,B,{passive:!0});const Y=()=>{try{console.log(" beforeunload - tentando logout rpido"),Et.auth.signOut()}catch(ie){}};return window.addEventListener("beforeunload",Y),T(),()=>{L();for(const ie of O)window.removeEventListener(ie,B);window.removeEventListener("beforeunload",Y)}},[e]);const U=()=>de(null,null,function*(){if(e!=null&&e.id){console.log(" Atualizando perfil manualmente...");const O=yield w(e.id,!0);console.log(O?" Perfil atualizado com sucesso no contexto":" Falha ao atualizar perfil no contexto")}});return m.jsx(jy.Provider,{value:{user:e,profile:i,loading:o,signIn:E,signOut:k,refreshProfile:U,authError:h,clearAuthError:N},children:r})},xs=()=>{const r=oe.useContext(jy);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r};const t6=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n6=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),q2=r=>{const e=n6(r);return e.charAt(0).toUpperCase()+e.slice(1)},Ey=(...r)=>r.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),r6=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var a6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const i6=oe.forwardRef((d,f)=>{var v=d,{color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:s="",children:o,iconNode:c}=v,h=Ui(v,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return oe.createElement("svg",lt(lt(kt(lt({ref:f},a6),{width:e,height:e,stroke:r,strokeWidth:i?Number(t)*24/Number(e):t,className:Ey("lucide",s)}),!o&&!r6(h)&&{"aria-hidden":"true"}),h),[...c.map(([_,N])=>oe.createElement(_,N)),...Array.isArray(o)?o:[o]])});const sn=(r,e)=>{const t=oe.forwardRef((c,o)=>{var h=c,{className:i}=h,s=Ui(h,["className"]);return oe.createElement(i6,lt({ref:o,iconNode:e,className:Ey(`lucide-${t6(q2(r))}`,`lucide-${r}`,i)},s))});return t.displayName=q2(r),t};const s6=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ys=sn("arrow-left",s6);const o6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],l6=sn("arrow-right",o6);const c6=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],uc=sn("building-2",c6);const u6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],F2=sn("calendar",u6);const h6=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],f6=sn("chart-column",h6);const d6=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],H2=sn("check",d6);const p6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],fc=sn("circle-alert",p6);const m6=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],cc=sn("circle-check-big",m6);const g6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],v6=sn("circle-plus",g6);const y6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Cy=sn("circle-user",y6);const b6=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],_u=sn("eye-off",b6);const w6=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Su=sn("eye",w6);const x6=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],_6=sn("file-down",x6);const S6=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],nd=sn("file-text",S6);const N6=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],$2=sn("funnel",N6);const A6=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],j6=sn("image",A6);const E6=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Rr=sn("loader-circle",E6);const C6=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Ly=sn("log-in",C6);const L6=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Am=sn("mail",L6);const k6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],T6=sn("map-pin",k6);const O6=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],V2=sn("message-circle",O6);const R6=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],jm=sn("pen",R6);const D6=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ky=sn("phone",D6);const P6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ed=sn("plus",P6);const M6=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],B6=sn("save",M6);const U6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Oh=sn("search",U6);const z6=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],I6=sn("send",z6);const q6=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ty=sn("settings",q6);const F6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Oy=sn("shield-check",F6);const H6=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Cd=sn("trash-2",H6);const $6=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],V6=sn("upload",$6);const G6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Em=sn("user",G6);const Y6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ry=sn("users",Y6);const W6=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Rh=sn("wrench",W6);const K6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ku=sn("x",K6),pn=s=>{var o=s,{id:r,label:e,icon:t}=o,i=Ui(o,["id","label","icon"]);var c,h;return m.jsxs("div",{children:[m.jsx("label",{htmlFor:r,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),m.jsxs("div",{className:"relative",children:[t&&m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s2.isValidElement(t)?s2.cloneElement(t,{className:`${(h=(c=t.props)==null?void 0:c.className)!=null?h:""} h-5 w-5 text-gray-400`}):null}),m.jsx("input",lt({id:r,className:`w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 ${t?"pl-10":""}`},i))]})]})},Or=o=>{var c=o,{children:r,variant:e="primary",isLoading:t=!1,disabled:i}=c,s=Ui(c,["children","variant","isLoading","disabled"]);return m.jsx("button",kt(lt({className:`w-full flex justify-center items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white
      ${e==="primary"?"bg-blue-600 hover:bg-blue-700":"bg-gray-600 hover:bg-gray-700"}
      ${i||t?"opacity-50 cursor-not-allowed":""}
      focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,disabled:i||t},s),{children:t?m.jsx(Rr,{className:"animate-spin h-5 w-5"}):r}))},J6=()=>{const[r,e]=oe.useState(""),[t,i]=oe.useState(""),[s,o]=oe.useState(!1),[c,h]=oe.useState(0),[f,d]=oe.useState("Portal de Chamados"),[v,_]=oe.useState(null),{signIn:N,authError:w,clearAuthError:E}=xs();oe.useEffect(()=>{de(null,null,function*(){const{data:T}=yield Et.from("system_settings").select("setting_key, setting_value").in("setting_key",["portal_name","logo_url"]);if(T){const U=T.find(B=>B.setting_key==="portal_name"),O=T.find(B=>B.setting_key==="logo_url");U!=null&&U.setting_value&&d(U.setting_value),O!=null&&O.setting_value&&_(O.setting_value)}})},[]),oe.useEffect(()=>(console.log(" [Login] mount"),()=>console.log(" [Login] unmount")),[]);const k=L=>de(null,null,function*(){L.preventDefault(),console.trace(" [Login] trace: iniciando signIn"),o(!0),console.log(" [Login] Tentando fazer login com:",r);try{const T=yield N(r,t);console.log(" [Login] Resposta do signIn:",T),T?(console.log(" [Login] Erro retornado pelo signIn:",T),h(U=>U+1),o(!1)):(console.log(" [Login] Login bem-sucedido!"),setTimeout(()=>o(!1),500))}catch(T){console.error(" [Login] Erro ao fazer login:",T),o(!1)}});return m.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:m.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-xl p-8",children:[m.jsx("div",{className:"flex justify-center mb-6",children:v?m.jsx("img",{src:v,alt:"Logo",className:"h-20 w-auto object-contain"}):m.jsx(Oy,{className:"h-16 w-16 text-blue-600"})}),m.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-4",children:f}),m.jsx("p",{className:"text-center text-gray-600 mb-6",children:"Acesse para abrir e gerenciar seus chamados."}),m.jsxs("form",{onSubmit:k,className:"space-y-4",children:[m.jsx(pn,{id:"email",label:"E-mail",type:"email",icon:m.jsx(Am,{}),value:r,onChange:L=>e(L.target.value),required:!0,autoComplete:"email"}),m.jsx(pn,{id:"password",label:"Senha",type:"password",icon:m.jsx(Em,{}),value:t,onChange:L=>i(L.target.value),required:!0,autoComplete:"current-password"}),w&&m.jsxs("div",{role:"alert","aria-live":"assertive",className:`rounded-lg p-4 flex items-start space-x-3 ${w!=null&&w.includes("sucesso")?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[w!=null&&w.includes("sucesso")?m.jsx(cc,{className:"h-5 w-5 text-green-600 flex-shrink-0 mt-0.5"}):m.jsx(fc,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:`text-sm font-medium ${w!=null&&w.includes("sucesso")?"text-green-800":"text-red-800"}`,children:w!=null&&w.includes("sucesso")?"Sucesso!":"Erro no login"}),m.jsx("p",{className:`text-sm mt-1 ${w!=null&&w.includes("sucesso")?"text-green-700":"text-red-700"}`,children:w})]}),m.jsx("div",{className:"flex-shrink-0",children:m.jsx("button",{type:"button",onClick:()=>{E==null||E(),h(0)},"aria-label":"Fechar mensagem",className:"p-1 rounded hover:bg-gray-100",children:m.jsx(ku,{className:"h-4 w-4 text-gray-500"})})})]},c),m.jsx("div",{className:"pt-2 space-y-2",children:m.jsxs(Or,{type:"submit",isLoading:s,children:[m.jsx(Ly,{className:"h-5 w-5 mr-2"}),"Entrar"]})})]})]})})},op=({setPage:r,onViewTicket:e})=>{const{profile:t}=xs(),[i,s]=oe.useState([]),[o,c]=oe.useState(!0),[h,f]=oe.useState(null),[d,v]=oe.useState(null),_=(E,k)=>de(null,null,function*(){if(k.stopPropagation(),(t==null?void 0:t.role)!=="admin"){alert(" Apenas administradores podem deletar chamados!");return}if(confirm(`Tem certeza que deseja deletar o chamado #${E}?

Esta ao no pode ser desfeita.`)){v(E);try{const T=dn||Et,{error:U}=yield T.from("tickets").delete().eq("id",E);if(U)throw U;s(i.filter(O=>O.id!==E)),alert(" Chamado deletado com sucesso!")}catch(T){console.error(" Erro ao deletar chamado:",T),alert(` Erro ao deletar chamado: ${T instanceof Error?T.message:"Erro desconhecido"}`)}finally{v(null)}}});oe.useEffect(()=>{de(null,null,function*(){console.log(" [Dashboard] Iniciando fetchTickets..."),c(!0),f(null);try{console.log(" [Dashboard] Tentando buscar tickets com supabaseAdmin...");const k=dn&&(t==null?void 0:t.role)==="admin"?dn:Et;console.log(" [Dashboard] Usando client:",dn&&(t==null?void 0:t.role)==="admin"?"ADMIN":"NORMAL");const L=k.from("tickets").select("*").order("created_at",{ascending:!1}),T=new Promise((Y,ie)=>setTimeout(()=>ie(new Error(" Timeout: A consulta de tickets demorou mais de 20 segundos, recarregue a pgina!")),2e4)),{data:U,error:O}=yield Promise.race([L,T]);if(console.log(" [Dashboard] Resultado da query tickets:",{success:!O,count:U==null?void 0:U.length,error:O}),O){console.error(" [Dashboard] Erro ao buscar chamados:",O.message),f(O.message),c(!1);return}if(console.log(" [Dashboard] Tickets encontrados:",U==null?void 0:U.length),!U||U.length===0){console.log(" [Dashboard] Nenhum ticket encontrado, exibindo tela vazia"),s([]),c(!1);return}console.log(" [Dashboard] Buscando detalhes dos tickets...");const B=yield Promise.all(U.map(Y=>de(null,null,function*(){console.log(` [Dashboard] Buscando dados para ticket #${Y.id}`);const{data:ie,error:te}=yield k.from("user_profiles").select("id, full_name, email").eq("id",Y.client_id).maybeSingle();te&&console.error(" [Dashboard] Erro ao buscar cliente:",te);const{data:X,error:H}=yield k.from("companies").select("id, name, cnpj").eq("id",Y.company_id).maybeSingle();return H&&console.error(" [Dashboard] Erro ao buscar empresa:",H),kt(lt({},Y),{client:ie,company:X})})));console.log(" [Dashboard] Tickets com detalhes completos:",B.length),s(B)}catch(k){console.error(" [Dashboard] Erro inesperado:",k),f(k instanceof Error?k.message:"Erro inesperado ao carregar chamados")}finally{console.log(" [Dashboard] fetchTickets finalizado, setLoading(false)"),c(!1)}})},[]);const N=E=>{switch(E){case"aberto":return"bg-green-100 text-green-800";case"em_atendimento":return"bg-blue-100 text-blue-800";case"aguardando_cliente":return"bg-yellow-100 text-yellow-800";case"fechado":return"bg-gray-100 text-gray-800";case"cancelado":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},w=()=>o?m.jsxs("div",{className:"flex justify-center items-center p-10 bg-white rounded-lg shadow-md",children:[m.jsx(Rr,{className:"h-8 w-8 animate-spin text-blue-600"}),m.jsx("p",{className:"ml-3 text-gray-600",children:"Buscando chamados..."})]}):h?m.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md",role:"alert",children:[m.jsx("strong",{className:"font-bold",children:"Erro ao carregar chamados!"}),m.jsxs("span",{className:"block sm:inline",children:[" ",h]})]}):i.length===0?m.jsxs("div",{className:"text-center p-10 bg-white rounded-lg shadow-md",children:[m.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Nenhum chamado encontrado"}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Parece que voc ainda no abriu nenhum chamado. Clique no boto acima para comear."})]}):m.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:m.jsx("ul",{role:"list",className:"divide-y divide-gray-200",children:i.map(E=>(console.log(` Renderizando ticket #${E.id}:`,{client:E.client,company:E.company,hasClient:!!E.client,hasCompany:!!E.company}),m.jsx("li",{className:"p-4 hover:bg-gray-50 transition-colors",children:m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-sm font-medium ${N(E.status)} capitalize`,children:E.status.replace("_"," ")})}),m.jsxs("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>e(E.id),children:[m.jsxs("p",{className:"text-sm font-medium text-blue-600 truncate",children:["Chamado #",E.id," - ",E.equipment_manufacturer," ",E.equipment_model]}),m.jsxs("p",{className:"text-sm text-gray-500 truncate",children:["Local: ",E.internal_location]}),E.client&&m.jsxs("p",{className:"text-sm text-gray-600 truncate mt-1",children:["Usurio: ",E.client.full_name]}),E.company&&m.jsxs("p",{className:"text-xs text-gray-500 truncate",children:["Empresa: ",E.company.name]})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:"text-sm text-gray-700",children:new Date(E.created_at).toLocaleDateString("pt-BR")}),m.jsx("p",{className:"text-sm text-gray-500",children:new Date(E.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[(t==null?void 0:t.role)==="admin"&&m.jsx("button",{onClick:k=>_(E.id,k),disabled:d===E.id,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Deletar chamado",children:d===E.id?m.jsx(Rr,{className:"h-5 w-5 animate-spin"}):m.jsx(Cd,{className:"h-5 w-5"})}),m.jsx("button",{onClick:()=>e(E.id),className:"p-2 text-gray-400 hover:bg-gray-100 rounded-lg transition-colors",title:"Ver detalhes",children:m.jsx(l6,{className:"h-5 w-5"})})]})]})},E.id)))})});return m.jsxs("div",{className:"p-6 md:p-10",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Meus Chamados"}),m.jsxs("p",{className:"text-lg text-gray-600",children:["Bem-vindo, ",t==null?void 0:t.full_name,"!"]})]}),m.jsxs(Or,{onClick:()=>r("new-ticket"),className:"w-auto",children:[m.jsx(v6,{className:"h-5 w-5 mr-2"}),"Abrir Novo Chamado"]})]}),w()]})};class X6{constructor(){yn(this,"supabaseUrl");yn(this,"supabaseAnonKey");yn(this,"edgeFunctionUrl");this.supabaseUrl="https://uljakqvlrtajbpislunr.supabase.co",this.supabaseAnonKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVsamFrcXZscnRhamJwaXNsdW5yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI0OTg0NDIsImV4cCI6MjA3ODA3NDQ0Mn0.pARpx76EyUoj69G2dbVDGlgeW3XTO2viMRnbReyGkeU",this.edgeFunctionUrl=`${this.supabaseUrl}/functions/v1/send-email-gmail`,(!this.supabaseUrl||!this.supabaseAnonKey)&&console.warn(" Variveis Supabase no configuradas.")}sendEmail(e){return de(this,null,function*(){try{const t=Array.isArray(e.to)?e.to:[e.to];for(let i=0;i<t.length;i++){const s=t[i];i>0&&(yield new Promise(h=>setTimeout(h,1e3))),console.log(` Enviando email para: ${s}`);const o=yield fetch(this.edgeFunctionUrl,{method:"POST",headers:{Authorization:`Bearer ${this.supabaseAnonKey}`,"Content-Type":"application/json"},body:JSON.stringify({to:s,subject:e.subject,html:e.html})}),c=yield o.json();if(!o.ok){if(console.error(` Erro ao enviar email para ${s}:`,c),o.status===429){console.warn(` Rate limit atingido para ${s}. Aguardando 3 segundos...`),yield new Promise(h=>setTimeout(h,3e3));continue}return!1}console.log(` Email enviado com sucesso para ${s}:`,c)}return!0}catch(t){return console.error(" Erro na chamada da Edge Function:",t),!1}})}getEmailTemplate(e){return`
            <!DOCTYPE html>
            <html lang="pt-BR">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <style>
                    body {
                        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
                        line-height: 1.6;
                        color: #333;
                        max-width: 600px;
                        margin: 0 auto;
                        padding: 0;
                        background-color: #f4f4f4;
                    }
                    .email-container {
                        background-color: white;
                        margin: 20px;
                        border-radius: 8px;
                        overflow: hidden;
                        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                    }
                    .header {
                        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                        color: white;
                        padding: 40px 30px;
                        text-align: center;
                    }
                    .header h1 {
                        margin: 0;
                        font-size: 28px;
                        font-weight: 600;
                    }
                    .header p {
                        margin: 10px 0 0 0;
                        font-size: 16px;
                        opacity: 0.9;
                    }
                    .content {
                        padding: 30px;
                    }
                    .info-box {
                        background: #f9fafb;
                        padding: 20px;
                        border-left: 4px solid #667eea;
                        margin: 20px 0;
                        border-radius: 4px;
                    }
                    .info-row {
                        margin: 12px 0;
                        display: flex;
                        flex-wrap: wrap;
                    }
                    .info-label {
                        font-weight: 600;
                        min-width: 150px;
                        color: #667eea;
                        margin-bottom: 4px;
                    }
                    .info-value {
                        color: #333;
                        flex: 1;
                    }
                    .problem-box {
                        background: white;
                        padding: 20px;
                        border: 2px solid #e5e7eb;
                        border-radius: 6px;
                        margin: 20px 0;
                    }
                    .problem-box h3 {
                        margin: 0 0 10px 0;
                        color: #667eea;
                        font-size: 16px;
                    }
                    .problem-box p {
                        margin: 0;
                        line-height: 1.6;
                    }
                    .footer {
                        text-align: center;
                        padding: 20px 30px;
                        background: #f9fafb;
                        color: #6b7280;
                        font-size: 13px;
                        border-top: 1px solid #e5e7eb;
                    }
                    .footer p {
                        margin: 5px 0;
                    }
                    @media only screen and (max-width: 600px) {
                        .email-container {
                            margin: 0;
                            border-radius: 0;
                        }
                        .header {
                            padding: 30px 20px;
                        }
                        .content {
                            padding: 20px;
                        }
                        .info-row {
                            flex-direction: column;
                        }
                        .info-label {
                            margin-bottom: 5px;
                        }
                    }
                </style>
            </head>
            <body>
                <div class="email-container">
                    ${e}
                </div>
            </body>
            </html>
        `}sendTicketCreatedNotification(i){return de(this,arguments,function*(e,t=[]){const s=`
            <div class="header">
                <h1> Chamado Criado com Sucesso</h1>
                <p>Chamado #${e.ticketId}</p>
            </div>
            <div class="content">
                <p>Ol <strong>${e.clientName}</strong>,</p>
                <p>Seu chamado foi registrado com sucesso no sistema. Nossa equipe j foi notificada e em breve entrar em contato.</p>
                
                <div class="info-box">
                    <div class="info-row">
                        <span class="info-label">Nmero do Chamado:</span>
                        <span class="info-value"><strong>#${e.ticketId}</strong></span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Empresa:</span>
                        <span class="info-value">${e.companyName}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Equipamento:</span>
                        <span class="info-value">${e.equipmentInfo}</span>
                    </div>
                    ${e.serialNumber?`<div class="info-row">
                        <span class="info-label">Nmero de Srie:</span>
                        <span class="info-value">${e.serialNumber}</span>
                    </div>`:""}
                    <div class="info-row">
                        <span class="info-label">Localizao:</span>
                        <span class="info-value">${e.internalLocation}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Endereo:</span>
                        <span class="info-value">${e.fullAddress}</span>
                    </div>
                </div>

                <div class="problem-box">
                    <h3> Descrio do Problema</h3>
                    <p>${e.problemDescription}</p>
                </div>

                <div class="info-box" style="background: #ecfdf5; border-left-color: #10b981;">
                    <p style="margin: 0; color: #047857;">
                        <strong> Responsvel Local Notificado</strong><br>
                        ${e.contactName} (${e.contactEmail})
                    </p>
                </div>

                <p style="margin-top: 30px; color: #6b7280;">
                    <strong>Prximos passos:</strong>
                </p>
                <ul style="color: #6b7280; margin: 10px 0;">
                    <li>Nossa equipe analisar o chamado</li>
                    <li>Voc receber atualizaes por email</li>
                    <li>Em caso de dvidas, responda este email</li>
                </ul>
            </div>
            <div class="footer">
                <p><strong>Portal de Chamados</strong></p>
                <p>Esta  uma mensagem automtica. Guarde este email para referncia futura.</p>
                <p> ${new Date().getFullYear()} Todos os direitos reservados.</p>
            </div>
        `,o=`
            <div class="header">
                <h1> Novo Chamado Registrado</h1>
                <p>Chamado #${e.ticketId} - ${e.companyName}</p>
            </div>
            <div class="content">
                <p>Ol <strong>${e.contactName}</strong>,</p>
                <p>Voc foi indicado como responsvel local para acompanhamento de um novo chamado tcnico:</p>
                
                <div class="info-box">
                    <div class="info-row">
                        <span class="info-label">Nmero do Chamado:</span>
                        <span class="info-value"><strong>#${e.ticketId}</strong></span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Aberto por:</span>
                        <span class="info-value">${e.clientName}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Empresa:</span>
                        <span class="info-value">${e.companyName}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Equipamento:</span>
                        <span class="info-value">${e.equipmentInfo}</span>
                    </div>
                    ${e.serialNumber?`<div class="info-row">
                        <span class="info-label">Nmero de Srie:</span>
                        <span class="info-value">${e.serialNumber}</span>
                    </div>`:""}
                    <div class="info-row">
                        <span class="info-label">Localizao Interna:</span>
                        <span class="info-value">${e.internalLocation}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Endereo Completo:</span>
                        <span class="info-value">${e.fullAddress}</span>
                    </div>
                </div>

                <div class="problem-box">
                    <h3> Descrio do Problema</h3>
                    <p>${e.problemDescription}</p>
                </div>

                <div class="info-box" style="background: #fef3c7; border-left-color: #f59e0b;">
                    <p style="margin: 0; color: #92400e;">
                        <strong> Sua Responsabilidade</strong><br>
                        Como responsvel local, voc poder ser contatado por nossa equipe tcnica para:<br>
                         Fornecer acesso ao local<br>
                         Acompanhar o atendimento<br>
                         Validar a soluo do problema
                    </p>
                </div>

                <div class="info-box">
                    <p style="margin: 0 0 10px 0;"><strong> Dados do Requisitante:</strong></p>
                    <div class="info-row">
                        <span class="info-label">Nome:</span>
                        <span class="info-value">${e.clientName}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Email:</span>
                        <span class="info-value">${e.clientEmail}</span>
                    </div>
                    ${e.clientPhone?`<div class="info-row">
                        <span class="info-label">Telefone:</span>
                        <span class="info-value">${e.clientPhone}</span>
                    </div>`:""}
                </div>

                <p style="margin-top: 20px;">
                    <strong>Seus dados de contato registrados:</strong><br>
                     Email: ${e.contactEmail}<br>
                     Telefone: ${e.contactPhone}
                </p>
            </div>
            <div class="footer">
                <p><strong>Portal de Chamados</strong></p>
                <p>Esta  uma mensagem automtica. Em caso de dvidas, entre em contato com ${e.clientName}.</p>
                <p> ${new Date().getFullYear()} Todos os direitos reservados.</p>
            </div>
        `,c=`
            <div class="header">
                <h1> Novo Chamado Registrado</h1>
                <p>Chamado #${e.ticketId} - Requer Ateno</p>
            </div>
            <div class="content">
                <p>Ol <strong>Administrador</strong>,</p>
                <p>Um novo chamado foi registrado no sistema e aguarda atendimento:</p>
                
                <div class="info-box" style="background: #fef3c7; border-left-color: #f59e0b;">
                    <div class="info-row">
                        <span class="info-label"> Nmero do Chamado:</span>
                        <span class="info-value"><strong style="font-size: 18px;">#${e.ticketId}</strong></span>
                    </div>
                    <div class="info-row">
                        <span class="info-label"> Cliente:</span>
                        <span class="info-value">${e.clientName} (${e.clientEmail})</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label"> Empresa:</span>
                        <span class="info-value">${e.companyName}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label"> Equipamento:</span>
                        <span class="info-value">${e.equipmentInfo}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label"> Localizao Interna:</span>
                        <span class="info-value">${e.internalLocation}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label"> Endereo:</span>
                        <span class="info-value">${e.fullAddress}</span>
                    </div>
                </div>

                <div class="problem-box">
                    <h3> Descrio do Problema</h3>
                    <p>${e.problemDescription}</p>
                </div>

                <div class="info-box">
                    <p style="margin: 0 0 10px 0;"><strong> Responsvel Local no Cliente:</strong></p>
                    <div class="info-row">
                        <span class="info-label">Nome:</span>
                        <span class="info-value">${e.contactName}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Email:</span>
                        <span class="info-value">${e.contactEmail}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Telefone:</span>
                        <span class="info-value">${e.contactPhone}</span>
                    </div>
                </div>

                <div class="info-box" style="background: #dbeafe; border-left-color: #3b82f6;">
                    <p style="margin: 0; color: #1e40af;">
                        <strong> Ao Necessria:</strong><br>
                         Revisar o chamado no sistema<br>
                         Atribuir um tcnico responsvel<br>
                         Definir prioridade de atendimento<br>
                         Entrar em contato se necessrio
                    </p>
                </div>

                <p style="margin-top: 30px; text-align: center;">
                    <a href="${typeof window!="undefined"?window.location.origin:""}" 
                       style="display: inline-block; padding: 12px 30px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; text-decoration: none; border-radius: 6px; font-weight: 600;">
                        Acessar Portal de Chamados
                    </a>
                </p>
            </div>
            <div class="footer">
                <p><strong>Portal de Chamados - Notificao Administrativa</strong></p>
                <p>Esta  uma mensagem automtica enviada apenas para administradores.</p>
                <p> ${new Date().getFullYear()} Todos os direitos reservados.</p>
            </div>
        `;console.log(` Enviando email de confirmao para o cliente (${e.clientEmail})...`);const h=yield this.sendEmail({to:e.clientEmail,subject:` Chamado #${e.ticketId} Criado - ${e.companyName}`,html:this.getEmailTemplate(s)});console.log(` Enviando email para o responsvel local (${e.contactEmail})...`);const f=yield this.sendEmail({to:e.contactEmail,subject:` Novo Chamado #${e.ticketId} - Voc  o Responsvel Local - ${e.companyName}`,html:this.getEmailTemplate(o)});let d=!0;return t&&t.length>0&&(console.log(` Enviando notificao para ${t.length} administrador(es)...`),d=yield this.sendEmail({to:t,subject:` NOVO Chamado #${e.ticketId} Aberto - Ao Necessria - ${e.companyName}`,html:this.getEmailTemplate(c)})),console.log(" Emails enviados com sucesso (cliente + responsvel + admins)"),h&&f&&d})}sendCommentNotification(e){return de(this,null,function*(){const t=`
            <div class="header">
                <h1> Novo Comentrio no Chamado</h1>
                <p>Chamado #${e.ticketId}</p>
            </div>
            <div class="content">
                <p>Ol <strong>${e.recipientName}</strong>,</p>
                <p>H uma nova atualizao no chamado #${e.ticketId}:</p>
                
                <div class="info-box">
                    <div class="info-row">
                        <span class="info-label">Chamado:</span>
                        <span class="info-value"><strong>#${e.ticketId}</strong></span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Empresa:</span>
                        <span class="info-value">${e.companyName}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Comentado por:</span>
                        <span class="info-value">${e.commentAuthor}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Data:</span>
                        <span class="info-value">${new Date().toLocaleString("pt-BR")}</span>
                    </div>
                </div>

                <div class="problem-box">
                    <h3> Comentrio</h3>
                    <p>${e.commentText}</p>
                </div>

                <div class="info-box" style="background: #dbeafe; border-left-color: #3b82f6;">
                    <p style="margin: 0; color: #1e40af;">
                         <strong>Dica:</strong> Acesse o portal para visualizar o chamado completo e responder ao comentrio.
                    </p>
                </div>
            </div>
            <div class="footer">
                <p><strong>Portal de Chamados - Notificao de Atualizao</strong></p>
                <p>Esta  uma mensagem automtica. No responda este email.</p>
                <p> ${new Date().getFullYear()} Todos os direitos reservados.</p>
            </div>
        `;return this.sendEmail({to:e.recipientEmail,subject:` Novo Comentrio no Chamado #${e.ticketId} - ${e.companyName}`,html:this.getEmailTemplate(t)})})}}const Wp=new X6,rd=o=>{var c=o,{id:r,label:e,minLength:t,value:i}=c,s=Ui(c,["id","label","minLength","value"]);const h=(i||"").length,f=t&&h>0&&h<t,d=t&&h>=t;return m.jsxs("div",{children:[m.jsx("label",{htmlFor:r,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),m.jsx("textarea",lt({id:r,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:i},s)),t&&m.jsxs("p",{className:`text-xs mt-1 ${f?"text-red-500":d?"text-green-600":"text-gray-500"}`,children:[h," / ",t," caracteres mnimos"]})]})},Z6=({ticketId:r,setPage:e})=>{const{profile:t}=xs(),[i,s]=oe.useState(null),[o,c]=oe.useState(!0),[h,f]=oe.useState(null),[d,v]=oe.useState(!1),[_,N]=oe.useState([]),[w,E]=oe.useState(!1),[k,L]=oe.useState(""),[T,U]=oe.useState(!1),[O,B]=oe.useState(!1);oe.useEffect(()=>{const H=()=>de(null,null,function*(){c(!0),f(null);const{data:R,error:$}=yield Et.from("tickets").select("*").eq("id",r).single();$?(console.error("Erro ao buscar chamado:",$),f($.message)):s(R),c(!1)}),pe=()=>de(null,null,function*(){E(!0);const{data:R,error:$}=yield Et.from("ticket_comments").select(`
                    *,
                    user:user_profiles(id, full_name, email, role)
                `).eq("ticket_id",r).order("created_at",{ascending:!0});$?console.error("Erro ao buscar comentrios:",$):(console.log(" Comentrios carregados:",R),N(R||[])),E(!1)});H(),pe()},[r]);const Y=()=>de(null,null,function*(){if(!k.trim()||!t)return;B(!0);const H={ticket_id:r,user_id:t.id,comment:k.trim(),is_internal:T&&(t.role==="admin"||t.role==="tecnico")},{data:pe,error:R}=yield Et.from("ticket_comments").insert([H]).select(`
                *,
                user:user_profiles(id, full_name, email, role)
            `).single();if(R)console.error("Erro ao adicionar comentrio:",R),alert(`Erro ao adicionar comentrio: ${R.message}`);else if(console.log(" Comentrio adicionado:",pe),console.log(" Dados do usurio no comentrio:",pe==null?void 0:pe.user),N($=>[...$,pe]),L(""),U(!1),!H.is_internal&&i)try{const{data:$}=yield Et.from("user_profiles").select("full_name, email").eq("id",i.client_id).single(),{data:se}=yield Et.from("companies").select("name").eq("id",i.company_id).single();if($&&se&&(t.id!==i.client_id&&(yield Wp.sendCommentNotification({ticketId:r,commentAuthor:t.full_name,commentText:k.trim(),recipientName:$.full_name,recipientEmail:$.email,companyName:se.name})),t.role==="cliente")){const{data:re}=yield Et.from("user_profiles").select("email").eq("role","admin"),he=(re==null?void 0:re.map(K=>K.email))||[];he.length>0&&(yield Wp.sendCommentNotification({ticketId:r,commentAuthor:t.full_name,commentText:k.trim(),recipientName:"Administrador",recipientEmail:he[0],companyName:se.name}))}}catch($){console.error("Erro ao enviar email de notificao:",$)}B(!1)}),ie=()=>de(null,null,function*(){if(!i||i.status==="fechado"||!window.confirm("Tem certeza que deseja finalizar este chamado?"))return;v(!0),f(null);const{error:pe}=yield Et.from("tickets").update({status:"fechado",closed_at:new Date().toISOString()}).eq("id",r);pe?f(`Erro ao finalizar chamado: ${pe.message}`):(s(R=>R?kt(lt({},R),{status:"fechado",closed_at:new Date().toISOString()}):null),alert("Chamado finalizado com sucesso!")),v(!1)}),te=H=>{switch(H){case"aberto":return"bg-green-100 text-green-800";case"em_atendimento":return"bg-blue-100 text-blue-800";case"aguardando_cliente":return"bg-yellow-100 text-yellow-800";case"fechado":return"bg-gray-100 text-gray-800";case"cancelado":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},X=H=>{switch(H){case"aberto":return"Aberto";case"em_atendimento":return"Em Atendimento";case"aguardando_cliente":return"Aguardando Cliente";case"fechado":return"Fechado";case"cancelado":return"Cancelado";default:return H}};return o?m.jsx("div",{className:"p-6 md:p-10 max-w-5xl mx-auto",children:m.jsxs("div",{className:"flex justify-center items-center p-10 bg-white rounded-lg shadow-md",children:[m.jsx(Rr,{className:"h-8 w-8 animate-spin text-blue-600"}),m.jsx("p",{className:"ml-3 text-gray-600",children:"Carregando chamado..."})]})}):h||!i?m.jsxs("div",{className:"p-6 md:p-10 max-w-5xl mx-auto",children:[m.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md",role:"alert",children:[m.jsx("strong",{className:"font-bold",children:"Erro ao carregar chamado!"}),m.jsxs("span",{className:"block sm:inline",children:[" ",h||"Chamado no encontrado"]})]}),m.jsxs(Or,{onClick:()=>e("dashboard"),variant:"secondary",className:"mt-4",children:[m.jsx(ys,{className:"h-4 w-4 mr-2"}),"Voltar para Dashboard"]})]}):m.jsxs("div",{className:"p-6 md:p-10 max-w-5xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{children:[m.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Chamado #",i.id]}),m.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Aberto em ",new Date(i.created_at).toLocaleDateString("pt-BR")," s ",new Date(i.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]}),m.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[m.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-semibold shadow-sm ${te(i.status)}`,children:X(i.status)}),(t==null?void 0:t.role)==="admin"&&i.status!=="fechado"&&i.status!=="cancelado"&&m.jsx("div",{className:"relative group",children:m.jsxs("button",{onClick:ie,disabled:d,className:`
                                    relative inline-flex items-center justify-center px-8 py-3.5 
                                    font-semibold text-white rounded-lg overflow-hidden
                                    transition-all duration-300 ease-out
                                    ${d?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-emerald-500 via-green-500 to-teal-500 hover:from-emerald-600 hover:via-green-600 hover:to-teal-600 shadow-lg hover:shadow-xl hover:scale-105 active:scale-95"}
                                `,title:"Finalizar este chamado",children:[!d&&m.jsx("span",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white to-transparent opacity-20 animate-shimmer"}),m.jsx("span",{className:"relative flex items-center gap-2",children:d?m.jsxs(m.Fragment,{children:[m.jsx(Rr,{className:"h-5 w-5 animate-spin"}),m.jsx("span",{children:"Finalizando..."})]}):m.jsxs(m.Fragment,{children:[m.jsx(cc,{className:"h-5 w-5"}),m.jsx("span",{children:"Finalizar Chamado"})]})})]})}),m.jsxs(Or,{onClick:()=>e("dashboard"),variant:"secondary",className:"shadow-sm hover:shadow transition-shadow",children:[m.jsx(ys,{className:"h-4 w-4 mr-2"}),"Voltar"]}),m.jsx("style",{children:`
                    @keyframes shimmer {
                        0% { transform: translateX(-100%); }
                        100% { transform: translateX(100%); }
                    }
                    .animate-shimmer {
                        animation: shimmer 2.5s infinite;
                    }
                `})]})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx(Rh,{className:"h-6 w-6 text-blue-600 mr-2"}),m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Equipamento"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Fabricante"}),m.jsx("p",{className:"text-lg font-medium text-gray-900",children:i.equipment_manufacturer})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Modelo"}),m.jsx("p",{className:"text-lg font-medium text-gray-900",children:i.equipment_model})]}),i.application_type&&m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Tipo de Aplicao"}),m.jsx("p",{className:"text-lg font-medium text-gray-900",children:i.application_type})]}),i.internal_location&&m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Local Interno"}),m.jsx("p",{className:"text-lg font-medium text-gray-900",children:i.internal_location})]})]})]}),i.form_data&&m.jsxs(m.Fragment,{children:[i.form_data.problem_description&&m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx(nd,{className:"h-6 w-6 text-blue-600 mr-2"}),m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Descrio do Problema"})]}),m.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:i.form_data.problem_description})]}),i.form_data.card_type&&m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx(nd,{className:"h-6 w-6 text-blue-600 mr-2"}),m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Tecnologia Utilizada"})]}),m.jsx("p",{className:"text-lg font-medium text-gray-900",children:i.form_data.card_type})]}),i.form_data.previous_procedures&&m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx(nd,{className:"h-6 w-6 text-blue-600 mr-2"}),m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Procedimentos J Executados"})]}),m.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:i.form_data.previous_procedures})]}),i.form_data.full_address&&m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx(T6,{className:"h-6 w-6 text-blue-600 mr-2"}),m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Endereo para Atendimento"})]}),m.jsx("p",{className:"text-gray-700",children:i.form_data.full_address}),i.form_data.address_cep&&m.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["CEP: ",i.form_data.address_cep]})]}),i.form_data.integration_needed&&m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx(uc,{className:"h-6 w-6 text-blue-600 mr-2"}),m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Necessidade de Integrao"})]}),m.jsx("p",{className:"text-green-700 font-medium mb-2",children:" Integrao necessria"}),i.form_data.integration_requirements&&m.jsxs("div",{className:"mt-3",children:[m.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Exigncias:"}),m.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:i.form_data.integration_requirements})]})]}),i.form_data.contact_name&&m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx(Em,{className:"h-6 w-6 text-blue-600 mr-2"}),m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Responsvel pelo Acompanhamento"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Nome"}),m.jsx("p",{className:"text-lg font-medium text-gray-900",children:i.form_data.contact_name})]}),i.form_data.contact_email&&m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"E-mail"}),m.jsxs("div",{className:"flex items-center",children:[m.jsx(Am,{className:"h-4 w-4 text-gray-500 mr-2"}),m.jsx("a",{href:`mailto:${i.form_data.contact_email}`,className:"text-blue-600 hover:underline",children:i.form_data.contact_email})]})]}),i.form_data.contact_phone&&m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Telefone"}),m.jsxs("div",{className:"flex items-center",children:[m.jsx(ky,{className:"h-4 w-4 text-gray-500 mr-2"}),m.jsx("a",{href:`tel:${i.form_data.contact_phone}`,className:"text-blue-600 hover:underline",children:i.form_data.contact_phone})]})]})]})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx(V2,{className:"h-6 w-6 text-blue-600 mr-2"}),m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Comentrios"})]}),w?m.jsx("div",{className:"flex justify-center items-center py-8",children:m.jsx(Rr,{className:"h-8 w-8 text-blue-600 animate-spin"})}):_.length===0?m.jsxs("div",{className:"text-center py-8 text-gray-500",children:[m.jsx(V2,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),m.jsx("p",{children:"Nenhum comentrio ainda"}),m.jsx("p",{className:"text-sm",children:"Seja o primeiro a comentar"})]}):m.jsx("div",{className:"space-y-4 mb-6",children:_.map(H=>{var pe,R,$;return m.jsxs("div",{className:`border rounded-lg p-4 ${H.is_internal?"bg-yellow-50 border-yellow-300":"bg-gray-50 border-gray-200"}`,children:[m.jsxs("div",{className:"flex items-start justify-between mb-2",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white font-semibold",children:((R=(pe=H.user)==null?void 0:pe.full_name)==null?void 0:R.charAt(0).toUpperCase())||"?"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-gray-900",children:(($=H.user)==null?void 0:$.full_name)||"Usurio"}),m.jsx("p",{className:"text-xs text-gray-500",children:new Date(H.created_at).toLocaleString("pt-BR")})]})]}),H.is_internal&&m.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-200 text-yellow-800",children:" Interno"})]}),m.jsx("p",{className:"text-gray-700 whitespace-pre-wrap ml-10",children:H.comment})]},H.id)})}),i.status!=="fechado"&&i.status!=="cancelado"&&m.jsx("div",{className:"border-t pt-4",children:m.jsxs("div",{className:"space-y-3",children:[m.jsx(rd,{label:"Novo comentrio",value:k,onChange:H=>L(H.target.value),placeholder:"Adicione um comentrio...",rows:3,className:"w-full"}),(t==null?void 0:t.role)!=="cliente"&&m.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[m.jsx("input",{type:"checkbox",checked:T,onChange:H=>U(H.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),m.jsx("span",{className:"flex items-center gap-1",children:" Comentrio interno (visvel apenas para administradores e tcnicos)"})]}),m.jsx("div",{className:"flex justify-end",children:m.jsxs("button",{onClick:Y,disabled:O||!k.trim(),className:`
                                            relative inline-flex items-center justify-center px-6 py-3
                                            font-semibold text-white rounded-lg overflow-hidden
                                            transition-all duration-300 ease-out
                                            ${O||!k.trim()?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-500 via-purple-500 to-indigo-600 hover:from-blue-600 hover:via-purple-600 hover:to-indigo-700 shadow-lg hover:shadow-xl hover:scale-105 active:scale-95"}
                                        `,children:[!O&&k.trim()&&m.jsx("span",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white to-transparent opacity-20 animate-shimmer"}),m.jsx("span",{className:"relative flex items-center gap-2",children:O?m.jsxs(m.Fragment,{children:[m.jsx(Rr,{className:"h-5 w-5 animate-spin"}),m.jsx("span",{children:"Enviando..."})]}):m.jsxs(m.Fragment,{children:[m.jsx(I6,{className:"h-5 w-5"}),m.jsx("span",{children:"Enviar Comentrio"})]})})]})})]})})]}),m.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:m.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx(F2,{className:"h-4 w-4 mr-2"}),m.jsxs("span",{children:["Criado em: ",new Date(i.created_at).toLocaleString("pt-BR")]})]}),i.closed_at&&m.jsxs("div",{className:"flex items-center",children:[m.jsx(F2,{className:"h-4 w-4 mr-2"}),m.jsxs("span",{children:["Fechado em: ",new Date(i.closed_at).toLocaleString("pt-BR")]})]})]})})]})]})},zi=s=>{var o=s,{id:r,label:e,children:t}=o,i=Ui(o,["id","label","children"]);return m.jsxs("div",{children:[m.jsx("label",{htmlFor:r,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),m.jsx("select",kt(lt({id:r,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},i),{children:t}))]})},Q6="modulepreload",eS=function(r){return"/portal-chamados/"+r},G2={},lp=function(e,t,i){let s=Promise.resolve();if(t&&t.length>0){let f=function(d){return Promise.all(d.map(v=>Promise.resolve(v).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=f(t.map(d=>{if(d=eS(d),d in G2)return;G2[d]=!0;const v=d.endsWith(".css"),_=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${_}`))return;const N=document.createElement("link");if(N.rel=v?"stylesheet":Q6,v||(N.as="script"),N.crossOrigin="",N.href=d,h&&N.setAttribute("nonce",h),document.head.appendChild(N),v)return new Promise((w,E)=>{N.addEventListener("load",w),N.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return s.then(c=>{for(const h of c||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})};function Cn(r){"@babel/helpers - typeof";return Cn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cn(r)}var ws=Uint8Array,vi=Uint16Array,Cm=Int32Array,Lm=new ws([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),km=new ws([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Y2=new ws([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Dy=function(r,e){for(var t=new vi(31),i=0;i<31;++i)t[i]=e+=1<<r[i-1];for(var s=new Cm(t[30]),i=1;i<30;++i)for(var o=t[i];o<t[i+1];++o)s[o]=o-t[i]<<5|i;return{b:t,r:s}},Py=Dy(Lm,2),tS=Py.b,Kp=Py.r;tS[28]=258,Kp[258]=28;var nS=Dy(km,0),W2=nS.r,Jp=new vi(32768);for(var Kn=0;Kn<32768;++Kn){var vl=(Kn&43690)>>1|(Kn&21845)<<1;vl=(vl&52428)>>2|(vl&13107)<<2,vl=(vl&61680)>>4|(vl&3855)<<4,Jp[Kn]=((vl&65280)>>8|(vl&255)<<8)>>1}var Ah=(function(r,e,t){for(var i=r.length,s=0,o=new vi(e);s<i;++s)r[s]&&++o[r[s]-1];var c=new vi(e);for(s=1;s<e;++s)c[s]=c[s-1]+o[s-1]<<1;var h;if(t){h=new vi(1<<e);var f=15-e;for(s=0;s<i;++s)if(r[s])for(var d=s<<4|r[s],v=e-r[s],_=c[r[s]-1]++<<v,N=_|(1<<v)-1;_<=N;++_)h[Jp[_]>>f]=d}else for(h=new vi(i),s=0;s<i;++s)r[s]&&(h[s]=Jp[c[r[s]-1]++]>>15-r[s]);return h}),dc=new ws(288);for(var Kn=0;Kn<144;++Kn)dc[Kn]=8;for(var Kn=144;Kn<256;++Kn)dc[Kn]=9;for(var Kn=256;Kn<280;++Kn)dc[Kn]=7;for(var Kn=280;Kn<288;++Kn)dc[Kn]=8;var gd=new ws(32);for(var Kn=0;Kn<32;++Kn)gd[Kn]=5;var rS=Ah(dc,9,0),aS=Ah(gd,5,0),My=function(r){return(r+7)/8|0},iS=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new ws(r.subarray(e,t))},Eo=function(r,e,t){t<<=e&7;var i=e/8|0;r[i]|=t,r[i+1]|=t>>8},bh=function(r,e,t){t<<=e&7;var i=e/8|0;r[i]|=t,r[i+1]|=t>>8,r[i+2]|=t>>16},cp=function(r,e){for(var t=[],i=0;i<r.length;++i)r[i]&&t.push({s:i,f:r[i]});var s=t.length,o=t.slice();if(!s)return{t:Uy,l:0};if(s==1){var c=new ws(t[0].s+1);return c[t[0].s]=1,{t:c,l:1}}t.sort(function(Y,ie){return Y.f-ie.f}),t.push({s:-1,f:25001});var h=t[0],f=t[1],d=0,v=1,_=2;for(t[0]={s:-1,f:h.f+f.f,l:h,r:f};v!=s-1;)h=t[t[d].f<t[_].f?d++:_++],f=t[d!=v&&t[d].f<t[_].f?d++:_++],t[v++]={s:-1,f:h.f+f.f,l:h,r:f};for(var N=o[0].s,i=1;i<s;++i)o[i].s>N&&(N=o[i].s);var w=new vi(N+1),E=Xp(t[v-1],w,0);if(E>e){var i=0,k=0,L=E-e,T=1<<L;for(o.sort(function(ie,te){return w[te.s]-w[ie.s]||ie.f-te.f});i<s;++i){var U=o[i].s;if(w[U]>e)k+=T-(1<<E-w[U]),w[U]=e;else break}for(k>>=L;k>0;){var O=o[i].s;w[O]<e?k-=1<<e-w[O]++-1:++i}for(;i>=0&&k;--i){var B=o[i].s;w[B]==e&&(--w[B],++k)}E=e}return{t:new ws(w),l:E}},Xp=function(r,e,t){return r.s==-1?Math.max(Xp(r.l,e,t+1),Xp(r.r,e,t+1)):e[r.s]=t},K2=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new vi(++e),i=0,s=r[0],o=1,c=function(f){t[i++]=f},h=1;h<=e;++h)if(r[h]==s&&h!=e)++o;else{if(!s&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(s),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(s);o=1,s=r[h]}return{c:t.subarray(0,i),n:e}},wh=function(r,e){for(var t=0,i=0;i<e.length;++i)t+=r[i]*e[i];return t},By=function(r,e,t){var i=t.length,s=My(e+2);r[s]=i&255,r[s+1]=i>>8,r[s+2]=r[s]^255,r[s+3]=r[s+1]^255;for(var o=0;o<i;++o)r[s+o+4]=t[o];return(s+4+i)*8},J2=function(r,e,t,i,s,o,c,h,f,d,v){Eo(e,v++,t),++s[256];for(var _=cp(s,15),N=_.t,w=_.l,E=cp(o,15),k=E.t,L=E.l,T=K2(N),U=T.c,O=T.n,B=K2(k),Y=B.c,ie=B.n,te=new vi(19),X=0;X<U.length;++X)++te[U[X]&31];for(var X=0;X<Y.length;++X)++te[Y[X]&31];for(var H=cp(te,7),pe=H.t,R=H.l,$=19;$>4&&!pe[Y2[$-1]];--$);var se=d+5<<3,re=wh(s,dc)+wh(o,gd)+c,he=wh(s,N)+wh(o,k)+c+14+3*$+wh(te,pe)+2*te[16]+3*te[17]+7*te[18];if(f>=0&&se<=re&&se<=he)return By(e,v,r.subarray(f,f+d));var K,le,ue,ae;if(Eo(e,v,1+(he<re)),v+=2,he<re){K=Ah(N,w,0),le=N,ue=Ah(k,L,0),ae=k;var ke=Ah(pe,R,0);Eo(e,v,O-257),Eo(e,v+5,ie-1),Eo(e,v+10,$-4),v+=14;for(var X=0;X<$;++X)Eo(e,v+3*X,pe[Y2[X]]);v+=3*$;for(var G=[U,Y],A=0;A<2;++A)for(var z=G[A],X=0;X<z.length;++X){var F=z[X]&31;Eo(e,v,ke[F]),v+=pe[F],F>15&&(Eo(e,v,z[X]>>5&127),v+=z[X]>>12)}}else K=rS,le=dc,ue=aS,ae=gd;for(var X=0;X<h;++X){var ne=i[X];if(ne>255){var F=ne>>18&31;bh(e,v,K[F+257]),v+=le[F+257],F>7&&(Eo(e,v,ne>>23&31),v+=Lm[F]);var ce=ne&31;bh(e,v,ue[ce]),v+=ae[ce],ce>3&&(bh(e,v,ne>>5&8191),v+=km[ce])}else bh(e,v,K[ne]),v+=le[ne]}return bh(e,v,K[256]),v+le[256]},sS=new Cm([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Uy=new ws(0),oS=function(r,e,t,i,s,o){var c=o.z||r.length,h=new ws(i+c+5*(1+Math.ceil(c/7e3))+s),f=h.subarray(i,h.length-s),d=o.l,v=(o.r||0)&7;if(e){v&&(f[0]=o.r>>3);for(var _=sS[e-1],N=_>>13,w=_&8191,E=(1<<t)-1,k=o.p||new vi(32768),L=o.h||new vi(E+1),T=Math.ceil(t/3),U=2*T,O=function(ve){return(r[ve]^r[ve+1]<<T^r[ve+2]<<U)&E},B=new Cm(25e3),Y=new vi(288),ie=new vi(32),te=0,X=0,H=o.i||0,pe=0,R=o.w||0,$=0;H+2<c;++H){var se=O(H),re=H&32767,he=L[se];if(k[re]=he,L[se]=re,R<=H){var K=c-H;if((te>7e3||pe>24576)&&(K>423||!d)){v=J2(r,f,0,B,Y,ie,X,pe,$,H-$,v),pe=te=X=0,$=H;for(var le=0;le<286;++le)Y[le]=0;for(var le=0;le<30;++le)ie[le]=0}var ue=2,ae=0,ke=w,G=re-he&32767;if(K>2&&se==O(H-G))for(var A=Math.min(N,K)-1,z=Math.min(32767,H),F=Math.min(258,K);G<=z&&--ke&&re!=he;){if(r[H+ue]==r[H+ue-G]){for(var ne=0;ne<F&&r[H+ne]==r[H+ne-G];++ne);if(ne>ue){if(ue=ne,ae=G,ne>A)break;for(var ce=Math.min(G,ne-2),we=0,le=0;le<ce;++le){var je=H-G+le&32767,Ae=k[je],Me=je-Ae&32767;Me>we&&(we=Me,he=je)}}}re=he,he=k[re],G+=re-he&32767}if(ae){B[pe++]=268435456|Kp[ue]<<18|W2[ae];var $e=Kp[ue]&31,Ke=W2[ae]&31;X+=Lm[$e]+km[Ke],++Y[257+$e],++ie[Ke],R=H+ue,++te}else B[pe++]=r[H],++Y[r[H]]}}for(H=Math.max(H,R);H<c;++H)B[pe++]=r[H],++Y[r[H]];v=J2(r,f,d,B,Y,ie,X,pe,$,H-$,v),d||(o.r=v&7|f[v/8|0]<<3,v-=7,o.h=L,o.p=k,o.i=H,o.w=R)}else{for(var H=o.w||0;H<c+d;H+=65535){var Je=H+65535;Je>=c&&(f[v/8|0]=d,Je=c),v=By(f,v+1,r.subarray(H,Je))}o.i=c}return iS(h,0,i+My(v)+s)},zy=function(){var r=1,e=0;return{p:function(t){for(var i=r,s=e,o=t.length|0,c=0;c!=o;){for(var h=Math.min(c+2655,o);c<h;++c)s+=i+=t[c];i=(i&65535)+15*(i>>16),s=(s&65535)+15*(s>>16)}r=i,e=s},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},lS=function(r,e,t,i,s){if(!s&&(s={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),c=new ws(o.length+r.length);c.set(o),c.set(r,o.length),r=c,s.w=o.length}return oS(r,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,i,s)},Iy=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},cS=function(r,e){var t=e.level,i=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=i<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var s=zy();s.p(e.dictionary),Iy(r,2,s.d())}};function Zp(r,e){e||(e={});var t=zy();t.p(r);var i=lS(r,e,e.dictionary?6:2,4);return cS(i,e),Iy(i,i.length-4,t.d()),i}var uS=typeof TextDecoder!="undefined"&&new TextDecoder,hS=0;try{uS.decode(Uy,{stream:!0}),hS=1}catch(r){}function fS(r){if(Array.isArray(r))return r}function dS(r,e){var t=r==null?null:typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var i,s,o,c,h=[],f=!0,d=!1;try{if(o=(t=t.call(r)).next,e!==0)for(;!(f=(i=o.call(t)).done)&&(h.push(i.value),h.length!==e);f=!0);}catch(v){d=!0,s=v}finally{try{if(!f&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(d)throw s}}return h}}function X2(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,i=Array(e);t<e;t++)i[t]=r[t];return i}function pS(r,e){if(r){if(typeof r=="string")return X2(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?X2(r,e):void 0}}function mS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z2(r,e){return fS(r)||dS(r,e)||pS(r,e)||mS()}function Q2(r,e="utf8"){return new TextDecoder(e).decode(r)}const gS=new TextEncoder;function vS(r){return gS.encode(r)}const yS=1024*8,bS=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),up={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Tm{constructor(e=yS,t={}){yn(this,"buffer");yn(this,"byteLength");yn(this,"byteOffset");yn(this,"length");yn(this,"offset");yn(this,"lastWrittenByte");yn(this,"littleEndian");yn(this,"_data");yn(this,"_mark");yn(this,"_marks");let i=!1;typeof e=="number"?e=new ArrayBuffer(e):(i=!0,this.lastWrittenByte=e.byteLength);const s=t.offset?t.offset>>>0:0,o=e.byteLength-s;let c=s;(ArrayBuffer.isView(e)||e instanceof Tm)&&(e.byteLength!==e.buffer.byteLength&&(c=e.byteOffset+s),e=e.buffer),i?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const i=(this.offset+e)*2,s=new Uint8Array(i);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const i=up[t].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,o=this.buffer.slice(s,s+i);if(this.littleEndian===bS&&t!=="uint8"&&t!=="int8"){const h=new Uint8Array(this.buffer.slice(s,s+i));h.reverse();const f=new up[t](h.buffer);return this.offset+=i,f.reverse(),f}const c=new up[t](o);return this.offset+=i,c}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let i=0;i<e;i++)t+=this.readChar();return t}readUtf8(e=1){return Q2(this.readBytes(e))}decodeText(e=1,t="utf8"){return Q2(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(vS(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Du(r){let e=r.length;for(;--e>=0;)r[e]=0}const wS=3,xS=258,qy=29,_S=256,SS=_S+1+qy,Fy=30,NS=512,AS=new Array((SS+2)*2);Du(AS);const jS=new Array(Fy*2);Du(jS);const ES=new Array(NS);Du(ES);const CS=new Array(xS-wS+1);Du(CS);const LS=new Array(qy);Du(LS);const kS=new Array(Fy);Du(kS);const TS=(r,e,t,i)=>{let s=r&65535|0,o=r>>>16&65535|0,c=0;for(;t!==0;){c=t>2e3?2e3:t,t-=c;do s=s+e[i++]|0,o=o+s|0;while(--c);s%=65521,o%=65521}return s|o<<16|0};var Qp=TS;const OS=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var i=0;i<8;i++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},RS=new Uint32Array(OS()),DS=(r,e,t,i)=>{const s=RS,o=i+t;r^=-1;for(let c=i;c<o;c++)r=r>>>8^s[(r^e[c])&255];return r^-1};var Vs=DS,em={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Hy={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const PS=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var MS=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const i in t)PS(t,i)&&(r[i]=t[i])}}return r},BS=r=>{let e=0;for(let i=0,s=r.length;i<s;i++)e+=r[i].length;const t=new Uint8Array(e);for(let i=0,s=0,o=r.length;i<o;i++){let c=r[i];t.set(c,s),s+=c.length}return t},$y={assign:MS,flattenChunks:BS};let Vy=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(r){Vy=!1}const Dh=new Uint8Array(256);for(let r=0;r<256;r++)Dh[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Dh[254]=Dh[254]=1;var US=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,i,s,o,c=r.length,h=0;for(s=0;s<c;s++)t=r.charCodeAt(s),(t&64512)===55296&&s+1<c&&(i=r.charCodeAt(s+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),s++)),h+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(h),o=0,s=0;o<h;s++)t=r.charCodeAt(s),(t&64512)===55296&&s+1<c&&(i=r.charCodeAt(s+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),s++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const zS=(r,e)=>{if(e<65534&&r.subarray&&Vy)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let i=0;i<e;i++)t+=String.fromCharCode(r[i]);return t};var IS=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let i,s;const o=new Array(t*2);for(s=0,i=0;i<t;){let c=r[i++];if(c<128){o[s++]=c;continue}let h=Dh[c];if(h>4){o[s++]=65533,i+=h-1;continue}for(c&=h===2?31:h===3?15:7;h>1&&i<t;)c=c<<6|r[i++]&63,h--;if(h>1){o[s++]=65533;continue}c<65536?o[s++]=c:(c-=65536,o[s++]=55296|c>>10&1023,o[s++]=56320|c&1023)}return zS(o,s)},qS=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+Dh[r[t]]>e?t:e},tm={string2buf:US,buf2string:IS,utf8border:qS};function FS(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var HS=FS;const Vf=16209,$S=16191;var VS=function(e,t){let i,s,o,c,h,f,d,v,_,N,w,E,k,L,T,U,O,B,Y,ie,te,X,H,pe;const R=e.state;i=e.next_in,H=e.input,s=i+(e.avail_in-5),o=e.next_out,pe=e.output,c=o-(t-e.avail_out),h=o+(e.avail_out-257),f=R.dmax,d=R.wsize,v=R.whave,_=R.wnext,N=R.window,w=R.hold,E=R.bits,k=R.lencode,L=R.distcode,T=(1<<R.lenbits)-1,U=(1<<R.distbits)-1;e:do{E<15&&(w+=H[i++]<<E,E+=8,w+=H[i++]<<E,E+=8),O=k[w&T];t:for(;;){if(B=O>>>24,w>>>=B,E-=B,B=O>>>16&255,B===0)pe[o++]=O&65535;else if(B&16){Y=O&65535,B&=15,B&&(E<B&&(w+=H[i++]<<E,E+=8),Y+=w&(1<<B)-1,w>>>=B,E-=B),E<15&&(w+=H[i++]<<E,E+=8,w+=H[i++]<<E,E+=8),O=L[w&U];n:for(;;){if(B=O>>>24,w>>>=B,E-=B,B=O>>>16&255,B&16){if(ie=O&65535,B&=15,E<B&&(w+=H[i++]<<E,E+=8,E<B&&(w+=H[i++]<<E,E+=8)),ie+=w&(1<<B)-1,ie>f){e.msg="invalid distance too far back",R.mode=Vf;break e}if(w>>>=B,E-=B,B=o-c,ie>B){if(B=ie-B,B>v&&R.sane){e.msg="invalid distance too far back",R.mode=Vf;break e}if(te=0,X=N,_===0){if(te+=d-B,B<Y){Y-=B;do pe[o++]=N[te++];while(--B);te=o-ie,X=pe}}else if(_<B){if(te+=d+_-B,B-=_,B<Y){Y-=B;do pe[o++]=N[te++];while(--B);if(te=0,_<Y){B=_,Y-=B;do pe[o++]=N[te++];while(--B);te=o-ie,X=pe}}}else if(te+=_-B,B<Y){Y-=B;do pe[o++]=N[te++];while(--B);te=o-ie,X=pe}for(;Y>2;)pe[o++]=X[te++],pe[o++]=X[te++],pe[o++]=X[te++],Y-=3;Y&&(pe[o++]=X[te++],Y>1&&(pe[o++]=X[te++]))}else{te=o-ie;do pe[o++]=pe[te++],pe[o++]=pe[te++],pe[o++]=pe[te++],Y-=3;while(Y>2);Y&&(pe[o++]=pe[te++],Y>1&&(pe[o++]=pe[te++]))}}else if((B&64)===0){O=L[(O&65535)+(w&(1<<B)-1)];continue n}else{e.msg="invalid distance code",R.mode=Vf;break e}break}}else if((B&64)===0){O=k[(O&65535)+(w&(1<<B)-1)];continue t}else if(B&32){R.mode=$S;break e}else{e.msg="invalid literal/length code",R.mode=Vf;break e}break}}while(i<s&&o<h);Y=E>>3,i-=Y,E-=Y<<3,w&=(1<<E)-1,e.next_in=i,e.next_out=o,e.avail_in=i<s?5+(s-i):5-(i-s),e.avail_out=o<h?257+(h-o):257-(o-h),R.hold=w,R.bits=E};const du=15,ev=852,tv=592,nv=0,hp=1,rv=2,GS=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),YS=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),WS=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),KS=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),JS=(r,e,t,i,s,o,c,h)=>{const f=h.bits;let d=0,v=0,_=0,N=0,w=0,E=0,k=0,L=0,T=0,U=0,O,B,Y,ie,te,X=null,H;const pe=new Uint16Array(du+1),R=new Uint16Array(du+1);let $=null,se,re,he;for(d=0;d<=du;d++)pe[d]=0;for(v=0;v<i;v++)pe[e[t+v]]++;for(w=f,N=du;N>=1&&pe[N]===0;N--);if(w>N&&(w=N),N===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,h.bits=1,0;for(_=1;_<N&&pe[_]===0;_++);for(w<_&&(w=_),L=1,d=1;d<=du;d++)if(L<<=1,L-=pe[d],L<0)return-1;if(L>0&&(r===nv||N!==1))return-1;for(R[1]=0,d=1;d<du;d++)R[d+1]=R[d]+pe[d];for(v=0;v<i;v++)e[t+v]!==0&&(c[R[e[t+v]]++]=v);if(r===nv?(X=$=c,H=20):r===hp?(X=GS,$=YS,H=257):(X=WS,$=KS,H=0),U=0,v=0,d=_,te=o,E=w,k=0,Y=-1,T=1<<w,ie=T-1,r===hp&&T>ev||r===rv&&T>tv)return 1;for(;;){se=d-k,c[v]+1<H?(re=0,he=c[v]):c[v]>=H?(re=$[c[v]-H],he=X[c[v]-H]):(re=96,he=0),O=1<<d-k,B=1<<E,_=B;do B-=O,s[te+(U>>k)+B]=se<<24|re<<16|he|0;while(B!==0);for(O=1<<d-1;U&O;)O>>=1;if(O!==0?(U&=O-1,U+=O):U=0,v++,--pe[d]===0){if(d===N)break;d=e[t+c[v]]}if(d>w&&(U&ie)!==Y){for(k===0&&(k=w),te+=_,E=d-k,L=1<<E;E+k<N&&(L-=pe[E+k],!(L<=0));)E++,L<<=1;if(T+=1<<E,r===hp&&T>ev||r===rv&&T>tv)return 1;Y=U&ie,s[Y]=w<<24|E<<16|te-o|0}}return U!==0&&(s[te+U]=d-k<<24|64<<16|0),h.bits=w,0};var jh=JS;const XS=0,Gy=1,Yy=2,{Z_FINISH:av,Z_BLOCK:ZS,Z_TREES:Gf,Z_OK:pc,Z_STREAM_END:QS,Z_NEED_DICT:eN,Z_STREAM_ERROR:Ii,Z_DATA_ERROR:Wy,Z_MEM_ERROR:Ky,Z_BUF_ERROR:tN,Z_DEFLATED:iv}=Hy,Ld=16180,sv=16181,ov=16182,lv=16183,cv=16184,uv=16185,hv=16186,fv=16187,dv=16188,pv=16189,vd=16190,Co=16191,fp=16192,mv=16193,dp=16194,gv=16195,vv=16196,yv=16197,bv=16198,Yf=16199,Wf=16200,wv=16201,xv=16202,_v=16203,Sv=16204,Nv=16205,pp=16206,Av=16207,jv=16208,nr=16209,Jy=16210,Xy=16211,nN=852,rN=592,aN=15,iN=aN,Ev=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function sN(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const gc=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<Ld||e.mode>Xy?1:0},Zy=r=>{if(gc(r))return Ii;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=Ld,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(nN),e.distcode=e.distdyn=new Int32Array(rN),e.sane=1,e.back=-1,pc},Qy=r=>{if(gc(r))return Ii;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,Zy(r)},eb=(r,e)=>{let t;if(gc(r))return Ii;const i=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ii:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=t,i.wbits=e,Qy(r))},tb=(r,e)=>{if(!r)return Ii;const t=new sN;r.state=t,t.strm=r,t.window=null,t.mode=Ld;const i=eb(r,e);return i!==pc&&(r.state=null),i},oN=r=>tb(r,iN);let Cv=!0,mp,gp;const lN=r=>{if(Cv){mp=new Int32Array(512),gp=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(jh(Gy,r.lens,0,288,mp,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;jh(Yy,r.lens,0,32,gp,0,r.work,{bits:5}),Cv=!1}r.lencode=mp,r.lenbits=9,r.distcode=gp,r.distbits=5},nb=(r,e,t,i)=>{let s;const o=r.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>i&&(s=i),o.window.set(e.subarray(t-i,t-i+s),o.wnext),i-=s,i?(o.window.set(e.subarray(t-i,t),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0},cN=(r,e)=>{let t,i,s,o,c,h,f,d,v,_,N,w,E,k,L=0,T,U,O,B,Y,ie,te,X;const H=new Uint8Array(4);let pe,R;const $=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(gc(r)||!r.output||!r.input&&r.avail_in!==0)return Ii;t=r.state,t.mode===Co&&(t.mode=fp),c=r.next_out,s=r.output,f=r.avail_out,o=r.next_in,i=r.input,h=r.avail_in,d=t.hold,v=t.bits,_=h,N=f,X=pc;e:for(;;)switch(t.mode){case Ld:if(t.wrap===0){t.mode=fp;break}for(;v<16;){if(h===0)break e;h--,d+=i[o++]<<v,v+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,H[0]=d&255,H[1]=d>>>8&255,t.check=Vs(t.check,H,2,0),d=0,v=0,t.mode=sv;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){r.msg="incorrect header check",t.mode=nr;break}if((d&15)!==iv){r.msg="unknown compression method",t.mode=nr;break}if(d>>>=4,v-=4,te=(d&15)+8,t.wbits===0&&(t.wbits=te),te>15||te>t.wbits){r.msg="invalid window size",t.mode=nr;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=d&512?pv:Co,d=0,v=0;break;case sv:for(;v<16;){if(h===0)break e;h--,d+=i[o++]<<v,v+=8}if(t.flags=d,(t.flags&255)!==iv){r.msg="unknown compression method",t.mode=nr;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=nr;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(H[0]=d&255,H[1]=d>>>8&255,t.check=Vs(t.check,H,2,0)),d=0,v=0,t.mode=ov;case ov:for(;v<32;){if(h===0)break e;h--,d+=i[o++]<<v,v+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(H[0]=d&255,H[1]=d>>>8&255,H[2]=d>>>16&255,H[3]=d>>>24&255,t.check=Vs(t.check,H,4,0)),d=0,v=0,t.mode=lv;case lv:for(;v<16;){if(h===0)break e;h--,d+=i[o++]<<v,v+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(H[0]=d&255,H[1]=d>>>8&255,t.check=Vs(t.check,H,2,0)),d=0,v=0,t.mode=cv;case cv:if(t.flags&1024){for(;v<16;){if(h===0)break e;h--,d+=i[o++]<<v,v+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(H[0]=d&255,H[1]=d>>>8&255,t.check=Vs(t.check,H,2,0)),d=0,v=0}else t.head&&(t.head.extra=null);t.mode=uv;case uv:if(t.flags&1024&&(w=t.length,w>h&&(w=h),w&&(t.head&&(te=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(o,o+w),te)),t.flags&512&&t.wrap&4&&(t.check=Vs(t.check,i,w,o)),h-=w,o+=w,t.length-=w),t.length))break e;t.length=0,t.mode=hv;case hv:if(t.flags&2048){if(h===0)break e;w=0;do te=i[o+w++],t.head&&te&&t.length<65536&&(t.head.name+=String.fromCharCode(te));while(te&&w<h);if(t.flags&512&&t.wrap&4&&(t.check=Vs(t.check,i,w,o)),h-=w,o+=w,te)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=fv;case fv:if(t.flags&4096){if(h===0)break e;w=0;do te=i[o+w++],t.head&&te&&t.length<65536&&(t.head.comment+=String.fromCharCode(te));while(te&&w<h);if(t.flags&512&&t.wrap&4&&(t.check=Vs(t.check,i,w,o)),h-=w,o+=w,te)break e}else t.head&&(t.head.comment=null);t.mode=dv;case dv:if(t.flags&512){for(;v<16;){if(h===0)break e;h--,d+=i[o++]<<v,v+=8}if(t.wrap&4&&d!==(t.check&65535)){r.msg="header crc mismatch",t.mode=nr;break}d=0,v=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=Co;break;case pv:for(;v<32;){if(h===0)break e;h--,d+=i[o++]<<v,v+=8}r.adler=t.check=Ev(d),d=0,v=0,t.mode=vd;case vd:if(t.havedict===0)return r.next_out=c,r.avail_out=f,r.next_in=o,r.avail_in=h,t.hold=d,t.bits=v,eN;r.adler=t.check=1,t.mode=Co;case Co:if(e===ZS||e===Gf)break e;case fp:if(t.last){d>>>=v&7,v-=v&7,t.mode=pp;break}for(;v<3;){if(h===0)break e;h--,d+=i[o++]<<v,v+=8}switch(t.last=d&1,d>>>=1,v-=1,d&3){case 0:t.mode=mv;break;case 1:if(lN(t),t.mode=Yf,e===Gf){d>>>=2,v-=2;break e}break;case 2:t.mode=vv;break;case 3:r.msg="invalid block type",t.mode=nr}d>>>=2,v-=2;break;case mv:for(d>>>=v&7,v-=v&7;v<32;){if(h===0)break e;h--,d+=i[o++]<<v,v+=8}if((d&65535)!==(d>>>16^65535)){r.msg="invalid stored block lengths",t.mode=nr;break}if(t.length=d&65535,d=0,v=0,t.mode=dp,e===Gf)break e;case dp:t.mode=gv;case gv:if(w=t.length,w){if(w>h&&(w=h),w>f&&(w=f),w===0)break e;s.set(i.subarray(o,o+w),c),h-=w,o+=w,f-=w,c+=w,t.length-=w;break}t.mode=Co;break;case vv:for(;v<14;){if(h===0)break e;h--,d+=i[o++]<<v,v+=8}if(t.nlen=(d&31)+257,d>>>=5,v-=5,t.ndist=(d&31)+1,d>>>=5,v-=5,t.ncode=(d&15)+4,d>>>=4,v-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=nr;break}t.have=0,t.mode=yv;case yv:for(;t.have<t.ncode;){for(;v<3;){if(h===0)break e;h--,d+=i[o++]<<v,v+=8}t.lens[$[t.have++]]=d&7,d>>>=3,v-=3}for(;t.have<19;)t.lens[$[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,pe={bits:t.lenbits},X=jh(XS,t.lens,0,19,t.lencode,0,t.work,pe),t.lenbits=pe.bits,X){r.msg="invalid code lengths set",t.mode=nr;break}t.have=0,t.mode=bv;case bv:for(;t.have<t.nlen+t.ndist;){for(;L=t.lencode[d&(1<<t.lenbits)-1],T=L>>>24,U=L>>>16&255,O=L&65535,!(T<=v);){if(h===0)break e;h--,d+=i[o++]<<v,v+=8}if(O<16)d>>>=T,v-=T,t.lens[t.have++]=O;else{if(O===16){for(R=T+2;v<R;){if(h===0)break e;h--,d+=i[o++]<<v,v+=8}if(d>>>=T,v-=T,t.have===0){r.msg="invalid bit length repeat",t.mode=nr;break}te=t.lens[t.have-1],w=3+(d&3),d>>>=2,v-=2}else if(O===17){for(R=T+3;v<R;){if(h===0)break e;h--,d+=i[o++]<<v,v+=8}d>>>=T,v-=T,te=0,w=3+(d&7),d>>>=3,v-=3}else{for(R=T+7;v<R;){if(h===0)break e;h--,d+=i[o++]<<v,v+=8}d>>>=T,v-=T,te=0,w=11+(d&127),d>>>=7,v-=7}if(t.have+w>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=nr;break}for(;w--;)t.lens[t.have++]=te}}if(t.mode===nr)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=nr;break}if(t.lenbits=9,pe={bits:t.lenbits},X=jh(Gy,t.lens,0,t.nlen,t.lencode,0,t.work,pe),t.lenbits=pe.bits,X){r.msg="invalid literal/lengths set",t.mode=nr;break}if(t.distbits=6,t.distcode=t.distdyn,pe={bits:t.distbits},X=jh(Yy,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,pe),t.distbits=pe.bits,X){r.msg="invalid distances set",t.mode=nr;break}if(t.mode=Yf,e===Gf)break e;case Yf:t.mode=Wf;case Wf:if(h>=6&&f>=258){r.next_out=c,r.avail_out=f,r.next_in=o,r.avail_in=h,t.hold=d,t.bits=v,VS(r,N),c=r.next_out,s=r.output,f=r.avail_out,o=r.next_in,i=r.input,h=r.avail_in,d=t.hold,v=t.bits,t.mode===Co&&(t.back=-1);break}for(t.back=0;L=t.lencode[d&(1<<t.lenbits)-1],T=L>>>24,U=L>>>16&255,O=L&65535,!(T<=v);){if(h===0)break e;h--,d+=i[o++]<<v,v+=8}if(U&&(U&240)===0){for(B=T,Y=U,ie=O;L=t.lencode[ie+((d&(1<<B+Y)-1)>>B)],T=L>>>24,U=L>>>16&255,O=L&65535,!(B+T<=v);){if(h===0)break e;h--,d+=i[o++]<<v,v+=8}d>>>=B,v-=B,t.back+=B}if(d>>>=T,v-=T,t.back+=T,t.length=O,U===0){t.mode=Nv;break}if(U&32){t.back=-1,t.mode=Co;break}if(U&64){r.msg="invalid literal/length code",t.mode=nr;break}t.extra=U&15,t.mode=wv;case wv:if(t.extra){for(R=t.extra;v<R;){if(h===0)break e;h--,d+=i[o++]<<v,v+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,v-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=xv;case xv:for(;L=t.distcode[d&(1<<t.distbits)-1],T=L>>>24,U=L>>>16&255,O=L&65535,!(T<=v);){if(h===0)break e;h--,d+=i[o++]<<v,v+=8}if((U&240)===0){for(B=T,Y=U,ie=O;L=t.distcode[ie+((d&(1<<B+Y)-1)>>B)],T=L>>>24,U=L>>>16&255,O=L&65535,!(B+T<=v);){if(h===0)break e;h--,d+=i[o++]<<v,v+=8}d>>>=B,v-=B,t.back+=B}if(d>>>=T,v-=T,t.back+=T,U&64){r.msg="invalid distance code",t.mode=nr;break}t.offset=O,t.extra=U&15,t.mode=_v;case _v:if(t.extra){for(R=t.extra;v<R;){if(h===0)break e;h--,d+=i[o++]<<v,v+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,v-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=nr;break}t.mode=Sv;case Sv:if(f===0)break e;if(w=N-f,t.offset>w){if(w=t.offset-w,w>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=nr;break}w>t.wnext?(w-=t.wnext,E=t.wsize-w):E=t.wnext-w,w>t.length&&(w=t.length),k=t.window}else k=s,E=c-t.offset,w=t.length;w>f&&(w=f),f-=w,t.length-=w;do s[c++]=k[E++];while(--w);t.length===0&&(t.mode=Wf);break;case Nv:if(f===0)break e;s[c++]=t.length,f--,t.mode=Wf;break;case pp:if(t.wrap){for(;v<32;){if(h===0)break e;h--,d|=i[o++]<<v,v+=8}if(N-=f,r.total_out+=N,t.total+=N,t.wrap&4&&N&&(r.adler=t.check=t.flags?Vs(t.check,s,N,c-N):Qp(t.check,s,N,c-N)),N=f,t.wrap&4&&(t.flags?d:Ev(d))!==t.check){r.msg="incorrect data check",t.mode=nr;break}d=0,v=0}t.mode=Av;case Av:if(t.wrap&&t.flags){for(;v<32;){if(h===0)break e;h--,d+=i[o++]<<v,v+=8}if(t.wrap&4&&d!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=nr;break}d=0,v=0}t.mode=jv;case jv:X=QS;break e;case nr:X=Wy;break e;case Jy:return Ky;case Xy:default:return Ii}return r.next_out=c,r.avail_out=f,r.next_in=o,r.avail_in=h,t.hold=d,t.bits=v,(t.wsize||N!==r.avail_out&&t.mode<nr&&(t.mode<pp||e!==av))&&nb(r,r.output,r.next_out,N-r.avail_out),_-=r.avail_in,N-=r.avail_out,r.total_in+=_,r.total_out+=N,t.total+=N,t.wrap&4&&N&&(r.adler=t.check=t.flags?Vs(t.check,s,N,r.next_out-N):Qp(t.check,s,N,r.next_out-N)),r.data_type=t.bits+(t.last?64:0)+(t.mode===Co?128:0)+(t.mode===Yf||t.mode===dp?256:0),(_===0&&N===0||e===av)&&X===pc&&(X=tN),X},uN=r=>{if(gc(r))return Ii;let e=r.state;return e.window&&(e.window=null),r.state=null,pc},hN=(r,e)=>{if(gc(r))return Ii;const t=r.state;return(t.wrap&2)===0?Ii:(t.head=e,e.done=!1,pc)},fN=(r,e)=>{const t=e.length;let i,s,o;return gc(r)||(i=r.state,i.wrap!==0&&i.mode!==vd)?Ii:i.mode===vd&&(s=1,s=Qp(s,e,t,0),s!==i.check)?Wy:(o=nb(r,e,t,t),o?(i.mode=Jy,Ky):(i.havedict=1,pc))};var dN=Qy,pN=eb,mN=Zy,gN=oN,vN=tb,yN=cN,bN=uN,wN=hN,xN=fN,_N="pako inflate (from Nodeca project)",ko={inflateReset:dN,inflateReset2:pN,inflateResetKeep:mN,inflateInit:gN,inflateInit2:vN,inflate:yN,inflateEnd:bN,inflateGetHeader:wN,inflateSetDictionary:xN,inflateInfo:_N};function SN(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var NN=SN;const rb=Object.prototype.toString,{Z_NO_FLUSH:AN,Z_FINISH:jN,Z_OK:Ph,Z_STREAM_END:vp,Z_NEED_DICT:yp,Z_STREAM_ERROR:EN,Z_DATA_ERROR:Lv,Z_MEM_ERROR:CN}=Hy;function Ih(r){this.options=$y.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new HS,this.strm.avail_out=0;let t=ko.inflateInit2(this.strm,e.windowBits);if(t!==Ph)throw new Error(em[t]);if(this.header=new NN,ko.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=tm.string2buf(e.dictionary):rb.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=ko.inflateSetDictionary(this.strm,e.dictionary),t!==Ph)))throw new Error(em[t])}Ih.prototype.push=function(r,e){const t=this.strm,i=this.options.chunkSize,s=this.options.dictionary;let o,c,h;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?jN:AN,rb.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),o=ko.inflate(t,c),o===yp&&s&&(o=ko.inflateSetDictionary(t,s),o===Ph?o=ko.inflate(t,c):o===Lv&&(o=yp));t.avail_in>0&&o===vp&&t.state.wrap>0&&r[t.next_in]!==0;)ko.inflateReset(t),o=ko.inflate(t,c);switch(o){case EN:case Lv:case yp:case CN:return this.onEnd(o),this.ended=!0,!1}if(h=t.avail_out,t.next_out&&(t.avail_out===0||o===vp))if(this.options.to==="string"){let f=tm.utf8border(t.output,t.next_out),d=t.next_out-f,v=tm.buf2string(t.output,f);t.next_out=d,t.avail_out=i-d,d&&t.output.set(t.output.subarray(f,f+d),0),this.onData(v)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===Ph&&h===0)){if(o===vp)return o=ko.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Ih.prototype.onData=function(r){this.chunks.push(r)};Ih.prototype.onEnd=function(r){r===Ph&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=$y.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function LN(r,e){const t=new Ih(e);if(t.push(r),t.err)throw t.msg||em[t.err];return t.result}var kN=Ih,TN=LN,ON={Inflate:kN,inflate:TN};const{Inflate:RN,inflate:DN}=ON;var kv=RN,PN=DN;const ab=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;ab[r]=e}const Tv=4294967295;function MN(r,e,t){let i=r;for(let s=0;s<t;s++)i=ab[(i^e[s])&255]^i>>>8;return i}function BN(r,e){return(MN(Tv,r,e)^Tv)>>>0}function Ov(r,e,t){const i=r.readUint32(),s=BN(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(s!==i)throw new Error(`CRC mismatch for chunk ${t}. Expected ${i}, found ${s}`)}function ib(r,e,t){for(let i=0;i<t;i++)e[i]=r[i]}function sb(r,e,t,i){let s=0;for(;s<i;s++)e[s]=r[s];for(;s<t;s++)e[s]=r[s]+e[s-i]&255}function ob(r,e,t,i){let s=0;if(t.length===0)for(;s<i;s++)e[s]=r[s];else for(;s<i;s++)e[s]=r[s]+t[s]&255}function lb(r,e,t,i,s){let o=0;if(t.length===0){for(;o<s;o++)e[o]=r[o];for(;o<i;o++)e[o]=r[o]+(e[o-s]>>1)&255}else{for(;o<s;o++)e[o]=r[o]+(t[o]>>1)&255;for(;o<i;o++)e[o]=r[o]+(e[o-s]+t[o]>>1)&255}}function cb(r,e,t,i,s){let o=0;if(t.length===0){for(;o<s;o++)e[o]=r[o];for(;o<i;o++)e[o]=r[o]+e[o-s]&255}else{for(;o<s;o++)e[o]=r[o]+t[o]&255;for(;o<i;o++)e[o]=r[o]+UN(e[o-s],t[o],t[o-s])&255}}function UN(r,e,t){const i=r+e-t,s=Math.abs(i-r),o=Math.abs(i-e),c=Math.abs(i-t);return s<=o&&s<=c?r:o<=c?e:t}function zN(r,e,t,i,s,o){switch(r){case 0:ib(e,t,s);break;case 1:sb(e,t,s,o);break;case 2:ob(e,t,i,s);break;case 3:lb(e,t,i,s,o);break;case 4:cb(e,t,i,s,o);break;default:throw new Error(`Unsupported filter: ${r}`)}}const IN=new Uint16Array([255]),qN=new Uint8Array(IN.buffer),FN=qN[0]===255;function HN(r){const{data:e,width:t,height:i,channels:s,depth:o}=r,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],h=Math.ceil(o/8)*s,f=new Uint8Array(i*t*h);let d=0;for(let v=0;v<7;v++){const _=c[v],N=Math.ceil((t-_.x)/_.xStep),w=Math.ceil((i-_.y)/_.yStep);if(N<=0||w<=0)continue;const E=N*h,k=new Uint8Array(E);for(let L=0;L<w;L++){const T=e[d++],U=e.subarray(d,d+E);d+=E;const O=new Uint8Array(E);zN(T,U,O,k,E,h),k.set(O);for(let B=0;B<N;B++){const Y=_.x+B*_.xStep,ie=_.y+L*_.yStep;if(!(Y>=t||ie>=i))for(let te=0;te<h;te++)f[(ie*t+Y)*h+te]=O[B*h+te]}}}if(o===16){const v=new Uint16Array(f.buffer);if(FN)for(let _=0;_<v.length;_++)v[_]=$N(v[_]);return v}else return f}function $N(r){return(r&255)<<8|r>>8&255}const VN=new Uint16Array([255]),GN=new Uint8Array(VN.buffer),YN=GN[0]===255,WN=new Uint8Array(0);function Rv(r){const{data:e,width:t,height:i,channels:s,depth:o}=r,c=Math.ceil(o/8)*s,h=Math.ceil(o/8*s*t),f=new Uint8Array(i*h);let d=WN,v=0,_,N;for(let w=0;w<i;w++){switch(_=e.subarray(v+1,v+1+h),N=f.subarray(w*h,(w+1)*h),e[v]){case 0:ib(_,N,h);break;case 1:sb(_,N,h,c);break;case 2:ob(_,N,d,h);break;case 3:lb(_,N,d,h,c);break;case 4:cb(_,N,d,h,c);break;default:throw new Error(`Unsupported filter: ${e[v]}`)}d=N,v+=h+1}if(o===16){const w=new Uint16Array(f.buffer);if(YN)for(let E=0;E<w.length;E++)w[E]=KN(w[E]);return w}else return f}function KN(r){return(r&255)<<8|r>>8&255}const ad=Uint8Array.of(137,80,78,71,13,10,26,10);function Dv(r){if(!JN(r.readBytes(ad.length)))throw new Error("wrong PNG signature")}function JN(r){if(r.length<ad.length)return!1;for(let e=0;e<ad.length;e++)if(r[e]!==ad[e])return!1;return!0}const XN="tEXt",ZN=0,ub=new TextDecoder("latin1");function QN(r){if(t8(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const e8=/^[\u0000-\u00FF]*$/;function t8(r){if(!e8.test(r))throw new Error("invalid latin1 text")}function n8(r,e,t){const i=hb(e);r[i]=r8(e,t-i.length-1)}function hb(r){for(r.mark();r.readByte()!==ZN;);const e=r.offset;r.reset();const t=ub.decode(r.readBytes(e-r.offset-1));return r.skip(1),QN(t),t}function r8(r,e){return ub.decode(r.readBytes(e))}const pi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},bp={UNKNOWN:-1,DEFLATE:0},Pv={UNKNOWN:-1,ADAPTIVE:0},wp={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Kf={NONE:0,BACKGROUND:1,PREVIOUS:2},xp={SOURCE:0,OVER:1};class a8 extends Tm{constructor(t,i={}){super(t);yn(this,"_checkCrc");yn(this,"_inflator");yn(this,"_png");yn(this,"_apng");yn(this,"_end");yn(this,"_hasPalette");yn(this,"_palette");yn(this,"_hasTransparency");yn(this,"_transparency");yn(this,"_compressionMethod");yn(this,"_filterMethod");yn(this,"_interlaceMethod");yn(this,"_colorType");yn(this,"_isAnimated");yn(this,"_numberOfFrames");yn(this,"_numberOfPlays");yn(this,"_frames");yn(this,"_writingDataChunks");const{checkCrc:s=!1}=i;this._checkCrc=s,this._inflator=new kv,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=bp.UNKNOWN,this._filterMethod=Pv.UNKNOWN,this._interlaceMethod=wp.UNKNOWN,this._colorType=pi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Dv(this);!this._end;){const t=this.readUint32(),i=this.readChars(4);this.decodeChunk(t,i)}return this.decodeImage(),this._png}decodeApng(){for(Dv(this);!this._end;){const t=this.readUint32(),i=this.readChars(4);this.decodeApngChunk(t,i)}return this.decodeApngImage(),this._apng}decodeChunk(t,i){const s=this.offset;switch(i){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case XN:n8(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-s!==t)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?Ov(this,t+4,i):this.skip(4)}decodeApngChunk(t,i){const s=this.offset;switch(i!=="fdAT"&&i!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),i){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,i),this.offset=s+t;break}if(this.offset-s!==t)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?Ov(this,t+4,i):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=i8(this.readUint8());const i=this.readUint8();this._colorType=i;let s;switch(i){case pi.GREYSCALE:s=1;break;case pi.TRUECOLOUR:s=3;break;case pi.INDEXED_COLOUR:s=1;break;case pi.GREYSCALE_ALPHA:s=2;break;case pi.TRUECOLOUR_ALPHA:s=4;break;case pi.UNKNOWN:default:throw new Error(`Unknown color type: ${i}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==bp.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const i=t/3;this._hasPalette=!0;const s=[];this._palette=s;for(let o=0;o<i;o++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const i=t,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let i=t,s=this.offset+this.byteOffset;if(s+=4,i-=4,this._inflator.push(new Uint8Array(this.buffer,s,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case pi.GREYSCALE:case pi.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let i=0;i<t/2;i++)this._transparency[i]=this.readUint16();break}case pi.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let i=0;for(;i<t;i++){const s=this.readByte();this._palette[i].push(s)}for(;i<this._palette.length;i++)this._palette[i].push(255);break}case pi.UNKNOWN:case pi.GREYSCALE_ALPHA:case pi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const i=hb(this),s=this.readUint8();if(s!==bp.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const o=this.readBytes(t-i.length-2);this._png.iccEmbeddedProfile={name:i,profile:PN(o)}}decodepHYs(){const t=this.readUint32(),i=this.readUint32(),s=this.readByte();this._png.resolution={x:t,y:i,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const i={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(t);if(s){if(s.data=Rv({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)i.data=s.data;else{const o=this._apng.frames.at(t-1);this.disposeFrame(s,o,i),this.addFrameDataToCanvas(i,s)}this._apng.frames.push(i)}}return this._apng}disposeFrame(t,i,s){switch(t.disposeOp){case Kf.NONE:break;case Kf.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let c=0;c<this._png.width;c++){const h=(o*t.width+c)*this._png.channels;for(let f=0;f<this._png.channels;f++)s.data[h+f]=0}break;case Kf.PREVIOUS:s.data.set(i.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,i){const s=1<<this._png.depth,o=(c,h)=>{const f=((c+i.yOffset)*this._png.width+i.xOffset+h)*this._png.channels,d=(c*i.width+h)*this._png.channels;return{index:f,frameIndex:d}};switch(i.blendOp){case xp.SOURCE:for(let c=0;c<i.height;c++)for(let h=0;h<i.width;h++){const{index:f,frameIndex:d}=o(c,h);for(let v=0;v<this._png.channels;v++)t.data[f+v]=i.data[d+v]}break;case xp.OVER:for(let c=0;c<i.height;c++)for(let h=0;h<i.width;h++){const{index:f,frameIndex:d}=o(c,h);for(let v=0;v<this._png.channels;v++){const _=i.data[d+this._png.channels-1]/s,N=v%(this._png.channels-1)===0?1:i.data[d+v],w=Math.floor(_*N+(1-_)*t.data[f+v]);t.data[f+v]+=w}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var i;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((i=this._frames)==null?void 0:i.at(0)).data:this._inflator.result;if(this._filterMethod!==Pv.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===wp.NO_INTERLACE)this._png.data=Rv({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===wp.ADAM7)this._png.data=HN({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,i=this._frames.at(-1);i?i.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Kf.NONE,blendOp:xp.SOURCE,data:t}),this._inflator=new kv,this._writingDataChunks=!1}}function i8(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var Mv;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(Mv||(Mv={}));function s8(r,e){return new a8(r,e).decode()}var Pt=(function(){return typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this})();function _p(){Pt.console&&typeof Pt.console.log=="function"&&Pt.console.log.apply(Pt.console,arguments)}var zn={log:_p,warn:function(r){Pt.console&&(typeof Pt.console.warn=="function"?Pt.console.warn.apply(Pt.console,arguments):_p.call(null,arguments))},error:function(r){Pt.console&&(typeof Pt.console.error=="function"?Pt.console.error.apply(Pt.console,arguments):_p(r))}};function Sp(r,e,t){var i=new XMLHttpRequest;i.open("GET",r),i.responseType="blob",i.onload=function(){ac(i.response,e,t)},i.onerror=function(){zn.error("could not download file")},i.send()}function Bv(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch(t){}return e.status>=200&&e.status<=299}function Jf(r){try{r.dispatchEvent(new MouseEvent("click"))}catch(t){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var ac=Pt.saveAs||((typeof window=="undefined"?"undefined":Cn(window))!=="object"||window!==Pt?function(){}:typeof HTMLAnchorElement!="undefined"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var i=Pt.URL||Pt.webkitURL,s=document.createElement("a");e=e||r.name||"download",s.download=e,s.rel="noopener",typeof r=="string"?(s.href=r,s.origin!==location.origin?Bv(s.href)?Sp(r,e,t):Jf(s,s.target="_blank"):Jf(s)):(s.href=i.createObjectURL(r),setTimeout(function(){i.revokeObjectURL(s.href)},4e4),setTimeout(function(){Jf(s)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(Bv(r))Sp(r,e,t);else{var i=document.createElement("a");i.href=r,i.target="_blank",setTimeout(function(){Jf(i)})}else navigator.msSaveOrOpenBlob((function(s,o){return o===void 0?o={autoBom:!1}:Cn(o)!=="object"&&(zn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(r,t),e)}:function(r,e,t,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof r=="string")return Sp(r,e,t);var s=r.type==="application/octet-stream",o=/constructor/i.test(Pt.HTMLElement)||Pt.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&o)&&(typeof FileReader=="undefined"?"undefined":Cn(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var v=h.result;v=c?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=v:location=v,i=null},h.readAsDataURL(r)}else{var f=Pt.URL||Pt.webkitURL,d=f.createObjectURL(r);i?i.location=d:location.href=d,i=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});function fb(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],i=0;i<t.length;i++){var s=t[i].re,o=t[i].process,c=s.exec(r);c&&(e=o(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+h+f+d}}var id=Pt.atob.bind(Pt),Uv=Pt.btoa.bind(Pt);function Np(r,e){var t=r[0],i=r[1],s=r[2],o=r[3];t=ma(t,i,s,o,e[0],7,-680876936),o=ma(o,t,i,s,e[1],12,-389564586),s=ma(s,o,t,i,e[2],17,606105819),i=ma(i,s,o,t,e[3],22,-1044525330),t=ma(t,i,s,o,e[4],7,-176418897),o=ma(o,t,i,s,e[5],12,1200080426),s=ma(s,o,t,i,e[6],17,-1473231341),i=ma(i,s,o,t,e[7],22,-45705983),t=ma(t,i,s,o,e[8],7,1770035416),o=ma(o,t,i,s,e[9],12,-1958414417),s=ma(s,o,t,i,e[10],17,-42063),i=ma(i,s,o,t,e[11],22,-1990404162),t=ma(t,i,s,o,e[12],7,1804603682),o=ma(o,t,i,s,e[13],12,-40341101),s=ma(s,o,t,i,e[14],17,-1502002290),t=ga(t,i=ma(i,s,o,t,e[15],22,1236535329),s,o,e[1],5,-165796510),o=ga(o,t,i,s,e[6],9,-1069501632),s=ga(s,o,t,i,e[11],14,643717713),i=ga(i,s,o,t,e[0],20,-373897302),t=ga(t,i,s,o,e[5],5,-701558691),o=ga(o,t,i,s,e[10],9,38016083),s=ga(s,o,t,i,e[15],14,-660478335),i=ga(i,s,o,t,e[4],20,-405537848),t=ga(t,i,s,o,e[9],5,568446438),o=ga(o,t,i,s,e[14],9,-1019803690),s=ga(s,o,t,i,e[3],14,-187363961),i=ga(i,s,o,t,e[8],20,1163531501),t=ga(t,i,s,o,e[13],5,-1444681467),o=ga(o,t,i,s,e[2],9,-51403784),s=ga(s,o,t,i,e[7],14,1735328473),t=va(t,i=ga(i,s,o,t,e[12],20,-1926607734),s,o,e[5],4,-378558),o=va(o,t,i,s,e[8],11,-2022574463),s=va(s,o,t,i,e[11],16,1839030562),i=va(i,s,o,t,e[14],23,-35309556),t=va(t,i,s,o,e[1],4,-1530992060),o=va(o,t,i,s,e[4],11,1272893353),s=va(s,o,t,i,e[7],16,-155497632),i=va(i,s,o,t,e[10],23,-1094730640),t=va(t,i,s,o,e[13],4,681279174),o=va(o,t,i,s,e[0],11,-358537222),s=va(s,o,t,i,e[3],16,-722521979),i=va(i,s,o,t,e[6],23,76029189),t=va(t,i,s,o,e[9],4,-640364487),o=va(o,t,i,s,e[12],11,-421815835),s=va(s,o,t,i,e[15],16,530742520),t=ya(t,i=va(i,s,o,t,e[2],23,-995338651),s,o,e[0],6,-198630844),o=ya(o,t,i,s,e[7],10,1126891415),s=ya(s,o,t,i,e[14],15,-1416354905),i=ya(i,s,o,t,e[5],21,-57434055),t=ya(t,i,s,o,e[12],6,1700485571),o=ya(o,t,i,s,e[3],10,-1894986606),s=ya(s,o,t,i,e[10],15,-1051523),i=ya(i,s,o,t,e[1],21,-2054922799),t=ya(t,i,s,o,e[8],6,1873313359),o=ya(o,t,i,s,e[15],10,-30611744),s=ya(s,o,t,i,e[6],15,-1560198380),i=ya(i,s,o,t,e[13],21,1309151649),t=ya(t,i,s,o,e[4],6,-145523070),o=ya(o,t,i,s,e[11],10,-1120210379),s=ya(s,o,t,i,e[2],15,718787259),i=ya(i,s,o,t,e[9],21,-343485551),r[0]=xl(t,r[0]),r[1]=xl(i,r[1]),r[2]=xl(s,r[2]),r[3]=xl(o,r[3])}function kd(r,e,t,i,s,o){return e=xl(xl(e,r),xl(i,o)),xl(e<<s|e>>>32-s,t)}function ma(r,e,t,i,s,o,c){return kd(e&t|~e&i,r,e,s,o,c)}function ga(r,e,t,i,s,o,c){return kd(e&i|t&~i,r,e,s,o,c)}function va(r,e,t,i,s,o,c){return kd(e^t^i,r,e,s,o,c)}function ya(r,e,t,i,s,o,c){return kd(t^(e|~i),r,e,s,o,c)}function db(r){var e,t=r.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)Np(i,o8(r.substring(e-64,e)));r=r.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)s[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(Np(i,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,Np(i,s),i}function o8(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var zv="0123456789abcdef".split("");function l8(r){for(var e="",t=0;t<4;t++)e+=zv[r>>8*t+4&15]+zv[r>>8*t&15];return e}function c8(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function nm(r){return db(r).map(c8).join("")}var u8=(function(r){for(var e=0;e<r.length;e++)r[e]=l8(r[e]);return r.join("")})(db("hello"))!="5d41402abc4b2a76b9719d911017c592";function xl(r,e){if(u8){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}function rm(r,e){var t,i,s,o;if(r!==t){for(var c=(s=r,o=1+(256/r.length|0),new Array(o+1).join(s)),h=[],f=0;f<256;f++)h[f]=f;var d=0;for(f=0;f<256;f++){var v=h[f];d=(d+v+c.charCodeAt(f))%256,h[f]=h[d],h[d]=v}t=r,i=h}else h=i;var _=e.length,N=0,w=0,E="";for(f=0;f<_;f++)w=(w+(v=h[N=(N+1)%256]))%256,h[N]=h[w],h[w]=v,c=h[(h[N]+h[w])%256],E+=String.fromCharCode(e.charCodeAt(f)^c);return E}var Iv={print:4,modify:8,copy:16,"annot-forms":32};function yu(r,e,t,i){this.v=1,this.r=2;var s=192;r.forEach(function(h){if(Iv.perm!==void 0)throw new Error("Invalid permission: "+h);s+=Iv[h]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),c=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^s)),this.encryptionKey=nm(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=rm(this.encryptionKey,this.padding)}function bu(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,i=0;i<t;i++){var s=r.charCodeAt(i);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):r[i]}return e}function qv(r){if(Cn(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,i,s){if(s=s||!1,typeof t!="string"||typeof i!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[i,!!s],o},this.unsubscribe=function(t){for(var i in e)if(e[i][t])return delete e[i][t],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var i=Array.prototype.slice.call(arguments,1),s=[];for(var o in e[t]){var c=e[t][o];try{c[0].apply(r,i)}catch(h){Pt.console&&zn.error("jsPDF PubSub Error",h.message,h)}c[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function yd(r){if(!(this instanceof yd))return new yd(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function pb(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function oc(r,e,t,i,s){if(!(this instanceof oc))return new oc(r,e,t,i,s);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,pb.call(this,i,s)}function wu(r,e,t,i,s){if(!(this instanceof wu))return new wu(r,e,t,i,s);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,pb.call(this,i,s)}function ft(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],s=arguments[2],o=arguments[3],c=[],h=1,f=16,d="S",v=null;Cn(r=r||{})==="object"&&(t=r.orientation,i=r.unit||i,s=r.format||s,o=r.compress||r.compressPdf||o,(v=r.encryption||null)!==null&&(v.userPassword=v.userPassword||"",v.ownerPassword=v.ownerPassword||"",v.userPermissions=v.userPermissions||[]),h=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(f=r.floatPrecision),d=r.defaultPathOperation||"S"),c=r.filters||(o===!0?["FlateEncode"]:c),i=i||"mm",t=(""+(t||"P")).toLowerCase();var _=r.putOnlyUsedFonts||!1,N={},w={internal:{},__private__:{}};w.__private__.PubSub=qv;var E="1.3",k=w.__private__.getPdfVersion=function(){return E};w.__private__.setPdfVersion=function(x){E=x};var L={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return L};var T=w.__private__.getPageFormat=function(x){return L[x]};s=s||"a4";var U="compat",O="advanced",B=U;function Y(){this.saveGraphicsState(),J(new gt(Ct,0,0,-Ct,0,Xi()*Ct).toString()+" cm"),this.setFontSize(this.getFontSize()/Ct),d="n",B=O}function ie(){this.restoreGraphicsState(),d="S",B=U}var te=w.__private__.combineFontStyleAndFontWeight=function(x,D){if(x=="bold"&&D=="normal"||x=="bold"&&D==400||x=="normal"&&D=="italic"||x=="bold"&&D=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return D&&(x=D==400||D==="normal"?x==="italic"?"italic":"normal":D!=700&&D!=="bold"||x!=="normal"?(D==700?"bold":D)+""+x:"bold"),x};w.advancedAPI=function(x){var D=B===U;return D&&Y.call(this),typeof x!="function"||(x(this),D&&ie.call(this)),this},w.compatAPI=function(x){var D=B===O;return D&&ie.call(this),typeof x!="function"||(x(this),D&&Y.call(this)),this},w.isAdvancedAPI=function(){return B===O};var X,H=function(x){if(B!==O)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},pe=w.roundToPrecision=w.__private__.roundToPrecision=function(x,D){var ee=e||D;if(isNaN(x)||isNaN(ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(ee).replace(/0+$/,"")};X=w.hpf=w.__private__.hpf=typeof f=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return pe(x,f)}:f==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return pe(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return pe(x,16)};var R=w.f2=w.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return pe(x,2)},$=w.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return pe(x,3)},se=w.scale=w.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return B===U?x*Ct:B===O?x:void 0},re=function(x){return se((function(D){return B===U?Xi()-D:B===O?D:void 0})(x))};w.__private__.setPrecision=w.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(e=parseInt(x,10))};var he,K="00000000000000000000000000000000",le=w.__private__.getFileId=function(){return K},ue=w.__private__.setFileId=function(x){return K=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():K.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),v!==null&&(ar=new yu(v.userPermissions,v.userPassword,v.ownerPassword,K)),K};w.setFileId=function(x){return ue(x),this},w.getFileId=function(){return le()};var ae=w.__private__.convertDateToPDFDate=function(x){var D=x.getTimezoneOffset(),ee=D<0?"+":"-",me=Math.floor(Math.abs(D/60)),xe=Math.abs(D%60),Be=[ee,F(me),"'",F(xe),"'"].join("");return["D:",x.getFullYear(),F(x.getMonth()+1),F(x.getDate()),F(x.getHours()),F(x.getMinutes()),F(x.getSeconds()),Be].join("")},ke=w.__private__.convertPDFDateToDate=function(x){var D=parseInt(x.substr(2,4),10),ee=parseInt(x.substr(6,2),10)-1,me=parseInt(x.substr(8,2),10),xe=parseInt(x.substr(10,2),10),Be=parseInt(x.substr(12,2),10),He=parseInt(x.substr(14,2),10);return new Date(D,ee,me,xe,Be,He,0)},G=w.__private__.setCreationDate=function(x){var D;if(x===void 0&&(x=new Date),x instanceof Date)D=ae(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");D=x}return he=D},A=w.__private__.getCreationDate=function(x){var D=he;return x==="jsDate"&&(D=ke(he)),D};w.setCreationDate=function(x){return G(x),this},w.getCreationDate=function(x){return A(x)};var z,F=w.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},ne=w.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},ce=0,we=[],je=[],Ae=0,Me=[],$e=[],Ke=!1,Je=je;w.__private__.setCustomOutputDestination=function(x){Ke=!0,Je=x};var ve=function(x){Ke||(Je=x)};w.__private__.resetCustomOutputDestination=function(){Ke=!1,Je=je};var J=w.__private__.out=function(x){return x=x.toString(),Ae+=x.length+1,Je.push(x),Je},Ge=w.__private__.write=function(x){return J(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},et=w.__private__.getArrayBuffer=function(x){for(var D=x.length,ee=new ArrayBuffer(D),me=new Uint8Array(ee);D--;)me[D]=x.charCodeAt(D);return ee},rt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return rt};var Fe=r.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(x){return Fe=B===O?x/Ct:x,this};var tt,We=w.__private__.getFontSize=w.getFontSize=function(){return B===U?Fe:Fe*Ct},Tt=r.R2L||!1;w.__private__.setR2L=w.setR2L=function(x){return Tt=x,this},w.__private__.getR2L=w.getR2L=function(){return Tt};var mt,Ut=w.__private__.setZoomMode=function(x){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))tt=x;else if(isNaN(x)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');tt=x}else tt=parseInt(x,10)};w.__private__.getZoomMode=function(){return tt};var zt,Mt=w.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');mt=x};w.__private__.getPageMode=function(){return mt};var bn=w.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');zt=x};w.__private__.getLayoutMode=function(){return zt},w.__private__.setDisplayMode=w.setDisplayMode=function(x,D,ee){return Ut(x),bn(D),Mt(ee),this};var Rt={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(x){if(Object.keys(Rt).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Rt[x]},w.__private__.getDocumentProperties=function(){return Rt},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(x){for(var D in Rt)Rt.hasOwnProperty(D)&&x[D]&&(Rt[D]=x[D]);return this},w.__private__.setDocumentProperty=function(x,D){if(Object.keys(Rt).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Rt[x]=D};var dt,Ct,pt,Ln,Kt,Xe={},_t={},Vt=[],St={},Jt={},It={},In={},Jn=null,mn=0,xt=[],nn=new qv(w),Za=r.hotfixes||[],Gr={},yi={},Oa=[],gt=function x(D,ee,me,xe,Be,He){if(!(this instanceof x))return new x(D,ee,me,xe,Be,He);isNaN(D)&&(D=1),isNaN(ee)&&(ee=0),isNaN(me)&&(me=0),isNaN(xe)&&(xe=1),isNaN(Be)&&(Be=0),isNaN(He)&&(He=0),this._matrix=[D,ee,me,xe,Be,He]};Object.defineProperty(gt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(gt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(gt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(gt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(gt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(gt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(gt.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(gt.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(gt.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(gt.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(gt.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(gt.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(gt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(gt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(gt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(gt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),gt.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(X).join(x)},gt.prototype.multiply=function(x){var D=x.sx*this.sx+x.shy*this.shx,ee=x.sx*this.shy+x.shy*this.sy,me=x.shx*this.sx+x.sy*this.shx,xe=x.shx*this.shy+x.sy*this.sy,Be=x.tx*this.sx+x.ty*this.shx+this.tx,He=x.tx*this.shy+x.ty*this.sy+this.ty;return new gt(D,ee,me,xe,Be,He)},gt.prototype.decompose=function(){var x=this.sx,D=this.shy,ee=this.shx,me=this.sy,xe=this.tx,Be=this.ty,He=Math.sqrt(x*x+D*D),at=(x/=He)*ee+(D/=He)*me;ee-=x*at,me-=D*at;var ct=Math.sqrt(ee*ee+me*me);return at/=ct,x*(me/=ct)<D*(ee/=ct)&&(x=-x,D=-D,at=-at,He=-He),{scale:new gt(He,0,0,ct,0,0),translate:new gt(1,0,0,1,xe,Be),rotate:new gt(x,D,-D,x,0,0),skew:new gt(1,0,at,1,0,0)}},gt.prototype.toString=function(x){return this.join(" ")},gt.prototype.inversed=function(){var x=this.sx,D=this.shy,ee=this.shx,me=this.sy,xe=this.tx,Be=this.ty,He=1/(x*me-D*ee),at=me*He,ct=-D*He,Lt=-ee*He,Bt=x*He;return new gt(at,ct,Lt,Bt,-at*xe-Lt*Be,-ct*xe-Bt*Be)},gt.prototype.applyToPoint=function(x){var D=x.x*this.sx+x.y*this.shx+this.tx,ee=x.x*this.shy+x.y*this.sy+this.ty;return new Si(D,ee)},gt.prototype.applyToRectangle=function(x){var D=this.applyToPoint(x),ee=this.applyToPoint(new Si(x.x+x.w,x.y+x.h));return new Wi(D.x,D.y,ee.x-D.x,ee.y-D.y)},gt.prototype.clone=function(){var x=this.sx,D=this.shy,ee=this.shx,me=this.sy,xe=this.tx,Be=this.ty;return new gt(x,D,ee,me,xe,Be)},w.Matrix=gt;var qi=w.matrixMult=function(x,D){return D.multiply(x)},bi=new gt(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=bi;var wa=function(x,D){if(!Jt[x]){var ee=(D instanceof oc?"Sh":"P")+(Object.keys(St).length+1).toString(10);D.id=ee,Jt[x]=ee,St[ee]=D,nn.publish("addPattern",D)}};w.ShadingPattern=oc,w.TilingPattern=wu,w.addShadingPattern=function(x,D){return H("addShadingPattern()"),wa(x,D),this},w.beginTilingPattern=function(x){H("beginTilingPattern()"),ro(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},w.endTilingPattern=function(x,D){H("endTilingPattern()"),D.stream=$e[z].join(`
`),wa(x,D),nn.publish("endTilingPattern",D),Oa.pop().restore()};var xa,qn=w.__private__.newObject=function(){var x=hr();return jr(x,!0),x},hr=w.__private__.newObjectDeferred=function(){return ce++,we[ce]=function(){return Ae},ce},jr=function(x,D){return D=typeof D=="boolean"&&D,we[x]=Ae,D&&J(x+" 0 obj"),x},Ns=w.__private__.newAdditionalObject=function(){var x={objId:hr(),content:""};return Me.push(x),x},na=hr(),Nn=hr(),Hn=w.__private__.decodeColorString=function(x){var D=x.split(" ");if(D.length!==2||D[1]!=="g"&&D[1]!=="G")D.length!==5||D[4]!=="k"&&D[4]!=="K"||(D=[(1-D[0])*(1-D[3]),(1-D[1])*(1-D[3]),(1-D[2])*(1-D[3]),"r"]);else{var ee=parseFloat(D[0]);D=[ee,ee,ee,"r"]}for(var me="#",xe=0;xe<3;xe++)me+=("0"+Math.floor(255*parseFloat(D[xe])).toString(16)).slice(-2);return me},Yr=w.__private__.encodeColorString=function(x){var D;typeof x=="string"&&(x={ch1:x});var ee=x.ch1,me=x.ch2,xe=x.ch3,Be=x.ch4,He=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ee=="string"&&ee.charAt(0)!=="#"){var at=new fb(ee);if(at.ok)ee=at.toHex();else if(!/^\d*\.?\d*$/.test(ee))throw new Error('Invalid color "'+ee+'" passed to jsPDF.encodeColorString.')}if(typeof ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ee)&&(ee="#"+ee[1]+ee[1]+ee[2]+ee[2]+ee[3]+ee[3]),typeof ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ee)){var ct=parseInt(ee.substr(1),16);ee=ct>>16&255,me=ct>>8&255,xe=255&ct}if(me===void 0||Be===void 0&&ee===me&&me===xe)D=typeof ee=="string"?ee+" "+He[0]:x.precision===2?R(ee/255)+" "+He[0]:$(ee/255)+" "+He[0];else if(Be===void 0||Cn(Be)==="object"){if(Be&&!isNaN(Be.a)&&Be.a===0)return["1.","1.","1.",He[1]].join(" ");D=typeof ee=="string"?[ee,me,xe,He[1]].join(" "):x.precision===2?[R(ee/255),R(me/255),R(xe/255),He[1]].join(" "):[$(ee/255),$(me/255),$(xe/255),He[1]].join(" ")}else D=typeof ee=="string"?[ee,me,xe,Be,He[2]].join(" "):x.precision===2?[R(ee),R(me),R(xe),R(Be),He[2]].join(" "):[$(ee),$(me),$(xe),$(Be),He[2]].join(" ");return D},_a=w.__private__.getFilters=function(){return c},Ra=w.__private__.putStream=function(x){var D=(x=x||{}).data||"",ee=x.filters||_a(),me=x.alreadyAppliedFilters||[],xe=x.addLength1||!1,Be=D.length,He=x.objectId,at=function(wr){return wr};if(v!==null&&He===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");v!==null&&(at=ar.encryptor(He,0));var ct={};ee===!0&&(ee=["FlateEncode"]);var Lt=x.additionalKeyValues||[],Bt=(ct=ft.API.processDataByFilters!==void 0?ft.API.processDataByFilters(D,ee):{data:D,reverseChain:[]}).reverseChain+(Array.isArray(me)?me.join(" "):me.toString());if(ct.data.length!==0&&(Lt.push({key:"Length",value:ct.data.length}),xe===!0&&Lt.push({key:"Length1",value:Be})),Bt.length!=0)if(Bt.split("/").length-1==1)Lt.push({key:"Filter",value:Bt});else{Lt.push({key:"Filter",value:"["+Bt+"]"});for(var un=0;un<Lt.length;un+=1)if(Lt[un].key==="DecodeParms"){for(var $n=[],ir=0;ir<ct.reverseChain.split("/").length-1;ir+=1)$n.push("null");$n.push(Lt[un].value),Lt[un].value="["+$n.join(" ")+"]"}}J("<<");for(var kn=0;kn<Lt.length;kn++)J("/"+Lt[kn].key+" "+Lt[kn].value);J(">>"),ct.data.length!==0&&(J("stream"),J(at(ct.data)),J("endstream"))},Js=w.__private__.putPage=function(x){var D=x.number,ee=x.data,me=x.objId,xe=x.contentsObjId;jr(me,!0),J("<</Type /Page"),J("/Parent "+x.rootDictionaryObjId+" 0 R"),J("/Resources "+x.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(X(x.mediaBox.bottomLeftX))+" "+parseFloat(X(x.mediaBox.bottomLeftY))+" "+X(x.mediaBox.topRightX)+" "+X(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&J("/CropBox ["+X(x.cropBox.bottomLeftX)+" "+X(x.cropBox.bottomLeftY)+" "+X(x.cropBox.topRightX)+" "+X(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&J("/BleedBox ["+X(x.bleedBox.bottomLeftX)+" "+X(x.bleedBox.bottomLeftY)+" "+X(x.bleedBox.topRightX)+" "+X(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&J("/TrimBox ["+X(x.trimBox.bottomLeftX)+" "+X(x.trimBox.bottomLeftY)+" "+X(x.trimBox.topRightX)+" "+X(x.trimBox.topRightY)+"]"),x.artBox!==null&&J("/ArtBox ["+X(x.artBox.bottomLeftX)+" "+X(x.artBox.bottomLeftY)+" "+X(x.artBox.topRightX)+" "+X(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&J("/UserUnit "+x.userUnit),nn.publish("putPage",{objId:me,pageContext:xt[D],pageNumber:D,page:ee}),J("/Contents "+xe+" 0 R"),J(">>"),J("endobj");var Be=ee.join(`
`);return B===O&&(Be+=`
Q`),jr(xe,!0),Ra({data:Be,filters:_a(),objectId:xe}),J("endobj"),me},Qa=w.__private__.putPages=function(){var x,D,ee=[];for(x=1;x<=mn;x++)xt[x].objId=hr(),xt[x].contentsObjId=hr();for(x=1;x<=mn;x++)ee.push(Js({number:x,data:$e[x],objId:xt[x].objId,contentsObjId:xt[x].contentsObjId,mediaBox:xt[x].mediaBox,cropBox:xt[x].cropBox,bleedBox:xt[x].bleedBox,trimBox:xt[x].trimBox,artBox:xt[x].artBox,userUnit:xt[x].userUnit,rootDictionaryObjId:na,resourceDictionaryObjId:Nn}));jr(na,!0),J("<</Type /Pages");var me="/Kids [";for(D=0;D<mn;D++)me+=ee[D]+" 0 R ";J(me+"]"),J("/Count "+mn),J(">>"),J("endobj"),nn.publish("postPutPages")},ei=function(x){nn.publish("putFont",{font:x,out:J,newObject:qn,putStream:Ra}),x.isAlreadyPutted!==!0&&(x.objectNumber=qn(),J("<<"),J("/Type /Font"),J("/BaseFont /"+bu(x.postScriptName)),J("/Subtype /Type1"),typeof x.encoding=="string"&&J("/Encoding /"+x.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},As=function(x){x.objectNumber=qn();var D=[];D.push({key:"Type",value:"/XObject"}),D.push({key:"Subtype",value:"/Form"}),D.push({key:"BBox",value:"["+[X(x.x),X(x.y),X(x.x+x.width),X(x.y+x.height)].join(" ")+"]"}),D.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var ee=x.pages[1].join(`
`);Ra({data:ee,additionalKeyValues:D,objectId:x.objectNumber}),J("endobj")},ti=function(x,D){D||(D=21);var ee=qn(),me=(function(He,at){var ct,Lt=[],Bt=1/(at-1);for(ct=0;ct<1;ct+=Bt)Lt.push(ct);if(Lt.push(1),He[0].offset!=0){var un={offset:0,color:He[0].color};He.unshift(un)}if(He[He.length-1].offset!=1){var $n={offset:1,color:He[He.length-1].color};He.push($n)}for(var ir="",kn=0,wr=0;wr<Lt.length;wr++){for(ct=Lt[wr];ct>He[kn+1].offset;)kn++;var fr=He[kn].offset,Pr=(ct-fr)/(He[kn+1].offset-fr),Pa=He[kn].color,ua=He[kn+1].color;ir+=ne(Math.round((1-Pr)*Pa[0]+Pr*ua[0]).toString(16))+ne(Math.round((1-Pr)*Pa[1]+Pr*ua[1]).toString(16))+ne(Math.round((1-Pr)*Pa[2]+Pr*ua[2]).toString(16))}return ir.trim()})(x.colors,D),xe=[];xe.push({key:"FunctionType",value:"0"}),xe.push({key:"Domain",value:"[0.0 1.0]"}),xe.push({key:"Size",value:"["+D+"]"}),xe.push({key:"BitsPerSample",value:"8"}),xe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),xe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ra({data:me,additionalKeyValues:xe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ee}),J("endobj"),x.objectNumber=qn(),J("<< /ShadingType "+x.type),J("/ColorSpace /DeviceRGB");var Be="/Coords ["+X(parseFloat(x.coords[0]))+" "+X(parseFloat(x.coords[1]))+" ";x.type===2?Be+=X(parseFloat(x.coords[2]))+" "+X(parseFloat(x.coords[3])):Be+=X(parseFloat(x.coords[2]))+" "+X(parseFloat(x.coords[3]))+" "+X(parseFloat(x.coords[4]))+" "+X(parseFloat(x.coords[5])),J(Be+="]"),x.matrix&&J("/Matrix ["+x.matrix.toString()+"]"),J("/Function "+ee+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},ni=function(x,D){var ee=hr(),me=qn();D.push({resourcesOid:ee,objectOid:me}),x.objectNumber=me;var xe=[];xe.push({key:"Type",value:"/Pattern"}),xe.push({key:"PatternType",value:"1"}),xe.push({key:"PaintType",value:"1"}),xe.push({key:"TilingType",value:"1"}),xe.push({key:"BBox",value:"["+x.boundingBox.map(X).join(" ")+"]"}),xe.push({key:"XStep",value:X(x.xStep)}),xe.push({key:"YStep",value:X(x.yStep)}),xe.push({key:"Resources",value:ee+" 0 R"}),x.matrix&&xe.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),Ra({data:x.stream,additionalKeyValues:xe,objectId:x.objectNumber}),J("endobj")},Xs=function(x){for(var D in x.objectNumber=qn(),J("<<"),x)switch(D){case"opacity":J("/ca "+R(x[D]));break;case"stroke-opacity":J("/CA "+R(x[D]))}J(">>"),J("endobj")},wi=function(x){jr(x.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var D in J("/Font <<"),Xe)Xe.hasOwnProperty(D)&&(_===!1||_===!0&&N.hasOwnProperty(D))&&J("/"+D+" "+Xe[D].objectNumber+" 0 R");J(">>")})(),(function(){if(Object.keys(St).length>0){for(var D in J("/Shading <<"),St)St.hasOwnProperty(D)&&St[D]instanceof oc&&St[D].objectNumber>=0&&J("/"+D+" "+St[D].objectNumber+" 0 R");nn.publish("putShadingPatternDict"),J(">>")}})(),(function(D){if(Object.keys(St).length>0){for(var ee in J("/Pattern <<"),St)St.hasOwnProperty(ee)&&St[ee]instanceof w.TilingPattern&&St[ee].objectNumber>=0&&St[ee].objectNumber<D&&J("/"+ee+" "+St[ee].objectNumber+" 0 R");nn.publish("putTilingPatternDict"),J(">>")}})(x.objectOid),(function(){if(Object.keys(It).length>0){var D;for(D in J("/ExtGState <<"),It)It.hasOwnProperty(D)&&It[D].objectNumber>=0&&J("/"+D+" "+It[D].objectNumber+" 0 R");nn.publish("putGStateDict"),J(">>")}})(),(function(){for(var D in J("/XObject <<"),Gr)Gr.hasOwnProperty(D)&&Gr[D].objectNumber>=0&&J("/"+D+" "+Gr[D].objectNumber+" 0 R");nn.publish("putXobjectDict"),J(">>")})(),J(">>"),J("endobj")},rr=function(x){_t[x.fontName]=_t[x.fontName]||{},_t[x.fontName][x.fontStyle]=x.id},Nl=function(x,D,ee,me,xe){var Be={id:"F"+(Object.keys(Xe).length+1).toString(10),postScriptName:x,fontName:D,fontStyle:ee,encoding:me,isStandardFont:xe||!1,metadata:{}};return nn.publish("addFont",{font:Be,instance:this}),Xe[Be.id]=Be,rr(Be),Be.id},Sa=w.__private__.pdfEscape=w.pdfEscape=function(x,D){return(function(ee,me){var xe,Be,He,at,ct,Lt,Bt,un,$n;if(He=(me=me||{}).sourceEncoding||"Unicode",ct=me.outputEncoding,(me.autoencode||ct)&&Xe[dt].metadata&&Xe[dt].metadata[He]&&Xe[dt].metadata[He].encoding&&(at=Xe[dt].metadata[He].encoding,!ct&&Xe[dt].encoding&&(ct=Xe[dt].encoding),!ct&&at.codePages&&(ct=at.codePages[0]),typeof ct=="string"&&(ct=at[ct]),ct)){for(Bt=!1,Lt=[],xe=0,Be=ee.length;xe<Be;xe++)(un=ct[ee.charCodeAt(xe)])?Lt.push(String.fromCharCode(un)):Lt.push(ee[xe]),Lt[xe].charCodeAt(0)>>8&&(Bt=!0);ee=Lt.join("")}for(xe=ee.length;Bt===void 0&&xe!==0;)ee.charCodeAt(xe-1)>>8&&(Bt=!0),xe--;if(!Bt)return ee;for(Lt=me.noBOM?[]:[254,255],xe=0,Be=ee.length;xe<Be;xe++){if(($n=(un=ee.charCodeAt(xe))>>8)>>8)throw new Error("Character at position "+xe+" of string '"+ee+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Lt.push($n),Lt.push(un-($n<<8))}return String.fromCharCode.apply(void 0,Lt)})(x,D).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ri=w.__private__.beginPage=function(x){$e[++mn]=[],xt[mn]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},jl(mn),ve($e[z])},Fi=function(x,D){var ee,me,xe;switch(t=D||t,typeof x=="string"&&(ee=T(x.toLowerCase()),Array.isArray(ee)&&(me=ee[0],xe=ee[1])),Array.isArray(x)&&(me=x[0]*Ct,xe=x[1]*Ct),isNaN(me)&&(me=s[0],xe=s[1]),(me>14400||xe>14400)&&(zn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),me=Math.min(14400,me),xe=Math.min(14400,xe)),s=[me,xe],t.substr(0,1)){case"l":xe>me&&(s=[xe,me]);break;case"p":me>xe&&(s=[xe,me])}ri(s),js(Qs),J(ja),Uo!==0&&J(Uo+" J"),Er!==0&&J(Er+" j"),nn.publish("addPage",{pageNumber:mn})},Al=function(x){x>0&&x<=mn&&($e.splice(x,1),xt.splice(x,1),mn--,z>mn&&(z=mn),this.setPage(z))},jl=function(x){x>0&&x<=mn&&(z=x)},El=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return $e.length-1},yc=function(x,D,ee){var me,xe=void 0;return ee=ee||{},x=x!==void 0?x:Xe[dt].fontName,D=D!==void 0?D:Xe[dt].fontStyle,me=x.toLowerCase(),_t[me]!==void 0&&_t[me][D]!==void 0?xe=_t[me][D]:_t[x]!==void 0&&_t[x][D]!==void 0?xe=_t[x][D]:ee.disableWarning===!1&&zn.warn("Unable to look up font label for font '"+x+"', '"+D+"'. Refer to getFontList() for available fonts."),xe||ee.noFallback||(xe=_t.times[D])==null&&(xe=_t.times.normal),xe},Hi=w.__private__.putInfo=function(){var x=qn(),D=function(me){return me};for(var ee in v!==null&&(D=ar.encryptor(x,0)),J("<<"),J("/Producer ("+Sa(D("jsPDF "+ft.version))+")"),Rt)Rt.hasOwnProperty(ee)&&Rt[ee]&&J("/"+ee.substr(0,1).toUpperCase()+ee.substr(1)+" ("+Sa(D(Rt[ee]))+")");J("/CreationDate ("+Sa(D(he))+")"),J(">>"),J("endobj")},Mo=w.__private__.putCatalog=function(x){var D=(x=x||{}).rootDictionaryObjId||na;switch(qn(),J("<<"),J("/Type /Catalog"),J("/Pages "+D+" 0 R"),tt||(tt="fullwidth"),tt){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ee=""+tt;ee.substr(ee.length-1)==="%"&&(tt=parseInt(tt)/100),typeof tt=="number"&&J("/OpenAction [3 0 R /XYZ null null "+R(tt)+"]")}switch(zt||(zt="continuous"),zt){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}mt&&J("/PageMode /"+mt),nn.publish("putCatalog"),J(">>"),J("endobj")},Sn=w.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(ce+1)),J("/Root "+ce+" 0 R"),J("/Info "+(ce-1)+" 0 R"),v!==null&&J("/Encrypt "+ar.oid+" 0 R"),J("/ID [ <"+K+"> <"+K+"> ]"),J(">>")},ra=w.__private__.putHeader=function(){J("%PDF-"+E),J("%")},Cl=w.__private__.putXRef=function(){var x="0000000000";J("xref"),J("0 "+(ce+1)),J("0000000000 65535 f ");for(var D=1;D<=ce;D++)typeof we[D]=="function"?J((x+we[D]()).slice(-10)+" 00000 n "):we[D]!==void 0?J((x+we[D]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},$i=w.__private__.buildDocument=function(){var x;ce=0,Ae=0,je=[],we=[],Me=[],na=hr(),Nn=hr(),ve(je),nn.publish("buildDocument"),ra(),Qa(),(function(){nn.publish("putAdditionalObjects");for(var ee=0;ee<Me.length;ee++){var me=Me[ee];jr(me.objId,!0),J(me.content),J("endobj")}nn.publish("postPutAdditionalObjects")})(),x=[],(function(){for(var ee in Xe)Xe.hasOwnProperty(ee)&&(_===!1||_===!0&&N.hasOwnProperty(ee))&&ei(Xe[ee])})(),(function(){var ee;for(ee in It)It.hasOwnProperty(ee)&&Xs(It[ee])})(),(function(){for(var ee in Gr)Gr.hasOwnProperty(ee)&&As(Gr[ee])})(),(function(ee){var me;for(me in St)St.hasOwnProperty(me)&&(St[me]instanceof oc?ti(St[me]):St[me]instanceof wu&&ni(St[me],ee))})(x),nn.publish("putResources"),x.forEach(wi),wi({resourcesOid:Nn,objectOid:Number.MAX_SAFE_INTEGER}),nn.publish("postPutResources"),v!==null&&(ar.oid=qn(),J("<<"),J("/Filter /Standard"),J("/V "+ar.v),J("/R "+ar.r),J("/U <"+ar.toHexString(ar.U)+">"),J("/O <"+ar.toHexString(ar.O)+">"),J("/P "+ar.P),J(">>"),J("endobj")),Hi(),Mo();var D=Ae;return Cl(),Sn(),J("startxref"),J(""+D),J("%%EOF"),ve($e[z]),je.join(`
`)},Vi=w.__private__.getBlob=function(x){return new Blob([et(x)],{type:"application/pdf"})},Da=w.output=w.__private__.output=(xa=function(x,D){switch(typeof(D=D||{})=="string"?D={filename:D}:D.filename=D.filename||"generated.pdf",x){case void 0:return $i();case"save":w.save(D.filename);break;case"arraybuffer":return et($i());case"blob":return Vi($i());case"bloburi":case"bloburl":if(Pt.URL!==void 0&&typeof Pt.URL.createObjectURL=="function")return Pt.URL&&Pt.URL.createObjectURL(Vi($i()))||void 0;zn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ee="",me=$i();try{ee=Uv(me)}catch(ir){ee=Uv(unescape(encodeURIComponent(me)))}return"data:application/pdf;filename="+D.filename+";base64,"+ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Pt)==="[object Window]"){var xe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';D.pdfObjectUrl&&(xe=D.pdfObjectUrl,Be="");var He='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+xe+'"'+Be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(D)+");<\/script></body></html>",at=Pt.open();return at!==null&&at.document.write(He),at}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Pt)==="[object Window]"){var ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(D.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+D.filename+'" width="500px" height="400px" /></body></html>',Lt=Pt.open();if(Lt!==null){Lt.document.write(ct);var Bt=this;Lt.document.documentElement.querySelector("#pdfViewer").onload=function(){Lt.document.title=D.filename,Lt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Bt.output("bloburl"))}}return Lt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Pt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var un='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",D)+'"></iframe></body></html>',$n=Pt.open();if($n!==null&&($n.document.write(un),$n.document.title=D.filename),$n||typeof safari=="undefined")return $n;break;case"datauri":case"dataurl":return Pt.document.location.href=this.output("datauristring",D);default:return null}},xa.foo=function(){try{return xa.apply(this,arguments)}catch(ee){var x=ee.stack||"";~x.indexOf(" at ")&&(x=x.split(" at ")[1]);var D="Error in function "+x.split(`
`)[0].split("<")[0]+": "+ee.message;if(!Pt.console)throw new Error(D);Pt.console.error(D,ee),Pt.alert&&alert(D)}},xa.foo.bar=xa,xa.foo),xi=function(x){return Array.isArray(Za)===!0&&Za.indexOf(x)>-1};switch(i){case"pt":Ct=1;break;case"mm":Ct=72/25.4;break;case"cm":Ct=72/2.54;break;case"in":Ct=72;break;case"px":Ct=xi("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ct=12;break;case"ex":Ct=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);Ct=i}var ar=null;G(),ue();var Wr=w.__private__.getPageInfo=w.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:xt[x].objId,pageNumber:x,pageContext:xt[x]}},Ll=w.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var D in xt)if(xt[D].objId===x)break;return Wr(D)},bc=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:xt[z].objId,pageNumber:z,pageContext:xt[z]}};w.addPage=function(){return Fi.apply(this,arguments),this},w.setPage=function(){return jl.apply(this,arguments),ve.call(this,$e[z]),this},w.insertPage=function(x){return this.addPage(),this.movePage(z,x),this},w.movePage=function(x,D){var ee,me;if(x>D){ee=$e[x],me=xt[x];for(var xe=x;xe>D;xe--)$e[xe]=$e[xe-1],xt[xe]=xt[xe-1];$e[D]=ee,xt[D]=me,this.setPage(D)}else if(x<D){ee=$e[x],me=xt[x];for(var Be=x;Be<D;Be++)$e[Be]=$e[Be+1],xt[Be]=xt[Be+1];$e[D]=ee,xt[D]=me,this.setPage(D)}return this},w.deletePage=function(){return Al.apply(this,arguments),this},w.__private__.text=w.text=function(x,D,ee,me,xe){var Be,He,at,ct,Lt,Bt,un,$n,ir,kn=(me=me||{}).scope||this;if(typeof x=="number"&&typeof D=="number"&&(typeof ee=="string"||Array.isArray(ee))){var wr=ee;ee=D,D=x,x=wr}if(arguments[3]instanceof gt==0?(at=arguments[4],ct=arguments[5],Cn(un=arguments[3])==="object"&&un!==null||(typeof at=="string"&&(ct=at,at=null),typeof un=="string"&&(ct=un,un=null),typeof un=="number"&&(at=un,un=null),me={flags:un,angle:at,align:ct})):(H("The transform parameter of text() with a Matrix value"),ir=xe),isNaN(D)||isNaN(ee)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return kn;var fr,Pr="",Pa=typeof me.lineHeightFactor=="number"?me.lineHeightFactor:Gi,ua=kn.internal.scaleFactor;function Ec(hn){return hn=hn.split("	").join(Array(me.TabLen||9).join(" ")),Sa(hn,un)}function Io(hn){for(var rn,Tn=hn.concat(),or=[],Oi=Tn.length;Oi--;)typeof(rn=Tn.shift())=="string"?or.push(rn):Array.isArray(hn)&&(rn.length===1||rn[1]===void 0&&rn[2]===void 0)?or.push(rn[0]):or.push([rn[0],rn[1],rn[2]]);return or}function io(hn,rn){var Tn;if(typeof hn=="string")Tn=rn(hn)[0];else if(Array.isArray(hn)){for(var or,Oi,ci=hn.concat(),lo=[],Il=ci.length;Il--;)typeof(or=ci.shift())=="string"?lo.push(rn(or)[0]):Array.isArray(or)&&typeof or[0]=="string"&&(Oi=rn(or[0],or[1],or[2]),lo.push([Oi[0],Oi[1],Oi[2]]));Tn=lo}return Tn}var Ai=!1,si=!0;if(typeof x=="string")Ai=!0;else if(Array.isArray(x)){var so=x.concat();He=[];for(var Cs,Mr=so.length;Mr--;)(typeof(Cs=so.shift())!="string"||Array.isArray(Cs)&&typeof Cs[0]!="string")&&(si=!1);Ai=si}if(Ai===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var Ls=Fe/kn.internal.scaleFactor,ks=Ls*(Pa-1);switch(me.baseline){case"bottom":ee-=ks;break;case"top":ee+=Ls-ks;break;case"hanging":ee+=Ls-2*ks;break;case"middle":ee+=Ls/2-ks}if((Bt=me.maxWidth||0)>0&&(typeof x=="string"?x=kn.splitTextToSize(x,Bt):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(hn,rn){return hn.concat(kn.splitTextToSize(rn,Bt))},[]))),Be={text:x,x:D,y:ee,options:me,mutex:{pdfEscape:Sa,activeFontKey:dt,fonts:Xe,activeFontSize:Fe}},nn.publish("preProcessText",Be),x=Be.text,at=(me=Be.options).angle,ir instanceof gt==0&&at&&typeof at=="number"){at*=Math.PI/180,me.rotationDirection===0&&(at=-at),B===O&&(at=-at);var qo=Math.cos(at),ji=Math.sin(at);ir=new gt(qo,ji,-ji,qo,0,0)}else at&&at instanceof gt&&(ir=at);B!==O||ir||(ir=bi),(Lt=me.charSpace||Yi)!==void 0&&(Pr+=X(se(Lt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),($n=me.horizontalScale)!==void 0&&(Pr+=X(100*$n)+` Tz
`),me.lang;var Xn=-1,Zi=me.renderingMode!==void 0?me.renderingMode:me.stroke,Fo=kn.internal.getCurrentPageInfo().pageContext;switch(Zi){case 0:case!1:case"fill":Xn=0;break;case 1:case!0:case"stroke":Xn=1;break;case 2:case"fillThenStroke":Xn=2;break;case 3:case"invisible":Xn=3;break;case 4:case"fillAndAddForClipping":Xn=4;break;case 5:case"strokeAndAddPathForClipping":Xn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Xn=6;break;case 7:case"addToPathForClipping":Xn=7}var Ul=Fo.usedRenderingMode!==void 0?Fo.usedRenderingMode:-1;Xn!==-1?Pr+=Xn+` Tr
`:Ul!==-1&&(Pr+=`0 Tr
`),Xn!==-1&&(Fo.usedRenderingMode=Xn),ct=me.align||"left";var Ca,oi=Fe*Pa,Qi=kn.internal.pageSize.getWidth(),zl=Xe[dt];Lt=me.charSpace||Yi,Bt=me.maxWidth||0,un=Object.assign({autoencode:!0,noBOM:!0},me.flags);var li=[],Ts=function(hn){return kn.getStringUnitWidth(hn,{font:zl,charSpace:Lt,fontSize:Fe,doKerning:!1})*Fe/ua};if(Object.prototype.toString.call(x)==="[object Array]"){var ha;He=Io(x),ct!=="left"&&(Ca=He.map(Ts));var ia,Ei=0;if(ct==="right"){D-=Ca[0],x=[],Mr=He.length;for(var Ci=0;Ci<Mr;Ci++)Ci===0?(ia=Aa(D),ha=Dr(ee)):(ia=se(Ei-Ca[Ci]),ha=-oi),x.push([He[Ci],ia,ha]),Ei=Ca[Ci]}else if(ct==="center"){D-=Ca[0]/2,x=[],Mr=He.length;for(var es=0;es<Mr;es++)es===0?(ia=Aa(D),ha=Dr(ee)):(ia=se((Ei-Ca[es])/2),ha=-oi),x.push([He[es],ia,ha]),Ei=Ca[es]}else if(ct==="left"){x=[],Mr=He.length;for(var Ho=0;Ho<Mr;Ho++)x.push(He[Ho])}else if(ct==="justify"&&zl.encoding==="Identity-H"){x=[],Mr=He.length,Bt=Bt!==0?Bt:Qi;for(var $o=0,sr=0;sr<Mr;sr++)if(ha=sr===0?Dr(ee):-oi,ia=sr===0?Aa(D):$o,sr<Mr-1){var Cc=se((Bt-Ca[sr])/(He[sr].split(" ").length-1)),Li=He[sr].split(" ");x.push([Li[0]+" ",ia,ha]),$o=0;for(var ki=1;ki<Li.length;ki++){var Br=(Ts(Li[ki-1]+" "+Li[ki])-Ts(Li[ki]))*ua+Cc;ki==Li.length-1?x.push([Li[ki],Br,0]):x.push([Li[ki]+" ",Br,0]),$o-=Br}}else x.push([He[sr],ia,ha]);x.push(["",$o,0])}else{if(ct!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],Mr=He.length,Bt=Bt!==0?Bt:Qi,sr=0;sr<Mr;sr++){ha=sr===0?Dr(ee):-oi,ia=sr===0?Aa(D):0;var ts=He[sr].split(" ").length-1,Vo=ts>0?(Bt-Ca[sr])/ts:0;sr<Mr-1?li.push(X(se(Vo))):li.push(0),x.push([He[sr],ia,ha])}}}(typeof me.R2L=="boolean"?me.R2L:Tt)===!0&&(x=io(x,function(hn,rn,Tn){return[hn.split("").reverse().join(""),rn,Tn]})),Be={text:x,x:D,y:ee,options:me,mutex:{pdfEscape:Sa,activeFontKey:dt,fonts:Xe,activeFontSize:Fe}},nn.publish("postProcessText",Be),x=Be.text,fr=Be.mutex.isHex||!1;var Go=Xe[dt].encoding;Go!=="WinAnsiEncoding"&&Go!=="StandardEncoding"||(x=io(x,function(hn,rn,Tn){return[Ec(hn),rn,Tn]})),He=Io(x),x=[];for(var ns,rs,Ti,oo=Array.isArray(He[0])?1:0,La="",as=function(hn,rn,Tn){var or="";return Tn instanceof gt?(Tn=typeof me.angle=="number"?qi(Tn,new gt(1,0,0,1,hn,rn)):qi(new gt(1,0,0,1,hn,rn),Tn),B===O&&(Tn=qi(new gt(1,0,0,-1,0,0),Tn)),or=Tn.join(" ")+` Tm
`):or=X(hn)+" "+X(rn)+` Td
`,or},Kr=0;Kr<He.length;Kr++){switch(La="",oo){case 1:Ti=(fr?"<":"(")+He[Kr][0]+(fr?">":")"),ns=parseFloat(He[Kr][1]),rs=parseFloat(He[Kr][2]);break;case 0:Ti=(fr?"<":"(")+He[Kr]+(fr?">":")"),ns=Aa(D),rs=Dr(ee)}li!==void 0&&li[Kr]!==void 0&&(La=li[Kr]+` Tw
`),Kr===0?x.push(La+as(ns,rs,ir)+Ti):oo===0?x.push(La+Ti):oo===1&&x.push(La+as(ns,rs,ir)+Ti)}x=oo===0?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var Ma=`BT
/`;return Ma+=dt+" "+Fe+` Tf
`,Ma+=X(Fe*Pa)+` TL
`,Ma+=_i+`
`,Ma+=Pr,Ma+=x,J(Ma+="ET"),N[dt]=!0,kn};var kl=w.__private__.clip=w.clip=function(x){return J(x==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return kl("evenodd")},w.__private__.discardPath=w.discardPath=function(){return J("n"),this};var aa=w.__private__.isValidStyle=function(x){var D=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(D=!0),D};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(x){return aa(x)&&(d=x),this};var Tl=w.__private__.getStyle=w.getStyle=function(x){var D=d;switch(x){case"D":case"S":D="S";break;case"F":D="f";break;case"FD":case"DF":D="B";break;case"f":case"f*":case"B":case"B*":D=x}return D},Ol=w.close=function(){return J("h"),this};w.stroke=function(){return J("S"),this},w.fill=function(x){return Na("f",x),this},w.fillEvenOdd=function(x){return Na("f*",x),this},w.fillStroke=function(x){return Na("B",x),this},w.fillStrokeEvenOdd=function(x){return Na("B*",x),this};var Na=function(x,D){Cn(D)==="object"?xc(D,x):J(x)},Rl=function(x){x===null||B===O&&x===void 0||(x=Tl(x),J(x))};function wc(x,D,ee,me,xe){var Be=new wu(D||this.boundingBox,ee||this.xStep,me||this.yStep,this.gState,xe||this.matrix);Be.stream=this.stream;var He=x+"$$"+this.cloneIndex+++"$$";return wa(He,Be),Be}var xc=function(x,D){var ee=Jt[x.key],me=St[ee];if(me instanceof oc)J("q"),J(Dl(D)),me.gState&&w.setGState(me.gState),J(x.matrix.toString()+" cm"),J("/"+ee+" sh"),J("Q");else if(me instanceof wu){var xe=new gt(1,0,0,-1,0,Xi());x.matrix&&(xe=xe.multiply(x.matrix||bi),ee=wc.call(me,x.key,x.boundingBox,x.xStep,x.yStep,xe).id),J("q"),J("/Pattern cs"),J("/"+ee+" scn"),me.gState&&w.setGState(me.gState),J(D),J("Q")}},Dl=function(x){switch(x){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Pl=w.moveTo=function(x,D){return J(X(se(x))+" "+X(re(D))+" m"),this},Zs=w.lineTo=function(x,D){return J(X(se(x))+" "+X(re(D))+" l"),this},ai=w.curveTo=function(x,D,ee,me,xe,Be){return J([X(se(x)),X(re(D)),X(se(ee)),X(re(me)),X(se(xe)),X(re(Be)),"c"].join(" ")),this};w.__private__.line=w.line=function(x,D,ee,me,xe){if(isNaN(x)||isNaN(D)||isNaN(ee)||isNaN(me)||!aa(xe))throw new Error("Invalid arguments passed to jsPDF.line");return B===U?this.lines([[ee-x,me-D]],x,D,[1,1],xe||"S"):this.lines([[ee-x,me-D]],x,D,[1,1]).stroke()},w.__private__.lines=w.lines=function(x,D,ee,me,xe,Be){var He,at,ct,Lt,Bt,un,$n,ir,kn,wr,fr,Pr;if(typeof x=="number"&&(Pr=ee,ee=D,D=x,x=Pr),me=me||[1,1],Be=Be||!1,isNaN(D)||isNaN(ee)||!Array.isArray(x)||!Array.isArray(me)||!aa(xe)||typeof Be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Pl(D,ee),He=me[0],at=me[1],Lt=x.length,wr=D,fr=ee,ct=0;ct<Lt;ct++)(Bt=x[ct]).length===2?(wr=Bt[0]*He+wr,fr=Bt[1]*at+fr,Zs(wr,fr)):(un=Bt[0]*He+wr,$n=Bt[1]*at+fr,ir=Bt[2]*He+wr,kn=Bt[3]*at+fr,wr=Bt[4]*He+wr,fr=Bt[5]*at+fr,ai(un,$n,ir,kn,wr,fr));return Be&&Ol(),Rl(xe),this},w.path=function(x){for(var D=0;D<x.length;D++){var ee=x[D],me=ee.c;switch(ee.op){case"m":Pl(me[0],me[1]);break;case"l":Zs(me[0],me[1]);break;case"c":ai.apply(this,me);break;case"h":Ol()}}return this},w.__private__.rect=w.rect=function(x,D,ee,me,xe){if(isNaN(x)||isNaN(D)||isNaN(ee)||isNaN(me)||!aa(xe))throw new Error("Invalid arguments passed to jsPDF.rect");return B===U&&(me=-me),J([X(se(x)),X(re(D)),X(se(ee)),X(se(me)),"re"].join(" ")),Rl(xe),this},w.__private__.triangle=w.triangle=function(x,D,ee,me,xe,Be,He){if(isNaN(x)||isNaN(D)||isNaN(ee)||isNaN(me)||isNaN(xe)||isNaN(Be)||!aa(He))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ee-x,me-D],[xe-ee,Be-me],[x-xe,D-Be]],x,D,[1,1],He,!0),this},w.__private__.roundedRect=w.roundedRect=function(x,D,ee,me,xe,Be,He){if(isNaN(x)||isNaN(D)||isNaN(ee)||isNaN(me)||isNaN(xe)||isNaN(Be)||!aa(He))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var at=4/3*(Math.SQRT2-1);return xe=Math.min(xe,.5*ee),Be=Math.min(Be,.5*me),this.lines([[ee-2*xe,0],[xe*at,0,xe,Be-Be*at,xe,Be],[0,me-2*Be],[0,Be*at,-xe*at,Be,-xe,Be],[2*xe-ee,0],[-xe*at,0,-xe,-Be*at,-xe,-Be],[0,2*Be-me],[0,-Be*at,xe*at,-Be,xe,-Be]],x+xe,D,[1,1],He,!0),this},w.__private__.ellipse=w.ellipse=function(x,D,ee,me,xe){if(isNaN(x)||isNaN(D)||isNaN(ee)||isNaN(me)||!aa(xe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Be=4/3*(Math.SQRT2-1)*ee,He=4/3*(Math.SQRT2-1)*me;return Pl(x+ee,D),ai(x+ee,D-He,x+Be,D-me,x,D-me),ai(x-Be,D-me,x-ee,D-He,x-ee,D),ai(x-ee,D+He,x-Be,D+me,x,D+me),ai(x+Be,D+me,x+ee,D+He,x+ee,D),Rl(xe),this},w.__private__.circle=w.circle=function(x,D,ee,me){if(isNaN(x)||isNaN(D)||isNaN(ee)||!aa(me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,D,ee,ee,me)},w.setFont=function(x,D,ee){return ee&&(D=te(D,ee)),dt=yc(x,D,{disableWarning:!1}),this};var ii=w.__private__.getFont=w.getFont=function(){return Xe[yc.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var x,D,ee={};for(x in _t)if(_t.hasOwnProperty(x))for(D in ee[x]=[],_t[x])_t[x].hasOwnProperty(D)&&ee[x].push(D);return ee},w.addFont=function(x,D,ee,me,xe){var Be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Be.indexOf(arguments[3])!==-1?xe=arguments[3]:arguments[3]&&Be.indexOf(arguments[3])==-1&&(ee=te(ee,me)),Nl.call(this,x,D,ee,xe=xe||"Identity-H")};var Gi,Qs=r.lineWidth||.200025,Nt=w.__private__.getLineWidth=w.getLineWidth=function(){return Qs},js=w.__private__.setLineWidth=w.setLineWidth=function(x){return Qs=x,J(X(se(x))+" w"),this};w.__private__.setLineDash=ft.API.setLineDash=ft.API.setLineDashPattern=function(x,D){if(x=x||[],D=D||0,isNaN(D)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(ee){return X(se(ee))}).join(" "),D=X(se(D)),J("["+x+"] "+D+" d"),this};var _c=w.__private__.getLineHeight=w.getLineHeight=function(){return Fe*Gi};w.__private__.getLineHeight=w.getLineHeight=function(){return Fe*Gi};var Ml=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(Gi=x),this},Sc=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return Gi};Ml(r.lineHeight);var Aa=w.__private__.getHorizontalCoordinate=function(x){return se(x)},Dr=w.__private__.getVerticalCoordinate=function(x){return B===O?x:xt[z].mediaBox.topRightY-xt[z].mediaBox.bottomLeftY-se(x)},Bl=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(x){return X(Aa(x))},eo=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(x){return X(Dr(x))},ja=r.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return Hn(ja)},w.__private__.setStrokeColor=w.setDrawColor=function(x,D,ee,me){return ja=Yr({ch1:x,ch2:D,ch3:ee,ch4:me,pdfColorType:"draw",precision:2}),J(ja),this};var to=r.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return Hn(to)},w.__private__.setFillColor=w.setFillColor=function(x,D,ee,me){return to=Yr({ch1:x,ch2:D,ch3:ee,ch4:me,pdfColorType:"fill",precision:2}),J(to),this};var _i=r.textColor||"0 g",no=w.__private__.getTextColor=w.getTextColor=function(){return Hn(_i)};w.__private__.setTextColor=w.setTextColor=function(x,D,ee,me){return _i=Yr({ch1:x,ch2:D,ch3:ee,ch4:me,pdfColorType:"text",precision:3}),this};var Yi=r.charSpace,Bo=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat(Yi||0)};w.__private__.setCharSpace=w.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Yi=x,this};var Uo=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(x){var D=w.CapJoinStyles[x];if(D===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Uo=D,J(D+" J"),this};var Er=0;w.__private__.setLineJoin=w.setLineJoin=function(x){var D=w.CapJoinStyles[x];if(D===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Er=D,J(D+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(X(se(x))+" M"),this},w.GState=yd,w.setGState=function(x){(x=typeof x=="string"?It[In[x]]:Ea(null,x)).equals(Jn)||(J("/"+x.id+" gs"),Jn=x)};var Ea=function(x,D){if(!x||!In[x]){var ee=!1;for(var me in It)if(It.hasOwnProperty(me)&&It[me].equals(D)){ee=!0;break}if(ee)D=It[me];else{var xe="GS"+(Object.keys(It).length+1).toString(10);It[xe]=D,D.id=xe}return x&&(In[x]=D.id),nn.publish("addGState",D),D}};w.addGState=function(x,D){return Ea(x,D),this},w.saveGraphicsState=function(){return J("q"),Vt.push({key:dt,size:Fe,color:_i}),this},w.restoreGraphicsState=function(){J("Q");var x=Vt.pop();return dt=x.key,Fe=x.size,_i=x.color,Jn=null,this},w.setCurrentTransformationMatrix=function(x){return J(x.toString()+" cm"),this},w.comment=function(x){return J("#"+x),this};var Si=function(x,D){var ee=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ee},set:function(Be){isNaN(Be)||(ee=parseFloat(Be))}});var me=D||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return me},set:function(Be){isNaN(Be)||(me=parseFloat(Be))}});var xe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return xe},set:function(Be){xe=Be.toString()}}),this},Wi=function(x,D,ee,me){Si.call(this,x,D),this.type="rect";var xe=ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return xe},set:function(He){isNaN(He)||(xe=parseFloat(He))}});var Be=me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Be},set:function(He){isNaN(He)||(Be=parseFloat(He))}}),this},zo=function(){this.page=mn,this.currentPage=z,this.pages=$e.slice(0),this.pagesContext=xt.slice(0),this.x=pt,this.y=Ln,this.matrix=Kt,this.width=Es(z),this.height=Ni(z),this.outputDestination=Je,this.id="",this.objectNumber=-1};zo.prototype.restore=function(){mn=this.page,z=this.currentPage,xt=this.pagesContext,$e=this.pages,pt=this.x,Ln=this.y,Kt=this.matrix,ao(z,this.width),Ji(z,this.height),Je=this.outputDestination};var ro=function(x,D,ee,me,xe){Oa.push(new zo),mn=z=0,$e=[],pt=x,Ln=D,Kt=xe,ri([ee,me])};for(var Ki in w.beginFormObject=function(x,D,ee,me,xe){return ro(x,D,ee,me,xe),this},w.endFormObject=function(x){return(function(D){if(yi[D])Oa.pop().restore();else{var ee=new zo,me="Xo"+(Object.keys(Gr).length+1).toString(10);ee.id=me,yi[D]=me,Gr[me]=ee,nn.publish("addFormObject",ee),Oa.pop().restore()}})(x),this},w.doFormObject=function(x,D){var ee=Gr[yi[x]];return J("q"),J(D.toString()+" cm"),J("/"+ee.id+" Do"),J("Q"),this},w.getFormObject=function(x){var D=Gr[yi[x]];return{x:D.x,y:D.y,width:D.width,height:D.height,matrix:D.matrix}},w.save=function(x,D){return x=x||"generated.pdf",(D=D||{}).returnPromise=D.returnPromise||!1,D.returnPromise===!1?(ac(Vi($i()),x),typeof ac.unload=="function"&&Pt.setTimeout&&setTimeout(ac.unload,911),this):new Promise(function(ee,me){try{var xe=ac(Vi($i()),x);typeof ac.unload=="function"&&Pt.setTimeout&&setTimeout(ac.unload,911),ee(xe)}catch(Be){me(Be.message)}})},ft.API)ft.API.hasOwnProperty(Ki)&&(Ki==="events"&&ft.API.events.length?(function(x,D){var ee,me,xe;for(xe=D.length-1;xe!==-1;xe--)ee=D[xe][0],me=D[xe][1],x.subscribe.apply(x,[ee].concat(typeof me=="function"?[me]:me))})(nn,ft.API.events):w[Ki]=ft.API[Ki]);function Es(x){return xt[x].mediaBox.topRightX-xt[x].mediaBox.bottomLeftX}function ao(x,D){xt[x].mediaBox.topRightX=D+xt[x].mediaBox.bottomLeftX}function Ni(x){return xt[x].mediaBox.topRightY-xt[x].mediaBox.bottomLeftY}function Ji(x,D){xt[x].mediaBox.topRightY=D+xt[x].mediaBox.bottomLeftY}var Nc=w.getPageWidth=function(x){return Es(x=x||z)/Ct},Ac=w.setPageWidth=function(x,D){ao(x,D*Ct)},Xi=w.getPageHeight=function(x){return Ni(x=x||z)/Ct},jc=w.setPageHeight=function(x,D){Ji(x,D*Ct)};return w.internal={pdfEscape:Sa,getStyle:Tl,getFont:ii,getFontSize:We,getCharSpace:Bo,getTextColor:no,getLineHeight:_c,getLineHeightFactor:Sc,getLineWidth:Nt,write:Ge,getHorizontalCoordinate:Aa,getVerticalCoordinate:Dr,getCoordinateString:Bl,getVerticalCoordinateString:eo,collections:{},newObject:qn,newAdditionalObject:Ns,newObjectDeferred:hr,newObjectDeferredBegin:jr,getFilters:_a,putStream:Ra,events:nn,scaleFactor:Ct,pageSize:{getWidth:function(){return Nc(z)},setWidth:function(x){Ac(z,x)},getHeight:function(){return Xi(z)},setHeight:function(x){jc(z,x)}},encryptionOptions:v,encryption:ar,getEncryptor:function(x){return v!==null?ar.encryptor(x,0):function(D){return D}},output:Da,getNumberOfPages:El,pages:$e,out:J,f2:R,f3:$,getPageInfo:Wr,getPageInfoByObjId:Ll,getCurrentPageInfo:bc,getPDFVersion:k,Point:Si,Rectangle:Wi,Matrix:gt,hasHotfix:xi},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return Nc(z)},set:function(x){Ac(z,x)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return Xi(z)},set:function(x){jc(z,x)},enumerable:!0,configurable:!0}),function(x){for(var D=0,ee=rt.length;D<ee;D++){var me=Nl.call(this,x[D][0],x[D][1],x[D][2],rt[D][3],!0);_===!1&&(N[me]=!0);var xe=x[D][0].split("-");rr({id:me,fontName:xe[0],fontStyle:xe[1]||""})}nn.publish("addFonts",{fonts:Xe,dictionary:_t})}.call(w,rt),dt="F1",Fi(s,t),nn.publish("initialized"),w}yu.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},yu.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},yu.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},yu.prototype.processOwnerPassword=function(r,e){return rm(nm(e).substr(0,5),r)},yu.prototype.encryptor=function(r,e){var t=nm(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return rm(t,i)}},yd.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||Cn(r)!==Cn(this))return!1;var i=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;i++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&i--;return i===0},ft.API={events:[]},ft.version="3.0.3";var br=ft.API,Om=1,vc=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},pu=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ht=function(r){return r.toFixed(2)},yl=function(r){return r.toFixed(5)};br.__acroform__={};var Xa=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},Fv=function(r){return r*Om},Gs=function(r){var e=new gb,t=ot.internal.getHeight(r)||0,i=ot.internal.getWidth(r)||0;return e.BBox=[0,0,Number(Ht(i)),Number(Ht(t))],e},h8=br.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},f8=br.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},d8=br.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},Sr=br.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return d8(r,e-1)},Nr=br.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return h8(r,e-1)},Ar=br.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return f8(r,e-1)},p8=br.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,s=r[0],o=r[1],c=r[2],h=r[3],f={};return f.lowerLeft_X=t(s)||0,f.lowerLeft_Y=i(o+h)||0,f.upperRight_X=t(s+c)||0,f.upperRight_Y=i(o)||0,[Number(Ht(f.lowerLeft_X)),Number(Ht(f.lowerLeft_Y)),Number(Ht(f.upperRight_X)),Number(Ht(f.upperRight_Y))]},m8=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,i=am(r,t),s=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+s+" "+Ht(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Gs(r);return o.scope=r.scope,o.stream=e.join(`
`),o}},am=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,i={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=r.multiline?s.map(function(R){return R.split(`
`)}):s.map(function(R){return[R]});var o=t,c=ot.internal.getHeight(r)||0;c=c<0?-c:c;var h=ot.internal.getWidth(r)||0;h=h<0?-h:h;var f=function(R,$,se){if(R+1<s.length){var re=$+" "+s[R+1][0];return Xf(re,r,se).width<=h-4}return!1};o++;e:for(;o>0;){e="",o--;var d,v,_=Xf("3",r,o).height,N=r.multiline?c-o:(c-_)/2,w=N+=2,E=0,k=0,L=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+Xf(e,r,o=12).width+", FieldWidth:"+h+`
`;break}for(var T="",U=0,O=0;O<s.length;O++)if(s.hasOwnProperty(O)){var B=!1;if(s[O].length!==1&&L!==s[O].length-1){if((_+2)*(U+2)+2>c)continue e;T+=s[O][L],B=!0,k=O,O--}else{T=(T+=s[O][L]+" ").substr(T.length-1)==" "?T.substr(0,T.length-1):T;var Y=parseInt(O),ie=f(Y,T,o),te=O>=s.length-1;if(ie&&!te){T+=" ",L=0;continue}if(ie||te){if(te)k=Y;else if(r.multiline&&(_+2)*(U+2)+2>c)continue e}else{if(!r.multiline||(_+2)*(U+2)+2>c)continue e;k=Y}}for(var X="",H=E;H<=k;H++){var pe=s[H];if(r.multiline){if(H===k){X+=pe[L]+" ",L=(L+1)%pe.length;continue}if(H===E){X+=pe[pe.length-1]+" ";continue}}X+=pe[0]+" "}switch(X=X.substr(X.length-1)==" "?X.substr(0,X.length-1):X,v=Xf(X,r,o).width,r.textAlign){case"right":d=h-v-2;break;case"center":d=(h-v)/2;break;default:d=2}e+=Ht(d)+" "+Ht(w)+` Td
`,e+="("+vc(X)+`) Tj
`,e+=-Ht(d)+` 0 Td
`,w=-(o+2),v=0,E=B?k:k+1,U++,T=""}break}return i.text=e,i.fontSize=o,i},Xf=function(r,e,t){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(r,{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},g8={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},v8=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(i){return i.type===t.type&&i.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},y8=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(_s.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(g8)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Om=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new vb,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];o.objId=void 0,o.hasAnnotation&&v8(o,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(i,s){var o=!i;for(var c in i||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(c)){var h=i[c],f=[],d=h.Rect;if(h.Rect&&(h.Rect=p8(h.Rect,s)),s.internal.newObjectDeferredBegin(h.objId,!0),h.DA=ot.createDefaultAppearanceStream(h),Cn(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(f=h.getKeyValueListForStream()),h.Rect=d,h.hasAppearanceStream&&!h.appearanceStreamContent){var v=m8(h);f.push({key:"AP",value:"<</N "+v+">>"}),s.internal.acroformPlugin.xForms.push(v)}if(h.appearanceStreamContent){var _="";for(var N in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(N)){var w=h.appearanceStreamContent[N];if(_+="/"+N+" ",_+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var c in w)if(w.hasOwnProperty(c)){var E=w[c];typeof E=="function"&&(E=E.call(s,h)),_+="/"+c+" "+E+" ",s.internal.acroformPlugin.xForms.indexOf(E)>=0||s.internal.acroformPlugin.xForms.push(E)}}else typeof(E=w)=="function"&&(E=E.call(s,h)),_+="/"+c+" "+E,s.internal.acroformPlugin.xForms.indexOf(E)>=0||s.internal.acroformPlugin.xForms.push(E);_+=">>"}f.push({key:"AP",value:`<<
`+_+">>"})}s.internal.putStream({additionalKeyValues:f,objectId:h.objId}),s.internal.out("endobj")}o&&(function(k,L){for(var T in k)if(k.hasOwnProperty(T)){var U=T,O=k[T];L.internal.newObjectDeferredBegin(O.objId,!0),Cn(O)==="object"&&typeof O.putStream=="function"&&O.putStream(),delete k[U]}})(s.internal.acroformPlugin.xForms,s)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},mb=br.__acroform__.arrayToPdfArray=function(r,e,t){var i=function(c){return c};if(Array.isArray(r)){for(var s="[",o=0;o<r.length;o++)switch(o!==0&&(s+=" "),Cn(r[o])){case"boolean":case"number":case"object":s+=r[o].toString();break;case"string":r[o].substr(0,1)!=="/"?(e!==void 0&&t&&(i=t.internal.getEncryptor(e)),s+="("+vc(i(r[o].toString()))+")"):s+=r[o].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ap=function(r,e,t){var i=function(s){return s};return e!==void 0&&t&&(i=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+vc(i(r))+")"},Ys=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ys.prototype.toString=function(){return this.objId+" 0 R"},Ys.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},Ys.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var i=e[t],s=this[i];s&&(Array.isArray(s)?r.push({key:i,value:mb(s,this.objId,this.scope)}):s instanceof Ys?(s.scope=this.scope,r.push({key:i,value:s.objId+" 0 R"})):typeof s!="function"&&r.push({key:i,value:s}))}return r};var gb=function(){Ys.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};Xa(gb,Ys);var vb=function(){Ys.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(i){return i};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+vc(t(r))+")"}},set:function(t){r=t}})};Xa(vb,Ys);var _s=function r(){Ys.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute F supplied.');e=T}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Sr(e,3)},set:function(T){T?this.F=Nr(e,3):this.F=Ar(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute Ff supplied.');t=T}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(T){i=T!==void 0?T:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(T){i[0]=T}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(T){i[1]=T}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(T){i[2]=T}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(T){i[3]=T}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(T){switch(T){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=T;break;default:throw new Error('Invalid value "'+T+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof bd)return;o="FieldObject"+r.FieldNum++}var T=function(U){return U};return this.scope&&(T=this.scope.internal.getEncryptor(this.objId)),"("+vc(T(o))+")"},set:function(T){o=T.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(T){o=T}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(T){c=T}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(T){h=T}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(T){f=T}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Om:d},set:function(T){d=T}});var v="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return v},set:function(T){v=T}});var _="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!_||this instanceof bd||this instanceof hc))return Ap(_,this.objId,this.scope)},set:function(T){T=T.toString(),_=T}});var N=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(N)return this instanceof ta==0?Ap(N,this.objId,this.scope):N},set:function(T){T=T.toString(),N=this instanceof ta==0?T.substr(0,1)==="("?pu(T.substr(1,T.length-2)):pu(T):T}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ta==1?pu(N.substr(1,N.length-1)):N},set:function(T){T=T.toString(),N=this instanceof ta==1?"/"+T:T}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(T){this.V=T}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof ta==0?Ap(w,this.objId,this.scope):w},set:function(T){T=T.toString(),w=this instanceof ta==0?T.substr(0,1)==="("?pu(T.substr(1,T.length-2)):pu(T):T}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ta==1?pu(w.substr(1,w.length-1)):w},set:function(T){T=T.toString(),w=this instanceof ta==1?"/"+T:T}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var E,k=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return k},set:function(T){T=!!T,k=T}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(E)return E},set:function(T){E=T}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,1)},set:function(T){T?this.Ff=Nr(this.Ff,1):this.Ff=Ar(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,2)},set:function(T){T?this.Ff=Nr(this.Ff,2):this.Ff=Ar(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,3)},set:function(T){T?this.Ff=Nr(this.Ff,3):this.Ff=Ar(this.Ff,3)}});var L=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(L!==null)return L},set:function(T){if([0,1,2].indexOf(T)===-1)throw new Error('Invalid value "'+T+'" for attribute Q supplied.');L=T}}),Object.defineProperty(this,"textAlign",{get:function(){var T;switch(L){case 0:default:T="left";break;case 1:T="center";break;case 2:T="right"}return T},configurable:!0,enumerable:!0,set:function(T){switch(T){case"right":case 2:L=2;break;case"center":case 1:L=1;break;default:L=0}}})};Xa(_s,Ys);var Nu=function(){_s.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return mb(e,this.objId,this.scope)},set:function(t){var i,s;s=[],typeof(i=t)=="string"&&(s=(function(o,c,h){h||(h=1);for(var f,d=[];f=c.exec(o);)d.push(f[h]);return d})(i,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,i){for(i=i||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,18)},set:function(t){t?this.Ff=Nr(this.Ff,18):this.Ff=Ar(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Nr(this.Ff,19):this.Ff=Ar(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,20)},set:function(t){t?(this.Ff=Nr(this.Ff,20),e.sort()):this.Ff=Ar(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,22)},set:function(t){t?this.Ff=Nr(this.Ff,22):this.Ff=Ar(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,23)},set:function(t){t?this.Ff=Nr(this.Ff,23):this.Ff=Ar(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,27)},set:function(t){t?this.Ff=Nr(this.Ff,27):this.Ff=Ar(this.Ff,27)}}),this.hasAppearanceStream=!1};Xa(Nu,_s);var Au=function(){Nu.call(this),this.fontName="helvetica",this.combo=!1};Xa(Au,Nu);var ju=function(){Au.call(this),this.combo=!0};Xa(ju,Au);var sd=function(){ju.call(this),this.edit=!0};Xa(sd,ju);var ta=function(){_s.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,15)},set:function(t){t?this.Ff=Nr(this.Ff,15):this.Ff=Ar(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,16)},set:function(t){t?this.Ff=Nr(this.Ff,16):this.Ff=Ar(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,17)},set:function(t){t?this.Ff=Nr(this.Ff,17):this.Ff=Ar(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,26)},set:function(t){t?this.Ff=Nr(this.Ff,26):this.Ff=Ar(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,s=[];for(i in s.push("<<"),e)s.push("/"+i+" ("+vc(t(e[i]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){Cn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};Xa(ta,_s);var od=function(){ta.call(this),this.pushButton=!0};Xa(od,ta);var Eu=function(){ta.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};Xa(Eu,ta);var bd=function(){var r,e;_s.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(h){return h};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),i)c.push("/"+o+" ("+vc(s(i[o]))+")");return c.push(">>"),c.join(`
`)},set:function(s){Cn(s)==="object"&&(i=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(s){typeof s=="string"&&(i.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ot.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Xa(bd,_s),Eu.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},Eu.prototype.createOption=function(r){var e=new bd;return e.Parent=this,e.optionName=r,this.Kids.push(e),b8.call(this.scope,e),e};var ld=function(){ta.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ot.CheckBox.createAppearanceStream()};Xa(ld,ta);var hc=function(){_s.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,13)},set:function(e){e?this.Ff=Nr(this.Ff,13):this.Ff=Ar(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,21)},set:function(e){e?this.Ff=Nr(this.Ff,21):this.Ff=Ar(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,23)},set:function(e){e?this.Ff=Nr(this.Ff,23):this.Ff=Ar(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,24)},set:function(e){e?this.Ff=Nr(this.Ff,24):this.Ff=Ar(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,25)},set:function(e){e?this.Ff=Nr(this.Ff,25):this.Ff=Ar(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,26)},set:function(e){e?this.Ff=Nr(this.Ff,26):this.Ff=Ar(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Xa(hc,_s);var cd=function(){hc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Sr(this.Ff,14)},set:function(r){r?this.Ff=Nr(this.Ff,14):this.Ff=Ar(this.Ff,14)}}),this.password=!0};Xa(cd,hc);var ot={CheckBox:{createAppearanceStream:function(){return{N:{On:ot.CheckBox.YesNormal},D:{On:ot.CheckBox.YesPushDown,Off:ot.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=Gs(r);e.scope=r.scope;var t=[],i=r.scope.internal.getFont(r.fontName,r.fontStyle).id,s=r.scope.__private__.encodeColorString(r.color),o=am(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+Ht(ot.internal.getWidth(r))+" "+Ht(ot.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+i+" "+Ht(o.fontSize)+" Tf "+s),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=Gs(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),s=[],o=ot.internal.getHeight(r),c=ot.internal.getWidth(r),h=am(r,r.caption);return s.push("1 g"),s.push("0 0 "+Ht(c)+" "+Ht(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Ht(c-1)+" "+Ht(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+Ht(h.fontSize)+" Tf "+i),s.push(h.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(r){var e=Gs(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Ht(ot.internal.getWidth(r))+" "+Ht(ot.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:ot.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=ot.RadioButton.Circle.YesNormal,e.D[r]=ot.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=Gs(r);e.scope=r.scope;var t=[],i=ot.internal.getWidth(r)<=ot.internal.getHeight(r)?ot.internal.getWidth(r)/4:ot.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var s=ot.internal.Bezier_C,o=Number((i*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+yl(ot.internal.getWidth(r)/2)+" "+yl(ot.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Gs(r);e.scope=r.scope;var t=[],i=ot.internal.getWidth(r)<=ot.internal.getHeight(r)?ot.internal.getWidth(r)/4:ot.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var s=Number((2*i).toFixed(5)),o=Number((s*ot.internal.Bezier_C).toFixed(5)),c=Number((i*ot.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+yl(ot.internal.getWidth(r)/2)+" "+yl(ot.internal.getHeight(r)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+yl(ot.internal.getWidth(r)/2)+" "+yl(ot.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+c+" "+c+" "+i+" 0 "+i+" c"),t.push("-"+c+" "+i+" -"+i+" "+c+" -"+i+" 0 c"),t.push("-"+i+" -"+c+" -"+c+" -"+i+" 0 -"+i+" c"),t.push(c+" -"+i+" "+i+" -"+c+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=Gs(r);e.scope=r.scope;var t=[],i=ot.internal.getWidth(r)<=ot.internal.getHeight(r)?ot.internal.getWidth(r)/4:ot.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var s=Number((2*i).toFixed(5)),o=Number((s*ot.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+yl(ot.internal.getWidth(r)/2)+" "+yl(ot.internal.getHeight(r)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:ot.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=ot.RadioButton.Cross.YesNormal,e.D[r]=ot.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=Gs(r);e.scope=r.scope;var t=[],i=ot.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+Ht(ot.internal.getWidth(r)-2)+" "+Ht(ot.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(Ht(i.x1.x)+" "+Ht(i.x1.y)+" m"),t.push(Ht(i.x2.x)+" "+Ht(i.x2.y)+" l"),t.push(Ht(i.x4.x)+" "+Ht(i.x4.y)+" m"),t.push(Ht(i.x3.x)+" "+Ht(i.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Gs(r);e.scope=r.scope;var t=ot.internal.calculateCross(r),i=[];return i.push("0.749023 g"),i.push("0 0 "+Ht(ot.internal.getWidth(r))+" "+Ht(ot.internal.getHeight(r))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Ht(ot.internal.getWidth(r)-2)+" "+Ht(ot.internal.getHeight(r)-2)+" re"),i.push("W"),i.push("n"),i.push(Ht(t.x1.x)+" "+Ht(t.x1.y)+" m"),i.push(Ht(t.x2.x)+" "+Ht(t.x2.y)+" l"),i.push(Ht(t.x4.x)+" "+Ht(t.x4.y)+" m"),i.push(Ht(t.x3.x)+" "+Ht(t.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(r){var e=Gs(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Ht(ot.internal.getWidth(r))+" "+Ht(ot.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};ot.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=ot.internal.getWidth(r),t=ot.internal.getHeight(r),i=Math.min(e,t);return{x1:{x:(e-i)/2,y:(t-i)/2+i},x2:{x:(e-i)/2+i,y:(t-i)/2},x3:{x:(e-i)/2,y:(t-i)/2},x4:{x:(e-i)/2+i,y:(t-i)/2+i}}}},ot.internal.getWidth=function(r){var e=0;return Cn(r)==="object"&&(e=Fv(r.Rect[2])),e},ot.internal.getHeight=function(r){var e=0;return Cn(r)==="object"&&(e=Fv(r.Rect[3])),e};var b8=br.addField=function(r){if(y8(this,r),!(r instanceof _s))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};br.AcroFormChoiceField=Nu,br.AcroFormListBox=Au,br.AcroFormComboBox=ju,br.AcroFormEditBox=sd,br.AcroFormButton=ta,br.AcroFormPushButton=od,br.AcroFormRadioButton=Eu,br.AcroFormCheckBox=ld,br.AcroFormTextField=hc,br.AcroFormPasswordField=cd,br.AcroFormAppearance=ot,br.AcroForm={ChoiceField:Nu,ListBox:Au,ComboBox:ju,EditBox:sd,Button:ta,PushButton:od,RadioButton:Eu,CheckBox:ld,TextField:hc,PasswordField:cd,Appearance:ot},ft.AcroForm={ChoiceField:Nu,ListBox:Au,ComboBox:ju,EditBox:sd,Button:ta,PushButton:od,RadioButton:Eu,CheckBox:ld,TextField:hc,PasswordField:cd,Appearance:ot};ft.AcroForm;function yb(r){return r.reduce(function(e,t,i){return e[t]=i,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=r.__addimage__.getImageFileTypeByImageData=function(R,$){var se,re,he,K,le,ue=t;if(($=$||t)==="RGBA"||R.data!==void 0&&R.data instanceof Uint8ClampedArray&&"height"in R&&"width"in R)return"RGBA";if(ie(R))for(le in i)for(he=i[le],se=0;se<he.length;se+=1){for(K=!0,re=0;re<he[se].length;re+=1)if(he[se][re]!==void 0&&he[se][re]!==R[re]){K=!1;break}if(K===!0){ue=le;break}}else for(le in i)for(he=i[le],se=0;se<he.length;se+=1){for(K=!0,re=0;re<he[se].length;re+=1)if(he[se][re]!==void 0&&he[se][re]!==R.charCodeAt(re)){K=!1;break}if(K===!0){ue=le;break}}return ue===t&&$!==t&&(ue=$),ue},o=function R($){for(var se=this.internal.write,re=this.internal.putStream,he=(0,this.internal.getFilters)();he.indexOf("FlateEncode")!==-1;)he.splice(he.indexOf("FlateEncode"),1);$.objectId=this.internal.newObject();var K=[];if(K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Image"}),K.push({key:"Width",value:$.width}),K.push({key:"Height",value:$.height}),$.colorSpace===T.INDEXED?K.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+($.palette.length/3-1)+" "+("sMask"in $&&$.sMask!==void 0?$.objectId+2:$.objectId+1)+" 0 R]"}):(K.push({key:"ColorSpace",value:"/"+$.colorSpace}),$.colorSpace===T.DEVICE_CMYK&&K.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),K.push({key:"BitsPerComponent",value:$.bitsPerComponent}),"decodeParameters"in $&&$.decodeParameters!==void 0&&K.push({key:"DecodeParms",value:"<<"+$.decodeParameters+">>"}),"transparency"in $&&Array.isArray($.transparency)&&$.transparency.length>0){for(var le="",ue=0,ae=$.transparency.length;ue<ae;ue++)le+=$.transparency[ue]+" "+$.transparency[ue]+" ";K.push({key:"Mask",value:"["+le+"]"})}$.sMask!==void 0&&K.push({key:"SMask",value:$.objectId+1+" 0 R"});var ke=$.filter!==void 0?["/"+$.filter]:void 0;if(re({data:$.data,additionalKeyValues:K,alreadyAppliedFilters:ke,objectId:$.objectId}),se("endobj"),"sMask"in $&&$.sMask!==void 0){var G,A=(G=$.sMaskBitsPerComponent)!==null&&G!==void 0?G:$.bitsPerComponent,z={width:$.width,height:$.height,colorSpace:"DeviceGray",bitsPerComponent:A,data:$.sMask};"filter"in $&&(z.decodeParameters="/Predictor ".concat($.predictor," /Colors 1 /BitsPerComponent ").concat(A," /Columns ").concat($.width),z.filter=$.filter),R.call(this,z)}if($.colorSpace===T.INDEXED){var F=this.internal.newObject();re({data:X(new Uint8Array($.palette)),objectId:F}),se("endobj")}},c=function(){var R=this.internal.collections[e+"images"];for(var $ in R)o.call(this,R[$])},h=function(){var R,$=this.internal.collections[e+"images"],se=this.internal.write;for(var re in $)se("/I"+(R=$[re]).index,R.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",h))},d=function(){var R=this.internal.collections[e+"images"];return f.call(this),R},v=function(){return Object.keys(this.internal.collections[e+"images"]).length},_=function(R){return typeof r["process"+R.toUpperCase()]=="function"},N=function(R){return Cn(R)==="object"&&R.nodeType===1},w=function(R,$){if(R.nodeName==="IMG"&&R.hasAttribute("src")){var se=""+R.getAttribute("src");if(se.indexOf("data:image/")===0)return id(unescape(se).split("base64,").pop());var re=r.loadFile(se,!0);if(re!==void 0)return re}if(R.nodeName==="CANVAS"){if(R.width===0||R.height===0)throw new Error("Given canvas must have data. Canvas width: "+R.width+", height: "+R.height);var he;switch($){case"PNG":he="image/png";break;case"WEBP":he="image/webp";break;default:he="image/jpeg"}return id(R.toDataURL(he,1).split("base64,").pop())}},E=function(R){var $=this.internal.collections[e+"images"];if($){for(var se in $)if(R===$[se].alias)return $[se]}},k=function(R,$,se){return R||$||(R=-96,$=-96),R<0&&(R=-1*se.width*72/R/this.internal.scaleFactor),$<0&&($=-1*se.height*72/$/this.internal.scaleFactor),R===0&&(R=$*se.width/se.height),$===0&&($=R*se.height/se.width),[R,$]},L=function(R,$,se,re,he,K){var le=k.call(this,se,re,he),ue=this.internal.getCoordinateString,ae=this.internal.getVerticalCoordinateString,ke=d.call(this);if(se=le[0],re=le[1],ke[he.index]=he,K){K*=Math.PI/180;var G=Math.cos(K),A=Math.sin(K),z=function(ne){return ne.toFixed(4)},F=[z(G),z(A),z(-1*A),z(G),0,0,"cm"]}this.internal.write("q"),K?(this.internal.write([1,"0","0",1,ue(R),ae($+re),"cm"].join(" ")),this.internal.write(F.join(" ")),this.internal.write([ue(se),"0","0",ue(re),"0","0","cm"].join(" "))):this.internal.write([ue(se),"0","0",ue(re),ue(R),ae($+re),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+he.index+" Do"),this.internal.write("Q")},T=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var U=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},O=r.__addimage__.sHashCode=function(R){var $,se,re=0;if(typeof R=="string")for(se=R.length,$=0;$<se;$++)re=(re<<5)-re+R.charCodeAt($),re|=0;else if(ie(R))for(se=R.byteLength/2,$=0;$<se;$++)re=(re<<5)-re+R[$],re|=0;return re},B=r.__addimage__.validateStringAsBase64=function(R){(R=R||"").toString().trim();var $=!0;return R.length===0&&($=!1),R.length%4!=0&&($=!1),/^[A-Za-z0-9+/]+$/.test(R.substr(0,R.length-2))===!1&&($=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(R.substr(-2))===!1&&($=!1),$},Y=r.__addimage__.extractImageFromDataUrl=function(R){if(R==null||!(R=R.trim()).startsWith("data:"))return null;var $=R.indexOf(",");return $<0?null:R.substring(0,$).trim().endsWith("base64")?R.substring($+1):null};r.__addimage__.isArrayBuffer=function(R){return R instanceof ArrayBuffer};var ie=r.__addimage__.isArrayBufferView=function(R){return R instanceof Int8Array||R instanceof Uint8Array||R instanceof Uint8ClampedArray||R instanceof Int16Array||R instanceof Uint16Array||R instanceof Int32Array||R instanceof Uint32Array||R instanceof Float32Array||R instanceof Float64Array},te=r.__addimage__.binaryStringToUint8Array=function(R){for(var $=R.length,se=new Uint8Array($),re=0;re<$;re++)se[re]=R.charCodeAt(re);return se},X=r.__addimage__.arrayBufferToBinaryString=function(R){for(var $="",se=ie(R)?R:new Uint8Array(R),re=0;re<se.length;re+=8192)$+=String.fromCharCode.apply(null,se.subarray(re,re+8192));return $};r.addImage=function(){var R,$,se,re,he,K,le,ue,ae;if(typeof arguments[1]=="number"?($=t,se=arguments[1],re=arguments[2],he=arguments[3],K=arguments[4],le=arguments[5],ue=arguments[6],ae=arguments[7]):($=arguments[1],se=arguments[2],re=arguments[3],he=arguments[4],K=arguments[5],le=arguments[6],ue=arguments[7],ae=arguments[8]),Cn(R=arguments[0])==="object"&&!N(R)&&"imageData"in R){var ke=R;R=ke.imageData,$=ke.format||$||t,se=ke.x||se||0,re=ke.y||re||0,he=ke.w||ke.width||he,K=ke.h||ke.height||K,le=ke.alias||le,ue=ke.compression||ue,ae=ke.rotation||ke.angle||ae}var G=this.internal.getFilters();if(ue===void 0&&G.indexOf("FlateEncode")!==-1&&(ue="SLOW"),isNaN(se)||isNaN(re))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var A=H.call(this,R,$,le,ue);return L.call(this,se,re,he,K,A,ae),this};var H=function(R,$,se,re){var he,K,le;if(typeof R=="string"&&s(R)===t){R=unescape(R);var ue=pe(R,!1);(ue!==""||(ue=r.loadFile(R,!0))!==void 0)&&(R=ue)}if(N(R)&&(R=w(R,$)),$=s(R,$),!_($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(((le=se)==null||le.length===0)&&(se=(function(ae){return typeof ae=="string"||ie(ae)?O(ae):ie(ae.data)?O(ae.data):null})(R)),(he=E.call(this,se))||(R instanceof Uint8Array||$==="RGBA"||(K=R,R=te(R)),he=this["process"+$.toUpperCase()](R,v.call(this),se,(function(ae){return ae&&typeof ae=="string"&&(ae=ae.toUpperCase()),ae in r.image_compression?ae:U.NONE})(re),K)),!he)throw new Error("An unknown error occurred whilst processing the image.");return he},pe=r.__addimage__.convertBase64ToBinaryString=function(R,$){$=typeof $!="boolean"||$;var se,re="";if(typeof R=="string"){var he;se=(he=Y(R))!==null&&he!==void 0?he:R;try{re=id(se)}catch(K){if($)throw B(se)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+K.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return re};r.getImageProperties=function(R){var $,se,re="";if(N(R)&&(R=w(R)),typeof R=="string"&&s(R)===t&&((re=pe(R,!1))===""&&(re=r.loadFile(R)||""),R=re),se=s(R),!_(se))throw new Error("addImage does not support files of type '"+se+"', please ensure that a plugin for '"+se+"' support is added.");if(R instanceof Uint8Array||(R=te(R)),!($=this["process"+se.toUpperCase()](R)))throw new Error("An unknown error occurred whilst processing the image");return $.fileType=se,$}})(ft.API),(function(r){var e=function(t){if(t!==void 0&&t!="")return!0};ft.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var i,s,o,c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,v=!1,_=0;_<d.length&&!v;_++)switch((i=d[_]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(v=!0);break;case"reference":case"text":case"freetext":v=!0}if(v!=0){this.internal.write("/Annots [");for(var N=0;N<d.length;N++){i=d[N];var w=this.internal.pdfEscape,E=this.internal.getEncryptor(t.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var k=this.internal.newAdditionalObject(),L=this.internal.newAdditionalObject(),T=this.internal.getEncryptor(k.objId),U=i.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+c(i.bounds.x)+" "+h(i.bounds.y+i.bounds.h)+" "+c(i.bounds.x+i.bounds.w)+" "+h(i.bounds.y)+"] ")+"/Contents ("+w(T(i.contents))+")",o+=" /Popup "+L.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+w(T(U))+") >>",k.content=o;var O=k.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+c(i.bounds.x+30)+" "+h(i.bounds.y+i.bounds.h)+" "+c(i.bounds.x+i.bounds.w+30)+" "+h(i.bounds.y)+"] ")+" /Parent "+O,i.open&&(o+=" /Open true"),o+=" >>",L.content=o,this.internal.write(k.objId,"0 R",L.objId,"0 R");break;case"freetext":s="/Rect ["+c(i.bounds.x)+" "+h(i.bounds.y)+" "+c(i.bounds.x+i.bounds.w)+" "+h(i.bounds.y+i.bounds.h)+"] ";var B=i.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+w(E(i.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+B+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(i.options.name){var Y=this.annotations._nameMap[i.options.name];i.options.pageNumber=Y.page,i.options.top=Y.y}else i.options.top||(i.options.top=0);if(s="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",o="",i.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+w(E(i.options.url))+") >>";else if(i.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,o+=" /FitV "+i.options.left+"]";break;default:var ie=h(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),o+=" /XYZ "+i.options.left+" "+ie+" "+i.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var i=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":i.pageContext.annotations.push(t)}},r.link=function(t,i,s,o,c){var h=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:f(t),y:d(i),w:f(t+s),h:d(i+o)},options:c,type:"link"})},r.textWithLink=function(t,i,s,o){var c,h,f=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){h=o.maxWidth;var v=this.splitTextToSize(t,h).length;c=Math.ceil(d*v)}else h=f,c=d;return this.text(t,i,s,o),s+=.2*d,o.align==="center"&&(i-=f/2),o.align==="right"&&(i-=f),this.link(i,s-d,h,c,o),f},r.getTextWidth=function(t){var i=this.internal.getFontSize();return this.getStringUnitWidth(t)*i/this.internal.scaleFactor}})(ft.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];r.__arabicParser__={};var o=r.__arabicParser__.isInArabicSubstitutionA=function(k){return e[k.charCodeAt(0)]!==void 0},c=r.__arabicParser__.isArabicLetter=function(k){return typeof k=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(k)},h=r.__arabicParser__.isArabicEndLetter=function(k){return c(k)&&o(k)&&e[k.charCodeAt(0)].length<=2},f=r.__arabicParser__.isArabicAlfLetter=function(k){return c(k)&&s.indexOf(k.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(k){return c(k)&&o(k)&&e[k.charCodeAt(0)].length>=1};var d=r.__arabicParser__.arabicLetterHasFinalForm=function(k){return c(k)&&o(k)&&e[k.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(k){return c(k)&&o(k)&&e[k.charCodeAt(0)].length>=3};var v=r.__arabicParser__.arabicLetterHasMedialForm=function(k){return c(k)&&o(k)&&e[k.charCodeAt(0)].length==4},_=r.__arabicParser__.resolveLigatures=function(k){var L=0,T=t,U="",O=0;for(L=0;L<k.length;L+=1)T[k.charCodeAt(L)]!==void 0?(O++,typeof(T=T[k.charCodeAt(L)])=="number"&&(U+=String.fromCharCode(T),T=t,O=0),L===k.length-1&&(T=t,U+=k.charAt(L-(O-1)),L-=O-1,O=0)):(T=t,U+=k.charAt(L-O),L-=O,O=0);return U};r.__arabicParser__.isArabicDiacritic=function(k){return k!==void 0&&i[k.charCodeAt(0)]!==void 0};var N=r.__arabicParser__.getCorrectForm=function(k,L,T){return c(k)?o(k)===!1?-1:!d(k)||!c(L)&&!c(T)||!c(T)&&h(L)||h(k)&&!c(L)||h(k)&&f(L)||h(k)&&h(L)?0:v(k)&&c(L)&&!h(L)&&c(T)&&d(T)?3:h(k)||!c(T)?1:2:-1},w=function(k){var L=0,T=0,U=0,O="",B="",Y="",ie=(k=k||"").split("\\s+"),te=[];for(L=0;L<ie.length;L+=1){for(te.push(""),T=0;T<ie[L].length;T+=1)O=ie[L][T],B=ie[L][T-1],Y=ie[L][T+1],c(O)?(U=N(O,B,Y),te[L]+=U!==-1?String.fromCharCode(e[O.charCodeAt(0)][U]):O):te[L]+=O;te[L]=_(te[L])}return te.join(" ")},E=r.__arabicParser__.processArabic=r.processArabic=function(){var k,L=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,T=[];if(Array.isArray(L)){var U=0;for(T=[],U=0;U<L.length;U+=1)Array.isArray(L[U])?T.push([w(L[U][0]),L[U][1],L[U][2]]):T.push([w(L[U])]);k=T}else k=w(L);return typeof arguments[0]=="string"?k:(arguments[0].text=k,arguments[0])};r.events.push(["preProcessText",E])})(ft.API),ft.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(h){t=h}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(h){i=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(h){s=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(h){o=h}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(h){c=h}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,i){var s;if((t=t||"2d")!=="2d")return null;for(s in i)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=i[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(ft.API),(function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(k){f=k}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(k){d=k}});var v=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return v},set:function(k){v=k}});var _=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return _},set:function(k){_=k}});var N=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return N},set:function(k){N=k}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(k){w=k}});var E=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return E},set:function(k){E=k}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(f){return i.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},r.getTextDimensions=function(f,d){i.call(this);var v=(d=d||{}).fontSize||this.getFontSize(),_=d.font||this.getFont(),N=d.scaleFactor||this.internal.scaleFactor,w=0,E=0,k=0,L=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var T=d.maxWidth;T>0?typeof f=="string"?f=this.splitTextToSize(f,T):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(O,B){return O.concat(L.splitTextToSize(B,T))},[])):f=Array.isArray(f)?f:[f];for(var U=0;U<f.length;U++)w<(k=this.getStringUnitWidth(f[U],{font:_})*v)&&(w=k);return w!==0&&(E=f.length),{w:w/=N,h:Math.max((E*v*this.getLineHeightFactor()-v*(this.getLineHeightFactor()-1))/N,0)}},r.cellAddPage=function(){i.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=r.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var d=this.internal.__cell__.lastCell,v=this.internal.__cell__.padding,_=this.internal.__cell__.margins||e,N=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+_.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=_.top,w&&N&&(this.printHeaderRow(f.lineNumber,!0),f.y+=N[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-v,f.y+v,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+v,{align:"center",baseline:"top",maxWidth:f.width-v-v}):this.text(f.text,f.x+v,f.y+v,{align:"left",baseline:"top",maxWidth:f.width-v-v})),this.internal.__cell__.lastCell=f,this};r.table=function(f,d,v,_,N){if(i.call(this),!v)throw new Error("No data for PDF table.");var w,E,k,L,T=[],U=[],O=[],B={},Y={},ie=[],te=[],X=(N=N||{}).autoSize||!1,H=N.printHeaders!==!1,pe=N.css&&N.css["font-size"]!==void 0?16*N.css["font-size"]:N.fontSize||12,R=N.margins||Object.assign({width:this.getPageWidth()},e),$=typeof N.padding=="number"?N.padding:3,se=N.headerBackgroundColor||"#c8c8c8",re=N.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=H,this.internal.__cell__.margins=R,this.internal.__cell__.table_font_size=pe,this.internal.__cell__.padding=$,this.internal.__cell__.headerBackgroundColor=se,this.internal.__cell__.headerTextColor=re,this.setFontSize(pe),_==null)U=T=Object.keys(v[0]),O=T.map(function(){return"left"});else if(Array.isArray(_)&&Cn(_[0])==="object")for(T=_.map(function(ke){return ke.name}),U=_.map(function(ke){return ke.prompt||ke.name||""}),O=_.map(function(ke){return ke.align||"left"}),w=0;w<_.length;w+=1)Y[_[w].name]=.7499990551181103*_[w].width;else Array.isArray(_)&&typeof _[0]=="string"&&(U=T=_,O=T.map(function(){return"left"}));if(X||Array.isArray(_)&&typeof _[0]=="string")for(w=0;w<T.length;w+=1){for(B[L=T[w]]=v.map(function(ke){return ke[L]}),this.setFont(void 0,"bold"),ie.push(this.getTextDimensions(U[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),E=B[L],this.setFont(void 0,"normal"),k=0;k<E.length;k+=1)ie.push(this.getTextDimensions(E[k],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Y[L]=Math.max.apply(null,ie)+$+$,ie=[]}if(H){var he={};for(w=0;w<T.length;w+=1)he[T[w]]={},he[T[w]].text=U[w],he[T[w]].align=O[w];var K=h.call(this,he,Y);te=T.map(function(ke){return new o(f,d,Y[ke],K,he[ke].text,void 0,he[ke].align)}),this.setTableHeaderRow(te),this.printHeaderRow(1,!1)}var le=_.reduce(function(ke,G){return ke[G.name]=G.align,ke},{});for(w=0;w<v.length;w+=1){"rowStart"in N&&N.rowStart instanceof Function&&N.rowStart({row:w,data:v[w]},this);var ue=h.call(this,v[w],Y);for(k=0;k<T.length;k+=1){var ae=v[w][T[k]];"cellStart"in N&&N.cellStart instanceof Function&&N.cellStart({row:w,col:k,data:ae},this),c.call(this,new o(f,d,Y[T[k]],ue,ae,w+2,le[T[k]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var h=function(f,d){var v=this.internal.__cell__.padding,_=this.internal.__cell__.table_font_size,N=this.internal.scaleFactor;return Object.keys(f).map(function(w){var E=f[w];return this.splitTextToSize(E.hasOwnProperty("text")?E.text:E,d[w]-v-v)},this).map(function(w){return this.getLineHeightFactor()*w.length*_/N+v+v},this).reduce(function(w,E){return Math.max(w,E)},0)};r.setTableHeaderRow=function(f){i.call(this),this.internal.__cell__.tableHeaderRow=f},r.printHeaderRow=function(f,d){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var v;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var _=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(_[0],_[1],_[2],_[3],void 0,-1)}this.setFont(void 0,"bold");for(var N=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){v=this.internal.__cell__.tableHeaderRow[w].clone(),d&&(v.y=this.internal.__cell__.margins.top||0,N.push(v)),v.lineNumber=f;var E=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,v),this.setTextColor(E)}N.length>0&&this.setTableHeaderRow(N),this.setFont(void 0,"normal"),t=!1}})(ft.API);var bb={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},wb=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],im=yb(wb),xb=[100,200,300,400,500,600,700,800,900],w8=yb(xb);function jp(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return bb[o=o||"normal"]?o:"normal"})(r.style),i=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(r.weight),s=(function(o){return typeof im[o=o||"normal"]=="number"?o:"normal"})(r.stretch);return{family:e,style:t,weight:i,stretch:s,src:r.src||[],ref:r.ref||{name:e,style:[s,t,i].join(" ")}}}function Hv(r,e,t,i){var s;for(s=t;s>=0&&s<e.length;s+=i)if(r[e[s]])return r[e[s]];for(s=t;s>=0&&s<e.length;s-=i)if(r[e[s]])return r[e[s]]}var x8={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},$v={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Vv(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function Gv(r){return r.trimLeft()}function _8(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function S8(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var Zf,Yv,Wv,mu,Qf,Kv,Jv,Xv,Ep=["times"];function Zv(r,e,t,i,s){var o=4,c=e5;switch(s){case ft.API.image_compression.FAST:o=1,c=Qv;break;case ft.API.image_compression.MEDIUM:o=6,c=t5;break;case ft.API.image_compression.SLOW:o=9,c=n5}r=(function(f,d,v,_){for(var N,w=f.length/d,E=new Uint8Array(f.length+w),k=[N8,Qv,e5,t5,n5],L=0;L<w;L+=1){var T=L*d,U=f.subarray(T,T+d);if(_)E.set(_(U,v,N),T+L);else{for(var O=k.length,B=[],Y=0;Y<O;Y+=1)B[Y]=k[Y](U,v,N);var ie=j8(B.concat());E.set(B[ie],T+L)}N=U}return E})(r,e,Math.ceil(t*i/8),c);var h=Zp(r,{level:o});return ft.API.__addimage__.arrayBufferToBinaryString(h)}function N8(r){var e=Array.apply([],r);return e.unshift(0),e}function Qv(r,e){var t=r.length,i=[];i[0]=1;for(var s=0;s<t;s+=1){var o=r[s-e]||0;i[s+1]=r[s]-o+256&255}return i}function e5(r,e,t){var i=r.length,s=[];s[0]=2;for(var o=0;o<i;o+=1){var c=t&&t[o]||0;s[o+1]=r[o]-c+256&255}return s}function t5(r,e,t){var i=r.length,s=[];s[0]=3;for(var o=0;o<i;o+=1){var c=r[o-e]||0,h=t&&t[o]||0;s[o+1]=r[o]+256-(c+h>>>1)&255}return s}function n5(r,e,t){var i=r.length,s=[];s[0]=4;for(var o=0;o<i;o+=1){var c=A8(r[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);s[o+1]=r[o]-c+256&255}return s}function A8(r,e,t){if(r===e&&e===t)return r;var i=Math.abs(e-t),s=Math.abs(r-t),o=Math.abs(r+e-t-t);return i<=s&&i<=o?r:s<=o?e:t}function j8(r){var e=r.map(function(t){return t.reduce(function(i,s){return i+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function Cp(r,e,t){var i=e*t,s=Math.floor(i/8),o=16-(i-8*s+t),c=(1<<t)-1;return _b(r,s)>>o&c}function r5(r,e,t,i){var s=t*i,o=Math.floor(s/8),c=16-(s-8*o+i),h=(1<<i)-1,f=(e&h)<<c;(function(d,v,_){if(v+1<d.byteLength)d.setUint16(v,_,!1);else{var N=_>>8&255;d.setUint8(v,N)}})(r,o,_b(r,o)&~(h<<c)&65535|f)}function _b(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function E8(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,i=r[e++]|r[e++]<<8,s=r[e++],o=s>>7,c=1<<1+(7&s);r[e++],r[e++];var h=null,f=null;o&&(h=e,f=c,e+=3*c);var d=!0,v=[],_=0,N=null,w=0,E=null;for(this.width=t,this.height=i;d&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,E=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((R=r[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var k=r[e++];_=r[e++]|r[e++]<<8,N=r[e++],1&k||(N=null),w=k>>2&7,e++;break;case 254:for(;;){if(!((R=r[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var L=r[e++]|r[e++]<<8,T=r[e++]|r[e++]<<8,U=r[e++]|r[e++]<<8,O=r[e++]|r[e++]<<8,B=r[e++],Y=B>>6&1,ie=1<<1+(7&B),te=h,X=f,H=!1;B>>7&&(H=!0,te=e,X=ie,e+=3*ie);var pe=e;for(e++;;){var R;if(!((R=r[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}v.push({x:L,y:T,width:U,height:O,has_local_palette:H,palette_offset:te,palette_size:X,data_offset:pe,data_length:e-pe,transparent_index:N,interlaced:!!Y,delay:_,disposal:w});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return E},this.frameInfo=function($){if($<0||$>=v.length)throw new Error("Frame index out of range.");return v[$]},this.decodeAndBlitFrameBGRA=function($,se){var re=this.frameInfo($),he=re.width*re.height,K=new Uint8Array(he);a5(r,re.data_offset,K,he);var le=re.palette_offset,ue=re.transparent_index;ue===null&&(ue=256);var ae=re.width,ke=t-ae,G=ae,A=4*(re.y*t+re.x),z=4*((re.y+re.height)*t+re.x),F=A,ne=4*ke;re.interlaced===!0&&(ne+=4*t*7);for(var ce=8,we=0,je=K.length;we<je;++we){var Ae=K[we];if(G===0&&(G=ae,(F+=ne)>=z&&(ne=4*ke+4*t*(ce-1),F=A+(ae+ke)*(ce<<1),ce>>=1)),Ae===ue)F+=4;else{var Me=r[le+3*Ae],$e=r[le+3*Ae+1],Ke=r[le+3*Ae+2];se[F++]=Ke,se[F++]=$e,se[F++]=Me,se[F++]=255}--G}},this.decodeAndBlitFrameRGBA=function($,se){var re=this.frameInfo($),he=re.width*re.height,K=new Uint8Array(he);a5(r,re.data_offset,K,he);var le=re.palette_offset,ue=re.transparent_index;ue===null&&(ue=256);var ae=re.width,ke=t-ae,G=ae,A=4*(re.y*t+re.x),z=4*((re.y+re.height)*t+re.x),F=A,ne=4*ke;re.interlaced===!0&&(ne+=4*t*7);for(var ce=8,we=0,je=K.length;we<je;++we){var Ae=K[we];if(G===0&&(G=ae,(F+=ne)>=z&&(ne=4*ke+4*t*(ce-1),F=A+(ae+ke)*(ce<<1),ce>>=1)),Ae===ue)F+=4;else{var Me=r[le+3*Ae],$e=r[le+3*Ae+1],Ke=r[le+3*Ae+2];se[F++]=Me,se[F++]=$e,se[F++]=Ke,se[F++]=255}--G}}}function a5(r,e,t,i){for(var s=r[e++],o=1<<s,c=o+1,h=c+1,f=s+1,d=(1<<f)-1,v=0,_=0,N=0,w=r[e++],E=new Int32Array(4096),k=null;;){for(;v<16&&w!==0;)_|=r[e++]<<v,v+=8,w===1?w=r[e++]:--w;if(v<f)break;var L=_&d;if(_>>=f,v-=f,L!==o){if(L===c)break;for(var T=L<h?L:k,U=0,O=T;O>o;)O=E[O]>>8,++U;var B=O;if(N+U+(T!==L?1:0)>i)return void zn.log("Warning, gif stream longer than expected.");t[N++]=B;var Y=N+=U;for(T!==L&&(t[N++]=B),O=T;U--;)O=E[O],t[--Y]=255&O,O>>=8;k!==null&&h<4096&&(E[h++]=k<<8|B,h>=d+1&&f<12&&(++f,d=d<<1|1)),k=L}else h=c+1,d=(1<<(f=s+1))-1,k=null}return N!==i&&zn.log("Warning, gif stream shorter than expected."),t}function Lp(r){var e,t,i,s,o,c=Math.floor,h=new Array(64),f=new Array(64),d=new Array(64),v=new Array(64),_=new Array(65535),N=new Array(65535),w=new Array(64),E=new Array(64),k=[],L=0,T=7,U=new Array(64),O=new Array(64),B=new Array(64),Y=new Array(256),ie=new Array(2048),te=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],X=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],pe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],$=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],se=[0,1,2,3,4,5,6,7,8,9,10,11],re=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],he=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function K(A,z){for(var F=0,ne=0,ce=new Array,we=1;we<=16;we++){for(var je=1;je<=A[we];je++)ce[z[ne]]=[],ce[z[ne]][0]=F,ce[z[ne]][1]=we,ne++,F++;F*=2}return ce}function le(A){for(var z=A[0],F=A[1]-1;F>=0;)z&1<<F&&(L|=1<<T),F--,--T<0&&(L==255?(ue(255),ue(0)):ue(L),T=7,L=0)}function ue(A){k.push(A)}function ae(A){ue(A>>8&255),ue(255&A)}function ke(A,z,F,ne,ce){for(var we,je=ce[0],Ae=ce[240],Me=(function(Fe,tt){var We,Tt,mt,Ut,zt,Mt,bn,Rt,dt,Ct,pt=0;for(dt=0;dt<8;++dt){We=Fe[pt],Tt=Fe[pt+1],mt=Fe[pt+2],Ut=Fe[pt+3],zt=Fe[pt+4],Mt=Fe[pt+5],bn=Fe[pt+6];var Ln=We+(Rt=Fe[pt+7]),Kt=We-Rt,Xe=Tt+bn,_t=Tt-bn,Vt=mt+Mt,St=mt-Mt,Jt=Ut+zt,It=Ut-zt,In=Ln+Jt,Jn=Ln-Jt,mn=Xe+Vt,xt=Xe-Vt;Fe[pt]=In+mn,Fe[pt+4]=In-mn;var nn=.707106781*(xt+Jn);Fe[pt+2]=Jn+nn,Fe[pt+6]=Jn-nn;var Za=.382683433*((In=It+St)-(xt=_t+Kt)),Gr=.5411961*In+Za,yi=1.306562965*xt+Za,Oa=.707106781*(mn=St+_t),gt=Kt+Oa,qi=Kt-Oa;Fe[pt+5]=qi+Gr,Fe[pt+3]=qi-Gr,Fe[pt+1]=gt+yi,Fe[pt+7]=gt-yi,pt+=8}for(pt=0,dt=0;dt<8;++dt){We=Fe[pt],Tt=Fe[pt+8],mt=Fe[pt+16],Ut=Fe[pt+24],zt=Fe[pt+32],Mt=Fe[pt+40],bn=Fe[pt+48];var bi=We+(Rt=Fe[pt+56]),wa=We-Rt,xa=Tt+bn,qn=Tt-bn,hr=mt+Mt,jr=mt-Mt,Ns=Ut+zt,na=Ut-zt,Nn=bi+Ns,Hn=bi-Ns,Yr=xa+hr,_a=xa-hr;Fe[pt]=Nn+Yr,Fe[pt+32]=Nn-Yr;var Ra=.707106781*(_a+Hn);Fe[pt+16]=Hn+Ra,Fe[pt+48]=Hn-Ra;var Js=.382683433*((Nn=na+jr)-(_a=qn+wa)),Qa=.5411961*Nn+Js,ei=1.306562965*_a+Js,As=.707106781*(Yr=jr+qn),ti=wa+As,ni=wa-As;Fe[pt+40]=ni+Qa,Fe[pt+24]=ni-Qa,Fe[pt+8]=ti+ei,Fe[pt+56]=ti-ei,pt++}for(dt=0;dt<64;++dt)Ct=Fe[dt]*tt[dt],w[dt]=Ct>0?Ct+.5|0:Ct-.5|0;return w})(A,z),$e=0;$e<64;++$e)E[te[$e]]=Me[$e];var Ke=E[0]-F;F=E[0],Ke==0?le(ne[0]):(le(ne[N[we=32767+Ke]]),le(_[we]));for(var Je=63;Je>0&&E[Je]==0;)Je--;if(Je==0)return le(je),F;for(var ve,J=1;J<=Je;){for(var Ge=J;E[J]==0&&J<=Je;)++J;var et=J-Ge;if(et>=16){ve=et>>4;for(var rt=1;rt<=ve;++rt)le(Ae);et&=15}we=32767+E[J],le(ce[(et<<4)+N[we]]),le(_[we]),J++}return Je!=63&&le(je),F}function G(A){A=Math.min(Math.max(A,1),100),o!=A&&((function(z){for(var F=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var ce=c((F[ne]*z+50)/100);ce=Math.min(Math.max(ce,1),255),h[te[ne]]=ce}for(var we=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],je=0;je<64;je++){var Ae=c((we[je]*z+50)/100);Ae=Math.min(Math.max(Ae,1),255),f[te[je]]=Ae}for(var Me=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],$e=0,Ke=0;Ke<8;Ke++)for(var Je=0;Je<8;Je++)d[$e]=1/(h[te[$e]]*Me[Ke]*Me[Je]*8),v[$e]=1/(f[te[$e]]*Me[Ke]*Me[Je]*8),$e++})(A<50?Math.floor(5e3/A):Math.floor(200-2*A)),o=A)}this.encode=function(A,z){z&&G(z),k=new Array,L=0,T=7,ae(65496),ae(65504),ae(16),ue(74),ue(70),ue(73),ue(70),ue(0),ue(1),ue(1),ue(0),ae(1),ae(1),ue(0),ue(0),(function(){ae(65499),ae(132),ue(0);for(var Tt=0;Tt<64;Tt++)ue(h[Tt]);ue(1);for(var mt=0;mt<64;mt++)ue(f[mt])})(),(function(Tt,mt){ae(65472),ae(17),ue(8),ae(mt),ae(Tt),ue(3),ue(1),ue(17),ue(0),ue(2),ue(17),ue(1),ue(3),ue(17),ue(1)})(A.width,A.height),(function(){ae(65476),ae(418),ue(0);for(var Tt=0;Tt<16;Tt++)ue(X[Tt+1]);for(var mt=0;mt<=11;mt++)ue(H[mt]);ue(16);for(var Ut=0;Ut<16;Ut++)ue(pe[Ut+1]);for(var zt=0;zt<=161;zt++)ue(R[zt]);ue(1);for(var Mt=0;Mt<16;Mt++)ue($[Mt+1]);for(var bn=0;bn<=11;bn++)ue(se[bn]);ue(17);for(var Rt=0;Rt<16;Rt++)ue(re[Rt+1]);for(var dt=0;dt<=161;dt++)ue(he[dt])})(),ae(65498),ae(12),ue(3),ue(1),ue(0),ue(2),ue(17),ue(3),ue(17),ue(0),ue(63),ue(0);var F=0,ne=0,ce=0;L=0,T=7,this.encode.displayName="_encode_";for(var we,je,Ae,Me,$e,Ke,Je,ve,J,Ge=A.data,et=A.width,rt=A.height,Fe=4*et,tt=0;tt<rt;){for(we=0;we<Fe;){for($e=Fe*tt+we,Je=-1,ve=0,J=0;J<64;J++)Ke=$e+(ve=J>>3)*Fe+(Je=4*(7&J)),tt+ve>=rt&&(Ke-=Fe*(tt+1+ve-rt)),we+Je>=Fe&&(Ke-=we+Je-Fe+4),je=Ge[Ke++],Ae=Ge[Ke++],Me=Ge[Ke++],U[J]=(ie[je]+ie[Ae+256|0]+ie[Me+512|0]>>16)-128,O[J]=(ie[je+768|0]+ie[Ae+1024|0]+ie[Me+1280|0]>>16)-128,B[J]=(ie[je+1280|0]+ie[Ae+1536|0]+ie[Me+1792|0]>>16)-128;F=ke(U,d,F,e,i),ne=ke(O,v,ne,t,s),ce=ke(B,v,ce,t,s),we+=32}tt+=8}if(T>=0){var We=[];We[1]=T+1,We[0]=(1<<T+1)-1,le(We)}return ae(65497),new Uint8Array(k)},r=r||50,(function(){for(var A=String.fromCharCode,z=0;z<256;z++)Y[z]=A(z)})(),e=K(X,H),t=K($,se),i=K(pe,R),s=K(re,he),(function(){for(var A=1,z=2,F=1;F<=15;F++){for(var ne=A;ne<z;ne++)N[32767+ne]=F,_[32767+ne]=[],_[32767+ne][1]=F,_[32767+ne][0]=ne;for(var ce=-(z-1);ce<=-A;ce++)N[32767+ce]=F,_[32767+ce]=[],_[32767+ce][1]=F,_[32767+ce][0]=z-1+ce;A<<=1,z<<=1}})(),(function(){for(var A=0;A<256;A++)ie[A]=19595*A,ie[A+256|0]=38470*A,ie[A+512|0]=7471*A+32768,ie[A+768|0]=-11059*A,ie[A+1024|0]=-21709*A,ie[A+1280|0]=32768*A+8421375,ie[A+1536|0]=-27439*A,ie[A+1792|0]=-5329*A})(),G(r)}function ds(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function i5(r){function e(H){if(!H)throw Error("assert :P")}function t(H,pe,R){for(var $=0;4>$;$++)if(H[pe+$]!=R.charCodeAt($))return!0;return!1}function i(H,pe,R,$,se){for(var re=0;re<se;re++)H[pe+re]=R[$+re]}function s(H,pe,R,$){for(var se=0;se<$;se++)H[pe+se]=R}function o(H){return new Int32Array(H)}function c(H,pe){for(var R=[],$=0;$<H;$++)R.push(new pe);return R}function h(H,pe){var R=[];return(function $(se,re,he){for(var K=he[re],le=0;le<K&&(se.push(he.length>re+1?[]:new pe),!(he.length<re+1));le++)$(se[le],re+1,he)})(R,0,H),R}var f=function(){var H=this;function pe(p,y){for(var S=1<<y-1>>>0;p&S;)S>>>=1;return S?(p&S-1)+S:p}function R(p,y,S,j,P){e(!(j%S));do p[y+(j-=S)]=P;while(0<j)}function $(p,y,S,j,P){if(e(2328>=P),512>=P)var M=o(512);else if((M=o(P))==null)return 0;return(function(I,V,W,Q,ge,Ee){var Z,be,Se=V,De=1<<W,Ne=o(16),Re=o(16);for(e(ge!=0),e(Q!=null),e(I!=null),e(0<W),be=0;be<ge;++be){if(15<Q[be])return 0;++Ne[Q[be]]}if(Ne[0]==ge)return 0;for(Re[1]=0,Z=1;15>Z;++Z){if(Ne[Z]>1<<Z)return 0;Re[Z+1]=Re[Z]+Ne[Z]}for(be=0;be<ge;++be)Z=Q[be],0<Q[be]&&(Ee[Re[Z]++]=be);if(Re[15]==1)return(Q=new se).g=0,Q.value=Ee[0],R(I,Se,1,De,Q),De;var Ue,Ve=-1,qe=De-1,st=0,Ze=1,Dt=1,nt=1<<W;for(be=0,Z=1,ge=2;Z<=W;++Z,ge<<=1){if(Ze+=Dt<<=1,0>(Dt-=Ne[Z]))return 0;for(;0<Ne[Z];--Ne[Z])(Q=new se).g=Z,Q.value=Ee[be++],R(I,Se+st,ge,nt,Q),st=pe(st,Z)}for(Z=W+1,ge=2;15>=Z;++Z,ge<<=1){if(Ze+=Dt<<=1,0>(Dt-=Ne[Z]))return 0;for(;0<Ne[Z];--Ne[Z]){if(Q=new se,(st&qe)!=Ve){for(Se+=nt,Ue=1<<(Ve=Z)-W;15>Ve&&!(0>=(Ue-=Ne[Ve]));)++Ve,Ue<<=1;De+=nt=1<<(Ue=Ve-W),I[V+(Ve=st&qe)].g=Ue+W,I[V+Ve].value=Se-V-Ve}Q.g=Z-W,Q.value=Ee[be++],R(I,Se+(st>>W),ge,nt,Q),st=pe(st,Z)}}return Ze!=2*Re[15]-1?0:De})(p,y,S,j,P,M)}function se(){this.value=this.g=0}function re(){this.value=this.g=0}function he(){this.G=c(5,se),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Ts,re)}function K(p,y,S,j){e(p!=null),e(y!=null),e(2147483648>j),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=y,p.pa=S,p.Jd=y,p.Yc=S+j,p.Zc=4<=j?S+j-4+1:S,je(p)}function le(p,y){for(var S=0;0<y--;)S|=Me(p,128)<<y;return S}function ue(p,y){var S=le(p,y);return Ae(p)?-S:S}function ae(p,y,S,j){var P,M=0;for(e(p!=null),e(y!=null),e(4294967288>j),p.Sb=j,p.Ra=0,p.u=0,p.h=0,4<j&&(j=4),P=0;P<j;++P)M+=y[S+P]<<8*P;p.Ra=M,p.bb=j,p.oa=y,p.pa=S}function ke(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Ei-8>>>0,++p.bb,p.u-=8;ne(p)&&(p.h=1,p.u=0)}function G(p,y){if(e(0<=y),!p.h&&y<=ia){var S=F(p)&ha[y];return p.u+=y,ke(p),S}return p.h=1,p.u=0}function A(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function F(p){return p.Ra>>>(p.u&Ei-1)>>>0}function ne(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Ei}function ce(p,y){p.u=y,p.h=ne(p)}function we(p){p.u>=Ci&&(e(p.u>=Ci),ke(p))}function je(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function Ae(p){return le(p,1)}function Me(p,y){var S=p.Ca;0>p.b&&je(p);var j=p.b,P=S*y>>>8,M=(p.I>>>j>P)+0;for(M?(S-=P,p.I-=P+1<<j>>>0):S=P+1,j=S,P=0;256<=j;)P+=8,j>>=8;return j=7^P+es[j],p.b-=j,p.Ca=(S<<j)-1,M}function $e(p,y,S){p[y+0]=S>>24&255,p[y+1]=S>>16&255,p[y+2]=S>>8&255,p[y+3]=255&S}function Ke(p,y){return p[y+0]|p[y+1]<<8}function Je(p,y){return Ke(p,y)|p[y+2]<<16}function ve(p,y){return Ke(p,y)|Ke(p,y+2)<<16}function J(p,y){var S=1<<y;return e(p!=null),e(0<y),p.X=o(S),p.X==null?0:(p.Mb=32-y,p.Xa=y,1)}function Ge(p,y){e(p!=null),e(y!=null),e(p.Xa==y.Xa),i(y.X,0,p.X,0,1<<y.Xa)}function et(){this.X=[],this.Xa=this.Mb=0}function rt(p,y,S,j){e(S!=null),e(j!=null);var P=S[0],M=j[0];return P==0&&(P=(p*M+y/2)/y),M==0&&(M=(y*P+p/2)/p),0>=P||0>=M?0:(S[0]=P,j[0]=M,1)}function Fe(p,y){return p+(1<<y)-1>>>y}function tt(p,y){return((4278255360&p)+(4278255360&y)>>>0&4278255360)+((16711935&p)+(16711935&y)>>>0&16711935)>>>0}function We(p,y){H[y]=function(S,j,P,M,I,V,W){var Q;for(Q=0;Q<I;++Q){var ge=H[p](V[W+Q-1],P,M+Q);V[W+Q]=tt(S[j+Q],ge)}}}function Tt(){this.ud=this.hd=this.jd=0}function mt(p,y){return((4278124286&(p^y))>>>1)+(p&y)>>>0}function Ut(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function zt(p,y){return Ut(p+(p-y+.5>>1))}function Mt(p,y,S){return Math.abs(y-S)-Math.abs(p-S)}function bn(p,y,S,j,P,M,I){for(j=M[I-1],S=0;S<P;++S)M[I+S]=j=tt(p[y+S],j)}function Rt(p,y,S,j,P){var M;for(M=0;M<S;++M){var I=p[y+M],V=I>>8&255,W=16711935&(W=(W=16711935&I)+((V<<16)+V));j[P+M]=(4278255360&I)+W>>>0}}function dt(p,y){y.jd=255&p,y.hd=p>>8&255,y.ud=p>>16&255}function Ct(p,y,S,j,P,M){var I;for(I=0;I<j;++I){var V=y[S+I],W=V>>>8,Q=V,ge=255&(ge=(ge=V>>>16)+((p.jd<<24>>24)*(W<<24>>24)>>>5));Q=255&(Q=(Q+=(p.hd<<24>>24)*(W<<24>>24)>>>5)+((p.ud<<24>>24)*(ge<<24>>24)>>>5)),P[M+I]=(4278255360&V)+(ge<<16)+Q}}function pt(p,y,S,j,P){H[y]=function(M,I,V,W,Q,ge,Ee,Z,be){for(W=Ee;W<Z;++W)for(Ee=0;Ee<be;++Ee)Q[ge++]=P(V[j(M[I++])])},H[p]=function(M,I,V,W,Q,ge,Ee){var Z=8>>M.b,be=M.Ea,Se=M.K[0],De=M.w;if(8>Z)for(M=(1<<M.b)-1,De=(1<<Z)-1;I<V;++I){var Ne,Re=0;for(Ne=0;Ne<be;++Ne)Ne&M||(Re=j(W[Q++])),ge[Ee++]=P(Se[Re&De]),Re>>=Z}else H["VP8LMapColor"+S](W,Q,Se,De,ge,Ee,I,V,be)}}function Ln(p,y,S,j,P){for(S=y+S;y<S;){var M=p[y++];j[P++]=M>>16&255,j[P++]=M>>8&255,j[P++]=255&M}}function Kt(p,y,S,j,P){for(S=y+S;y<S;){var M=p[y++];j[P++]=M>>16&255,j[P++]=M>>8&255,j[P++]=255&M,j[P++]=M>>24&255}}function Xe(p,y,S,j,P){for(S=y+S;y<S;){var M=(I=p[y++])>>16&240|I>>12&15,I=240&I|I>>28&15;j[P++]=M,j[P++]=I}}function _t(p,y,S,j,P){for(S=y+S;y<S;){var M=(I=p[y++])>>16&248|I>>13&7,I=I>>5&224|I>>3&31;j[P++]=M,j[P++]=I}}function Vt(p,y,S,j,P){for(S=y+S;y<S;){var M=p[y++];j[P++]=255&M,j[P++]=M>>8&255,j[P++]=M>>16&255}}function St(p,y,S,j,P,M){if(M==0)for(S=y+S;y<S;)$e(j,((M=p[y++])[0]>>24|M[1]>>8&65280|M[2]<<8&16711680|M[3]<<24)>>>0),P+=32;else i(j,P,p,y,S)}function Jt(p,y){H[y][0]=H[p+"0"],H[y][1]=H[p+"1"],H[y][2]=H[p+"2"],H[y][3]=H[p+"3"],H[y][4]=H[p+"4"],H[y][5]=H[p+"5"],H[y][6]=H[p+"6"],H[y][7]=H[p+"7"],H[y][8]=H[p+"8"],H[y][9]=H[p+"9"],H[y][10]=H[p+"10"],H[y][11]=H[p+"11"],H[y][12]=H[p+"12"],H[y][13]=H[p+"13"],H[y][14]=H[p+"0"],H[y][15]=H[p+"0"]}function It(p){return p==Gl||p==Rc||p==Wo||p==Dc}function In(){this.eb=[],this.size=this.A=this.fb=0}function Jn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function mn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new In,this.f.kb=new Jn,this.sd=null}function xt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function nn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Za(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function Gr(p,y){var S=p.T,j=y.ba.f.RGBA,P=j.eb,M=j.fb+p.ka*j.A,I=Ir[y.ba.S],V=p.y,W=p.O,Q=p.f,ge=p.N,Ee=p.ea,Z=p.W,be=y.cc,Se=y.dc,De=y.Mc,Ne=y.Nc,Re=p.ka,Ue=p.ka+p.T,Ve=p.U,qe=Ve+1>>1;for(Re==0?I(V,W,null,null,Q,ge,Ee,Z,Q,ge,Ee,Z,P,M,null,null,Ve):(I(y.ec,y.fc,V,W,be,Se,De,Ne,Q,ge,Ee,Z,P,M-j.A,P,M,Ve),++S);Re+2<Ue;Re+=2)be=Q,Se=ge,De=Ee,Ne=Z,ge+=p.Rc,Z+=p.Rc,M+=2*j.A,I(V,(W+=2*p.fa)-p.fa,V,W,be,Se,De,Ne,Q,ge,Ee,Z,P,M-j.A,P,M,Ve);return W+=p.fa,p.j+Ue<p.o?(i(y.ec,y.fc,V,W,Ve),i(y.cc,y.dc,Q,ge,qe),i(y.Mc,y.Nc,Ee,Z,qe),S--):1&Ue||I(V,W,null,null,Q,ge,Ee,Z,Q,ge,Ee,Z,P,M+j.A,null,null,Ve),S}function yi(p,y,S){var j=p.F,P=[p.J];if(j!=null){var M=p.U,I=y.ba.S,V=I==Vl||I==Wo;y=y.ba.f.RGBA;var W=[0],Q=p.ka;W[0]=p.T,p.Kb&&(Q==0?--W[0]:(--Q,P[0]-=p.width),p.j+p.ka+p.T==p.o&&(W[0]=p.o-p.j-Q));var ge=y.eb;Q=y.fb+Q*y.A,p=ql(j,P[0],p.width,M,W,ge,Q+(V?0:3),y.A),e(S==W),p&&It(I)&&co(ge,Q,V,M,W,y.A)}return 0}function Oa(p){var y=p.ma,S=y.ba.S,j=11>S,P=S==Xr||S==Ua||S==Vl||S==Yo||S==12||It(S);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!Qi(y.Oa,p,P?11:12))return 0;if(P&&It(S)&&Ec(),p.da)alert("todo:use_scaling");else{if(j){if(y.Ib=Za,p.Kb){if(S=p.U+1>>1,y.memory=o(p.U+2*S),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+p.U,y.Mc=y.cc,y.Nc=y.dc+S,y.Ib=Gr,Ec()}}else alert("todo:EmitYUV");P&&(y.Jb=yi,j&&Pa())}if(j&&!Us){for(p=0;256>p;++p)qr[p]=89858*(p-128)+Xo>>$a,Od[p]=-22014*(p-128)+Xo,Gh[p]=-45773*(p-128),zc[p]=113618*(p-128)+Xo>>$a;for(p=po;p<Bs;++p)y=76283*(p-16)+Xo>>$a,Rd[p-po]=Xn(y,255),Dd[p-po]=Xn(y+8>>4,15);Us=1}return 1}function gt(p){var y=p.ma,S=p.U,j=p.T;return e(!(1&p.ka)),0>=S||0>=j?0:(S=y.Ib(p,y),y.Jb!=null&&y.Jb(p,y,S),y.Dc+=S,1)}function qi(p){p.ma.memory=null}function bi(p,y,S,j){return G(p,8)!=47?0:(y[0]=G(p,14)+1,S[0]=G(p,14)+1,j[0]=G(p,1),G(p,3)!=0?0:!p.h)}function wa(p,y){if(4>p)return p+1;var S=p-2>>1;return(2+(1&p)<<S)+G(y,S)+1}function xa(p,y){return 120<y?y-120:1<=(S=((S=Ia[y-1])>>4)*p+(8-(15&S)))?S:1;var S}function qn(p,y,S){var j=F(S),P=p[y+=255&j].g-8;return 0<P&&(ce(S,S.u+8),j=F(S),y+=p[y].value,y+=j&(1<<P)-1),ce(S,S.u+p[y].g),p[y].value}function hr(p,y,S){return S.g+=p.g,S.value+=p.value<<y>>>0,e(8>=S.g),p.g}function jr(p,y,S){var j=p.xc;return e((y=j==0?0:p.vc[p.md*(S>>j)+(y>>j)])<p.Wb),p.Ya[y]}function Ns(p,y,S,j){var P=p.ab,M=p.c*y,I=p.C;y=I+y;var V=S,W=j;for(j=p.Ta,S=p.Ua;0<P--;){var Q=p.gc[P],ge=I,Ee=y,Z=V,be=W,Se=(W=j,V=S,Q.Ea);switch(e(ge<Ee),e(Ee<=Q.nc),Q.hc){case 2:sr(Z,be,(Ee-ge)*Se,W,V);break;case 0:var De=ge,Ne=Ee,Re=W,Ue=V,Ve=(nt=Q).Ea;De==0&&(Ho(Z,be,null,null,1,Re,Ue),bn(Z,be+1,0,0,Ve-1,Re,Ue+1),be+=Ve,Ue+=Ve,++De);for(var qe=1<<nt.b,st=qe-1,Ze=Fe(Ve,nt.b),Dt=nt.K,nt=nt.w+(De>>nt.b)*Ze;De<Ne;){var Wt=Dt,Bn=nt,qt=1;for($o(Z,be,Re,Ue-Ve,1,Re,Ue);qt<Ve;){var Qe=(qt&~st)+qe;Qe>Ve&&(Qe=Ve),(0,ts[Wt[Bn++]>>8&15])(Z,be+ +qt,Re,Ue+qt-Ve,Qe-qt,Re,Ue+qt),qt=Qe}be+=Ve,Ue+=Ve,++De&st||(nt+=Ze)}Ee!=Q.nc&&i(W,V-Se,W,V+(Ee-ge-1)*Se,Se);break;case 1:for(Se=Z,Ne=be,Ve=(Z=Q.Ea)-(Ue=Z&~(Re=(be=1<<Q.b)-1)),De=Fe(Z,Q.b),qe=Q.K,Q=Q.w+(ge>>Q.b)*De;ge<Ee;){for(st=qe,Ze=Q,Dt=new Tt,nt=Ne+Ue,Wt=Ne+Z;Ne<nt;)dt(st[Ze++],Dt),Vo(Dt,Se,Ne,be,W,V),Ne+=be,V+=be;Ne<Wt&&(dt(st[Ze++],Dt),Vo(Dt,Se,Ne,Ve,W,V),Ne+=Ve,V+=Ve),++ge&Re||(Q+=De)}break;case 3:if(Z==W&&be==V&&0<Q.b){for(Ne=W,Z=Se=V+(Ee-ge)*Se-(Ue=(Ee-ge)*Fe(Q.Ea,Q.b)),be=W,Re=V,De=[],Ue=(Ve=Ue)-1;0<=Ue;--Ue)De[Ue]=be[Re+Ue];for(Ue=Ve-1;0<=Ue;--Ue)Ne[Z+Ue]=De[Ue];Cc(Q,ge,Ee,W,Se,W,V)}else Cc(Q,ge,Ee,Z,be,W,V)}V=j,W=S}W!=S&&i(j,S,V,W,M)}function na(p,y){var S=p.V,j=p.Ba+p.c*p.C,P=y-p.C;if(e(y<=p.l.o),e(16>=P),0<P){var M=p.l,I=p.Ta,V=p.Ua,W=M.width;if(Ns(p,P,S,j),P=V=[V],e((S=p.C)<(j=y)),e(M.v<M.va),j>M.o&&(j=M.o),S<M.j){var Q=M.j-S;S=M.j,P[0]+=Q*W}if(S>=j?S=0:(P[0]+=4*M.v,M.ka=S-M.j,M.U=M.va-M.v,M.T=j-S,S=1),S){if(V=V[0],11>(S=p.ca).S){var ge=S.f.RGBA,Ee=(j=S.S,P=M.U,M=M.T,Q=ge.eb,ge.A),Z=M;for(ge=ge.fb+p.Ma*ge.A;0<Z--;){var be=I,Se=V,De=P,Ne=Q,Re=ge;switch(j){case Tc:Go(be,Se,De,Ne,Re);break;case Xr:ns(be,Se,De,Ne,Re);break;case Gl:ns(be,Se,De,Ne,Re),co(Ne,Re,0,De,1,0);break;case Oc:oo(be,Se,De,Ne,Re);break;case Ua:St(be,Se,De,Ne,Re,1);break;case Rc:St(be,Se,De,Ne,Re,1),co(Ne,Re,0,De,1,0);break;case Vl:St(be,Se,De,Ne,Re,0);break;case Wo:St(be,Se,De,Ne,Re,0),co(Ne,Re,1,De,1,0);break;case Yo:rs(be,Se,De,Ne,Re);break;case Dc:rs(be,Se,De,Ne,Re),Ba(Ne,Re,De,1,0);break;case Os:Ti(be,Se,De,Ne,Re);break;default:e(0)}V+=W,ge+=Ee}p.Ma+=M}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=S.height)}}p.C=y,e(p.C<=p.i)}function Nn(p){var y;if(0<p.ua)return 0;for(y=0;y<p.Wb;++y){var S=p.Ya[y].G,j=p.Ya[y].H;if(0<S[1][j[1]+0].g||0<S[2][j[2]+0].g||0<S[3][j[3]+0].g)return 0}return 1}function Hn(p,y,S,j,P,M){if(p.Z!=0){var I=p.qd,V=p.rd;for(e(ss[p.Z]!=null);y<S;++y)ss[p.Z](I,V,j,P,j,P,M),I=j,V=P,P+=M;p.qd=I,p.rd=V}}function Yr(p,y){var S=p.l.ma,j=S.Z==0||S.Z==1?p.l.j:p.C;if(j=p.C<j?j:p.C,e(y<=p.l.o),y>j){var P=p.l.width,M=S.ca,I=S.tb+P*j,V=p.V,W=p.Ba+p.c*j,Q=p.gc;e(p.ab==1),e(Q[0].hc==3),ki(Q[0],j,y,V,W,M,I),Hn(S,j,y,M,I,P)}p.C=p.Ma=y}function _a(p,y,S,j,P,M,I){var V=p.$/j,W=p.$%j,Q=p.m,ge=p.s,Ee=S+p.$,Z=Ee;P=S+j*P;var be=S+j*M,Se=280+ge.ua,De=p.Pb?V:16777216,Ne=0<ge.ua?ge.Wa:null,Re=ge.wc,Ue=Ee<be?jr(ge,W,V):null;e(p.C<M),e(be<=P);var Ve=!1;e:for(;;){for(;Ve||Ee<be;){var qe=0;if(V>=De){var st=Ee-S;e((De=p).Pb),De.wd=De.m,De.xd=st,0<De.s.ua&&Ge(De.s.Wa,De.s.vb),De=V+Rs}if(W&Re||(Ue=jr(ge,W,V)),e(Ue!=null),Ue.Qb&&(y[Ee]=Ue.qb,Ve=!0),!Ve)if(we(Q),Ue.jc){qe=Q,st=y;var Ze=Ee,Dt=Ue.pd[F(qe)&Ts-1];e(Ue.jc),256>Dt.g?(ce(qe,qe.u+Dt.g),st[Ze]=Dt.value,qe=0):(ce(qe,qe.u+Dt.g-256),e(256<=Dt.value),qe=Dt.value),qe==0&&(Ve=!0)}else qe=qn(Ue.G[0],Ue.H[0],Q);if(Q.h)break;if(Ve||256>qe){if(!Ve)if(Ue.nd)y[Ee]=(Ue.qb|qe<<8)>>>0;else{if(we(Q),Ve=qn(Ue.G[1],Ue.H[1],Q),we(Q),st=qn(Ue.G[2],Ue.H[2],Q),Ze=qn(Ue.G[3],Ue.H[3],Q),Q.h)break;y[Ee]=(Ze<<24|Ve<<16|qe<<8|st)>>>0}if(Ve=!1,++Ee,++W>=j&&(W=0,++V,I!=null&&V<=M&&!(V%16)&&I(p,V),Ne!=null))for(;Z<Ee;)qe=y[Z++],Ne.X[(506832829*qe&4294967295)>>>Ne.Mb]=qe}else if(280>qe){if(qe=wa(qe-256,Q),st=qn(Ue.G[4],Ue.H[4],Q),we(Q),st=xa(j,st=wa(st,Q)),Q.h)break;if(Ee-S<st||P-Ee<qe)break e;for(Ze=0;Ze<qe;++Ze)y[Ee+Ze]=y[Ee+Ze-st];for(Ee+=qe,W+=qe;W>=j;)W-=j,++V,I!=null&&V<=M&&!(V%16)&&I(p,V);if(e(Ee<=P),W&Re&&(Ue=jr(ge,W,V)),Ne!=null)for(;Z<Ee;)qe=y[Z++],Ne.X[(506832829*qe&4294967295)>>>Ne.Mb]=qe}else{if(!(qe<Se))break e;for(Ve=qe-280,e(Ne!=null);Z<Ee;)qe=y[Z++],Ne.X[(506832829*qe&4294967295)>>>Ne.Mb]=qe;qe=Ee,e(!(Ve>>>(st=Ne).Xa)),y[qe]=st.X[Ve],Ve=!0}Ve||e(Q.h==ne(Q))}if(p.Pb&&Q.h&&Ee<P)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&Ge(p.s.vb,p.s.Wa);else{if(Q.h)break e;I!=null&&I(p,V>M?M:V),p.a=0,p.$=Ee-S}return 1}return p.a=3,0}function Ra(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var y=p.Wa;y!=null&&(y.X=null),p.vb=null,e(p!=null)}function Js(){var p=new ct;return p==null?null:(p.a=0,p.xb=zu,Jt("Predictor","VP8LPredictors"),Jt("Predictor","VP8LPredictors_C"),Jt("PredictorAdd","VP8LPredictorsAdd"),Jt("PredictorAdd","VP8LPredictorsAdd_C"),sr=Rt,Vo=Ct,Go=Ln,ns=Kt,rs=Xe,Ti=_t,oo=Vt,H.VP8LMapColor32b=Li,H.VP8LMapColor8b=Br,p)}function Qa(p,y,S,j,P){var M=1,I=[p],V=[y],W=j.m,Q=j.s,ge=null,Ee=0;e:for(;;){if(S)for(;M&&G(W,1);){var Z=I,be=V,Se=j,De=1,Ne=Se.m,Re=Se.gc[Se.ab],Ue=G(Ne,2);if(Se.Oc&1<<Ue)M=0;else{switch(Se.Oc|=1<<Ue,Re.hc=Ue,Re.Ea=Z[0],Re.nc=be[0],Re.K=[null],++Se.ab,e(4>=Se.ab),Ue){case 0:case 1:Re.b=G(Ne,3)+2,De=Qa(Fe(Re.Ea,Re.b),Fe(Re.nc,Re.b),0,Se,Re.K),Re.K=Re.K[0];break;case 3:var Ve,qe=G(Ne,8)+1,st=16<qe?0:4<qe?1:2<qe?2:3;if(Z[0]=Fe(Re.Ea,st),Re.b=st,Ve=De=Qa(qe,1,0,Se,Re.K)){var Ze,Dt=qe,nt=Re,Wt=1<<(8>>nt.b),Bn=o(Wt);if(Bn==null)Ve=0;else{var qt=nt.K[0],Qe=nt.w;for(Bn[0]=nt.K[0][0],Ze=1;Ze<1*Dt;++Ze)Bn[Ze]=tt(qt[Qe+Ze],Bn[Ze-1]);for(;Ze<4*Wt;++Ze)Bn[Ze]=0;nt.K[0]=null,nt.K[0]=Bn,Ve=1}}De=Ve;break;case 2:break;default:e(0)}M=De}}if(I=I[0],V=V[0],M&&G(W,1)&&!(M=1<=(Ee=G(W,4))&&11>=Ee)){j.a=3;break e}var Ye;if(Ye=M)t:{var Vn,At,$t,wn=j,xr=I,Fr=V,On=Ee,dr=S,Zr=wn.m,pr=wn.s,Yt=[null],on=1,Gn=0,fn=qa[On];n:for(;;){if(dr&&G(Zr,1)){var _r=G(Zr,3)+2,Yn=Fe(xr,_r),ln=Fe(Fr,_r),cr=Yn*ln;if(!Qa(Yn,ln,0,wn,Yt))break n;for(Yt=Yt[0],pr.xc=_r,Vn=0;Vn<cr;++Vn){var xn=Yt[Vn]>>8&65535;Yt[Vn]=xn,xn>=on&&(on=xn+1)}}if(Zr.h)break n;for(At=0;5>At;++At){var mr=ho[At];!At&&0<On&&(mr+=1<<On),Gn<mr&&(Gn=mr)}var gr=c(on*fn,se),An=on,an=c(An,he);if(an==null)var Qr=null;else e(65536>=An),Qr=an;var Qn=o(Gn);if(Qr==null||Qn==null||gr==null){wn.a=1;break n}var vt=gr;for(Vn=$t=0;Vn<on;++Vn){var bt=Qr[Vn],cn=bt.G,fa=bt.H,Va=0,oa=1,vr=0;for(At=0;5>At;++At){mr=ho[At],cn[At]=vt,fa[At]=$t,!At&&0<On&&(mr+=1<<On);a:{var zs,Is=mr,qc=wn,Rn=Qn,qu=vt,Fu=$t,Fc=0,os=qc.m,Pd=G(os,1);if(s(Rn,0,0,Is),Pd){var Hu=G(os,1)+1,$u=G(os,1),Hc=G(os,$u==0?1:8);Rn[Hc]=1,Hu==2&&(Rn[Hc=G(os,8)]=1);var Cr=1}else{var er=o(19),Jl=G(os,4)+4;if(19<Jl){qc.a=3;var qs=0;break a}for(zs=0;zs<Jl;++zs)er[Yl[zs]]=G(os,3);var Qo=void 0,mo=void 0,Di=qc,$c=er,el=Is,Vc=Rn,Gc=0,ls=Di.m,Vu=8,Gu=c(128,se);r:for(;$(Gu,0,7,$c,19);){if(G(ls,1)){var Yh=2+2*G(ls,3);if((Qo=2+G(ls,Yh))>el)break r}else Qo=el;for(mo=0;mo<el&&Qo--;){we(ls);var Yu=Gu[0+(127&F(ls))];ce(ls,ls.u+Yu.g);var Fs=Yu.value;if(16>Fs)Vc[mo++]=Fs,Fs!=0&&(Vu=Fs);else{var Wh=Fs==16,Kh=Fs-16,Jh=Ko[Kh],Wu=G(ls,za[Kh])+Jh;if(mo+Wu>el)break r;for(var Xh=Wh?Vu:0;0<Wu--;)Vc[mo++]=Xh}}Gc=1;break r}Gc||(Di.a=3),Cr=Gc}(Cr=Cr&&!os.h)&&(Fc=$(qu,Fu,8,Rn,Is)),Cr&&Fc!=0?qs=Fc:(qc.a=3,qs=0)}if(qs==0)break n;if(oa&&Pc[At]==1&&(oa=vt[$t].g==0),Va+=vt[$t].g,$t+=qs,3>=At){var go,Yc=Qn[0];for(go=1;go<mr;++go)Qn[go]>Yc&&(Yc=Qn[go]);vr+=Yc}}if(bt.nd=oa,bt.Qb=0,oa&&(bt.qb=(cn[3][fa[3]+0].value<<24|cn[1][fa[1]+0].value<<16|cn[2][fa[2]+0].value)>>>0,Va==0&&256>cn[0][fa[0]+0].value&&(bt.Qb=1,bt.qb+=cn[0][fa[0]+0].value<<8)),bt.jc=!bt.Qb&&6>vr,bt.jc){var Xl,Pi=bt;for(Xl=0;Xl<Ts;++Xl){var cs=Xl,us=Pi.pd[cs],Wc=Pi.G[0][Pi.H[0]+cs];256<=Wc.value?(us.g=Wc.g+256,us.value=Wc.value):(us.g=0,us.value=0,cs>>=hr(Wc,8,us),cs>>=hr(Pi.G[1][Pi.H[1]+cs],16,us),cs>>=hr(Pi.G[2][Pi.H[2]+cs],0,us),hr(Pi.G[3][Pi.H[3]+cs],24,us))}}}pr.vc=Yt,pr.Wb=on,pr.Ya=Qr,pr.yc=gr,Ye=1;break t}Ye=0}if(!(M=Ye)){j.a=3;break e}if(0<Ee){if(Q.ua=1<<Ee,!J(Q.Wa,Ee)){j.a=1,M=0;break e}}else Q.ua=0;var Kc=j,vo=I,Zh=V,tl=Kc.s,nl=tl.xc;if(Kc.c=vo,Kc.i=Zh,tl.md=Fe(vo,nl),tl.wc=nl==0?-1:(1<<nl)-1,S){j.xb=Ds;break e}if((ge=o(I*V))==null){j.a=1,M=0;break e}M=(M=_a(j,ge,0,I,V,V,null))&&!W.h;break e}return M?(P!=null?P[0]=ge:(e(ge==null),e(S)),j.$=0,S||Ra(Q)):Ra(Q),M}function ei(p,y){var S=p.c*p.i,j=S+y+16*y;return e(p.c<=y),p.V=o(j),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+S+y,1)}function As(p,y){var S=p.C,j=y-S,P=p.V,M=p.Ba+p.c*S;for(e(y<=p.l.o);0<j;){var I=16<j?16:j,V=p.l.ma,W=p.l.width,Q=W*I,ge=V.ca,Ee=V.tb+W*S,Z=p.Ta,be=p.Ua;Ns(p,I,P,M),ka(Z,be,ge,Ee,Q),Hn(V,S,S+I,ge,Ee,W),j-=I,P+=I*p.c,S+=I}e(S==y),p.C=p.Ma=y}function ti(){this.ub=this.yd=this.td=this.Rb=0}function ni(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Xs(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function wi(){this.Yb=(function(){var p=[];return(function y(S,j,P){for(var M=P[j],I=0;I<M&&(S.push(P.length>j+1?[]:0),!(P.length<j+1));I++)y(S[I],j+1,P)})(p,0,[3,11]),p})()}function rr(){this.jb=o(3),this.Wc=h([4,8],wi),this.Xc=h([4,17],wi)}function Nl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Sa(){this.ld=this.La=this.dd=this.tc=0}function ri(){this.Na=this.la=0}function Fi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Al(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function jl(){this.uc=this.M=this.Nb=0,this.wa=Array(new Sa),this.Y=0,this.ya=Array(new Al),this.aa=0,this.l=new Hi}function El(){this.y=o(16),this.f=o(8),this.ea=o(8)}function yc(){this.cb=this.a=0,this.sc="",this.m=new A,this.Od=new ti,this.Kc=new ni,this.ed=new Nl,this.Qa=new Xs,this.Ic=this.$c=this.Aa=0,this.D=new jl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,A),this.ia=0,this.pb=c(4,Fi),this.Pa=new rr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new El),this.Hd=0,this.rb=Array(new ri),this.sb=0,this.wa=Array(new Sa),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Al),this.L=this.aa=0,this.gd=h([4,2],Sa),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Hi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Mo(){var p=new yc;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Ta||(Ta=$i)),p}function Sn(p,y,S){return p.a==0&&(p.a=y,p.sc=S,p.cb=0),0}function ra(p,y,S){return 3<=S&&p[y+0]==157&&p[y+1]==1&&p[y+2]==42}function Cl(p,y){if(p==null)return 0;if(p.a=0,p.sc="OK",y==null)return Sn(p,2,"null VP8Io passed to VP8GetHeaders()");var S=y.data,j=y.w,P=y.ha;if(4>P)return Sn(p,7,"Truncated header.");var M=S[j+0]|S[j+1]<<8|S[j+2]<<16,I=p.Od;if(I.Rb=!(1&M),I.td=M>>1&7,I.yd=M>>4&1,I.ub=M>>5,3<I.td)return Sn(p,3,"Incorrect keyframe parameters.");if(!I.yd)return Sn(p,4,"Frame not displayable.");j+=3,P-=3;var V=p.Kc;if(I.Rb){if(7>P)return Sn(p,7,"cannot parse picture header");if(!ra(S,j,P))return Sn(p,3,"Bad code word");V.c=16383&(S[j+4]<<8|S[j+3]),V.Td=S[j+4]>>6,V.i=16383&(S[j+6]<<8|S[j+5]),V.Ud=S[j+6]>>6,j+=7,P-=7,p.za=V.c+15>>4,p.Ub=V.i+15>>4,y.width=V.c,y.height=V.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,s((M=p.Pa).jb,0,255,M.jb.length),e((M=p.Qa)!=null),M.Cb=0,M.Bb=0,M.Fb=1,s(M.Zb,0,0,M.Zb.length),s(M.Lb,0,0,M.Lb)}if(I.ub>P)return Sn(p,7,"bad partition length");K(M=p.m,S,j,I.ub),j+=I.ub,P-=I.ub,I.Rb&&(V.Ld=Ae(M),V.Kd=Ae(M)),V=p.Qa;var W,Q=p.Pa;if(e(M!=null),e(V!=null),V.Cb=Ae(M),V.Cb){if(V.Bb=Ae(M),Ae(M)){for(V.Fb=Ae(M),W=0;4>W;++W)V.Zb[W]=Ae(M)?ue(M,7):0;for(W=0;4>W;++W)V.Lb[W]=Ae(M)?ue(M,6):0}if(V.Bb)for(W=0;3>W;++W)Q.jb[W]=Ae(M)?le(M,8):255}else V.Bb=0;if(M.Ka)return Sn(p,3,"cannot parse segment header");if((V=p.ed).zd=Ae(M),V.Tb=le(M,6),V.wb=le(M,3),V.Pc=Ae(M),V.Pc&&Ae(M)){for(Q=0;4>Q;++Q)Ae(M)&&(V.vd[Q]=ue(M,6));for(Q=0;4>Q;++Q)Ae(M)&&(V.od[Q]=ue(M,6))}if(p.L=V.Tb==0?0:V.zd?1:2,M.Ka)return Sn(p,3,"cannot parse filter header");var ge=P;if(P=W=j,j=W+ge,V=ge,p.Xb=(1<<le(p.m,2))-1,ge<3*(Q=p.Xb))S=7;else{for(W+=3*Q,V-=3*Q,ge=0;ge<Q;++ge){var Ee=S[P+0]|S[P+1]<<8|S[P+2]<<16;Ee>V&&(Ee=V),K(p.Jc[+ge],S,W,Ee),W+=Ee,V-=Ee,P+=3}K(p.Jc[+Q],S,W,V),S=W<j?0:5}if(S!=0)return Sn(p,S,"cannot parse partitions");for(S=le(W=p.m,7),P=Ae(W)?ue(W,4):0,j=Ae(W)?ue(W,4):0,V=Ae(W)?ue(W,4):0,Q=Ae(W)?ue(W,4):0,W=Ae(W)?ue(W,4):0,ge=p.Qa,Ee=0;4>Ee;++Ee){if(ge.Cb){var Z=ge.Zb[Ee];ge.Fb||(Z+=S)}else{if(0<Ee){p.pb[Ee]=p.pb[0];continue}Z=S}var be=p.pb[Ee];be.Sc[0]=Fa[Xn(Z+P,127)],be.Sc[1]=Ha[Xn(Z+0,127)],be.Eb[0]=2*Fa[Xn(Z+j,127)],be.Eb[1]=101581*Ha[Xn(Z+V,127)]>>16,8>be.Eb[1]&&(be.Eb[1]=8),be.Qc[0]=Fa[Xn(Z+Q,117)],be.Qc[1]=Ha[Xn(Z+W,127)],be.lc=Z+W}if(!I.Rb)return Sn(p,4,"Not a key frame.");for(Ae(M),I=p.Pa,S=0;4>S;++S){for(P=0;8>P;++P)for(j=0;3>j;++j)for(V=0;11>V;++V)Q=Me(M,Mn[S][P][j][V])?le(M,8):Vh[S][P][j][V],I.Wc[S][P].Yb[j][V]=Q;for(P=0;17>P;++P)I.Xc[S][P]=I.Wc[S][Xt[P]]}return p.kc=Ae(M),p.kc&&(p.Bd=le(M,8)),p.cb=1}function $i(p,y,S,j,P,M,I){var V=y[P].Yb[S];for(S=0;16>P;++P){if(!Me(p,V[S+0]))return P;for(;!Me(p,V[S+1]);)if(V=y[++P].Yb[0],S=0,P==16)return 16;var W=y[P+1].Yb;if(Me(p,V[S+2])){var Q=p,ge=0;if(Me(Q,(Z=V)[(Ee=S)+3]))if(Me(Q,Z[Ee+6])){for(V=0,Ee=2*(ge=Me(Q,Z[Ee+8]))+(Z=Me(Q,Z[Ee+9+ge])),ge=0,Z=$h[Ee];Z[V];++V)ge+=ge+Me(Q,Z[V]);ge+=3+(8<<Ee)}else Me(Q,Z[Ee+7])?(ge=7+2*Me(Q,165),ge+=Me(Q,145)):ge=5+Me(Q,159);else ge=Me(Q,Z[Ee+4])?3+Me(Q,Z[Ee+5]):2;V=W[2]}else ge=1,V=W[1];W=I+Uu[P],0>(Q=p).b&&je(Q);var Ee,Z=Q.b,be=(Ee=Q.Ca>>1)-(Q.I>>Z)>>31;--Q.b,Q.Ca+=be,Q.Ca|=1,Q.I-=(Ee+1&be)<<Z,M[W]=((ge^be)-be)*j[(0<P)+0]}return 16}function Vi(p){var y=p.rb[p.sb-1];y.la=0,y.Na=0,s(p.zc,0,0,p.zc.length),p.ja=0}function Da(p,y,S,j,P){P=p[y+S+32*j]+(P>>3),p[y+S+32*j]=-256&P?0>P?0:255:P}function xi(p,y,S,j,P,M){Da(p,y,0,S,j+P),Da(p,y,1,S,j+M),Da(p,y,2,S,j-M),Da(p,y,3,S,j-P)}function ar(p){return(20091*p>>16)+p}function Wr(p,y,S,j){var P,M=0,I=o(16);for(P=0;4>P;++P){var V=p[y+0]+p[y+8],W=p[y+0]-p[y+8],Q=(35468*p[y+4]>>16)-ar(p[y+12]),ge=ar(p[y+4])+(35468*p[y+12]>>16);I[M+0]=V+ge,I[M+1]=W+Q,I[M+2]=W-Q,I[M+3]=V-ge,M+=4,y++}for(P=M=0;4>P;++P)V=(p=I[M+0]+4)+I[M+8],W=p-I[M+8],Q=(35468*I[M+4]>>16)-ar(I[M+12]),Da(S,j,0,0,V+(ge=ar(I[M+4])+(35468*I[M+12]>>16))),Da(S,j,1,0,W+Q),Da(S,j,2,0,W-Q),Da(S,j,3,0,V-ge),M++,j+=32}function Ll(p,y,S,j){var P=p[y+0]+4,M=35468*p[y+4]>>16,I=ar(p[y+4]),V=35468*p[y+1]>>16;xi(S,j,0,P+I,p=ar(p[y+1]),V),xi(S,j,1,P+M,p,V),xi(S,j,2,P-M,p,V),xi(S,j,3,P-I,p,V)}function bc(p,y,S,j,P){Wr(p,y,S,j),P&&Wr(p,y+16,S,j+4)}function kl(p,y,S,j){as(p,y+0,S,j,1),as(p,y+32,S,j+128,1)}function aa(p,y,S,j){var P;for(p=p[y+0]+4,P=0;4>P;++P)for(y=0;4>y;++y)Da(S,j,y,P,p)}function Tl(p,y,S,j){p[y+0]&&hn(p,y+0,S,j),p[y+16]&&hn(p,y+16,S,j+4),p[y+32]&&hn(p,y+32,S,j+128),p[y+48]&&hn(p,y+48,S,j+128+4)}function Ol(p,y,S,j){var P,M=o(16);for(P=0;4>P;++P){var I=p[y+0+P]+p[y+12+P],V=p[y+4+P]+p[y+8+P],W=p[y+4+P]-p[y+8+P],Q=p[y+0+P]-p[y+12+P];M[0+P]=I+V,M[8+P]=I-V,M[4+P]=Q+W,M[12+P]=Q-W}for(P=0;4>P;++P)I=(p=M[0+4*P]+3)+M[3+4*P],V=M[1+4*P]+M[2+4*P],W=M[1+4*P]-M[2+4*P],Q=p-M[3+4*P],S[j+0]=I+V>>3,S[j+16]=Q+W>>3,S[j+32]=I-V>>3,S[j+48]=Q-W>>3,j+=64}function Na(p,y,S){var j,P=y-32,M=Jr,I=255-p[P-1];for(j=0;j<S;++j){var V,W=M,Q=I+p[y-1];for(V=0;V<S;++V)p[y+V]=W[Q+p[P+V]];y+=32}}function Rl(p,y){Na(p,y,4)}function wc(p,y){Na(p,y,8)}function xc(p,y){Na(p,y,16)}function Dl(p,y){var S;for(S=0;16>S;++S)i(p,y+32*S,p,y-32,16)}function Pl(p,y){var S;for(S=16;0<S;--S)s(p,y,p[y-1],16),y+=32}function Zs(p,y,S){var j;for(j=0;16>j;++j)s(y,S+32*j,p,16)}function ai(p,y){var S,j=16;for(S=0;16>S;++S)j+=p[y-1+32*S]+p[y+S-32];Zs(j>>5,p,y)}function ii(p,y){var S,j=8;for(S=0;16>S;++S)j+=p[y-1+32*S];Zs(j>>4,p,y)}function Gi(p,y){var S,j=8;for(S=0;16>S;++S)j+=p[y+S-32];Zs(j>>4,p,y)}function Qs(p,y){Zs(128,p,y)}function Nt(p,y,S){return p+2*y+S+2>>2}function js(p,y){var S,j=y-32;for(j=new Uint8Array([Nt(p[j-1],p[j+0],p[j+1]),Nt(p[j+0],p[j+1],p[j+2]),Nt(p[j+1],p[j+2],p[j+3]),Nt(p[j+2],p[j+3],p[j+4])]),S=0;4>S;++S)i(p,y+32*S,j,0,j.length)}function _c(p,y){var S=p[y-1],j=p[y-1+32],P=p[y-1+64],M=p[y-1+96];$e(p,y+0,16843009*Nt(p[y-1-32],S,j)),$e(p,y+32,16843009*Nt(S,j,P)),$e(p,y+64,16843009*Nt(j,P,M)),$e(p,y+96,16843009*Nt(P,M,M))}function Ml(p,y){var S,j=4;for(S=0;4>S;++S)j+=p[y+S-32]+p[y-1+32*S];for(j>>=3,S=0;4>S;++S)s(p,y+32*S,j,4)}function Sc(p,y){var S=p[y-1+0],j=p[y-1+32],P=p[y-1+64],M=p[y-1-32],I=p[y+0-32],V=p[y+1-32],W=p[y+2-32],Q=p[y+3-32];p[y+0+96]=Nt(j,P,p[y-1+96]),p[y+1+96]=p[y+0+64]=Nt(S,j,P),p[y+2+96]=p[y+1+64]=p[y+0+32]=Nt(M,S,j),p[y+3+96]=p[y+2+64]=p[y+1+32]=p[y+0+0]=Nt(I,M,S),p[y+3+64]=p[y+2+32]=p[y+1+0]=Nt(V,I,M),p[y+3+32]=p[y+2+0]=Nt(W,V,I),p[y+3+0]=Nt(Q,W,V)}function Aa(p,y){var S=p[y+1-32],j=p[y+2-32],P=p[y+3-32],M=p[y+4-32],I=p[y+5-32],V=p[y+6-32],W=p[y+7-32];p[y+0+0]=Nt(p[y+0-32],S,j),p[y+1+0]=p[y+0+32]=Nt(S,j,P),p[y+2+0]=p[y+1+32]=p[y+0+64]=Nt(j,P,M),p[y+3+0]=p[y+2+32]=p[y+1+64]=p[y+0+96]=Nt(P,M,I),p[y+3+32]=p[y+2+64]=p[y+1+96]=Nt(M,I,V),p[y+3+64]=p[y+2+96]=Nt(I,V,W),p[y+3+96]=Nt(V,W,W)}function Dr(p,y){var S=p[y-1+0],j=p[y-1+32],P=p[y-1+64],M=p[y-1-32],I=p[y+0-32],V=p[y+1-32],W=p[y+2-32],Q=p[y+3-32];p[y+0+0]=p[y+1+64]=M+I+1>>1,p[y+1+0]=p[y+2+64]=I+V+1>>1,p[y+2+0]=p[y+3+64]=V+W+1>>1,p[y+3+0]=W+Q+1>>1,p[y+0+96]=Nt(P,j,S),p[y+0+64]=Nt(j,S,M),p[y+0+32]=p[y+1+96]=Nt(S,M,I),p[y+1+32]=p[y+2+96]=Nt(M,I,V),p[y+2+32]=p[y+3+96]=Nt(I,V,W),p[y+3+32]=Nt(V,W,Q)}function Bl(p,y){var S=p[y+0-32],j=p[y+1-32],P=p[y+2-32],M=p[y+3-32],I=p[y+4-32],V=p[y+5-32],W=p[y+6-32],Q=p[y+7-32];p[y+0+0]=S+j+1>>1,p[y+1+0]=p[y+0+64]=j+P+1>>1,p[y+2+0]=p[y+1+64]=P+M+1>>1,p[y+3+0]=p[y+2+64]=M+I+1>>1,p[y+0+32]=Nt(S,j,P),p[y+1+32]=p[y+0+96]=Nt(j,P,M),p[y+2+32]=p[y+1+96]=Nt(P,M,I),p[y+3+32]=p[y+2+96]=Nt(M,I,V),p[y+3+64]=Nt(I,V,W),p[y+3+96]=Nt(V,W,Q)}function eo(p,y){var S=p[y-1+0],j=p[y-1+32],P=p[y-1+64],M=p[y-1+96];p[y+0+0]=S+j+1>>1,p[y+2+0]=p[y+0+32]=j+P+1>>1,p[y+2+32]=p[y+0+64]=P+M+1>>1,p[y+1+0]=Nt(S,j,P),p[y+3+0]=p[y+1+32]=Nt(j,P,M),p[y+3+32]=p[y+1+64]=Nt(P,M,M),p[y+3+64]=p[y+2+64]=p[y+0+96]=p[y+1+96]=p[y+2+96]=p[y+3+96]=M}function ja(p,y){var S=p[y-1+0],j=p[y-1+32],P=p[y-1+64],M=p[y-1+96],I=p[y-1-32],V=p[y+0-32],W=p[y+1-32],Q=p[y+2-32];p[y+0+0]=p[y+2+32]=S+I+1>>1,p[y+0+32]=p[y+2+64]=j+S+1>>1,p[y+0+64]=p[y+2+96]=P+j+1>>1,p[y+0+96]=M+P+1>>1,p[y+3+0]=Nt(V,W,Q),p[y+2+0]=Nt(I,V,W),p[y+1+0]=p[y+3+32]=Nt(S,I,V),p[y+1+32]=p[y+3+64]=Nt(j,S,I),p[y+1+64]=p[y+3+96]=Nt(P,j,S),p[y+1+96]=Nt(M,P,j)}function to(p,y){var S;for(S=0;8>S;++S)i(p,y+32*S,p,y-32,8)}function _i(p,y){var S;for(S=0;8>S;++S)s(p,y,p[y-1],8),y+=32}function no(p,y,S){var j;for(j=0;8>j;++j)s(y,S+32*j,p,8)}function Yi(p,y){var S,j=8;for(S=0;8>S;++S)j+=p[y+S-32]+p[y-1+32*S];no(j>>4,p,y)}function Bo(p,y){var S,j=4;for(S=0;8>S;++S)j+=p[y+S-32];no(j>>3,p,y)}function Uo(p,y){var S,j=4;for(S=0;8>S;++S)j+=p[y-1+32*S];no(j>>3,p,y)}function Er(p,y){no(128,p,y)}function Ea(p,y,S){var j=p[y-S],P=p[y+0],M=3*(P-j)+is[1020+p[y-2*S]-p[y+S]],I=$l[112+(M+4>>3)];p[y-S]=Jr[255+j+$l[112+(M+3>>3)]],p[y+0]=Jr[255+P-I]}function Si(p,y,S,j){var P=p[y+0],M=p[y+S];return Ur[255+p[y-2*S]-p[y-S]]>j||Ur[255+M-P]>j}function Wi(p,y,S,j){return 4*Ur[255+p[y-S]-p[y+0]]+Ur[255+p[y-2*S]-p[y+S]]<=j}function zo(p,y,S,j,P){var M=p[y-3*S],I=p[y-2*S],V=p[y-S],W=p[y+0],Q=p[y+S],ge=p[y+2*S],Ee=p[y+3*S];return 4*Ur[255+V-W]+Ur[255+I-Q]>j?0:Ur[255+p[y-4*S]-M]<=P&&Ur[255+M-I]<=P&&Ur[255+I-V]<=P&&Ur[255+Ee-ge]<=P&&Ur[255+ge-Q]<=P&&Ur[255+Q-W]<=P}function ro(p,y,S,j){var P=2*j+1;for(j=0;16>j;++j)Wi(p,y+j,S,P)&&Ea(p,y+j,S)}function Ki(p,y,S,j){var P=2*j+1;for(j=0;16>j;++j)Wi(p,y+j*S,1,P)&&Ea(p,y+j*S,1)}function Es(p,y,S,j){var P;for(P=3;0<P;--P)ro(p,y+=4*S,S,j)}function ao(p,y,S,j){var P;for(P=3;0<P;--P)Ki(p,y+=4,S,j)}function Ni(p,y,S,j,P,M,I,V){for(M=2*M+1;0<P--;){if(zo(p,y,S,M,I))if(Si(p,y,S,V))Ea(p,y,S);else{var W=p,Q=y,ge=S,Ee=W[Q-2*ge],Z=W[Q-ge],be=W[Q+0],Se=W[Q+ge],De=W[Q+2*ge],Ne=27*(Ue=is[1020+3*(be-Z)+is[1020+Ee-Se]])+63>>7,Re=18*Ue+63>>7,Ue=9*Ue+63>>7;W[Q-3*ge]=Jr[255+W[Q-3*ge]+Ue],W[Q-2*ge]=Jr[255+Ee+Re],W[Q-ge]=Jr[255+Z+Ne],W[Q+0]=Jr[255+be-Ne],W[Q+ge]=Jr[255+Se-Re],W[Q+2*ge]=Jr[255+De-Ue]}y+=j}}function Ji(p,y,S,j,P,M,I,V){for(M=2*M+1;0<P--;){if(zo(p,y,S,M,I))if(Si(p,y,S,V))Ea(p,y,S);else{var W=p,Q=y,ge=S,Ee=W[Q-ge],Z=W[Q+0],be=W[Q+ge],Se=$l[112+(4+(De=3*(Z-Ee))>>3)],De=$l[112+(De+3>>3)],Ne=Se+1>>1;W[Q-2*ge]=Jr[255+W[Q-2*ge]+Ne],W[Q-ge]=Jr[255+Ee+De],W[Q+0]=Jr[255+Z-Se],W[Q+ge]=Jr[255+be-Ne]}y+=j}}function Nc(p,y,S,j,P,M){Ni(p,y,S,1,16,j,P,M)}function Ac(p,y,S,j,P,M){Ni(p,y,1,S,16,j,P,M)}function Xi(p,y,S,j,P,M){var I;for(I=3;0<I;--I)Ji(p,y+=4*S,S,1,16,j,P,M)}function jc(p,y,S,j,P,M){var I;for(I=3;0<I;--I)Ji(p,y+=4,1,S,16,j,P,M)}function x(p,y,S,j,P,M,I,V){Ni(p,y,P,1,8,M,I,V),Ni(S,j,P,1,8,M,I,V)}function D(p,y,S,j,P,M,I,V){Ni(p,y,1,P,8,M,I,V),Ni(S,j,1,P,8,M,I,V)}function ee(p,y,S,j,P,M,I,V){Ji(p,y+4*P,P,1,8,M,I,V),Ji(S,j+4*P,P,1,8,M,I,V)}function me(p,y,S,j,P,M,I,V){Ji(p,y+4,1,P,8,M,I,V),Ji(S,j+4,1,P,8,M,I,V)}function xe(){this.ba=new mn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new nn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Be(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function He(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function at(){this.ua=0,this.Wa=new et,this.vb=new et,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new he,this.yc=new se}function ct(){this.xb=this.a=0,this.l=new Hi,this.ca=new mn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new at,this.ab=0,this.gc=c(4,He),this.Oc=0}function Lt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Hi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Bt(p,y,S,j,P,M,I){for(p=p==null?0:p[y+0],y=0;y<I;++y)P[M+y]=p+S[j+y]&255,p=P[M+y]}function un(p,y,S,j,P,M,I){var V;if(p==null)Bt(null,null,S,j,P,M,I);else for(V=0;V<I;++V)P[M+V]=p[y+V]+S[j+V]&255}function $n(p,y,S,j,P,M,I){if(p==null)Bt(null,null,S,j,P,M,I);else{var V,W=p[y+0],Q=W,ge=W;for(V=0;V<I;++V)Q=ge+(W=p[y+V])-Q,ge=S[j+V]+(-256&Q?0>Q?0:255:Q)&255,Q=W,P[M+V]=ge}}function ir(p,y,S,j){var P=y.width,M=y.o;if(e(p!=null&&y!=null),0>S||0>=j||S+j>M)return null;if(!p.Cc){if(p.ga==null){var I;if(p.ga=new Lt,(I=p.ga==null)||(I=y.width*y.o,e(p.Gb.length==0),p.Gb=o(I),p.Uc=0,p.Gb==null?I=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,I=1),I=!I),!I){I=p.ga;var V=p.Fa,W=p.P,Q=p.qc,ge=p.mb,Ee=p.nb,Z=W+1,be=Q-1,Se=I.l;if(e(V!=null&&ge!=null&&y!=null),ss[0]=null,ss[1]=Bt,ss[2]=un,ss[3]=$n,I.ca=ge,I.tb=Ee,I.c=y.width,I.i=y.height,e(0<I.c&&0<I.i),1>=Q)y=0;else if(I.$a=3&V[W+0],I.Z=V[W+0]>>2&3,I.Lc=V[W+0]>>4&3,W=V[W+0]>>6&3,0>I.$a||1<I.$a||4<=I.Z||1<I.Lc||W)y=0;else if(Se.put=gt,Se.ac=Oa,Se.bc=qi,Se.ma=I,Se.width=y.width,Se.height=y.height,Se.Da=y.Da,Se.v=y.v,Se.va=y.va,Se.j=y.j,Se.o=y.o,I.$a)e:{e(I.$a==1),y=Js();t:for(;;){if(y==null){y=0;break e}if(e(I!=null),I.mc=y,y.c=I.c,y.i=I.i,y.l=I.l,y.l.ma=I,y.l.width=I.c,y.l.height=I.i,y.a=0,ae(y.m,V,Z,be),!Qa(I.c,I.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&Nn(y.s)?(I.ic=1,V=y.c*y.i,y.Ta=null,y.Ua=0,y.V=o(V),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(I.ic=0,y=ei(y,I.c)),!y))break t;y=1;break e}I.mc=null,y=0}else y=be>=I.c*I.i;I=!y}if(I)return null;p.ga.Lc!=1?p.Ga=0:j=M-S}e(p.ga!=null),e(S+j<=M);e:{if(y=(V=p.ga).c,M=V.l.o,V.$a==0){if(Z=p.rc,be=p.Vc,Se=p.Fa,W=p.P+1+S*y,Q=p.mb,ge=p.nb+S*y,e(W<=p.P+p.qc),V.Z!=0)for(e(ss[V.Z]!=null),I=0;I<j;++I)ss[V.Z](Z,be,Se,W,Q,ge,y),Z=Q,be=ge,ge+=y,W+=y;else for(I=0;I<j;++I)i(Q,ge,Se,W,y),Z=Q,be=ge,ge+=y,W+=y;p.rc=Z,p.Vc=be}else{if(e(V.mc!=null),y=S+j,e((I=V.mc)!=null),e(y<=I.i),I.C>=y)y=1;else if(V.ic||Pa(),V.ic){V=I.V,Z=I.Ba,be=I.c;var De=I.i,Ne=(Se=1,W=I.$/be,Q=I.$%be,ge=I.m,Ee=I.s,I.$),Re=be*De,Ue=be*y,Ve=Ee.wc,qe=Ne<Ue?jr(Ee,Q,W):null;e(Ne<=Re),e(y<=De),e(Nn(Ee));t:for(;;){for(;!ge.h&&Ne<Ue;){if(Q&Ve||(qe=jr(Ee,Q,W)),e(qe!=null),we(ge),256>(De=qn(qe.G[0],qe.H[0],ge)))V[Z+Ne]=De,++Ne,++Q>=be&&(Q=0,++W<=y&&!(W%16)&&Yr(I,W));else{if(!(280>De)){Se=0;break t}De=wa(De-256,ge);var st,Ze=qn(qe.G[4],qe.H[4],ge);if(we(ge),!(Ne>=(Ze=xa(be,Ze=wa(Ze,ge)))&&Re-Ne>=De)){Se=0;break t}for(st=0;st<De;++st)V[Z+Ne+st]=V[Z+Ne+st-Ze];for(Ne+=De,Q+=De;Q>=be;)Q-=be,++W<=y&&!(W%16)&&Yr(I,W);Ne<Ue&&Q&Ve&&(qe=jr(Ee,Q,W))}e(ge.h==ne(ge))}Yr(I,W>y?y:W);break t}!Se||ge.h&&Ne<Re?(Se=0,I.a=ge.h?5:3):I.$=Ne,y=Se}else y=_a(I,I.V,I.Ba,I.c,I.i,y,As);if(!y){j=0;break e}}S+j>=M&&(p.Cc=1),j=1}if(!j)return null;if(p.Cc&&((j=p.ga)!=null&&(j.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+S*P}function kn(p,y,S,j,P,M){for(;0<P--;){var I,V=p,W=y+(S?1:0),Q=p,ge=y+(S?0:3);for(I=0;I<j;++I){var Ee=Q[ge+4*I];Ee!=255&&(Ee*=32897,V[W+4*I+0]=V[W+4*I+0]*Ee>>23,V[W+4*I+1]=V[W+4*I+1]*Ee>>23,V[W+4*I+2]=V[W+4*I+2]*Ee>>23)}y+=M}}function wr(p,y,S,j,P){for(;0<j--;){var M;for(M=0;M<S;++M){var I=p[y+2*M+0],V=15&(Q=p[y+2*M+1]),W=4369*V,Q=(240&Q|Q>>4)*W>>16;p[y+2*M+0]=(240&I|I>>4)*W>>16&240|(15&I|I<<4)*W>>16>>4&15,p[y+2*M+1]=240&Q|V}y+=P}}function fr(p,y,S,j,P,M,I,V){var W,Q,ge=255;for(Q=0;Q<P;++Q){for(W=0;W<j;++W){var Ee=p[y+W];M[I+4*W]=Ee,ge&=Ee}y+=S,I+=V}return ge!=255}function Pr(p,y,S,j,P){var M;for(M=0;M<P;++M)S[j+M]=p[y+M]>>8}function Pa(){co=kn,Ba=wr,ql=fr,ka=Pr}function ua(p,y,S){H[p]=function(j,P,M,I,V,W,Q,ge,Ee,Z,be,Se,De,Ne,Re,Ue,Ve){var qe,st=Ve-1>>1,Ze=V[W+0]|Q[ge+0]<<16,Dt=Ee[Z+0]|be[Se+0]<<16;e(j!=null);var nt=3*Ze+Dt+131074>>2;for(y(j[P+0],255&nt,nt>>16,De,Ne),M!=null&&(nt=3*Dt+Ze+131074>>2,y(M[I+0],255&nt,nt>>16,Re,Ue)),qe=1;qe<=st;++qe){var Wt=V[W+qe]|Q[ge+qe]<<16,Bn=Ee[Z+qe]|be[Se+qe]<<16,qt=Ze+Wt+Dt+Bn+524296,Qe=qt+2*(Wt+Dt)>>3;nt=Qe+Ze>>1,Ze=(qt=qt+2*(Ze+Bn)>>3)+Wt>>1,y(j[P+2*qe-1],255&nt,nt>>16,De,Ne+(2*qe-1)*S),y(j[P+2*qe-0],255&Ze,Ze>>16,De,Ne+(2*qe-0)*S),M!=null&&(nt=qt+Dt>>1,Ze=Qe+Bn>>1,y(M[I+2*qe-1],255&nt,nt>>16,Re,Ue+(2*qe-1)*S),y(M[I+2*qe+0],255&Ze,Ze>>16,Re,Ue+(2*qe+0)*S)),Ze=Wt,Dt=Bn}1&Ve||(nt=3*Ze+Dt+131074>>2,y(j[P+Ve-1],255&nt,nt>>16,De,Ne+(Ve-1)*S),M!=null&&(nt=3*Dt+Ze+131074>>2,y(M[I+Ve-1],255&nt,nt>>16,Re,Ue+(Ve-1)*S)))}}function Ec(){Ir[Tc]=fo,Ir[Xr]=Jo,Ir[Oc]=Iu,Ir[Ua]=Bc,Ir[Vl]=Ps,Ir[Yo]=Ri,Ir[Os]=Ms,Ir[Gl]=Jo,Ir[Rc]=Bc,Ir[Wo]=Ps,Ir[Dc]=Ri}function Io(p){return p&-16384?0>p?0:255:p>>Uc}function io(p,y){return Io((19077*p>>8)+(26149*y>>8)-14234)}function Ai(p,y,S){return Io((19077*p>>8)-(6419*y>>8)-(13320*S>>8)+8708)}function si(p,y){return Io((19077*p>>8)+(33050*y>>8)-17685)}function so(p,y,S,j,P){j[P+0]=io(p,S),j[P+1]=Ai(p,y,S),j[P+2]=si(p,y)}function Cs(p,y,S,j,P){j[P+0]=si(p,y),j[P+1]=Ai(p,y,S),j[P+2]=io(p,S)}function Mr(p,y,S,j,P){var M=Ai(p,y,S);y=M<<3&224|si(p,y)>>3,j[P+0]=248&io(p,S)|M>>5,j[P+1]=y}function Ls(p,y,S,j,P){var M=240&si(p,y)|15;j[P+0]=240&io(p,S)|Ai(p,y,S)>>4,j[P+1]=M}function ks(p,y,S,j,P){j[P+0]=255,so(p,y,S,j,P+1)}function qo(p,y,S,j,P){Cs(p,y,S,j,P),j[P+3]=255}function ji(p,y,S,j,P){so(p,y,S,j,P),j[P+3]=255}function Xn(p,y){return 0>p?0:p>y?y:p}function Zi(p,y,S){H[p]=function(j,P,M,I,V,W,Q,ge,Ee){for(var Z=ge+(-2&Ee)*S;ge!=Z;)y(j[P+0],M[I+0],V[W+0],Q,ge),y(j[P+1],M[I+0],V[W+0],Q,ge+S),P+=2,++I,++W,ge+=2*S;1&Ee&&y(j[P+0],M[I+0],V[W+0],Q,ge)}}function Fo(p,y,S){return S==0?p==0?y==0?6:5:y==0?4:0:S}function Ul(p,y,S,j,P){switch(p>>>30){case 3:as(y,S,j,P,0);break;case 2:Kr(y,S,j,P);break;case 1:hn(y,S,j,P)}}function Ca(p,y){var S,j,P=y.M,M=y.Nb,I=p.oc,V=p.pc+40,W=p.oc,Q=p.pc+584,ge=p.oc,Ee=p.pc+600;for(S=0;16>S;++S)I[V+32*S-1]=129;for(S=0;8>S;++S)W[Q+32*S-1]=129,ge[Ee+32*S-1]=129;for(0<P?I[V-1-32]=W[Q-1-32]=ge[Ee-1-32]=129:(s(I,V-32-1,127,21),s(W,Q-32-1,127,9),s(ge,Ee-32-1,127,9)),j=0;j<p.za;++j){var Z=y.ya[y.aa+j];if(0<j){for(S=-1;16>S;++S)i(I,V+32*S-4,I,V+32*S+12,4);for(S=-1;8>S;++S)i(W,Q+32*S-4,W,Q+32*S+4,4),i(ge,Ee+32*S-4,ge,Ee+32*S+4,4)}var be=p.Gd,Se=p.Hd+j,De=Z.ad,Ne=Z.Hc;if(0<P&&(i(I,V-32,be[Se].y,0,16),i(W,Q-32,be[Se].f,0,8),i(ge,Ee-32,be[Se].ea,0,8)),Z.Za){var Re=I,Ue=V-32+16;for(0<P&&(j>=p.za-1?s(Re,Ue,be[Se].y[15],4):i(Re,Ue,be[Se+1].y,0,4)),S=0;4>S;S++)Re[Ue+128+S]=Re[Ue+256+S]=Re[Ue+384+S]=Re[Ue+0+S];for(S=0;16>S;++S,Ne<<=2)Re=I,Ue=V+lr[S],Zn[Z.Ob[S]](Re,Ue),Ul(Ne,De,16*+S,Re,Ue)}else if(Re=Fo(j,P,Z.Ob[0]),sa[Re](I,V),Ne!=0)for(S=0;16>S;++S,Ne<<=2)Ul(Ne,De,16*+S,I,V+lr[S]);for(S=Z.Gc,Re=Fo(j,P,Z.Dd),ui[Re](W,Q),ui[Re](ge,Ee),Ne=De,Re=W,Ue=Q,255&(Z=0|S)&&(170&Z?Ma(Ne,256,Re,Ue):rn(Ne,256,Re,Ue)),Z=ge,Ne=Ee,255&(S>>=8)&&(170&S?Ma(De,320,Z,Ne):rn(De,320,Z,Ne)),P<p.Ub-1&&(i(be[Se].y,0,I,V+480,16),i(be[Se].f,0,W,Q+224,8),i(be[Se].ea,0,ge,Ee+224,8)),S=8*M*p.B,be=p.sa,Se=p.ta+16*j+16*M*p.R,De=p.qa,Z=p.ra+8*j+S,Ne=p.Ha,Re=p.Ia+8*j+S,S=0;16>S;++S)i(be,Se+S*p.R,I,V+32*S,16);for(S=0;8>S;++S)i(De,Z+S*p.B,W,Q+32*S,8),i(Ne,Re+S*p.B,ge,Ee+32*S,8)}}function oi(p,y,S,j,P,M,I,V,W){var Q=[0],ge=[0],Ee=0,Z=W!=null?W.kd:0,be=W!=null?W:new Be;if(p==null||12>S)return 7;be.data=p,be.w=y,be.ha=S,y=[y],S=[S],be.gb=[be.gb];e:{var Se=y,De=S,Ne=be.gb;if(e(p!=null),e(De!=null),e(Ne!=null),Ne[0]=0,12<=De[0]&&!t(p,Se[0],"RIFF")){if(t(p,Se[0]+8,"WEBP")){Ne=3;break e}var Re=ve(p,Se[0]+4);if(12>Re||4294967286<Re){Ne=3;break e}if(Z&&Re>De[0]-8){Ne=7;break e}Ne[0]=Re,Se[0]+=12,De[0]-=12}Ne=0}if(Ne!=0)return Ne;for(Re=0<be.gb[0],S=S[0];;){e:{var Ue=p;De=y,Ne=S;var Ve=Q,qe=ge,st=Se=[0];if((nt=Ee=[Ee])[0]=0,8>Ne[0])Ne=7;else{if(!t(Ue,De[0],"VP8X")){if(ve(Ue,De[0]+4)!=10){Ne=3;break e}if(18>Ne[0]){Ne=7;break e}var Ze=ve(Ue,De[0]+8),Dt=1+Je(Ue,De[0]+12);if(2147483648<=Dt*(Ue=1+Je(Ue,De[0]+15))){Ne=3;break e}st!=null&&(st[0]=Ze),Ve!=null&&(Ve[0]=Dt),qe!=null&&(qe[0]=Ue),De[0]+=18,Ne[0]-=18,nt[0]=1}Ne=0}}if(Ee=Ee[0],Se=Se[0],Ne!=0)return Ne;if(De=!!(2&Se),!Re&&Ee)return 3;if(M!=null&&(M[0]=!!(16&Se)),I!=null&&(I[0]=De),V!=null&&(V[0]=0),I=Q[0],Se=ge[0],Ee&&De&&W==null){Ne=0;break}if(4>S){Ne=7;break}if(Re&&Ee||!Re&&!Ee&&!t(p,y[0],"ALPH")){S=[S],be.na=[be.na],be.P=[be.P],be.Sa=[be.Sa];e:{Ze=p,Ne=y,Re=S;var nt=be.gb;Ve=be.na,qe=be.P,st=be.Sa,Dt=22,e(Ze!=null),e(Re!=null),Ue=Ne[0];var Wt=Re[0];for(e(Ve!=null),e(st!=null),Ve[0]=null,qe[0]=null,st[0]=0;;){if(Ne[0]=Ue,Re[0]=Wt,8>Wt){Ne=7;break e}var Bn=ve(Ze,Ue+4);if(4294967286<Bn){Ne=3;break e}var qt=8+Bn+1&-2;if(Dt+=qt,0<nt&&Dt>nt){Ne=3;break e}if(!t(Ze,Ue,"VP8 ")||!t(Ze,Ue,"VP8L")){Ne=0;break e}if(Wt[0]<qt){Ne=7;break e}t(Ze,Ue,"ALPH")||(Ve[0]=Ze,qe[0]=Ue+8,st[0]=Bn),Ue+=qt,Wt-=qt}}if(S=S[0],be.na=be.na[0],be.P=be.P[0],be.Sa=be.Sa[0],Ne!=0)break}S=[S],be.Ja=[be.Ja],be.xa=[be.xa];e:if(nt=p,Ne=y,Re=S,Ve=be.gb[0],qe=be.Ja,st=be.xa,Ze=Ne[0],Ue=!t(nt,Ze,"VP8 "),Dt=!t(nt,Ze,"VP8L"),e(nt!=null),e(Re!=null),e(qe!=null),e(st!=null),8>Re[0])Ne=7;else{if(Ue||Dt){if(nt=ve(nt,Ze+4),12<=Ve&&nt>Ve-12){Ne=3;break e}if(Z&&nt>Re[0]-8){Ne=7;break e}qe[0]=nt,Ne[0]+=8,Re[0]-=8,st[0]=Dt}else st[0]=5<=Re[0]&&nt[Ze+0]==47&&!(nt[Ze+4]>>5),qe[0]=Re[0];Ne=0}if(S=S[0],be.Ja=be.Ja[0],be.xa=be.xa[0],y=y[0],Ne!=0)break;if(4294967286<be.Ja)return 3;if(V==null||De||(V[0]=be.xa?2:1),I=[I],Se=[Se],be.xa){if(5>S){Ne=7;break}V=I,Z=Se,De=M,p==null||5>S?p=0:5<=S&&p[y+0]==47&&!(p[y+4]>>5)?(Re=[0],nt=[0],Ve=[0],ae(qe=new z,p,y,S),bi(qe,Re,nt,Ve)?(V!=null&&(V[0]=Re[0]),Z!=null&&(Z[0]=nt[0]),De!=null&&(De[0]=Ve[0]),p=1):p=0):p=0}else{if(10>S){Ne=7;break}V=Se,p==null||10>S||!ra(p,y+3,S-3)?p=0:(Z=p[y+0]|p[y+1]<<8|p[y+2]<<16,De=16383&(p[y+7]<<8|p[y+6]),p=16383&(p[y+9]<<8|p[y+8]),1&Z||3<(Z>>1&7)||!(Z>>4&1)||Z>>5>=be.Ja||!De||!p?p=0:(I&&(I[0]=De),V&&(V[0]=p),p=1))}if(!p||(I=I[0],Se=Se[0],Ee&&(Q[0]!=I||ge[0]!=Se)))return 3;W!=null&&(W[0]=be,W.offset=y-W.w,e(4294967286>y-W.w),e(W.offset==W.ha-S));break}return Ne==0||Ne==7&&Ee&&W==null?(M!=null&&(M[0]|=be.na!=null&&0<be.na.length),j!=null&&(j[0]=I),P!=null&&(P[0]=Se),0):Ne}function Qi(p,y,S){var j=y.width,P=y.height,M=0,I=0,V=j,W=P;if(y.Da=p!=null&&0<p.Da,y.Da&&(V=p.cd,W=p.bd,M=p.v,I=p.j,11>S||(M&=-2,I&=-2),0>M||0>I||0>=V||0>=W||M+V>j||I+W>P))return 0;if(y.v=M,y.j=I,y.va=M+V,y.o=I+W,y.U=V,y.T=W,y.da=p!=null&&0<p.da,y.da){if(!rt(V,W,S=[p.ib],M=[p.hb]))return 0;y.ib=S[0],y.hb=M[0]}return y.ob=p!=null&&p.ob,y.Kb=p==null||!p.Sd,y.da&&(y.ob=y.ib<3*j/4&&y.hb<3*P/4,y.Kb=0),1}function zl(p){if(p==null)return 2;if(11>p.S){var y=p.f.RGBA;y.fb+=(p.height-1)*y.A,y.A=-y.A}else y=p.f.kb,p=p.height,y.O+=(p-1)*y.fa,y.fa=-y.fa,y.N+=(p-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(p-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(p-1)*y.lb,y.lb=-y.lb);return 0}function li(p,y,S,j){if(j==null||0>=p||0>=y)return 2;if(S!=null){if(S.Da){var P=S.cd,M=S.bd,I=-2&S.v,V=-2&S.j;if(0>I||0>V||0>=P||0>=M||I+P>p||V+M>y)return 2;p=P,y=M}if(S.da){if(!rt(p,y,P=[S.ib],M=[S.hb]))return 2;p=P[0],y=M[0]}}j.width=p,j.height=y;e:{var W=j.width,Q=j.height;if(p=j.S,0>=W||0>=Q||!(p>=Tc&&13>p))p=2;else{if(0>=j.Rd&&j.sd==null){I=M=P=y=0;var ge=(V=W*Ic[p])*Q;if(11>p||(M=(Q+1)/2*(y=(W+1)/2),p==12&&(I=(P=W)*Q)),(Q=o(ge+2*M+I))==null){p=1;break e}j.sd=Q,11>p?((W=j.f.RGBA).eb=Q,W.fb=0,W.A=V,W.size=ge):((W=j.f.kb).y=Q,W.O=0,W.fa=V,W.Fd=ge,W.f=Q,W.N=0+ge,W.Ab=y,W.Cd=M,W.ea=Q,W.W=0+ge+M,W.Db=y,W.Ed=M,p==12&&(W.F=Q,W.J=0+ge+2*M),W.Tc=I,W.lb=P)}if(y=1,P=j.S,M=j.width,I=j.height,P>=Tc&&13>P)if(11>P)p=j.f.RGBA,y&=(V=Math.abs(p.A))*(I-1)+M<=p.size,y&=V>=M*Ic[P],y&=p.eb!=null;else{p=j.f.kb,V=(M+1)/2,ge=(I+1)/2,W=Math.abs(p.fa),Q=Math.abs(p.Ab);var Ee=Math.abs(p.Db),Z=Math.abs(p.lb),be=Z*(I-1)+M;y&=W*(I-1)+M<=p.Fd,y&=Q*(ge-1)+V<=p.Cd,y=(y&=Ee*(ge-1)+V<=p.Ed)&W>=M&Q>=V&Ee>=V,y&=p.y!=null,y&=p.f!=null,y&=p.ea!=null,P==12&&(y&=Z>=M,y&=be<=p.Tc,y&=p.F!=null)}else y=0;p=y?0:2}}return p!=0||S!=null&&S.fd&&(p=zl(j)),p}var Ts=64,ha=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ia=24,Ei=32,Ci=8,es=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];We("Predictor0","PredictorAdd0"),H.Predictor0=function(){return 4278190080},H.Predictor1=function(p){return p},H.Predictor2=function(p,y,S){return y[S+0]},H.Predictor3=function(p,y,S){return y[S+1]},H.Predictor4=function(p,y,S){return y[S-1]},H.Predictor5=function(p,y,S){return mt(mt(p,y[S+1]),y[S+0])},H.Predictor6=function(p,y,S){return mt(p,y[S-1])},H.Predictor7=function(p,y,S){return mt(p,y[S+0])},H.Predictor8=function(p,y,S){return mt(y[S-1],y[S+0])},H.Predictor9=function(p,y,S){return mt(y[S+0],y[S+1])},H.Predictor10=function(p,y,S){return mt(mt(p,y[S-1]),mt(y[S+0],y[S+1]))},H.Predictor11=function(p,y,S){var j=y[S+0];return 0>=Mt(j>>24&255,p>>24&255,(y=y[S-1])>>24&255)+Mt(j>>16&255,p>>16&255,y>>16&255)+Mt(j>>8&255,p>>8&255,y>>8&255)+Mt(255&j,255&p,255&y)?j:p},H.Predictor12=function(p,y,S){var j=y[S+0];return(Ut((p>>24&255)+(j>>24&255)-((y=y[S-1])>>24&255))<<24|Ut((p>>16&255)+(j>>16&255)-(y>>16&255))<<16|Ut((p>>8&255)+(j>>8&255)-(y>>8&255))<<8|Ut((255&p)+(255&j)-(255&y)))>>>0},H.Predictor13=function(p,y,S){var j=y[S-1];return(zt((p=mt(p,y[S+0]))>>24&255,j>>24&255)<<24|zt(p>>16&255,j>>16&255)<<16|zt(p>>8&255,j>>8&255)<<8|zt(255&p,255&j))>>>0};var Ho=H.PredictorAdd0;H.PredictorAdd1=bn,We("Predictor2","PredictorAdd2"),We("Predictor3","PredictorAdd3"),We("Predictor4","PredictorAdd4"),We("Predictor5","PredictorAdd5"),We("Predictor6","PredictorAdd6"),We("Predictor7","PredictorAdd7"),We("Predictor8","PredictorAdd8"),We("Predictor9","PredictorAdd9"),We("Predictor10","PredictorAdd10"),We("Predictor11","PredictorAdd11"),We("Predictor12","PredictorAdd12"),We("Predictor13","PredictorAdd13");var $o=H.PredictorAdd2;pt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),pt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var sr,Cc=H.ColorIndexInverseTransform,Li=H.MapARGB,ki=H.VP8LColorIndexInverseTransformAlpha,Br=H.MapAlpha,ts=H.VP8LPredictorsAdd=[];ts.length=16,(H.VP8LPredictors=[]).length=16,(H.VP8LPredictorsAdd_C=[]).length=16,(H.VP8LPredictors_C=[]).length=16;var Vo,Go,ns,rs,Ti,oo,La,as,Kr,Ma,hn,rn,Tn,or,Oi,ci,lo,Il,Pu,qh,Fh,Hh,Mu,Bu,co,Ba,ql,ka,uo=o(511),Lc=o(2041),Fl=o(225),Hl=o(767),kc=0,is=Lc,$l=Fl,Jr=Hl,Ur=uo,Tc=0,Xr=1,Oc=2,Ua=3,Vl=4,Yo=5,Os=6,Gl=7,Rc=8,Wo=9,Dc=10,za=[2,3,7],Ko=[3,3,11],ho=[280,256,256,256,40],Pc=[0,1,1,1,0],Yl=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ia=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],qa=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Rs=8,Fa=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ha=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ta=null,$h=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Uu=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Mc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Vh=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],zr=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Mn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Xt=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],sa=[],Zn=[],ui=[],Ds=1,zu=2,ss=[],Ir=[];ua("UpsampleRgbLinePair",so,3),ua("UpsampleBgrLinePair",Cs,3),ua("UpsampleRgbaLinePair",ji,4),ua("UpsampleBgraLinePair",qo,4),ua("UpsampleArgbLinePair",ks,4),ua("UpsampleRgba4444LinePair",Ls,2),ua("UpsampleRgb565LinePair",Mr,2);var fo=H.UpsampleRgbLinePair,Iu=H.UpsampleBgrLinePair,Jo=H.UpsampleRgbaLinePair,Bc=H.UpsampleBgraLinePair,Ps=H.UpsampleArgbLinePair,Ri=H.UpsampleRgba4444LinePair,Ms=H.UpsampleRgb565LinePair,$a=16,Xo=1<<$a-1,po=-227,Bs=482,Uc=6,Us=0,qr=o(256),zc=o(256),Gh=o(256),Od=o(256),Rd=o(Bs-po),Dd=o(Bs-po);Zi("YuvToRgbRow",so,3),Zi("YuvToBgrRow",Cs,3),Zi("YuvToRgbaRow",ji,4),Zi("YuvToBgraRow",qo,4),Zi("YuvToArgbRow",ks,4),Zi("YuvToRgba4444Row",Ls,2),Zi("YuvToRgb565Row",Mr,2);var lr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Zo=[0,2,8],Wl=[8,7,6,4,4,2,2,2,1,1,1,1],Kl=1;this.WebPDecodeRGBA=function(p,y,S,j,P){var M=Xr,I=new xe,V=new mn;I.ba=V,V.S=M,V.width=[V.width],V.height=[V.height];var W=V.width,Q=V.height,ge=new xt;if(ge==null||p==null)var Ee=2;else e(ge!=null),Ee=oi(p,y,S,ge.width,ge.height,ge.Pd,ge.Qd,ge.format,null);if(Ee!=0?W=0:(W!=null&&(W[0]=ge.width[0]),Q!=null&&(Q[0]=ge.height[0]),W=1),W){V.width=V.width[0],V.height=V.height[0],j!=null&&(j[0]=V.width),P!=null&&(P[0]=V.height);e:{if(j=new Hi,(P=new Be).data=p,P.w=y,P.ha=S,P.kd=1,y=[0],e(P!=null),((p=oi(P.data,P.w,P.ha,null,null,null,y,null,P))==0||p==7)&&y[0]&&(p=4),(y=p)==0){if(e(I!=null),j.data=P.data,j.w=P.w+P.offset,j.ha=P.ha-P.offset,j.put=gt,j.ac=Oa,j.bc=qi,j.ma=I,P.xa){if((p=Js())==null){I=1;break e}if((function(Z,be){var Se=[0],De=[0],Ne=[0];t:for(;;){if(Z==null)return 0;if(be==null)return Z.a=2,0;if(Z.l=be,Z.a=0,ae(Z.m,be.data,be.w,be.ha),!bi(Z.m,Se,De,Ne)){Z.a=3;break t}if(Z.xb=zu,be.width=Se[0],be.height=De[0],!Qa(Se[0],De[0],1,Z,null))break t;return 1}return e(Z.a!=0),0})(p,j)){if(j=(y=li(j.width,j.height,I.Oa,I.ba))==0){t:{j=p;n:for(;;){if(j==null){j=0;break t}if(e(j.s.yc!=null),e(j.s.Ya!=null),e(0<j.s.Wb),e((S=j.l)!=null),e((P=S.ma)!=null),j.xb!=0){if(j.ca=P.ba,j.tb=P.tb,e(j.ca!=null),!Qi(P.Oa,S,Ua)){j.a=2;break n}if(!ei(j,S.width)||S.da)break n;if((S.da||It(j.ca.S))&&Pa(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&Pa()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!J(j.s.vb,j.s.Wa.Xa)){j.a=1;break n}j.xb=0}if(!_a(j,j.V,j.Ba,j.c,j.i,S.o,na))break n;P.Dc=j.Ma,j=1;break t}e(j.a!=0),j=0}j=!j}j&&(y=p.a)}else y=p.a}else{if((p=new Mo)==null){I=1;break e}if(p.Fa=P.na,p.P=P.P,p.qc=P.Sa,Cl(p,j)){if((y=li(j.width,j.height,I.Oa,I.ba))==0){if(p.Aa=0,S=I.Oa,e((P=p)!=null),S!=null){if(0<(W=0>(W=S.Md)?0:100<W?255:255*W/100)){for(Q=ge=0;4>Q;++Q)12>(Ee=P.pb[Q]).lc&&(Ee.ia=W*Wl[0>Ee.lc?0:Ee.lc]>>3),ge|=Ee.ia;ge&&(alert("todo:VP8InitRandom"),P.ia=1)}P.Ga=S.Id,100<P.Ga?P.Ga=100:0>P.Ga&&(P.Ga=0)}(function(Z,be){if(Z==null)return 0;if(be==null)return Sn(Z,2,"NULL VP8Io parameter in VP8Decode().");if(!Z.cb&&!Cl(Z,be))return 0;if(e(Z.cb),be.ac==null||be.ac(be)){be.ob&&(Z.L=0);var Se=Zo[Z.L];if(Z.L==2?(Z.yb=0,Z.zb=0):(Z.yb=be.v-Se>>4,Z.zb=be.j-Se>>4,0>Z.yb&&(Z.yb=0),0>Z.zb&&(Z.zb=0)),Z.Va=be.o+15+Se>>4,Z.Hb=be.va+15+Se>>4,Z.Hb>Z.za&&(Z.Hb=Z.za),Z.Va>Z.Ub&&(Z.Va=Z.Ub),0<Z.L){var De=Z.ed;for(Se=0;4>Se;++Se){var Ne;if(Z.Qa.Cb){var Re=Z.Qa.Lb[Se];Z.Qa.Fb||(Re+=De.Tb)}else Re=De.Tb;for(Ne=0;1>=Ne;++Ne){var Ue=Z.gd[Se][Ne],Ve=Re;if(De.Pc&&(Ve+=De.vd[0],Ne&&(Ve+=De.od[0])),0<(Ve=0>Ve?0:63<Ve?63:Ve)){var qe=Ve;0<De.wb&&(qe=4<De.wb?qe>>2:qe>>1)>9-De.wb&&(qe=9-De.wb),1>qe&&(qe=1),Ue.dd=qe,Ue.tc=2*Ve+qe,Ue.ld=40<=Ve?2:15<=Ve?1:0}else Ue.tc=0;Ue.La=Ne}}}Se=0}else Sn(Z,6,"Frame setup failed"),Se=Z.a;if(Se=Se==0){if(Se){Z.$c=0,0<Z.Aa||(Z.Ic=Kl);t:{Se=Z.Ic,De=4*(qe=Z.za);var st=32*qe,Ze=qe+1,Dt=0<Z.L?qe*(0<Z.Aa?2:1):0,nt=(Z.Aa==2?2:1)*qe;if((Ue=De+832+(Ne=3*(16*Se+Zo[Z.L])/2*st)+(Re=Z.Fa!=null&&0<Z.Fa.length?Z.Kc.c*Z.Kc.i:0))!=Ue)Se=0;else{if(Ue>Z.Vb){if(Z.Vb=0,Z.Ec=o(Ue),Z.Fc=0,Z.Ec==null){Se=Sn(Z,1,"no memory during frame initialization.");break t}Z.Vb=Ue}Ue=Z.Ec,Ve=Z.Fc,Z.Ac=Ue,Z.Bc=Ve,Ve+=De,Z.Gd=c(st,El),Z.Hd=0,Z.rb=c(Ze+1,ri),Z.sb=1,Z.wa=Dt?c(Dt,Sa):null,Z.Y=0,Z.D.Nb=0,Z.D.wa=Z.wa,Z.D.Y=Z.Y,0<Z.Aa&&(Z.D.Y+=qe),e(!0),Z.oc=Ue,Z.pc=Ve,Ve+=832,Z.ya=c(nt,Al),Z.aa=0,Z.D.ya=Z.ya,Z.D.aa=Z.aa,Z.Aa==2&&(Z.D.aa+=qe),Z.R=16*qe,Z.B=8*qe,qe=(st=Zo[Z.L])*Z.R,st=st/2*Z.B,Z.sa=Ue,Z.ta=Ve+qe,Z.qa=Z.sa,Z.ra=Z.ta+16*Se*Z.R+st,Z.Ha=Z.qa,Z.Ia=Z.ra+8*Se*Z.B+st,Z.$c=0,Ve+=Ne,Z.mb=Re?Ue:null,Z.nb=Re?Ve:null,e(Ve+Re<=Z.Fc+Z.Vb),Vi(Z),s(Z.Ac,Z.Bc,0,De),Se=1}}if(Se){if(be.ka=0,be.y=Z.sa,be.O=Z.ta,be.f=Z.qa,be.N=Z.ra,be.ea=Z.Ha,be.Vd=Z.Ia,be.fa=Z.R,be.Rc=Z.B,be.F=null,be.J=0,!kc){for(Se=-255;255>=Se;++Se)uo[255+Se]=0>Se?-Se:Se;for(Se=-1020;1020>=Se;++Se)Lc[1020+Se]=-128>Se?-128:127<Se?127:Se;for(Se=-112;112>=Se;++Se)Fl[112+Se]=-16>Se?-16:15<Se?15:Se;for(Se=-255;510>=Se;++Se)Hl[255+Se]=0>Se?0:255<Se?255:Se;kc=1}La=Ol,as=bc,Ma=kl,hn=aa,rn=Tl,Kr=Ll,Tn=Nc,or=Ac,Oi=x,ci=D,lo=Xi,Il=jc,Pu=ee,qh=me,Fh=ro,Hh=Ki,Mu=Es,Bu=ao,Zn[0]=Ml,Zn[1]=Rl,Zn[2]=js,Zn[3]=_c,Zn[4]=Sc,Zn[5]=Dr,Zn[6]=Aa,Zn[7]=Bl,Zn[8]=ja,Zn[9]=eo,sa[0]=ai,sa[1]=xc,sa[2]=Dl,sa[3]=Pl,sa[4]=ii,sa[5]=Gi,sa[6]=Qs,ui[0]=Yi,ui[1]=wc,ui[2]=to,ui[3]=_i,ui[4]=Uo,ui[5]=Bo,ui[6]=Er,Se=1}else Se=0}Se&&(Se=(function(Wt,Bn){for(Wt.M=0;Wt.M<Wt.Va;++Wt.M){var qt,Qe=Wt.Jc[Wt.M&Wt.Xb],Ye=Wt.m,Vn=Wt;for(qt=0;qt<Vn.za;++qt){var At=Ye,$t=Vn,wn=$t.Ac,xr=$t.Bc+4*qt,Fr=$t.zc,On=$t.ya[$t.aa+qt];if($t.Qa.Bb?On.$b=Me(At,$t.Pa.jb[0])?2+Me(At,$t.Pa.jb[2]):Me(At,$t.Pa.jb[1]):On.$b=0,$t.kc&&(On.Ad=Me(At,$t.Bd)),On.Za=!Me(At,145)+0,On.Za){var dr=On.Ob,Zr=0;for($t=0;4>$t;++$t){var pr,Yt=Fr[0+$t];for(pr=0;4>pr;++pr){Yt=zr[wn[xr+pr]][Yt];for(var on=Mc[Me(At,Yt[0])];0<on;)on=Mc[2*on+Me(At,Yt[on])];Yt=-on,wn[xr+pr]=Yt}i(dr,Zr,wn,xr,4),Zr+=4,Fr[0+$t]=Yt}}else Yt=Me(At,156)?Me(At,128)?1:3:Me(At,163)?2:0,On.Ob[0]=Yt,s(wn,xr,Yt,4),s(Fr,0,Yt,4);On.Dd=Me(At,142)?Me(At,114)?Me(At,183)?1:3:2:0}if(Vn.m.Ka)return Sn(Wt,7,"Premature end-of-partition0 encountered.");for(;Wt.ja<Wt.za;++Wt.ja){if(Vn=Qe,At=(Ye=Wt).rb[Ye.sb-1],wn=Ye.rb[Ye.sb+Ye.ja],qt=Ye.ya[Ye.aa+Ye.ja],xr=Ye.kc?qt.Ad:0)At.la=wn.la=0,qt.Za||(At.Na=wn.Na=0),qt.Hc=0,qt.Gc=0,qt.ia=0;else{var Gn,fn;if(At=wn,wn=Vn,xr=Ye.Pa.Xc,Fr=Ye.ya[Ye.aa+Ye.ja],On=Ye.pb[Fr.$b],$t=Fr.ad,dr=0,Zr=Ye.rb[Ye.sb-1],Yt=pr=0,s($t,dr,0,384),Fr.Za)var _r=0,Yn=xr[3];else{on=o(16);var ln=At.Na+Zr.Na;if(ln=Ta(wn,xr[1],ln,On.Eb,0,on,0),At.Na=Zr.Na=(0<ln)+0,1<ln)La(on,0,$t,dr);else{var cr=on[0]+3>>3;for(on=0;256>on;on+=16)$t[dr+on]=cr}_r=1,Yn=xr[0]}var xn=15&At.la,mr=15&Zr.la;for(on=0;4>on;++on){var gr=1&mr;for(cr=fn=0;4>cr;++cr)xn=xn>>1|(gr=(ln=Ta(wn,Yn,ln=gr+(1&xn),On.Sc,_r,$t,dr))>_r)<<7,fn=fn<<2|(3<ln?3:1<ln?2:$t[dr+0]!=0),dr+=16;xn>>=4,mr=mr>>1|gr<<7,pr=(pr<<8|fn)>>>0}for(Yn=xn,_r=mr>>4,Gn=0;4>Gn;Gn+=2){for(fn=0,xn=At.la>>4+Gn,mr=Zr.la>>4+Gn,on=0;2>on;++on){for(gr=1&mr,cr=0;2>cr;++cr)ln=gr+(1&xn),xn=xn>>1|(gr=0<(ln=Ta(wn,xr[2],ln,On.Qc,0,$t,dr)))<<3,fn=fn<<2|(3<ln?3:1<ln?2:$t[dr+0]!=0),dr+=16;xn>>=2,mr=mr>>1|gr<<5}Yt|=fn<<4*Gn,Yn|=xn<<4<<Gn,_r|=(240&mr)<<Gn}At.la=Yn,Zr.la=_r,Fr.Hc=pr,Fr.Gc=Yt,Fr.ia=43690&Yt?0:On.ia,xr=!(pr|Yt)}if(0<Ye.L&&(Ye.wa[Ye.Y+Ye.ja]=Ye.gd[qt.$b][qt.Za],Ye.wa[Ye.Y+Ye.ja].La|=!xr),Vn.Ka)return Sn(Wt,7,"Premature end-of-file encountered.")}if(Vi(Wt),Ye=Bn,Vn=1,qt=(Qe=Wt).D,At=0<Qe.L&&Qe.M>=Qe.zb&&Qe.M<=Qe.Va,Qe.Aa==0)t:{if(qt.M=Qe.M,qt.uc=At,Ca(Qe,qt),Vn=1,qt=(fn=Qe.D).Nb,At=(Yt=Zo[Qe.L])*Qe.R,wn=Yt/2*Qe.B,on=16*qt*Qe.R,cr=8*qt*Qe.B,xr=Qe.sa,Fr=Qe.ta-At+on,On=Qe.qa,$t=Qe.ra-wn+cr,dr=Qe.Ha,Zr=Qe.Ia-wn+cr,mr=(xn=fn.M)==0,pr=xn>=Qe.Va-1,Qe.Aa==2&&Ca(Qe,fn),fn.uc)for(gr=(ln=Qe).D.M,e(ln.D.uc),fn=ln.yb;fn<ln.Hb;++fn){_r=fn,Yn=gr;var An=(an=(vr=ln).D).Nb;Gn=vr.R;var an=an.wa[an.Y+_r],Qr=vr.sa,Qn=vr.ta+16*An*Gn+16*_r,vt=an.dd,bt=an.tc;if(bt!=0)if(e(3<=bt),vr.L==1)0<_r&&Hh(Qr,Qn,Gn,bt+4),an.La&&Bu(Qr,Qn,Gn,bt),0<Yn&&Fh(Qr,Qn,Gn,bt+4),an.La&&Mu(Qr,Qn,Gn,bt);else{var cn=vr.B,fa=vr.qa,Va=vr.ra+8*An*cn+8*_r,oa=vr.Ha,vr=vr.Ia+8*An*cn+8*_r;An=an.ld,0<_r&&(or(Qr,Qn,Gn,bt+4,vt,An),ci(fa,Va,oa,vr,cn,bt+4,vt,An)),an.La&&(Il(Qr,Qn,Gn,bt,vt,An),qh(fa,Va,oa,vr,cn,bt,vt,An)),0<Yn&&(Tn(Qr,Qn,Gn,bt+4,vt,An),Oi(fa,Va,oa,vr,cn,bt+4,vt,An)),an.La&&(lo(Qr,Qn,Gn,bt,vt,An),Pu(fa,Va,oa,vr,cn,bt,vt,An))}}if(Qe.ia&&alert("todo:DitherRow"),Ye.put!=null){if(fn=16*xn,xn=16*(xn+1),mr?(Ye.y=Qe.sa,Ye.O=Qe.ta+on,Ye.f=Qe.qa,Ye.N=Qe.ra+cr,Ye.ea=Qe.Ha,Ye.W=Qe.Ia+cr):(fn-=Yt,Ye.y=xr,Ye.O=Fr,Ye.f=On,Ye.N=$t,Ye.ea=dr,Ye.W=Zr),pr||(xn-=Yt),xn>Ye.o&&(xn=Ye.o),Ye.F=null,Ye.J=null,Qe.Fa!=null&&0<Qe.Fa.length&&fn<xn&&(Ye.J=ir(Qe,Ye,fn,xn-fn),Ye.F=Qe.mb,Ye.F==null&&Ye.F.length==0)){Vn=Sn(Qe,3,"Could not decode alpha data.");break t}fn<Ye.j&&(Yt=Ye.j-fn,fn=Ye.j,e(!(1&Yt)),Ye.O+=Qe.R*Yt,Ye.N+=Qe.B*(Yt>>1),Ye.W+=Qe.B*(Yt>>1),Ye.F!=null&&(Ye.J+=Ye.width*Yt)),fn<xn&&(Ye.O+=Ye.v,Ye.N+=Ye.v>>1,Ye.W+=Ye.v>>1,Ye.F!=null&&(Ye.J+=Ye.v),Ye.ka=fn-Ye.j,Ye.U=Ye.va-Ye.v,Ye.T=xn-fn,Vn=Ye.put(Ye))}qt+1!=Qe.Ic||pr||(i(Qe.sa,Qe.ta-At,xr,Fr+16*Qe.R,At),i(Qe.qa,Qe.ra-wn,On,$t+8*Qe.B,wn),i(Qe.Ha,Qe.Ia-wn,dr,Zr+8*Qe.B,wn))}if(!Vn)return Sn(Wt,6,"Output aborted.")}return 1})(Z,be)),be.bc!=null&&be.bc(be),Se&=1}return Se?(Z.cb=0,Se):0})(p,j)||(y=p.a)}}else y=p.a}y==0&&I.Oa!=null&&I.Oa.fd&&(y=zl(I.ba))}I=y}M=I!=0?null:11>M?V.f.RGBA.eb:V.f.kb.y}else M=null;return M};var Ic=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(H,pe){for(var R="",$=0;$<4;$++)R+=String.fromCharCode(H[pe++]);return R}function v(H,pe){return H[pe+0]|H[pe+1]<<8}function _(H,pe){return(H[pe+0]|H[pe+1]<<8|H[pe+2]<<16)>>>0}function N(H,pe){return(H[pe+0]|H[pe+1]<<8|H[pe+2]<<16|H[pe+3]<<24)>>>0}new f;var w=[0],E=[0],k=[],L=new f,T=r,U=(function(H,pe){var R={},$=0,se=!1,re=0,he=0;if(R.frames=[],!(function(A,z){for(var F=0;F<4;F++)if(A[z+F]!="RIFF".charCodeAt(F))return!0;return!1})(H,pe)){for(N(H,pe+=4),pe+=8;pe<H.length;){var K=d(H,pe),le=N(H,pe+=4);pe+=4;var ue=le+(1&le);switch(K){case"VP8 ":case"VP8L":R.frames[$]===void 0&&(R.frames[$]={}),(G=R.frames[$]).src_off=se?he:pe-8,G.src_size=re+le+8,$++,se&&(se=!1,re=0,he=0);break;case"VP8X":(G=R.header={}).feature_flags=H[pe];var ae=pe+4;G.canvas_width=1+_(H,ae),ae+=3,G.canvas_height=1+_(H,ae),ae+=3;break;case"ALPH":se=!0,re=ue+8,he=pe-8;break;case"ANIM":(G=R.header).bgcolor=N(H,pe),ae=pe+4,G.loop_count=v(H,ae),ae+=2;break;case"ANMF":var ke,G;(G=R.frames[$]={}).offset_x=2*_(H,pe),pe+=3,G.offset_y=2*_(H,pe),pe+=3,G.width=1+_(H,pe),pe+=3,G.height=1+_(H,pe),pe+=3,G.duration=_(H,pe),pe+=3,ke=H[pe++],G.dispose=1&ke,G.blend=ke>>1&1}K!="ANMF"&&(pe+=ue)}return R}})(T,0);U.response=T,U.rgbaoutput=!0,U.dataurl=!1;var O=U.header?U.header:null,B=U.frames?U.frames:null;if(O){O.loop_counter=O.loop_count,w=[O.canvas_height],E=[O.canvas_width];for(var Y=0;Y<B.length&&B[Y].blend!=0;Y++);}var ie=B[0],te=L.WebPDecodeRGBA(T,ie.src_off,ie.src_size,E,w);ie.rgba=te,ie.imgwidth=E[0],ie.imgheight=w[0];for(var X=0;X<E[0]*w[0]*4;X++)k[X]=te[X];return this.width=E,this.height=w,this.data=k,this}(function(r){var e,t,i,s,o,c,h,f,d,v=function(A){return A=A||{},this.isStrokeTransparent=A.isStrokeTransparent||!1,this.strokeOpacity=A.strokeOpacity||1,this.strokeStyle=A.strokeStyle||"#000000",this.fillStyle=A.fillStyle||"#000000",this.isFillTransparent=A.isFillTransparent||!1,this.fillOpacity=A.fillOpacity||1,this.font=A.font||"10px sans-serif",this.textBaseline=A.textBaseline||"alphabetic",this.textAlign=A.textAlign||"left",this.lineWidth=A.lineWidth||1,this.lineJoin=A.lineJoin||"miter",this.lineCap=A.lineCap||"butt",this.path=A.path||[],this.transform=A.transform!==void 0?A.transform.clone():new f,this.globalCompositeOperation=A.globalCompositeOperation||"normal",this.globalAlpha=A.globalAlpha||1,this.clip_path=A.clip_path||[],this.currentPoint=A.currentPoint||new c,this.miterLimit=A.miterLimit||10,this.lastPoint=A.lastPoint||new c,this.lineDashOffset=A.lineDashOffset||0,this.lineDash=A.lineDash||[],this.margin=A.margin||[0,0,0,0],this.prevPageLastElemOffset=A.prevPageLastElemOffset||0,this.ignoreClearRect=typeof A.ignoreClearRect!="boolean"||A.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new _(this),e=this.internal.f2,t=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,h=this.internal.Rectangle,f=this.internal.Matrix,d=new v}]);var _=function(A){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=A;Object.defineProperty(this,"pdf",{get:function(){return z}});var F=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return F},set:function(ve){F=!!ve}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(ve){ne=!!ve}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(ve){isNaN(ve)||(ce=ve)}});var we=0;Object.defineProperty(this,"posY",{get:function(){return we},set:function(ve){isNaN(ve)||(we=ve)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ve){var J;typeof ve=="number"?J=[ve,ve,ve,ve]:((J=new Array(4))[0]=ve[0],J[1]=ve.length>=2?ve[1]:J[0],J[2]=ve.length>=3?ve[2]:J[0],J[3]=ve.length>=4?ve[3]:J[1]),d.margin=J}});var je=!1;Object.defineProperty(this,"autoPaging",{get:function(){return je},set:function(ve){je=ve}});var Ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ae},set:function(ve){Ae=ve}});var Me=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Me},set:function(ve){Me=ve}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ve){ve instanceof v&&(d=ve)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ve){d.path=ve}});var $e=[];Object.defineProperty(this,"ctxStack",{get:function(){return $e},set:function(ve){$e=ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ve){var J;J=N(ve),this.ctx.fillStyle=J.style,this.ctx.isFillTransparent=J.a===0,this.ctx.fillOpacity=J.a,this.pdf.setFillColor(J.r,J.g,J.b,{a:J.a}),this.pdf.setTextColor(J.r,J.g,J.b,{a:J.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ve){var J=N(ve);this.ctx.strokeStyle=J.style,this.ctx.isStrokeTransparent=J.a===0,this.ctx.strokeOpacity=J.a,J.a===0?this.pdf.setDrawColor(255,255,255):(J.a,this.pdf.setDrawColor(J.r,J.g,J.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ve){["butt","round","square"].indexOf(ve)!==-1&&(this.ctx.lineCap=ve,this.pdf.setLineCap(ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ve){isNaN(ve)||(this.ctx.lineWidth=ve,this.pdf.setLineWidth(ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ve){["bevel","round","miter"].indexOf(ve)!==-1&&(this.ctx.lineJoin=ve,this.pdf.setLineJoin(ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ve){isNaN(ve)||(this.ctx.miterLimit=ve,this.pdf.setMiterLimit(ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ve){this.ctx.textBaseline=ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ve){["right","end","center","left","start"].indexOf(ve)!==-1&&(this.ctx.textAlign=ve)}});var Ke=null,Je=null;Object.defineProperty(this,"fontFaces",{get:function(){return Je},set:function(ve){Ke=null,Je=ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ve){var J;if(this.ctx.font=ve,(J=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ve))!==null){var Ge=J[1];J[2];var et=J[3],rt=J[4];J[5];var Fe=J[6],tt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(rt)[2];rt=Math.floor(tt==="px"?parseFloat(rt)*this.pdf.internal.scaleFactor:tt==="em"?parseFloat(rt)*this.pdf.getFontSize():parseFloat(rt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(rt);var We=(function(Ct){var pt,Ln,Kt=[],Xe=Ct.trim();if(Xe==="")return Ep;if(Xe in $v)return[$v[Xe]];for(;Xe!=="";){switch(Ln=null,pt=(Xe=Gv(Xe)).charAt(0)){case'"':case"'":Ln=_8(Xe.substring(1),pt);break;default:Ln=S8(Xe)}if(Ln===null||(Kt.push(Ln[0]),(Xe=Gv(Ln[1]))!==""&&Xe.charAt(0)!==","))return Ep;Xe=Xe.replace(/^,/,"")}return Kt})(Fe);if(this.fontFaces){var Tt=(function(Ct,pt){if(Ke===null){var Ln=(function(Kt){var Xe=[];return Object.keys(Kt).forEach(function(_t){Kt[_t].forEach(function(Vt){var St=null;switch(Vt){case"bold":St={family:_t,weight:"bold"};break;case"italic":St={family:_t,style:"italic"};break;case"bolditalic":St={family:_t,weight:"bold",style:"italic"};break;case"":case"normal":St={family:_t}}St!==null&&(St.ref={name:_t,style:Vt},Xe.push(St))})}),Xe})(Ct.getFontList());Ke=(function(Kt){for(var Xe={},_t=0;_t<Kt.length;++_t){var Vt=jp(Kt[_t]),St=Vt.family,Jt=Vt.stretch,It=Vt.style,In=Vt.weight;Xe[St]=Xe[St]||{},Xe[St][Jt]=Xe[St][Jt]||{},Xe[St][Jt][It]=Xe[St][Jt][It]||{},Xe[St][Jt][It][In]=Vt}return Xe})(Ln.concat(pt))}return Ke})(this.pdf,this.fontFaces),mt=We.map(function(Ct){return{family:Ct,stretch:"normal",weight:et,style:Ge}}),Ut=(function(Ct,pt,Ln){for(var Kt=(Ln=Ln||{}).defaultFontFamily||"times",Xe=Object.assign({},x8,Ln.genericFontFamilies||{}),_t=null,Vt=null,St=0;St<pt.length;++St)if(Xe[(_t=jp(pt[St])).family]&&(_t.family=Xe[_t.family]),Ct.hasOwnProperty(_t.family)){Vt=Ct[_t.family];break}if(!(Vt=Vt||Ct[Kt]))throw new Error("Could not find a font-family for the rule '"+Vv(_t)+"' and default family '"+Kt+"'.");if(Vt=(function(Jt,It){if(It[Jt])return It[Jt];var In=im[Jt],Jn=In<=im.normal?-1:1,mn=Hv(It,wb,In,Jn);if(!mn)throw new Error("Could not find a matching font-stretch value for "+Jt);return mn})(_t.stretch,Vt),Vt=(function(Jt,It){if(It[Jt])return It[Jt];for(var In=bb[Jt],Jn=0;Jn<In.length;++Jn)if(It[In[Jn]])return It[In[Jn]];throw new Error("Could not find a matching font-style for "+Jt)})(_t.style,Vt),!(Vt=(function(Jt,It){if(It[Jt])return It[Jt];if(Jt===400&&It[500])return It[500];if(Jt===500&&It[400])return It[400];var In=w8[Jt],Jn=Hv(It,xb,In,Jt<400?-1:1);if(!Jn)throw new Error("Could not find a matching font-weight for value "+Jt);return Jn})(_t.weight,Vt)))throw new Error("Failed to resolve a font for the rule '"+Vv(_t)+"'.");return Vt})(Tt,mt);this.pdf.setFont(Ut.ref.name,Ut.ref.style)}else{var zt="";(et==="bold"||parseInt(et,10)>=700||Ge==="bold")&&(zt="bold"),Ge==="italic"&&(zt+="italic"),zt.length===0&&(zt="normal");for(var Mt="",bn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Rt=0;Rt<We.length;Rt++){if(this.pdf.internal.getFont(We[Rt],zt,{noFallback:!0,disableWarning:!0})!==void 0){Mt=We[Rt];break}if(zt==="bolditalic"&&this.pdf.internal.getFont(We[Rt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Mt=We[Rt],zt="bold";else if(this.pdf.internal.getFont(We[Rt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Mt=We[Rt],zt="normal";break}}if(Mt===""){for(var dt=0;dt<We.length;dt++)if(bn[We[dt]]){Mt=bn[We[dt]];break}}Mt=Mt===""?"Times":Mt,this.pdf.setFont(Mt,zt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ve){this.ctx.globalCompositeOperation=ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ve){this.ctx.globalAlpha=ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ve){this.ctx.lineDashOffset=ve,G.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ve){this.ctx.lineDash=ve,G.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ve){this.ctx.ignoreClearRect=!!ve}})};_.prototype.setLineDash=function(A){this.lineDash=A},_.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},_.prototype.fill=function(){B.call(this,"fill",!1)},_.prototype.stroke=function(){B.call(this,"stroke",!1)},_.prototype.beginPath=function(){this.path=[{type:"begin"}]},_.prototype.moveTo=function(A,z){if(isNaN(A)||isNaN(z))throw zn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var F=this.ctx.transform.applyToPoint(new c(A,z));this.path.push({type:"mt",x:F.x,y:F.y}),this.ctx.lastPoint=new c(A,z)},_.prototype.closePath=function(){var A=new c(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&Cn(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){A=new c(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(A.x,A.y)},_.prototype.lineTo=function(A,z){if(isNaN(A)||isNaN(z))throw zn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var F=this.ctx.transform.applyToPoint(new c(A,z));this.path.push({type:"lt",x:F.x,y:F.y}),this.ctx.lastPoint=new c(F.x,F.y)},_.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),B.call(this,null,!0)},_.prototype.quadraticCurveTo=function(A,z,F,ne){if(isNaN(F)||isNaN(ne)||isNaN(A)||isNaN(z))throw zn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new c(F,ne)),we=this.ctx.transform.applyToPoint(new c(A,z));this.path.push({type:"qct",x1:we.x,y1:we.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new c(ce.x,ce.y)},_.prototype.bezierCurveTo=function(A,z,F,ne,ce,we){if(isNaN(ce)||isNaN(we)||isNaN(A)||isNaN(z)||isNaN(F)||isNaN(ne))throw zn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var je=this.ctx.transform.applyToPoint(new c(ce,we)),Ae=this.ctx.transform.applyToPoint(new c(A,z)),Me=this.ctx.transform.applyToPoint(new c(F,ne));this.path.push({type:"bct",x1:Ae.x,y1:Ae.y,x2:Me.x,y2:Me.y,x:je.x,y:je.y}),this.ctx.lastPoint=new c(je.x,je.y)},_.prototype.arc=function(A,z,F,ne,ce,we){if(isNaN(A)||isNaN(z)||isNaN(F)||isNaN(ne)||isNaN(ce))throw zn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(we=!!we,!this.ctx.transform.isIdentity){var je=this.ctx.transform.applyToPoint(new c(A,z));A=je.x,z=je.y;var Ae=this.ctx.transform.applyToPoint(new c(0,F)),Me=this.ctx.transform.applyToPoint(new c(0,0));F=Math.sqrt(Math.pow(Ae.x-Me.x,2)+Math.pow(Ae.y-Me.y,2))}Math.abs(ce-ne)>=2*Math.PI&&(ne=0,ce=2*Math.PI),this.path.push({type:"arc",x:A,y:z,radius:F,startAngle:ne,endAngle:ce,counterclockwise:we})},_.prototype.arcTo=function(A,z,F,ne,ce){throw new Error("arcTo not implemented.")},_.prototype.rect=function(A,z,F,ne){if(isNaN(A)||isNaN(z)||isNaN(F)||isNaN(ne))throw zn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(A,z),this.lineTo(A+F,z),this.lineTo(A+F,z+ne),this.lineTo(A,z+ne),this.lineTo(A,z),this.lineTo(A+F,z),this.lineTo(A,z)},_.prototype.fillRect=function(A,z,F,ne){if(isNaN(A)||isNaN(z)||isNaN(F)||isNaN(ne))throw zn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(A,z,F,ne),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},_.prototype.strokeRect=function(A,z,F,ne){if(isNaN(A)||isNaN(z)||isNaN(F)||isNaN(ne))throw zn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");E.call(this)||(this.beginPath(),this.rect(A,z,F,ne),this.stroke())},_.prototype.clearRect=function(A,z,F,ne){if(isNaN(A)||isNaN(z)||isNaN(F)||isNaN(ne))throw zn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(A,z,F,ne))},_.prototype.save=function(A){A=typeof A!="boolean"||A;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,F=0;F<this.pdf.internal.getNumberOfPages();F++)this.pdf.setPage(F+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),A){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new v(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},_.prototype.restore=function(A){A=typeof A!="boolean"||A;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,F=0;F<this.pdf.internal.getNumberOfPages();F++)this.pdf.setPage(F+1),this.pdf.internal.out("Q");this.pdf.setPage(z),A&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},_.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var N=function(A){var z,F,ne,ce;if(A.isCanvasGradient===!0&&(A=A.getColor()),!A)return{r:0,g:0,b:0,a:0,style:A};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(A))z=0,F=0,ne=0,ce=0;else{var we=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(A);if(we!==null)z=parseInt(we[1]),F=parseInt(we[2]),ne=parseInt(we[3]),ce=1;else if((we=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(A))!==null)z=parseInt(we[1]),F=parseInt(we[2]),ne=parseInt(we[3]),ce=parseFloat(we[4]);else{if(ce=1,typeof A=="string"&&A.charAt(0)!=="#"){var je=new fb(A);A=je.ok?je.toHex():"#000000"}A.length===4?(z=A.substring(1,2),z+=z,F=A.substring(2,3),F+=F,ne=A.substring(3,4),ne+=ne):(z=A.substring(1,3),F=A.substring(3,5),ne=A.substring(5,7)),z=parseInt(z,16),F=parseInt(F,16),ne=parseInt(ne,16)}}return{r:z,g:F,b:ne,a:ce,style:A}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},E=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};_.prototype.fillText=function(A,z,F,ne){if(isNaN(z)||isNaN(F)||typeof A!="string")throw zn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!w.call(this)){var ce=ue(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;$.call(this,{text:A,x:z,y:F,scale:we,angle:ce,align:this.textAlign,maxWidth:ne})}},_.prototype.strokeText=function(A,z,F,ne){if(isNaN(z)||isNaN(F)||typeof A!="string")throw zn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!E.call(this)){ne=isNaN(ne)?void 0:ne;var ce=ue(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;$.call(this,{text:A,x:z,y:F,scale:we,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:ne})}},_.prototype.measureText=function(A){if(typeof A!="string")throw zn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,F=this.pdf.internal.scaleFactor,ne=z.internal.getFontSize(),ce=z.getStringUnitWidth(A)*ne/z.internal.scaleFactor;return new function(we){var je=(we=we||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return je}}),this}({width:ce*=Math.round(96*F/72*1e4)/1e4})},_.prototype.scale=function(A,z){if(isNaN(A)||isNaN(z))throw zn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var F=new f(A,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(F)},_.prototype.rotate=function(A){if(isNaN(A))throw zn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new f(Math.cos(A),Math.sin(A),-Math.sin(A),Math.cos(A),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},_.prototype.translate=function(A,z){if(isNaN(A)||isNaN(z))throw zn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var F=new f(1,0,0,1,A,z);this.ctx.transform=this.ctx.transform.multiply(F)},_.prototype.transform=function(A,z,F,ne,ce,we){if(isNaN(A)||isNaN(z)||isNaN(F)||isNaN(ne)||isNaN(ce)||isNaN(we))throw zn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var je=new f(A,z,F,ne,ce,we);this.ctx.transform=this.ctx.transform.multiply(je)},_.prototype.setTransform=function(A,z,F,ne,ce,we){A=isNaN(A)?1:A,z=isNaN(z)?0:z,F=isNaN(F)?0:F,ne=isNaN(ne)?1:ne,ce=isNaN(ce)?0:ce,we=isNaN(we)?0:we,this.ctx.transform=new f(A,z,F,ne,ce,we)};var k=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};_.prototype.drawImage=function(A,z,F,ne,ce,we,je,Ae,Me){var $e=this.pdf.getImageProperties(A),Ke=1,Je=1,ve=1,J=1;ne!==void 0&&Ae!==void 0&&(ve=Ae/ne,J=Me/ce,Ke=$e.width/ne*Ae/ne,Je=$e.height/ce*Me/ce),we===void 0&&(we=z,je=F,z=0,F=0),ne!==void 0&&Ae===void 0&&(Ae=ne,Me=ce),ne===void 0&&Ae===void 0&&(Ae=$e.width,Me=$e.height);for(var Ge,et=this.ctx.transform.decompose(),rt=ue(et.rotate.shx),Fe=new f,tt=(Fe=(Fe=(Fe=Fe.multiply(et.translate)).multiply(et.skew)).multiply(et.scale)).applyToRectangle(new h(we-z*ve,je-F*J,ne*Ke,ce*Je)),We=L.call(this,tt),Tt=[],mt=0;mt<We.length;mt+=1)Tt.indexOf(We[mt])===-1&&Tt.push(We[mt]);if(O(Tt),this.autoPaging)for(var Ut=Tt[0],zt=Tt[Tt.length-1],Mt=Ut;Mt<zt+1;Mt++){this.pdf.setPage(Mt);var bn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Rt=Mt===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],pt=Mt===1?0:dt+(Mt-2)*Ct;if(this.ctx.clip_path.length!==0){var Ln=this.path;Ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=U(Ge,this.posX+this.margin[3],-pt+Rt+this.ctx.prevPageLastElemOffset),Y.call(this,"fill",!0),this.path=Ln}var Kt=JSON.parse(JSON.stringify(tt));Kt=U([Kt],this.posX+this.margin[3],-pt+Rt+this.ctx.prevPageLastElemOffset)[0];var Xe=(Mt>Ut||Mt<zt)&&k.call(this);Xe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bn,Ct,null).clip().discardPath()),this.pdf.addImage(A,"JPEG",Kt.x,Kt.y,Kt.w,Kt.h,null,null,rt),Xe&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(A,"JPEG",tt.x,tt.y,tt.w,tt.h,null,null,rt)};var L=function(A,z,F){var ne=[];z=z||this.pdf.internal.pageSize.width,F=F||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(A.type){default:case"mt":case"lt":ne.push(Math.floor((A.y+ce)/F)+1);break;case"arc":ne.push(Math.floor((A.y+ce-A.radius)/F)+1),ne.push(Math.floor((A.y+ce+A.radius)/F)+1);break;case"qct":var we=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x,A.y);ne.push(Math.floor((we.y+ce)/F)+1),ne.push(Math.floor((we.y+we.h+ce)/F)+1);break;case"bct":var je=ke(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x2,A.y2,A.x,A.y);ne.push(Math.floor((je.y+ce)/F)+1),ne.push(Math.floor((je.y+je.h+ce)/F)+1);break;case"rect":ne.push(Math.floor((A.y+ce)/F)+1),ne.push(Math.floor((A.y+A.h+ce)/F)+1)}for(var Ae=0;Ae<ne.length;Ae+=1)for(;this.pdf.internal.getNumberOfPages()<ne[Ae];)T.call(this);return ne},T=function(){var A=this.fillStyle,z=this.strokeStyle,F=this.font,ne=this.lineCap,ce=this.lineWidth,we=this.lineJoin;this.pdf.addPage(),this.fillStyle=A,this.strokeStyle=z,this.font=F,this.lineCap=ne,this.lineWidth=ce,this.lineJoin=we},U=function(A,z,F){for(var ne=0;ne<A.length;ne++)switch(A[ne].type){case"bct":A[ne].x2+=z,A[ne].y2+=F;case"qct":A[ne].x1+=z,A[ne].y1+=F;default:A[ne].x+=z,A[ne].y+=F}return A},O=function(A){return A.sort(function(z,F){return z-F})},B=function(A,z){for(var F,ne,ce=this.fillStyle,we=this.strokeStyle,je=this.lineCap,Ae=this.lineWidth,Me=Math.abs(Ae*this.ctx.transform.scaleX),$e=this.lineJoin,Ke=JSON.parse(JSON.stringify(this.path)),Je=JSON.parse(JSON.stringify(this.path)),ve=[],J=0;J<Je.length;J++)if(Je[J].x!==void 0)for(var Ge=L.call(this,Je[J]),et=0;et<Ge.length;et+=1)ve.indexOf(Ge[et])===-1&&ve.push(Ge[et]);for(var rt=0;rt<ve.length;rt++)for(;this.pdf.internal.getNumberOfPages()<ve[rt];)T.call(this);if(O(ve),this.autoPaging)for(var Fe=ve[0],tt=ve[ve.length-1],We=Fe;We<tt+1;We++){this.pdf.setPage(We),this.fillStyle=ce,this.strokeStyle=we,this.lineCap=je,this.lineWidth=Me,this.lineJoin=$e;var Tt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],mt=We===1?this.posY+this.margin[0]:this.margin[0],Ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Mt=We===1?0:Ut+(We-2)*zt;if(this.ctx.clip_path.length!==0){var bn=this.path;F=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=U(F,this.posX+this.margin[3],-Mt+mt+this.ctx.prevPageLastElemOffset),Y.call(this,A,!0),this.path=bn}if(ne=JSON.parse(JSON.stringify(Ke)),this.path=U(ne,this.posX+this.margin[3],-Mt+mt+this.ctx.prevPageLastElemOffset),z===!1||We===0){var Rt=(We>Fe||We<tt)&&k.call(this);Rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tt,zt,null).clip().discardPath()),Y.call(this,A,z),Rt&&this.pdf.restoreGraphicsState()}this.lineWidth=Ae}else this.lineWidth=Me,Y.call(this,A,z),this.lineWidth=Ae;this.path=Ke},Y=function(A,z){if((A!=="stroke"||z||!E.call(this))&&(A==="stroke"||z||!w.call(this))){for(var F,ne,ce=[],we=this.path,je=0;je<we.length;je++){var Ae=we[je];switch(Ae.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:Ae,deltas:[],abs:[]});break;case"lt":var Me=ce.length;if(we[je-1]&&!isNaN(we[je-1].x)&&(F=[Ae.x-we[je-1].x,Ae.y-we[je-1].y],Me>0)){for(;Me>=0;Me--)if(ce[Me-1].close!==!0&&ce[Me-1].begin!==!0){ce[Me-1].deltas.push(F),ce[Me-1].abs.push(Ae);break}}break;case"bct":F=[Ae.x1-we[je-1].x,Ae.y1-we[je-1].y,Ae.x2-we[je-1].x,Ae.y2-we[je-1].y,Ae.x-we[je-1].x,Ae.y-we[je-1].y],ce[ce.length-1].deltas.push(F);break;case"qct":var $e=we[je-1].x+2/3*(Ae.x1-we[je-1].x),Ke=we[je-1].y+2/3*(Ae.y1-we[je-1].y),Je=Ae.x+2/3*(Ae.x1-Ae.x),ve=Ae.y+2/3*(Ae.y1-Ae.y),J=Ae.x,Ge=Ae.y;F=[$e-we[je-1].x,Ke-we[je-1].y,Je-we[je-1].x,ve-we[je-1].y,J-we[je-1].x,Ge-we[je-1].y],ce[ce.length-1].deltas.push(F);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(Ae)}}ne=z?null:A==="stroke"?"stroke":"fill";for(var et=!1,rt=0;rt<ce.length;rt++)if(ce[rt].arc)for(var Fe=ce[rt].abs,tt=0;tt<Fe.length;tt++){var We=Fe[tt];We.type==="arc"?X.call(this,We.x,We.y,We.radius,We.startAngle,We.endAngle,We.counterclockwise,void 0,z,!et):se.call(this,We.x,We.y),et=!0}else if(ce[rt].close===!0)this.pdf.internal.out("h"),et=!1;else if(ce[rt].begin!==!0){var Tt=ce[rt].start.x,mt=ce[rt].start.y;re.call(this,ce[rt].deltas,Tt,mt),et=!0}ne&&H.call(this,ne),z&&pe.call(this)}},ie=function(A){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,F=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return A-F;case"top":return A+z-F;case"hanging":return A+z-2*F;case"middle":return A+z/2-F;default:return A}},te=function(A){return A+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};_.prototype.createLinearGradient=function(){var A=function(){};return A.colorStops=[],A.addColorStop=function(z,F){this.colorStops.push([z,F])},A.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},A.isCanvasGradient=!0,A},_.prototype.createPattern=function(){return this.createLinearGradient()},_.prototype.createRadialGradient=function(){return this.createLinearGradient()};var X=function(A,z,F,ne,ce,we,je,Ae,Me){for(var $e=K.call(this,F,ne,ce,we),Ke=0;Ke<$e.length;Ke++){var Je=$e[Ke];Ke===0&&(Me?R.call(this,Je.x1+A,Je.y1+z):se.call(this,Je.x1+A,Je.y1+z)),he.call(this,A,z,Je.x2,Je.y2,Je.x3,Je.y3,Je.x4,Je.y4)}Ae?pe.call(this):H.call(this,je)},H=function(A){switch(A){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},pe=function(){this.pdf.clip(),this.pdf.discardPath()},R=function(A,z){this.pdf.internal.out(t(A)+" "+i(z)+" m")},$=function(A){var z;switch(A.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var F=this.pdf.getTextDimensions(A.text),ne=ie.call(this,A.y),ce=te.call(this,ne)-F.h,we=this.ctx.transform.applyToPoint(new c(A.x,ne)),je=this.ctx.transform.decompose(),Ae=new f;Ae=(Ae=(Ae=Ae.multiply(je.translate)).multiply(je.skew)).multiply(je.scale);for(var Me,$e,Ke,Je=this.ctx.transform.applyToRectangle(new h(A.x,ne,F.w,F.h)),ve=Ae.applyToRectangle(new h(A.x,ce,F.w,F.h)),J=L.call(this,ve),Ge=[],et=0;et<J.length;et+=1)Ge.indexOf(J[et])===-1&&Ge.push(J[et]);if(O(Ge),this.autoPaging)for(var rt=Ge[0],Fe=Ge[Ge.length-1],tt=rt;tt<Fe+1;tt++){this.pdf.setPage(tt);var We=tt===1?this.posY+this.margin[0]:this.margin[0],Tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mt=this.pdf.internal.pageSize.height-this.margin[2],Ut=mt-this.margin[0],zt=this.pdf.internal.pageSize.width-this.margin[1],Mt=zt-this.margin[3],bn=tt===1?0:Tt+(tt-2)*Ut;if(this.ctx.clip_path.length!==0){var Rt=this.path;Me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=U(Me,this.posX+this.margin[3],-1*bn+We),Y.call(this,"fill",!0),this.path=Rt}var dt=U([JSON.parse(JSON.stringify(ve))],this.posX+this.margin[3],-bn+We+this.ctx.prevPageLastElemOffset)[0];A.scale>=.01&&($e=this.pdf.internal.getFontSize(),this.pdf.setFontSize($e*A.scale),Ke=this.lineWidth,this.lineWidth=Ke*A.scale);var Ct=this.autoPaging!=="text";if(Ct||dt.y+dt.h<=mt){if(Ct||dt.y>=We&&dt.x<=zt){var pt=Ct?A.text:this.pdf.splitTextToSize(A.text,A.maxWidth||zt-dt.x)[0],Ln=U([JSON.parse(JSON.stringify(Je))],this.posX+this.margin[3],-bn+We+this.ctx.prevPageLastElemOffset)[0],Kt=Ct&&(tt>rt||tt<Fe)&&k.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Mt,Ut,null).clip().discardPath()),this.pdf.text(pt,Ln.x,Ln.y,{angle:A.angle,align:z,renderingMode:A.renderingMode}),Kt&&this.pdf.restoreGraphicsState()}}else dt.y<mt&&(this.ctx.prevPageLastElemOffset+=mt-dt.y);A.scale>=.01&&(this.pdf.setFontSize($e),this.lineWidth=Ke)}else A.scale>=.01&&($e=this.pdf.internal.getFontSize(),this.pdf.setFontSize($e*A.scale),Ke=this.lineWidth,this.lineWidth=Ke*A.scale),this.pdf.text(A.text,we.x+this.posX,we.y+this.posY,{angle:A.angle,align:z,renderingMode:A.renderingMode,maxWidth:A.maxWidth}),A.scale>=.01&&(this.pdf.setFontSize($e),this.lineWidth=Ke)},se=function(A,z,F,ne){F=F||0,ne=ne||0,this.pdf.internal.out(t(A+F)+" "+i(z+ne)+" l")},re=function(A,z,F){return this.pdf.lines(A,z,F,null,null)},he=function(A,z,F,ne,ce,we,je,Ae){this.pdf.internal.out([e(s(F+A)),e(o(ne+z)),e(s(ce+A)),e(o(we+z)),e(s(je+A)),e(o(Ae+z)),"c"].join(" "))},K=function(A,z,F,ne){for(var ce=2*Math.PI,we=Math.PI/2;z>F;)z-=ce;var je=Math.abs(F-z);je<ce&&ne&&(je=ce-je);for(var Ae=[],Me=ne?-1:1,$e=z;je>1e-5;){var Ke=$e+Me*Math.min(je,we);Ae.push(le.call(this,A,$e,Ke)),je-=Math.abs(Ke-$e),$e=Ke}return Ae},le=function(A,z,F){var ne=(F-z)/2,ce=A*Math.cos(ne),we=A*Math.sin(ne),je=ce,Ae=-we,Me=je*je+Ae*Ae,$e=Me+je*ce+Ae*we,Ke=4/3*(Math.sqrt(2*Me*$e)-$e)/(je*we-Ae*ce),Je=je-Ke*Ae,ve=Ae+Ke*je,J=Je,Ge=-ve,et=ne+z,rt=Math.cos(et),Fe=Math.sin(et);return{x1:A*Math.cos(z),y1:A*Math.sin(z),x2:Je*rt-ve*Fe,y2:Je*Fe+ve*rt,x3:J*rt-Ge*Fe,y3:J*Fe+Ge*rt,x4:A*Math.cos(F),y4:A*Math.sin(F)}},ue=function(A){return 180*A/Math.PI},ae=function(A,z,F,ne,ce,we){var je=A+.5*(F-A),Ae=z+.5*(ne-z),Me=ce+.5*(F-ce),$e=we+.5*(ne-we),Ke=Math.min(A,ce,je,Me),Je=Math.max(A,ce,je,Me),ve=Math.min(z,we,Ae,$e),J=Math.max(z,we,Ae,$e);return new h(Ke,ve,Je-Ke,J-ve)},ke=function(A,z,F,ne,ce,we,je,Ae){var Me,$e,Ke,Je,ve,J,Ge,et,rt,Fe,tt,We,Tt,mt,Ut=F-A,zt=ne-z,Mt=ce-F,bn=we-ne,Rt=je-ce,dt=Ae-we;for($e=0;$e<41;$e++)rt=(Ge=(Ke=A+(Me=$e/40)*Ut)+Me*((ve=F+Me*Mt)-Ke))+Me*(ve+Me*(ce+Me*Rt-ve)-Ge),Fe=(et=(Je=z+Me*zt)+Me*((J=ne+Me*bn)-Je))+Me*(J+Me*(we+Me*dt-J)-et),$e==0?(tt=rt,We=Fe,Tt=rt,mt=Fe):(tt=Math.min(tt,rt),We=Math.min(We,Fe),Tt=Math.max(Tt,rt),mt=Math.max(mt,Fe));return new h(Math.round(tt),Math.round(We),Math.round(Tt-tt),Math.round(mt-We))},G=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var A,z,F=(A=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:A,lineDashOffset:z}));this.prevLineDash!==F&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=F)}}})(ft.API),(function(r){var e=function(c){var h,f,d,v,_,N,w,E,k,L;for(f=[],d=0,v=(c+=h="\0\0\0\0".slice(c.length%4||4)).length;v>d;d+=4)(_=(c.charCodeAt(d)<<24)+(c.charCodeAt(d+1)<<16)+(c.charCodeAt(d+2)<<8)+c.charCodeAt(d+3))!==0?(N=(_=((_=((_=((_=(_-(L=_%85))/85)-(k=_%85))/85)-(E=_%85))/85)-(w=_%85))/85)%85,f.push(N+33,w+33,E+33,k+33,L+33)):f.push(122);return(function(T,U){for(var O=U;O>0;O--)T.pop()})(f,h.length),String.fromCharCode.apply(String,f)+"~>"},t=function(c){var h,f,d,v,_,N=String,w="length",E=255,k="charCodeAt",L="slice",T="replace";for(c[L](-2),c=c[L](0,-2)[T](/\s/g,"")[T]("z","!!!!!"),d=[],v=0,_=(c+=h="uuuuu"[L](c[w]%5||5))[w];_>v;v+=5)f=52200625*(c[k](v)-33)+614125*(c[k](v+1)-33)+7225*(c[k](v+2)-33)+85*(c[k](v+3)-33)+(c[k](v+4)-33),d.push(E&f>>24,E&f>>16,E&f>>8,E&f);return(function(U,O){for(var B=O;B>0;B--)U.pop()})(d,h[w]),N.fromCharCode.apply(N,d)},i=function(c){return c.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(c){var h=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),h.test(c)===!1)return"";for(var f="",d=0;d<c.length;d+=2)f+=String.fromCharCode("0x"+(c[d]+c[d+1]));return f},o=function(c){for(var h=new Uint8Array(c.length),f=c.length;f--;)h[f]=c.charCodeAt(f);return(h=Zp(h)).reduce(function(d,v){return d+String.fromCharCode(v)},"")};r.processDataByFilters=function(c,h){var f=0,d=c||"",v=[];for(typeof(h=h||[])=="string"&&(h=[h]),f=0;f<h.length;f+=1)switch(h[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),v.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),v.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=s(d),v.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=i(d),v.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),v.push("/FlateDecode");break;default:throw new Error('The filter: "'+h[f]+'" is not implemented')}return{data:d,reverseChain:v.reverse().join(" ")}}})(ft.API),(function(r){r.loadFile=function(e,t,i){return(function(s,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var h=void 0;try{h=(function(f,d,v){var _=new XMLHttpRequest,N=0,w=function(E){var k=E.length,L=[],T=String.fromCharCode;for(N=0;N<k;N+=1)L.push(T(255&E.charCodeAt(N)));return L.join("")};if(_.open("GET",f,!d),_.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(_.onload=function(){_.status===200?v(w(this.responseText)):v(void 0)}),_.send(null),d&&_.status===200)return w(_.responseText)})(s,o,c)}catch(f){}return h})(e,t,i)},r.loadImageFile=r.loadFile})(ft.API),(function(r){function e(){return(Pt.html2canvas?Promise.resolve(Pt.html2canvas):lp(()=>import("./html2canvas.esm-CkdxXkdF.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load html2canvas: "+h))}).then(function(h){return h.default?h.default:h})}function t(){return(Pt.DOMPurify?Promise.resolve(Pt.DOMPurify):lp(()=>import("./purify.es-D1tj7MWB.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load dompurify: "+h))}).then(function(h){return h.default?h.default:h})}var i=function(h){var f=Cn(h);return f==="undefined"?"undefined":f==="string"||h instanceof String?"string":f==="number"||h instanceof Number?"number":f==="function"||h instanceof Function?"function":h&&h.constructor===Array?"array":h&&h.nodeType===1?"element":f==="object"?"object":"unknown"},s=function(h,f){var d=document.createElement(h);for(var v in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[v]=f.style[v];return d},o=function h(f,d){for(var v=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),_=f.firstChild;_;_=_.nextSibling)d!==!0&&_.nodeType===1&&_.nodeName==="SCRIPT"||v.appendChild(h(_,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(v.width=f.width,v.height=f.height,v.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(v.value=f.value),v.addEventListener("load",function(){v.scrollTop=f.scrollTop,v.scrollLeft=f.scrollLeft},!0)),v},c=function h(f){var d=Object.assign(h.convert(Promise.resolve()),JSON.parse(JSON.stringify(h.template))),v=h.convert(Promise.resolve(),d);return(v=v.setProgress(1,h,1,[h])).set(f)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(h,f){return h.__proto__=f||c.prototype,h},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(h,f){return this.then(function(){switch(f=f||(function(d){switch(i(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(h),f){case"string":return this.then(t).then(function(d){return this.set({src:s("div",{innerHTML:h,dompurify:d})})});case"element":return this.set({src:h});case"canvas":return this.set({canvas:h});case"img":return this.set({img:h});default:return this.error("Unknown source type.")}})},c.prototype.to=function(h){switch(h){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var h={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(h.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:h}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(f){var d=this.opt.jsPDF,v=this.opt.fontFaces,_=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,N=Object.assign({async:!0,allowTaint:!0,scale:_,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete N.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=v,v)for(var w=0;w<v.length;++w){var E=v[w],k=E.src.find(function(L){return L.format==="truetype"});k&&d.addFont(k.url,E.ref.name,E.ref.style)}return N.windowHeight=N.windowHeight||0,N.windowHeight=N.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):N.windowHeight,d.context2d.save(!0),f(this.prop.container,N)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var h=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=h})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(h,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(h,f):this.outputPdf(h,f)},c.prototype.outputPdf=function(h,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(h,f)})},c.prototype.outputImg=function(h){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(h){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+h+'" is not supported.'}})},c.prototype.save=function(h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(h?{filename:h}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(h){if(i(h)!=="object")return this;var f=Object.keys(h||{}).map(function(d){if(d in c.template.prop)return function(){this.prop[d]=h[d]};switch(d){case"margin":return this.setMargin.bind(this,h.margin);case"jsPDF":return function(){return this.opt.jsPDF=h.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,h.pageSize);default:return function(){this.opt[d]=h[d]}}},this);return this.then(function(){return this.thenList(f)})},c.prototype.get=function(h,f){return this.then(function(){var d=h in c.template.prop?this.prop[h]:this.opt[h];return f?f(d):d})},c.prototype.setMargin=function(h){return this.then(function(){switch(i(h)){case"number":h=[h,h,h,h];case"array":if(h.length===2&&(h=[h[0],h[1],h[0],h[1]]),h.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=h}).then(this.setPageSize)},c.prototype.setPageSize=function(h){function f(d,v){return Math.floor(d*v/72*96)}return this.then(function(){(h=h||ft.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(h.inner={width:h.width-this.opt.margin[1]-this.opt.margin[3],height:h.height-this.opt.margin[0]-this.opt.margin[2]},h.inner.px={width:f(h.inner.width,h.k),height:f(h.inner.height,h.k)},h.inner.ratio=h.inner.height/h.inner.width),this.prop.pageSize=h})},c.prototype.setProgress=function(h,f,d,v){return h!=null&&(this.progress.val=h),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),v!=null&&(this.progress.stack=v),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(h,f,d,v){return this.setProgress(h?this.progress.val+h:null,f||null,d?this.progress.n+d:null,v?this.progress.stack.concat(v):null)},c.prototype.then=function(h,f){var d=this;return this.thenCore(h,f,function(v,_){return d.updateProgress(null,null,1,[v]),Promise.prototype.then.call(this,function(N){return d.updateProgress(null,v),N}).then(v,_).then(function(N){return d.updateProgress(1),N})})},c.prototype.thenCore=function(h,f,d){d=d||Promise.prototype.then;var v=this;h&&(h=h.bind(v)),f&&(f=f.bind(v));var _=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?v:c.convert(Object.assign({},v),Promise.prototype),N=d.call(_,h,f);return c.convert(N,v.__proto__)},c.prototype.thenExternal=function(h,f){return Promise.prototype.then.call(this,h,f)},c.prototype.thenList=function(h){var f=this;return h.forEach(function(d){f=f.thenCore(d)}),f},c.prototype.catch=function(h){h&&(h=h.bind(this));var f=Promise.prototype.catch.call(this,h);return c.convert(f,this)},c.prototype.catchExternal=function(h){return Promise.prototype.catch.call(this,h)},c.prototype.error=function(h){return this.then(function(){throw new Error(h)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,ft.getPageSize=function(h,f,d){if(Cn(h)==="object"){var v=h;h=v.orientation,f=v.unit||f,d=v.format||d}f=f||"mm",d=d||"a4",h=(""+(h||"P")).toLowerCase();var _,N=(""+d).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":_=1;break;case"mm":_=72/25.4;break;case"cm":_=72/2.54;break;case"in":_=72;break;case"px":_=.75;break;case"pc":case"em":_=12;break;case"ex":_=6;break;default:throw"Invalid unit: "+f}var E,k=0,L=0;if(w.hasOwnProperty(N))k=w[N][1]/_,L=w[N][0]/_;else try{k=d[1],L=d[0]}catch(T){throw new Error("Invalid format: "+d)}if(h==="p"||h==="portrait")h="p",L>k&&(E=L,L=k,k=E);else{if(h!=="l"&&h!=="landscape")throw"Invalid orientation: "+h;h="l",k>L&&(E=L,L=k,k=E)}return{width:L,height:k,unit:f,k:_,orientation:h}},r.html=function(h,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(jp):null;var d=new c(f);return f.worker?d:d.from(h).doCallback()}})(ft.API),ft.API.addJS=function(r){return Wv=r,this.internal.events.subscribe("postPutResources",function(){Zf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Zf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Yv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Wv+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Zf!==void 0&&Yv!==void 0&&this.internal.out("/Names <</JavaScript "+Zf+" 0 R>>")}),this},(function(r){var e;r.events.push(["postPutResources",function(){var t=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),o=0;o<s.length;o++){var c=s[o],h=i.exec(c);if(h!=null){var f=h[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(c)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,v=[];for(o=0;o<d;o++){var _=t.internal.newObject();v.push(_);var N=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+N.objId+" 0 R /XYZ null null null]>> endobj")}var w=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<v.length;o++)t.internal.write("(page_"+(o+1)+")"+v[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+w+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(i,s,o){var c={title:s,options:o,children:[]};return i==null&&(i=this.root),i.children.push(c),c},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(i){i.id=t.internal.newObjectDeferred();for(var s=0;s<i.children.length;s++)this.genIds_r(i.children[s])},t.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},t.outline.renderItems=function(i){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<i.children.length;o++){var c=i.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(i)),o>0&&this.line("/Prev "+this.makeRef(i.children[o-1])),o<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var h=this.count=this.count_r({count:0},c);if(h>0&&this.line("/Count "+h),c.options&&c.options.pageNumber){var f=t.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<i.children.length;d++)this.renderItems(i.children[d])},t.outline.line=function(i){this.ctx.val+=i+`\r
`},t.outline.makeRef=function(i){return i.id+" 0 R"},t.outline.makeString=function(i){return"("+t.internal.pdfEscape(i)+")"},t.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(i,s){for(var o=0;o<s.children.length;o++)i.count++,this.count_r(i,s.children[o]);return i.count}}])})(ft.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,i,s,o,c,h){var f,d=this.decode.DCT_DECODE,v=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=c||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(_){for(var N,w=256*_.charCodeAt(4)+_.charCodeAt(5),E=_.length,k={width:0,height:0,numcomponents:1},L=4;L<E;L+=2){if(L+=w,e.indexOf(_.charCodeAt(L+1))!==-1){N=256*_.charCodeAt(L+5)+_.charCodeAt(L+6),k={width:256*_.charCodeAt(L+7)+_.charCodeAt(L+8),height:N,numcomponents:_.charCodeAt(L+9)};break}w=256*_.charCodeAt(L+2)+_.charCodeAt(L+3)}return k})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}v={data:t,width:f.width,height:f.height,colorSpace:h,bitsPerComponent:8,filter:d,index:i,alias:s}}return v}})(ft.API),ft.API.processPNG=function(r,e,t,i){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var s,o=s8(r,{checkCrc:!0}),c=o.width,h=o.height,f=o.channels,d=o.palette,v=o.depth;s=d&&f===1?(function(X){for(var H=X.width,pe=X.height,R=X.data,$=X.palette,se=X.depth,re=!1,he=[],K=[],le=void 0,ue=!1,ae=0,ke=0;ke<$.length;ke++){var G=Z2($[ke],4),A=G[0],z=G[1],F=G[2],ne=G[3];he.push(A,z,F),ne!=null&&(ne===0?(ae++,K.length<1&&K.push(ke)):ne<255&&(ue=!0))}if(ue||ae>1){re=!0,K=void 0;var ce=H*pe;le=new Uint8Array(ce);for(var we=new DataView(R.buffer),je=0;je<ce;je++){var Ae=Cp(we,je,se),Me=Z2($[Ae],4)[3];le[je]=Me}}else ae===0&&(K=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:re?8:void 0,colorBytes:R,alphaBytes:le,needSMask:re,palette:he,mask:K}})(o):f===2||f===4?(function(X){for(var H=X.data,pe=X.width,R=X.height,$=X.channels,se=X.depth,re=$===2?"DeviceGray":"DeviceRGB",he=$-1,K=pe*R,le=he,ue=K*le,ae=1*K,ke=Math.ceil(ue*se/8),G=Math.ceil(ae*se/8),A=new Uint8Array(ke),z=new Uint8Array(G),F=new DataView(H.buffer),ne=new DataView(A.buffer),ce=new DataView(z.buffer),we=!1,je=0;je<K;je++){for(var Ae=je*$,Me=0;Me<le;Me++)r5(ne,Cp(F,Ae+Me,se),je*le+Me,se);var $e=Cp(F,Ae+le,se);$e<(1<<se)-1&&(we=!0),r5(ce,$e,1*je,se)}return{colorSpace:re,colorsPerPixel:he,sMaskBitsPerComponent:we?se:void 0,colorBytes:A,alphaBytes:z,needSMask:we}})(o):(function(X){var H=X.data,pe=X.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:pe,colorsPerPixel:pe==="DeviceGray"?1:3,colorBytes:H instanceof Uint16Array?(function(R){for(var $=R.length,se=new Uint8Array(2*$),re=new DataView(se.buffer,se.byteOffset,se.byteLength),he=0;he<$;he++)re.setUint16(2*he,R[he],!1);return se})(H):H,needSMask:!1}})(o);var _,N,w,E=s,k=E.colorSpace,L=E.colorsPerPixel,T=E.sMaskBitsPerComponent,U=E.colorBytes,O=E.alphaBytes,B=E.needSMask,Y=E.palette,ie=E.mask,te=null;return i!==ft.API.image_compression.NONE&&typeof Zp=="function"?(te=(function(X){var H;switch(X){case ft.API.image_compression.FAST:H=11;break;case ft.API.image_compression.MEDIUM:H=13;break;case ft.API.image_compression.SLOW:H=14;break;default:H=12}return H})(i),_=this.decode.FLATE_DECODE,N="/Predictor ".concat(te," /Colors ").concat(L," /BitsPerComponent ").concat(v," /Columns ").concat(c),r=Zv(U,Math.ceil(c*L*v/8),L,v,i),B&&(w=Zv(O,Math.ceil(c*T/8),1,T,i))):(_=void 0,N=void 0,r=U,B&&(w=O)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(w&&this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),{alias:t,data:r,index:e,filter:_,decodeParameters:N,transparency:ie,palette:Y,sMask:w,predictor:te,width:c,height:h,bitsPerComponent:v,sMaskBitsPerComponent:T,colorSpace:k}}},(function(r){r.processGIF89A=function(e,t,i,s){var o=new E8(e),c=o.width,h=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:c,height:h},v=new Lp(100).encode(d,100);return r.processJPEG.call(this,v,t,i,s)},r.processGIF87A=r.processGIF89A})(ft.API),ds.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:i,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ds.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){zn.log("bit decode error:"+t)}},ds.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<e;s++)for(var o=this.datav.getUint8(this.pos++,!0),c=i*this.width*4+8*s*4,h=0;h<8&&8*s+h<this.width;h++){var f=this.palette[o>>7-h&1];this.data[c+4*h]=f.blue,this.data[c+4*h+1]=f.green,this.data[c+4*h+2]=f.red,this.data[c+4*h+3]=255}t!==0&&(this.pos+=4-t)}},ds.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,s=0;s<r;s++){var o=this.datav.getUint8(this.pos++,!0),c=i*this.width*4+2*s*4,h=o>>4,f=15&o,d=this.palette[h];if(this.data[c]=d.blue,this.data[c+1]=d.green,this.data[c+2]=d.red,this.data[c+3]=255,2*s+1>=this.width)break;d=this.palette[f],this.data[c+4]=d.blue,this.data[c+4+1]=d.green,this.data[c+4+2]=d.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},ds.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*i;if(s<this.palette.length){var c=this.palette[s];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}r!==0&&(this.pos+=4-r)}},ds.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&e)/e*255|0,h=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,d=o>>15?255:0,v=i*this.width*4+4*s;this.data[v]=f,this.data[v+1]=h,this.data[v+2]=c,this.data[v+3]=d}this.pos+=r}},ds.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var s=this.bottom_up?i:this.height-1-i,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(c&e)/e*255|0,f=(c>>5&t)/t*255|0,d=(c>>11)/e*255|0,v=s*this.width*4+4*o;this.data[v]=d,this.data[v+1]=f,this.data[v+2]=h,this.data[v+3]=255}this.pos+=r}},ds.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=s,this.data[c+2]=i,this.data[c+3]=255}this.pos+=this.width%4}},ds.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),h=e*this.width*4+4*t;this.data[h]=o,this.data[h+1]=s,this.data[h+2]=i,this.data[h+3]=c}},ds.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,t,i,s){var o=new ds(e,!1),c=o.width,h=o.height,f={data:o.getData(),width:c,height:h},d=new Lp(100).encode(f,100);return r.processJPEG.call(this,d,t,i,s)}})(ft.API),i5.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,t,i,s){var o=new i5(e),c=o.width,h=o.height,f={data:o.getData(),width:c,height:h},d=new Lp(100).encode(f,100);return r.processJPEG.call(this,d,t,i,s)}})(ft.API),ft.API.processRGBA=function(r,e,t){for(var i=r.data,s=i.length,o=new Uint8Array(s/4*3),c=new Uint8Array(s/4),h=0,f=0,d=0;d<s;d+=4){var v=i[d],_=i[d+1],N=i[d+2],w=i[d+3];o[h++]=v,o[h++]=_,o[h++]=N,c[f++]=w}var E=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:E,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},ft.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},mu=ft.API,Qf=mu.getCharWidthsArray=function(r,e){var t,i,s=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),h=e.widths?e.widths:s.metadata.Unicode.widths,f=h.fof?h.fof:1,d=e.kerning?e.kerning:s.metadata.Unicode.kerning,v=d.fof?d.fof:1,_=e.doKerning!==!1,N=0,w=r.length,E=0,k=h[0]||f,L=[];for(t=0;t<w;t++)i=r.charCodeAt(t),typeof s.metadata.widthOfString=="function"?L.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(i))+c*(1e3/o)||0)/1e3):(N=_&&Cn(d[i])==="object"&&!isNaN(parseInt(d[i][E],10))?d[i][E]/v:0,L.push((h[i]||k)/f+N)),E=i;return L},Kv=mu.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return mu.processArabic&&(r=mu.processArabic(r)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(r,t,s)/t:Qf.apply(this,arguments).reduce(function(o,c){return o+c},0)},Jv=function(r,e,t,i){for(var s=[],o=0,c=r.length,h=0;o!==c&&h+e[o]<t;)h+=e[o],o++;s.push(r.slice(0,o));var f=o;for(h=0;o!==c;)h+e[o]>i&&(s.push(r.slice(f,o)),h=0,f=o),h+=e[o],o++;return f!==o&&s.push(r.slice(f,o)),s},Xv=function(r,e,t){t||(t={});var i,s,o,c,h,f,d,v=[],_=[v],N=t.textIndent||0,w=0,E=0,k=r.split(" "),L=Qf.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?k[0].length+2:t.lineIndent||0){var T=Array(f).join(" "),U=[];k.map(function(B){(B=B.split(/\s*\n/)).length>1?U=U.concat(B.map(function(Y,ie){return(ie&&Y.length?`
`:"")+Y})):U.push(B[0])}),k=U,f=Kv.apply(this,[T,t])}for(o=0,c=k.length;o<c;o++){var O=0;if(i=k[o],f&&i[0]==`
`&&(i=i.substr(1),O=1),N+w+(E=(s=Qf.apply(this,[i,t])).reduce(function(B,Y){return B+Y},0))>e||O){if(E>e){for(h=Jv.apply(this,[i,s,e-(N+w),e]),v.push(h.shift()),v=[h.pop()];h.length;)_.push([h.shift()]);E=s.slice(i.length-(v[0]?v[0].length:0)).reduce(function(B,Y){return B+Y},0)}else v=[i];_.push(v),N=E+f,w=L}else v.push(i),N+=w+E,w=L}return d=f?function(B,Y){return(Y?T:"")+B.join(" ")}:function(B){return B.join(" ")},_.map(d)},mu.splitTextToSize=function(r,e,t){var i,s=(t=t||{}).fontSize||this.internal.getFontSize(),o=function(v){if(v.widths&&v.kerning)return{widths:v.widths,kerning:v.kerning};var _=this.internal.getFont(v.fontName,v.fontStyle),N="Unicode";return _.metadata[N]?{widths:_.metadata[N].widths||{0:1},kerning:_.metadata[N].kerning||{}}:{font:_.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,t);i=Array.isArray(r)?r:String(r).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/s;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=t.lineIndent;var h,f,d=[];for(h=0,f=i.length;h<f;h++)d=d.concat(Xv.apply(this,[i[h],c,o]));return d},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",i={},s={},o=0;o<16;o++)i[t[o]]=e[o],s[e[o]]=t[o];var c=function(N){return"0x"+parseInt(N,10).toString(16)},h=r.__fontmetrics__.compress=function(N){var w,E,k,L,T=["{"];for(var U in N){if(w=N[U],isNaN(parseInt(U,10))?E="'"+U+"'":(U=parseInt(U,10),E=(E=c(U).slice(2)).slice(0,-1)+s[E.slice(-1)]),typeof w=="number")w<0?(k=c(w).slice(3),L="-"):(k=c(w).slice(2),L=""),k=L+k.slice(0,-1)+s[k.slice(-1)];else{if(Cn(w)!=="object")throw new Error("Don't know what to do with value type "+Cn(w)+".");k=h(w)}T.push(E+k)}return T.push("}"),T.join("")},f=r.__fontmetrics__.uncompress=function(N){if(typeof N!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,E,k,L,T={},U=1,O=T,B=[],Y="",ie="",te=N.length-1,X=1;X<te;X+=1)(L=N[X])=="'"?w?(k=w.join(""),w=void 0):w=[]:w?w.push(L):L=="{"?(B.push([O,k]),O={},k=void 0):L=="}"?((E=B.pop())[0][E[1]]=O,k=void 0,O=E[0]):L=="-"?U=-1:k===void 0?i.hasOwnProperty(L)?(Y+=i[L],k=parseInt(Y,16)*U,U=1,Y=""):Y+=L:i.hasOwnProperty(L)?(ie+=i[L],O[k]=parseInt(ie,16)*U,U=1,k=void 0,ie=""):ie+=L;return T},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},v={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},_={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(N){var w=N.font,E=_.Unicode[w.postScriptName];E&&(w.metadata.Unicode={},w.metadata.Unicode.widths=E.widths,w.metadata.Unicode.kerning=E.kerning);var k=v.Unicode[w.postScriptName];k&&(w.metadata.Unicode.encoding=k,w.encoding=k.codePages[0])}])})(ft.API),(function(r){var e=function(t){for(var i=t.length,s=new Uint8Array(i),o=0;o<i;o++)s[o]=t.charCodeAt(o);return s};r.API.events.push(["addFont",function(t){var i=void 0,s=t.font,o=t.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(i=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(c,h){h=/^\x00\x01\x00\x00/.test(h)?e(h):e(id(h)),c.metadata=r.API.TTFFont.open(h),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(s,i)}}])})(ft),ft.API.addSvgAsImage=function(r,e,t,i,s,o,c,h){if(isNaN(e)||isNaN(t))throw zn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw zn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=i,f.height=s;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},_=this;return(Pt.canvg?Promise.resolve(Pt.canvg):lp(()=>import("./index.es-Djh9cAZ-.js"),[])).catch(function(N){return Promise.reject(new Error("Could not load canvg: "+N))}).then(function(N){return N.default?N.default:N}).then(function(N){return N.fromString(d,r,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(N){return N.render(v)}).then(function(){_.addImage(f.toDataURL("image/jpeg",1),e,t,i,s,c,h)})},ft.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var s=0;s<this.internal.pages[i].length;s++)this.internal.pages[i][s]=this.internal.pages[i][s].replace(e,t);return this},ft.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var i,s,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(c),f=[],d=0,v=0,_=0;function N(E,k){var L,T=!1;for(L=0;L<E.length;L+=1)E[L]===k&&(T=!0);return T}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var w=h.length;for(_=0;_<w;_+=1)t[h[_]].value=t[h[_]].defaultValue,t[h[_]].explicitSet=!1}if(Cn(r)==="object"){for(s in r)if(o=r[s],N(h,s)&&o!==void 0){if(t[s].type==="boolean"&&typeof o=="boolean")t[s].value=o;else if(t[s].type==="name"&&N(t[s].valueSet,o))t[s].value=o;else if(t[s].type==="integer"&&Number.isInteger(o))t[s].value=o;else if(t[s].type==="array"){for(d=0;d<o.length;d+=1)if(i=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(v=0;v<o[d].length;v+=1)typeof o[d][v]!="number"&&(i=!1);i===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}t[s].value="["+f.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var E,k=[];for(E in t)t[E].explicitSet===!0&&(t[E].type==="name"?k.push("/"+E+" /"+t[E].value):k.push("/"+E+" "+t[E].value));k.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+k.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(r){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(i)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),h=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+c.length+h.length+s.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(s+o+c+h+f),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(i,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(ft.API),(function(r){var e=r.API,t=e.pdfEscape16=function(o,c){for(var h,f=c.metadata.Unicode.widths,d=["","0","00","000","0000"],v=[""],_=0,N=o.length;_<N;++_){if(h=c.metadata.characterToGlyph(o.charCodeAt(_)),c.metadata.glyIdsUsed.push(h),c.metadata.toUnicode[h]=o.charCodeAt(_),f.indexOf(h)==-1&&(f.push(h),f.push([parseInt(c.metadata.widthOfGlyph(h),10)])),h=="0")return v.join("");h=h.toString(16),v.push(d[4-h.length],h)}return v.join("")},i=function(o){var c,h,f,d,v,_,N;for(v=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],_=0,N=(h=Object.keys(o).sort(function(w,E){return w-E})).length;_<N;_++)c=h[_],f.length>=100&&(v+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(d=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),f.push("<"+c+"><"+d+">"));return f.length&&(v+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),v+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(c){var h=c.font,f=c.out,d=c.newObject,v=c.putStream;if(h.metadata instanceof r.API.TTFFont&&h.encoding==="Identity-H"){for(var _=h.metadata.Unicode.widths,N=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),w="",E=0;E<N.length;E++)w+=String.fromCharCode(N[E]);var k=d();v({data:w,addLength1:!0,objectId:k}),f("endobj");var L=d();v({data:i(h.metadata.toUnicode),addLength1:!0,objectId:L}),f("endobj");var T=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+bu(h.fontName)),f("/FontFile2 "+k+" 0 R"),f("/FontBBox "+r.API.PDFObject.convert(h.metadata.bbox)),f("/Flags "+h.metadata.flags),f("/StemV "+h.metadata.stemV),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f(">>"),f("endobj");var U=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+bu(h.fontName)),f("/FontDescriptor "+T+" 0 R"),f("/W "+r.API.PDFObject.convert(_)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+h.encoding+")"),f(">>"),f(">>"),f("endobj"),h.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+L+" 0 R"),f("/BaseFont /"+bu(h.fontName)),f("/Encoding /"+h.encoding),f("/DescendantFonts ["+U+" 0 R]"),f(">>"),f("endobj"),h.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(c){var h=c.font,f=c.out,d=c.newObject,v=c.putStream;if(h.metadata instanceof r.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var _=h.metadata.rawData,N="",w=0;w<_.length;w++)N+=String.fromCharCode(_[w]);var E=d();v({data:N,addLength1:!0,objectId:E}),f("endobj");var k=d();v({data:i(h.metadata.toUnicode),addLength1:!0,objectId:k}),f("endobj");var L=d();f("<<"),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f("/StemV "+h.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+E+" 0 R"),f("/Flags 96"),f("/FontBBox "+r.API.PDFObject.convert(h.metadata.bbox)),f("/FontName /"+bu(h.fontName)),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f(">>"),f("endobj"),h.objectNumber=d();for(var T=0;T<h.metadata.hmtx.widths.length;T++)h.metadata.hmtx.widths[T]=parseInt(h.metadata.hmtx.widths[T]*(1e3/h.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+k+" 0 R/BaseFont/"+bu(h.fontName)+"/FontDescriptor "+L+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),f("endobj"),h.isAlreadyPutted=!0}})(o)}]);var s=function(o){var c,h=o.text||"",f=o.x,d=o.y,v=o.options||{},_=o.mutex||{},N=_.pdfEscape,w=_.activeFontKey,E=_.fonts,k=w,L="",T=0,U="",O=E[k].encoding;if(E[k].encoding!=="Identity-H")return{text:h,x:f,y:d,options:v,mutex:_};for(U=h,k=w,Array.isArray(h)&&(U=h[0]),T=0;T<U.length;T+=1)E[k].metadata.hasOwnProperty("cmap")&&(c=E[k].metadata.cmap.unicode.codeMap[U[T].charCodeAt(0)]),c||U[T].charCodeAt(0)<256&&E[k].metadata.hasOwnProperty("Unicode")?L+=U[T]:L+="";var B="";return parseInt(k.slice(1))<14||O==="WinAnsiEncoding"?B=N(L,k).split("").map(function(Y){return Y.charCodeAt(0).toString(16)}).join(""):O==="Identity-H"&&(B=t(L,E[k])),_.isHex=!0,{text:B,x:f,y:d,options:v,mutex:_}};e.events.push(["postProcessText",function(o){var c=o.text||"",h=[],f={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var d=0;for(d=0;d<c.length;d+=1)Array.isArray(c[d])&&c[d].length===3?h.push([s(Object.assign({},f,{text:c[d][0]})).text,c[d][1],c[d][2]]):h.push(s(Object.assign({},f,{text:c[d]})).text);o.text=h}else o.text=s(Object.assign({},f,{text:c})).text}])})(ft),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,i){return e.call(this),this.internal.vFS[t]=i,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(ft.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(i){var s,o,c,h,f,d,v,_=e,N=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],E={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},k={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},L=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],T=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),U=!1,O=0;this.__bidiEngine__={};var B=function(R){var $=R.charCodeAt(),se=$>>8,re=k[se];return re!==void 0?_[256*re+(255&$)]:se===252||se===253?"AL":T.test(se)?"L":se===8?"R":"N"},Y=function(R){for(var $,se=0;se<R.length;se++){if(($=B(R.charAt(se)))==="L")return!1;if($==="R")return!0}return!1},ie=function(R,$,se,re){var he,K,le,ue,ae=$[re];switch(ae){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":U=!1;break;case"N":case"AN":break;case"EN":U&&(ae="AN");break;case"AL":U=!0,ae="R";break;case"WS":case"BN":ae="N";break;case"CS":re<1||re+1>=$.length||(he=se[re-1])!=="EN"&&he!=="AN"||(K=$[re+1])!=="EN"&&K!=="AN"?ae="N":U&&(K="AN"),ae=K===he?K:"N";break;case"ES":ae=(he=re>0?se[re-1]:"B")==="EN"&&re+1<$.length&&$[re+1]==="EN"?"EN":"N";break;case"ET":if(re>0&&se[re-1]==="EN"){ae="EN";break}if(U){ae="N";break}for(le=re+1,ue=$.length;le<ue&&$[le]==="ET";)le++;ae=le<ue&&$[le]==="EN"?"EN":"N";break;case"NSM":if(c&&!h){for(ue=$.length,le=re+1;le<ue&&$[le]==="NSM";)le++;if(le<ue){var ke=R[re],G=ke>=1425&&ke<=2303||ke===64286;if(he=$[le],G&&(he==="R"||he==="AL")){ae="R";break}}}ae=re<1||(he=$[re-1])==="B"?"N":se[re-1];break;case"B":U=!1,s=!0,ae=O;break;case"S":o=!0,ae="N"}return ae},te=function(R,$,se){var re=R.split("");return se&&X(re,se,{hiLevel:O}),re.reverse(),$&&$.reverse(),re.join("")},X=function(R,$,se){var re,he,K,le,ue,ae=-1,ke=R.length,G=0,A=[],z=O?w:N,F=[];for(U=!1,s=!1,o=!1,he=0;he<ke;he++)F[he]=B(R[he]);for(K=0;K<ke;K++){if(ue=G,A[K]=ie(R,F,A,K),re=240&(G=z[ue][E[A[K]]]),G&=15,$[K]=le=z[G][5],re>0)if(re===16){for(he=ae;he<K;he++)$[he]=1;ae=-1}else ae=-1;if(z[G][6])ae===-1&&(ae=K);else if(ae>-1){for(he=ae;he<K;he++)$[he]=le;ae=-1}F[K]==="B"&&($[K]=0),se.hiLevel|=le}o&&(function(ne,ce,we){for(var je=0;je<we;je++)if(ne[je]==="S"){ce[je]=O;for(var Ae=je-1;Ae>=0&&ne[Ae]==="WS";Ae--)ce[Ae]=O}})(F,$,ke)},H=function(R,$,se,re,he){if(!(he.hiLevel<R)){if(R===1&&O===1&&!s)return $.reverse(),void(se&&se.reverse());for(var K,le,ue,ae,ke=$.length,G=0;G<ke;){if(re[G]>=R){for(ue=G+1;ue<ke&&re[ue]>=R;)ue++;for(ae=G,le=ue-1;ae<le;ae++,le--)K=$[ae],$[ae]=$[le],$[le]=K,se&&(K=se[ae],se[ae]=se[le],se[le]=K);G=ue}G++}}},pe=function(R,$,se){var re=R.split(""),he={hiLevel:O};return se||(se=[]),X(re,se,he),(function(K,le,ue){if(ue.hiLevel!==0&&v)for(var ae,ke=0;ke<K.length;ke++)le[ke]===1&&(ae=L.indexOf(K[ke]))>=0&&(K[ke]=L[ae+1])})(re,se,he),H(2,re,$,se,he),H(1,re,$,se,he),re.join("")};return this.__bidiEngine__.doBidiReorder=function(R,$,se){if((function(he,K){if(K)for(var le=0;le<he.length;le++)K[le]=le;h===void 0&&(h=Y(he)),d===void 0&&(d=Y(he))})(R,$),c||!f||d)if(c&&f&&h^d)O=h?1:0,R=te(R,$,se);else if(!c&&f&&d)O=h?1:0,R=pe(R,$,se),R=te(R,$);else if(!c||h||f||d){if(c&&!f&&h^d)R=te(R,$),h?(O=0,R=pe(R,$,se)):(O=1,R=pe(R,$,se),R=te(R,$));else if(c&&h&&!f&&d)O=1,R=pe(R,$,se),R=te(R,$);else if(!c&&!f&&h^d){var re=v;h?(O=1,R=pe(R,$,se),O=0,v=!1,R=pe(R,$,se),v=re):(O=0,R=pe(R,$,se),R=te(R,$),O=1,v=!1,R=pe(R,$,se),v=re,R=te(R,$))}}else O=0,R=pe(R,$,se);else O=h?1:0,R=pe(R,$,se);return R},this.__bidiEngine__.setOptions=function(R){R&&(c=R.isInputVisual,f=R.isOutputVisual,h=R.isInputRtl,d=R.isOutputRtl,v=R.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(i){var s=i.text;i.x,i.y;var o=i.options||{};i.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var h=0;for(c=[],h=0;h<s.length;h+=1)Object.prototype.toString.call(s[h])==="[object Array]"?c.push([t.doBidiReorder(s[h][0]),s[h][1],s[h][2]]):c.push([t.doBidiReorder(s[h])]);i.text=c}else i.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])})(ft),ft.API.TTFFont=(function(){function r(e){var t;if(this.rawData=e,t=this.contents=new _l(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new F8(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new C8(this.contents),this.head=new k8(this),this.name=new P8(this),this.cmap=new Sb(this),this.toUnicode={},this.hhea=new T8(this),this.maxp=new M8(this),this.hmtx=new B8(this),this.post=new R8(this),this.os2=new O8(this),this.loca=new q8(this),this.glyf=new U8(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,i,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var c,h,f,d;for(d=[],c=0,h=(f=this.bbox).length;c<h;c++)e=f[c],d.push(Math.round(e*this.scaleFactor));return d}.call(this),this.stemV=0,this.post.exists?(i=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,i){var s,o,c,h;for(c=0,o=0,h=(e=""+e).length;0<=h?o<h:o>h;o=0<=h?++o:--o)s=e.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(s))+i*(1e3/t)||0;return c*(t/1e3)},r.prototype.lineHeight=function(e,t){var i;return t==null&&(t=!1),i=t?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},r})();var Ss,_l=(function(){function r(e){this.data=e!=null?e:[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,i;for(i=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)i[t]=String.fromCharCode(this.readByte());return i.join("")},r.prototype.writeString=function(e){var t,i,s;for(s=[],t=0,i=e.length;0<=i?t<i:t>i;t=0<=i?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,i,s,o,c,h,f;return e=this.readByte(),t=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),h=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^i)+4294967296*(255^s)+16777216*(255^o)+65536*(255^c)+256*(255^h)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*i+4294967296*s+16777216*o+65536*c+256*h+f},r.prototype.writeLongLong=function(e){var t,i;return t=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,i;for(t=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)t.push(this.readByte());return t},r.prototype.write=function(e){var t,i,s,o;for(o=[],i=0,s=e.length;i<s;i++)t=e[i],o.push(this.writeByte(t));return o},r})(),C8=(function(){var r;function e(t){var i,s,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)i={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(t){var i,s,o,c,h,f,d,v,_,N,w,E,k;for(k in w=Object.keys(t).length,f=Math.log(2),_=16*Math.floor(Math.log(w)/f),c=Math.floor(_/f),v=16*w-_,(s=new _l).writeInt(this.scalarType),s.writeShort(w),s.writeShort(_),s.writeShort(c),s.writeShort(v),o=16*w,d=s.pos+o,h=null,E=[],t)for(N=t[k],s.writeString(k),s.writeInt(r(N)),s.writeInt(d),s.writeInt(N.length),E=E.concat(N),k==="head"&&(h=d),d+=N.length;d%4;)E.push(0),d++;return s.write(E),i=2981146554-r(s.data),s.pos=h+8,s.writeUInt32(i),s.data},r=function(t){var i,s,o,c;for(t=Nb.call(t);t.length%4;)t.push(0);for(o=new _l(t),s=0,i=0,c=t.length;i<c;i=i+=4)s+=o.readUInt32();return 4294967295&s},e})(),L8={}.hasOwnProperty,Ks=function(r,e){for(var t in e)L8.call(e,t)&&(r[t]=e[t]);function i(){this.constructor=r}return i.prototype=e.prototype,r.prototype=new i,r.__super__=e.prototype,r};Ss=(function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var k8=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ks(r,Ss),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new _l).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r})(),s5=(function(){function r(e,t){var i,s,o,c,h,f,d,v,_,N,w,E,k,L,T,U,O;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),_=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(w=e.readUInt16(),N=w/2,e.pos+=6,o=(function(){var B,Y;for(Y=[],f=B=0;0<=N?B<N:B>N;f=0<=N?++B:--B)Y.push(e.readUInt16());return Y})(),e.pos+=2,k=(function(){var B,Y;for(Y=[],f=B=0;0<=N?B<N:B>N;f=0<=N?++B:--B)Y.push(e.readUInt16());return Y})(),d=(function(){var B,Y;for(Y=[],f=B=0;0<=N?B<N:B>N;f=0<=N?++B:--B)Y.push(e.readUInt16());return Y})(),v=(function(){var B,Y;for(Y=[],f=B=0;0<=N?B<N:B>N;f=0<=N?++B:--B)Y.push(e.readUInt16());return Y})(),s=(this.length-e.pos+this.offset)/2,h=(function(){var B,Y;for(Y=[],f=B=0;0<=s?B<s:B>s;f=0<=s?++B:--B)Y.push(e.readUInt16());return Y})(),f=T=0,O=o.length;T<O;f=++T)for(L=o[f],i=U=E=k[f];E<=L?U<=L:U>=L;i=E<=L?++U:--U)v[f]===0?c=i+d[f]:(c=h[v[f]/2+(i-E)-(N-f)]||0)!==0&&(c+=d[f]),this.codeMap[i]=65535&c}e.pos=_}return r.encode=function(e,t){var i,s,o,c,h,f,d,v,_,N,w,E,k,L,T,U,O,B,Y,ie,te,X,H,pe,R,$,se,re,he,K,le,ue,ae,ke,G,A,z,F,ne,ce,we,je,Ae,Me,$e,Ke;switch(re=new _l,c=Object.keys(e).sort(function(Je,ve){return Je-ve}),t){case"macroman":for(k=0,L=(function(){var Je=[];for(E=0;E<256;++E)Je.push(0);return Je})(),U={0:0},o={},he=0,ae=c.length;he<ae;he++)U[Ae=e[s=c[he]]]==null&&(U[Ae]=++k),o[s]={old:e[s],new:U[e[s]]},L[s]=U[e[s]];return re.writeUInt16(1),re.writeUInt16(0),re.writeUInt32(12),re.writeUInt16(0),re.writeUInt16(262),re.writeUInt16(0),re.write(L),{charMap:o,subtable:re.data,maxGlyphID:k+1};case"unicode":for($=[],_=[],O=0,U={},i={},T=d=null,K=0,ke=c.length;K<ke;K++)U[Y=e[s=c[K]]]==null&&(U[Y]=++O),i[s]={old:Y,new:U[Y]},h=U[Y]-s,T!=null&&h===d||(T&&_.push(T),$.push(s),d=h),T=s;for(T&&_.push(T),_.push(65535),$.push(65535),pe=2*(H=$.length),X=2*Math.pow(Math.log(H)/Math.LN2,2),N=Math.log(X/2)/Math.LN2,te=2*H-X,f=[],ie=[],w=[],E=le=0,G=$.length;le<G;E=++le){if(R=$[E],v=_[E],R===65535){f.push(0),ie.push(0);break}if(R-(se=i[R].new)>=32768)for(f.push(0),ie.push(2*(w.length+H-E)),s=ue=R;R<=v?ue<=v:ue>=v;s=R<=v?++ue:--ue)w.push(i[s].new);else f.push(se-R),ie.push(0)}for(re.writeUInt16(3),re.writeUInt16(1),re.writeUInt32(12),re.writeUInt16(4),re.writeUInt16(16+8*H+2*w.length),re.writeUInt16(0),re.writeUInt16(pe),re.writeUInt16(X),re.writeUInt16(N),re.writeUInt16(te),we=0,A=_.length;we<A;we++)s=_[we],re.writeUInt16(s);for(re.writeUInt16(0),je=0,z=$.length;je<z;je++)s=$[je],re.writeUInt16(s);for(Me=0,F=f.length;Me<F;Me++)h=f[Me],re.writeUInt16(h);for($e=0,ne=ie.length;$e<ne;$e++)B=ie[$e],re.writeUInt16(B);for(Ke=0,ce=w.length;Ke<ce;Ke++)k=w[Ke],re.writeUInt16(k);return{charMap:i,subtable:re.data,maxGlyphID:O+1}}},r})(),Sb=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ks(r,Ss),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,i,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)t=new s5(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var i,s;return t==null&&(t="macroman"),i=s5.encode(e,t),(s=new _l).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},r})(),T8=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ks(r,Ss),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r})(),O8=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ks(r,Ss),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,i;for(i=[],t=0;t<10;++t)i.push(e.readByte());return i})(),this.charRange=(function(){var t,i;for(i=[],t=0;t<4;++t)i.push(e.readInt());return i})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,i;for(i=[],t=0;t<2;t=++t)i.push(e.readInt());return i})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r})(),R8=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ks(r,Ss),r.prototype.tag="post",r.prototype.parse=function(e){var t,i,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(i=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)t=e.readByte(),s.push(this.names.push(e.readString(t)));return s;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 262144:return this.map=function(){var c,h,f;for(f=[],o=c=0,h=this.file.maxp.numGlyphs;0<=h?c<h:c>h;o=0<=h?++c:--c)f.push(e.readUInt32());return f}.call(this)}},r})(),D8=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},P8=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ks(r,Ss),r.prototype.tag="name",r.prototype.parse=function(e){var t,i,s,o,c,h,f,d,v,_,N;for(e.pos=this.offset,e.readShort(),t=e.readShort(),h=e.readShort(),i=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+h+e.readShort()});for(f={},o=v=0,_=i.length;v<_;o=++v)s=i[o],e.pos=s.offset,d=e.readString(s.length),c=new D8(d,s),f[N=s.nameID]==null&&(f[N]=[]),f[s.nameID].push(c);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(w){this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},r})(),M8=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ks(r,Ss),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r})(),B8=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ks(r,Ss),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,i,s,o,c,h,f;for(e.pos=this.offset,this.metrics=[],t=0,h=this.file.hhea.numberOfMetrics;0<=h?t<h:t>h;t=0<=h?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,v;for(v=[],t=d=0;0<=s?d<s:d>s;t=0<=s?++d:--d)v.push(e.readInt16());return v})(),this.widths=function(){var d,v,_,N;for(N=[],d=0,v=(_=this.metrics).length;d<v;d++)o=_[d],N.push(o.advance);return N}.call(this),i=this.widths[this.widths.length-1],f=[],t=c=0;0<=s?c<s:c>s;t=0<=s?++c:--c)f.push(this.widths.push(i));return f},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r})(),Nb=[].slice,U8=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ks(r,Ss),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,i,s,o,c,h,f,d,v,_;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,i=o.indexOf(e),(s=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+i,c=(h=new _l(t.read(s))).readShort(),d=h.readShort(),_=h.readShort(),f=h.readShort(),v=h.readShort(),this.cache[e]=c===-1?new I8(h,d,_,f,v):new z8(h,c,d,_,f,v),this.cache[e]))},r.prototype.encode=function(e,t,i){var s,o,c,h,f;for(c=[],o=[],h=0,f=t.length;h<f;h++)s=e[t[h]],o.push(c.length),s&&(c=c.concat(s.encode(i)));return o.push(c.length),{table:c,offsets:o}},r})(),z8=(function(){function r(e,t,i,s,o,c){this.raw=e,this.numberOfContours=t,this.xMin=i,this.yMin=s,this.xMax=o,this.yMax=c,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),I8=(function(){function r(e,t,i,s,o){var c,h;for(this.raw=e,this.xMin=t,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;h=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&h;)c.pos+=1&h?4:2,128&h?c.pos+=8:64&h?c.pos+=4:8&h&&(c.pos+=2)}return r.prototype.encode=function(){var e,t,i;for(t=new _l(Nb.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)t.pos=this.glyphOffsets[e];return t.data},r})(),q8=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ks(r,Ss),r.prototype.tag="loca",r.prototype.parse=function(e){var t,i;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*e.readUInt16());return o}.call(this):function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(e.readUInt32());return o}.call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,c=0;c<i.length;++c)if(i[c]=s,o<t.length&&t[o]==c){++o,i[c]=s;var h=this.offsets[c],f=this.offsets[c+1]-h;f>0&&(s+=f)}for(var d=new Array(4*i.length),v=0;v<i.length;++v)d[4*v+3]=255&i[v],d[4*v+2]=(65280&i[v])>>8,d[4*v+1]=(16711680&i[v])>>16,d[4*v]=(4278190080&i[v])>>24;return d},r})(),F8=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,i,s,o;for(t in s=this.font.cmap.tables[0].codeMap,e={},o=this.subset)i=o[t],e[t]=s[i];return e},r.prototype.glyphsFor=function(e){var t,i,s,o,c,h,f;for(s={},c=0,h=e.length;c<h;c++)s[o=e[c]]=this.font.glyf.glyphFor(o);for(o in t=[],s)(i=s[o])!=null&&i.compound&&t.push.apply(t,i.glyphIDs);if(t.length>0)for(o in f=this.glyphsFor(t))i=f[o],s[o]=i;return s},r.prototype.encode=function(e,t){var i,s,o,c,h,f,d,v,_,N,w,E,k,L,T;for(s in i=Sb.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),w={0:0},T=i.charMap)w[(f=T[s]).old]=f.new;for(E in N=i.maxGlyphID,c)E in w||(w[E]=N++);return v=(function(U){var O,B;for(O in B={},U)B[U[O]]=O;return B})(w),_=Object.keys(v).sort(function(U,O){return U-O}),k=(function(){var U,O,B;for(B=[],U=0,O=_.length;U<O;U++)h=_[U],B.push(v[h]);return B})(),o=this.font.glyf.encode(c,k,w),d=this.font.loca.encode(o.offsets,k),L={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(L["OS/2"]=this.font.os2.raw()),this.font.directory.encode(L)},r})();ft.API.PDFObject=(function(){var r;function e(){}return r=function(t,i){return(Array(i+1).join("0")+t).slice(-i)},e.convert=function(t){var i,s,o,c;if(Array.isArray(t))return"["+(function(){var h,f,d;for(d=[],h=0,f=t.length;h<f;h++)i=t[h],d.push(e.convert(i));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in o=["<<"],t)c=t[s],o.push("/"+s+" "+e.convert(c));return o.push(">>"),o.join(`
`)}return""+t},e})();function Ab(r,e,t,i,s){i=i||{};var o=1.15,c=s.internal.scaleFactor,h=s.internal.getFontSize()/c,f=s.getLineHeightFactor?s.getLineHeightFactor():o,d=h*f,v=/\r\n|\r|\n/g,_="",N=1;if((i.valign==="middle"||i.valign==="bottom"||i.halign==="center"||i.halign==="right")&&(_=typeof r=="string"?r.split(v):r,N=_.length||1),t+=h*(2-o),i.valign==="middle"?t-=N/2*d:i.valign==="bottom"&&(t-=N*d),i.halign==="center"||i.halign==="right"){var w=h;if(i.halign==="center"&&(w*=.5),_&&N>=1){for(var E=0;E<_.length;E++)s.text(_[E],e-s.getStringUnitWidth(_[E])*w,t),t+=d;return s}e-=s.getStringUnitWidth(r)*w}return i.halign==="justify"?s.text(r,e,t,{maxWidth:i.maxWidth||100,align:"justify"}):s.text(r,e,t),s}var o5={},Cu=(function(){function r(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return r.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:o5=e},r.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},r.prototype.applyStyles=function(e,t){var i,s,o;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var c=this.jsPDFDocument.internal.getFont(),h=c.fontStyle,f=c.fontName;if(e.font&&(f=e.font),e.fontStyle){h=e.fontStyle;var d=this.getFontList()[f];d&&d.indexOf(h)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),h=d[0])}if(this.jsPDFDocument.setFont(f,h),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var v=r.unifyColor(e.fillColor);v&&(i=this.jsPDFDocument).setFillColor.apply(i,v),v=r.unifyColor(e.textColor),v&&(s=this.jsPDFDocument).setTextColor.apply(s,v),v=r.unifyColor(e.lineColor),v&&(o=this.jsPDFDocument).setDrawColor.apply(o,v),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},r.prototype.splitTextToSize=function(e,t,i){return this.jsPDFDocument.splitTextToSize(e,t,i)},r.prototype.rect=function(e,t,i,s,o){return this.jsPDFDocument.rect(e,t,i,s,o)},r.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},r.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},r.prototype.getDocument=function(){return this.jsPDFDocument},r.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},r.prototype.addPage=function(){return this.jsPDFDocument.addPage()},r.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},r.prototype.getGlobalOptions=function(){return o5||{}},r.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},r.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},r.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},r.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},r.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},r.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},r})(),sm=function(r,e){return sm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])},sm(r,e)};function jb(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");sm(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Eb=(function(r){jb(e,r);function e(t){var i=r.call(this)||this;return i._element=t,i}return e})(Array);function H8(r){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/r,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function $8(r){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[r]}function wd(r,e,t){t.applyStyles(e,!0);var i=Array.isArray(r)?r:[r],s=i.map(function(o){return t.getTextWidth(o)}).reduce(function(o,c){return Math.max(o,c)},0);return s}function Cb(r,e,t,i){var s=e.settings.tableLineWidth,o=e.settings.tableLineColor;r.applyStyles({lineWidth:s,lineColor:o});var c=Lb(s,!1);c&&r.rect(t.x,t.y,e.getWidth(r.pageSize().width),i.y-t.y,c)}function Lb(r,e){var t=r>0,i=e||e===0;return t&&i?"DF":t?"S":i?"F":null}function Td(r,e){var t,i,s,o;if(r=r||e,Array.isArray(r)){if(r.length>=4)return{top:r[0],right:r[1],bottom:r[2],left:r[3]};if(r.length===3)return{top:r[0],right:r[1],bottom:r[2],left:r[1]};if(r.length===2)return{top:r[0],right:r[1],bottom:r[0],left:r[1]};r.length===1?r=r[0]:r=e}return typeof r=="object"?(typeof r.vertical=="number"&&(r.top=r.vertical,r.bottom=r.vertical),typeof r.horizontal=="number"&&(r.right=r.horizontal,r.left=r.horizontal),{left:(t=r.left)!==null&&t!==void 0?t:e,top:(i=r.top)!==null&&i!==void 0?i:e,right:(s=r.right)!==null&&s!==void 0?s:e,bottom:(o=r.bottom)!==null&&o!==void 0?o:e}):(typeof r!="number"&&(r=e),{top:r,right:r,bottom:r,left:r})}function kb(r,e){var t=Td(e.settings.margin,0);return r.pageSize().width-(t.left+t.right)}function V8(r,e,t,i,s){var o={},c=1.3333333333333333,h=kp(e,function(O){return s.getComputedStyle(O).backgroundColor});h!=null&&(o.fillColor=h);var f=kp(e,function(O){return s.getComputedStyle(O).color});f!=null&&(o.textColor=f);var d=Y8(i,t);d&&(o.cellPadding=d);var v="borderTopColor",_=c*t,N=i.borderTopWidth;if(i.borderBottomWidth===N&&i.borderRightWidth===N&&i.borderLeftWidth===N){var w=(parseFloat(N)||0)/_;w&&(o.lineWidth=w)}else o.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/_,right:(parseFloat(i.borderRightWidth)||0)/_,bottom:(parseFloat(i.borderBottomWidth)||0)/_,left:(parseFloat(i.borderLeftWidth)||0)/_},o.lineWidth.top||(o.lineWidth.right?v="borderRightColor":o.lineWidth.bottom?v="borderBottomColor":o.lineWidth.left&&(v="borderLeftColor"));var E=kp(e,function(O){return s.getComputedStyle(O)[v]});E!=null&&(o.lineColor=E);var k=["left","right","center","justify"];k.indexOf(i.textAlign)!==-1&&(o.halign=i.textAlign),k=["middle","bottom","top"],k.indexOf(i.verticalAlign)!==-1&&(o.valign=i.verticalAlign);var L=parseInt(i.fontSize||"");isNaN(L)||(o.fontSize=L/c);var T=G8(i);T&&(o.fontStyle=T);var U=(i.fontFamily||"").toLowerCase();return r.indexOf(U)!==-1&&(o.font=U),o}function G8(r){var e="";return(r.fontWeight==="bold"||r.fontWeight==="bolder"||parseInt(r.fontWeight)>=700)&&(e="bold"),(r.fontStyle==="italic"||r.fontStyle==="oblique")&&(e+="italic"),e}function kp(r,e){var t=Tb(r,e);if(!t)return null;var i=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var s=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],o=parseInt(i[4]);return o===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function Tb(r,e){var t=e(r);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?r.parentElement==null?null:Tb(r.parentElement,e):t}function Y8(r,e){var t=[r.paddingTop,r.paddingRight,r.paddingBottom,r.paddingLeft],i=96/(72/e),s=(parseInt(r.lineHeight)-parseInt(r.fontSize))/e/2,o=t.map(function(h){return parseInt(h||"0")/i}),c=Td(o,0);return s>c.top&&(c.top=s),s>c.bottom&&(c.bottom=s),c}function Ob(r,e,t,i,s){var o,c;i===void 0&&(i=!1),s===void 0&&(s=!1);var h;typeof e=="string"?h=t.document.querySelector(e):h=e;var f=Object.keys(r.getFontList()),d=r.scaleFactor(),v=[],_=[],N=[];if(!h)return console.error("Html table could not be found with input: ",e),{head:v,body:_,foot:N};for(var w=0;w<h.rows.length;w++){var E=h.rows[w],k=(c=(o=E==null?void 0:E.parentElement)===null||o===void 0?void 0:o.tagName)===null||c===void 0?void 0:c.toLowerCase(),L=W8(f,d,t,E,i,s);L&&(k==="thead"?v.push(L):k==="tfoot"?N.push(L):_.push(L))}return{head:v,body:_,foot:N}}function W8(r,e,t,i,s,o){for(var c=new Eb(i),h=0;h<i.cells.length;h++){var f=i.cells[h],d=t.getComputedStyle(f);if(s||d.display!=="none"){var v=void 0;o&&(v=V8(r,f,e,d,t)),c.push({rowSpan:f.rowSpan,colSpan:f.colSpan,styles:v,_element:f,content:K8(f)})}}var _=t.getComputedStyle(i);if(c.length>0&&(s||_.display!=="none"))return c}function K8(r){var e=r.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function J8(r,e,t){for(var i=0,s=[r,e,t];i<s.length;i++){var o=s[i];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function To(r,e,t,i,s){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(r),c=1;c<arguments.length;c++){var h=arguments[c];if(h!=null)for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(o[f]=h[f])}return o}function Rb(r,e){var t=new Cu(r),i=t.getDocumentOptions(),s=t.getGlobalOptions();J8(s,i,e);var o=To({},s,i,e),c;typeof window!="undefined"&&(c=window);var h=X8(s,i,e),f=Z8(s,i,e),d=Q8(t,o),v=tA(t,o,c);return{id:e.tableId,content:v,hooks:f,styles:h,settings:d}}function X8(r,e,t){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(f){if(f==="columnStyles"){var d=r[f],v=e[f],_=t[f];i.columnStyles=To({},d,v,_)}else{var N=[r,e,t],w=N.map(function(E){return E[f]||{}});i[f]=To({},w[0],w[1],w[2])}},o=0,c=Object.keys(i);o<c.length;o++){var h=c[o];s(h)}return i}function Z8(r,e,t){for(var i=[r,e,t],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,c=i;o<c.length;o++){var h=c[o];h.didParseCell&&s.didParseCell.push(h.didParseCell),h.willDrawCell&&s.willDrawCell.push(h.willDrawCell),h.didDrawCell&&s.didDrawCell.push(h.didDrawCell),h.willDrawPage&&s.willDrawPage.push(h.willDrawPage),h.didDrawPage&&s.didDrawPage.push(h.didDrawPage)}return s}function Q8(r,e){var t,i,s,o,c,h,f,d,v,_,N,w,E=Td(e.margin,40/r.scaleFactor()),k=(t=eA(r,e.startY))!==null&&t!==void 0?t:E.top,L;e.showFoot===!0?L="everyPage":e.showFoot===!1?L="never":L=(i=e.showFoot)!==null&&i!==void 0?i:"everyPage";var T;e.showHead===!0?T="everyPage":e.showHead===!1?T="never":T=(s=e.showHead)!==null&&s!==void 0?s:"everyPage";var U=(o=e.useCss)!==null&&o!==void 0?o:!1,O=e.theme||(U?"plain":"striped"),B=!!e.horizontalPageBreak,Y=(c=e.horizontalPageBreakRepeat)!==null&&c!==void 0?c:null;return{includeHiddenHtml:(h=e.includeHiddenHtml)!==null&&h!==void 0?h:!1,useCss:U,theme:O,startY:k,margin:E,pageBreak:(f=e.pageBreak)!==null&&f!==void 0?f:"auto",rowPageBreak:(d=e.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(v=e.tableWidth)!==null&&v!==void 0?v:"auto",showHead:T,showFoot:L,tableLineWidth:(_=e.tableLineWidth)!==null&&_!==void 0?_:0,tableLineColor:(N=e.tableLineColor)!==null&&N!==void 0?N:200,horizontalPageBreak:B,horizontalPageBreakRepeat:Y,horizontalPageBreakBehaviour:(w=e.horizontalPageBreakBehaviour)!==null&&w!==void 0?w:"afterAllRows"}}function eA(r,e){var t=r.getLastAutoTable(),i=r.scaleFactor(),s=r.pageNumber(),o=!1;if(t&&t.startPageNumber){var c=t.startPageNumber+t.pageNumber-1;o=c===s}return typeof e=="number"?e:(e==null||e===!1)&&o&&(t==null?void 0:t.finalY)!=null?t.finalY+20/i:null}function tA(r,e,t){var i=e.head||[],s=e.body||[],o=e.foot||[];if(e.html){var c=e.includeHiddenHtml;if(t){var h=Ob(r,e.html,t,c,e.useCss)||{};i=h.head||i,s=h.body||i,o=h.foot||i}else console.error("Cannot parse html in non browser environment")}var f=e.columns||nA(i,s,o);return{columns:f,head:i,body:s,foot:o}}function nA(r,e,t){var i=r[0]||e[0]||t[0]||[],s=[];return Object.keys(i).filter(function(o){return o!=="_element"}).forEach(function(o){var c=1,h;Array.isArray(i)?h=i[parseInt(o)]:h=i[o],typeof h=="object"&&!Array.isArray(h)&&(c=(h==null?void 0:h.colSpan)||1);for(var f=0;f<c;f++){var d=void 0;Array.isArray(i)?d=s.length:d=o+(f>0?"_".concat(f):"");var v={dataKey:d};s.push(v)}}),s}var om=(function(){function r(e,t,i){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=i,this.doc=e.getDocument()}return r})(),rA=(function(r){jb(e,r);function e(t,i,s,o,c,h){var f=r.call(this,t,i,h)||this;return f.cell=s,f.row=o,f.column=c,f.section=o.section,f}return e})(om),aA=(function(){function r(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return r.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,i){return t+i.getMaxCellHeight(e)},0)},r.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,i){return t+i.getMaxCellHeight(e)},0)},r.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},r.prototype.callCellHooks=function(e,t,i,s,o,c){for(var h=0,f=t;h<f.length;h++){var d=f[h],v=new rA(e,this,i,s,o,c),_=d(v)===!1;if(i.text=Array.isArray(i.text)?i.text:[i.text],_)return!1}return!0},r.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var i=0,s=this.hooks.didDrawPage;i<s.length;i++){var o=s[i];o(new om(e,this,t))}},r.prototype.callWillDrawPageHooks=function(e,t){for(var i=0,s=this.hooks.willDrawPage;i<s.length;i++){var o=s[i];o(new om(e,this,t))}},r.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(s,o){return s+o.wrappedWidth},0);return t}else{var i=this.settings.margin;return e-i.left-i.right}},r})(),Db=(function(){function r(e,t,i,s,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof Eb&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=i,this.cells=s,this.spansMultiplePages=o}return r.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(i,s){var o;return Math.max(i,((o=t.cells[s.index])===null||o===void 0?void 0:o.height)||0)},0)},r.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(i){var s=t.cells[i.index];return s?s.rowSpan>1:!1}).length>0},r.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},r.prototype.getMinimumRowHeight=function(e,t){var i=this;return e.reduce(function(s,o){var c=i.cells[o.index];if(!c)return 0;var h=t.getLineHeight(c.styles.fontSize),f=c.padding("vertical"),d=f+h;return d>s?d:s},0)},r})(),Pb=(function(){function r(e,t,i){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=i,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(s=e.content)!==null&&s!==void 0?s:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var c=o!=null?""+o:"",h=/\r\n|\r|\n/g;this.text=c.split(h)}return r.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var i;if(this.styles.halign==="right")i=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");i=this.x+s/2+this.padding("left")}else i=this.x+this.padding("left");return{x:i,y:e}},r.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var i=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/e*t,o=i*s+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},r.prototype.padding=function(e){var t=Td(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},r})(),iA=(function(){function r(e,t,i){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=i}return r.prototype.getMaxCustomCellWidth=function(e){for(var t=0,i=0,s=e.allRows();i<s.length;i++){var o=s[i],c=o.cells[this.index];c&&typeof c.styles.cellWidth=="number"&&(t=Math.max(t,c.styles.cellWidth))}return t},r})();function sA(r,e){oA(r,e);var t=[],i=0;e.columns.forEach(function(o){var c=o.getMaxCustomCellWidth(e);c?o.width=c:(o.width=o.wrappedWidth,t.push(o)),i+=o.width});var s=e.getWidth(r.pageSize().width)-i;s&&(s=lm(t,s,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),s&&(s=lm(t,s,function(o){return o.minWidth})),s=Math.abs(s),!e.settings.horizontalPageBreak&&s>.1/r.scaleFactor()&&(s=s<1?s:Math.round(s),console.warn("Of the table content, ".concat(s," units width could not fit page"))),cA(e),uA(e,r),lA(e)}function oA(r,e){var t=r.scaleFactor(),i=e.settings.horizontalPageBreak,s=kb(r,e);e.allRows().forEach(function(o){for(var c=0,h=e.columns;c<h.length;c++){var f=h[c],d=o.cells[f.index];if(d){var v=e.hooks.didParseCell;e.callCellHooks(r,v,d,o,f,null);var _=d.padding("horizontal");d.contentWidth=wd(d.text,d.styles,r)+_;var N=wd(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,r);if(d.minReadableWidth=N+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||i===!0)d.contentWidth>s?(d.minWidth=s,d.wrappedWidth=s):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var w=10/t;d.minWidth=d.styles.minCellWidth||w,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),e.allRows().forEach(function(o){for(var c=0,h=e.columns;c<h.length;c++){var f=h[c],d=o.cells[f.index];if(d&&d.colSpan===1)f.wrappedWidth=Math.max(f.wrappedWidth,d.wrappedWidth),f.minWidth=Math.max(f.minWidth,d.minWidth),f.minReadableWidth=Math.max(f.minReadableWidth,d.minReadableWidth);else{var v=e.styles.columnStyles[f.dataKey]||e.styles.columnStyles[f.index]||{},_=v.cellWidth||v.minCellWidth;_&&typeof _=="number"&&(f.minWidth=_,f.wrappedWidth=_)}d&&(d.colSpan>1&&!f.minWidth&&(f.minWidth=d.minWidth),d.colSpan>1&&!f.wrappedWidth&&(f.wrappedWidth=d.minWidth))}})}function lm(r,e,t){for(var i=e,s=r.reduce(function(w,E){return w+E.wrappedWidth},0),o=0;o<r.length;o++){var c=r[o],h=c.wrappedWidth/s,f=i*h,d=c.width+f,v=t(c),_=d<v?v:d;e-=_-c.width,c.width=_}if(e=Math.round(e*1e10)/1e10,e){var N=r.filter(function(w){return e<0?w.width>t(w):!0});N.length&&(e=lm(N,e,t))}return e}function lA(r){for(var e={},t=1,i=r.allRows(),s=0;s<i.length;s++)for(var o=i[s],c=0,h=r.columns;c<h.length;c++){var f=h[c],d=e[f.index];if(t>1)t--,delete o.cells[f.index];else if(d)d.cell.height+=o.height,t=d.cell.colSpan,delete o.cells[f.index],d.left--,d.left<=1&&delete e[f.index];else{var v=o.cells[f.index];if(!v)continue;if(v.height=o.height,v.rowSpan>1){var _=i.length-s,N=v.rowSpan>_?_:v.rowSpan;e[f.index]={cell:v,left:N,row:o}}}}}function cA(r){for(var e=r.allRows(),t=0;t<e.length;t++)for(var i=e[t],s=null,o=0,c=0,h=0;h<r.columns.length;h++){var f=r.columns[h];if(c-=1,c>1&&r.columns[h+1])o+=f.width,delete i.cells[f.index];else if(s){var d=s;delete i.cells[f.index],s=null,d.width=f.width+o}else{var d=i.cells[f.index];if(!d)continue;if(c=d.colSpan,o=0,d.colSpan>1){s=d,o+=f.width;continue}d.width=f.width+o}}}function uA(r,e){for(var t={count:0,height:0},i=0,s=r.allRows();i<s.length;i++){for(var o=s[i],c=0,h=r.columns;c<h.length;c++){var f=h[c],d=o.cells[f.index];if(d){e.applyStyles(d.styles,!0);var v=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=e.splitTextToSize(d.text,v+1/e.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=l5(d.text,v,d.styles,e,"...");else if(d.styles.overflow==="hidden")d.text=l5(d.text,v,d.styles,e,"");else if(typeof d.styles.overflow=="function"){var _=d.styles.overflow(d.text,v);typeof _=="string"?d.text=[_]:d.text=_}d.contentHeight=d.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var N=d.contentHeight/d.rowSpan;d.rowSpan>1&&t.count*t.height<N*d.rowSpan?t={height:N,count:d.rowSpan}:t&&t.count>0&&t.height>N&&(N=t.height),N>o.height&&(o.height=N)}}t.count--}}function l5(r,e,t,i,s){return r.map(function(o){return hA(o,e,t,i,s)})}function hA(r,e,t,i,s){var o=1e4*i.scaleFactor();if(e=Math.ceil(e*o)/o,e>=wd(r,t,i))return r;for(;e<wd(r+s,t,i)&&!(r.length<=1);)r=r.substring(0,r.length-1);return r.trim()+s}function Mb(r,e){var t=new Cu(r),i=fA(e,t.scaleFactor()),s=new aA(e,i);return sA(t,s),t.applyStyles(t.userStyles),s}function fA(r,e){var t=r.content,i=pA(t.columns);if(t.head.length===0){var s=c5(i,"head");s&&t.head.push(s)}if(t.foot.length===0){var s=c5(i,"foot");s&&t.foot.push(s)}var o=r.settings.theme,c=r.styles;return{columns:i,head:Tp("head",t.head,i,c,o,e),body:Tp("body",t.body,i,c,o,e),foot:Tp("foot",t.foot,i,c,o,e)}}function Tp(r,e,t,i,s,o){var c={},h=e.map(function(f,d){for(var v=0,_={},N=0,w=0,E=0,k=t;E<k.length;E++){var L=k[E];if(c[L.index]==null||c[L.index].left===0)if(w===0){var T=void 0;Array.isArray(f)?T=f[L.index-N-v]:T=f[L.dataKey];var U={};typeof T=="object"&&!Array.isArray(T)&&(U=(T==null?void 0:T.styles)||{});var O=mA(r,L,d,s,i,o,U),B=new Pb(T,O,r);_[L.dataKey]=B,_[L.index]=B,w=B.colSpan-1,c[L.index]={left:B.rowSpan-1,times:w}}else w--,N++;else c[L.index].left--,w=c[L.index].times,v++}return new Db(f,d,r,_)});return h}function c5(r,e){var t={};return r.forEach(function(i){if(i.raw!=null){var s=dA(e,i.raw);s!=null&&(t[i.dataKey]=s)}}),Object.keys(t).length>0?t:null}function dA(r,e){if(r==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(r==="foot"&&typeof e=="object")return e.footer;return null}function pA(r){return r.map(function(e,t){var i,s;return typeof e=="object"?s=(i=e.dataKey)!==null&&i!==void 0?i:t:s=t,new iA(s,e,t)})}function mA(r,e,t,i,s,o,c){var h=$8(i),f;r==="head"?f=s.headStyles:r==="body"?f=s.bodyStyles:r==="foot"&&(f=s.footStyles);var d=To({},h.table,h[r],s.styles,f),v=s.columnStyles[e.dataKey]||s.columnStyles[e.index]||{},_=r==="body"?v:{},N=r==="body"&&t%2===0?To({},h.alternateRow,s.alternateRowStyles):{},w=H8(o),E=To({},w,d,N,_);return To(E,c)}function gA(r,e,t){var i;t===void 0&&(t={});var s=kb(r,e),o=new Map,c=[],h=[],f=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?f=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(f=[e.settings.horizontalPageBreakRepeat]),f.forEach(function(N){var w=e.columns.find(function(E){return E.dataKey===N||E.index===N});w&&!o.has(w.index)&&(o.set(w.index,!0),c.push(w.index),h.push(e.columns[w.index]),s-=w.wrappedWidth)});for(var d=!0,v=(i=t==null?void 0:t.start)!==null&&i!==void 0?i:0;v<e.columns.length;){if(o.has(v)){v++;continue}var _=e.columns[v].wrappedWidth;if(d||s>=_)d=!1,c.push(v),h.push(e.columns[v]),s-=_;else break;v++}return{colIndexes:c,columns:h,lastIndex:v-1}}function vA(r,e){for(var t=[],i=0;i<e.columns.length;i++){var s=gA(r,e,{start:i});s.columns.length&&(t.push(s),i=s.lastIndex)}return t}function Bb(r,e){var t=e.settings,i=t.startY,s=t.margin,o={x:s.left,y:i},c=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),h=i+s.bottom+c;if(t.pageBreak==="avoid"){var f=e.body,d=f.reduce(function(N,w){return N+w.height},0);h+=d}var v=new Cu(r);(t.pageBreak==="always"||t.startY!=null&&h>v.pageSize().height)&&(zb(v),o.y=s.top),e.callWillDrawPageHooks(v,o);var _=To({},o);e.startPageNumber=v.pageNumber(),t.horizontalPageBreak?yA(v,e,_,o):(v.applyStyles(v.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(N){return Do(v,e,N,o,e.columns)}),v.applyStyles(v.userStyles),e.body.forEach(function(N,w){var E=w===e.body.length-1;xd(v,e,N,E,_,o,e.columns)}),v.applyStyles(v.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(N){return Do(v,e,N,o,e.columns)})),Cb(v,e,_,o),e.callEndPageHooks(v,o),e.finalY=o.y,r.lastAutoTable=e,v.applyStyles(v.userStyles)}function yA(r,e,t,i){var s=vA(r,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(d,v){r.applyStyles(r.userStyles),v>0?Eh(r,e,t,i,d.columns,!0):u5(r,e,i,d.columns),bA(r,e,t,i,d.columns),Op(r,e,i,d.columns)});else for(var c=-1,h=s[0],f=function(){var d=c;if(h){r.applyStyles(r.userStyles);var v=h.columns;c>=0?Eh(r,e,t,i,v,!0):u5(r,e,i,v),d=h5(r,e,c+1,i,v),Op(r,e,i,v)}var _=d-c;s.slice(1).forEach(function(N){r.applyStyles(r.userStyles),Eh(r,e,t,i,N.columns,!0),h5(r,e,c+1,i,N.columns,_),Op(r,e,i,N.columns)}),c=d};c<e.body.length-1;)f()}function u5(r,e,t,i){var s=e.settings;r.applyStyles(r.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&e.head.forEach(function(o){return Do(r,e,o,t,i)})}function bA(r,e,t,i,s){r.applyStyles(r.userStyles),e.body.forEach(function(o,c){var h=c===e.body.length-1;xd(r,e,o,h,t,i,s)})}function h5(r,e,t,i,s,o){r.applyStyles(r.userStyles),o=o!=null?o:e.body.length;var c=Math.min(t+o,e.body.length),h=-1;return e.body.slice(t,c).forEach(function(f,d){var v=t+d===e.body.length-1,_=Ub(r,e,v,i);f.canEntireRowFit(_,s)&&(Do(r,e,f,i,s),h=t+d)}),h}function Op(r,e,t,i){var s=e.settings;r.applyStyles(r.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&e.foot.forEach(function(o){return Do(r,e,o,t,i)})}function wA(r,e,t){var i=t.getLineHeight(r.styles.fontSize),s=r.padding("vertical"),o=Math.floor((e-s)/i);return Math.max(0,o)}function xA(r,e,t,i){var s={};r.spansMultiplePages=!0,r.height=0;for(var o=0,c=0,h=t.columns;c<h.length;c++){var f=h[c],d=r.cells[f.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var v=new Pb(d.raw,d.styles,d.section);v=To(v,d),v.text=[];var _=wA(d,e,i);d.text.length>_&&(v.text=d.text.splice(_,d.text.length));var N=i.scaleFactor(),w=i.getLineHeightFactor();d.contentHeight=d.getContentHeight(N,w),d.contentHeight>=e&&(d.contentHeight=e,v.styles.minCellHeight-=e),d.contentHeight>r.height&&(r.height=d.contentHeight),v.contentHeight=v.getContentHeight(N,w),v.contentHeight>o&&(o=v.contentHeight),s[f.index]=v}}var E=new Db(r.raw,-1,r.section,s,!0);E.height=o;for(var k=0,L=t.columns;k<L.length;k++){var f=L[k],v=E.cells[f.index];v&&(v.height=E.height);var d=r.cells[f.index];d&&(d.height=r.height)}return E}function _A(r,e,t,i){var s=r.pageSize().height,o=i.settings.margin,c=o.top+o.bottom,h=s-c;e.section==="body"&&(h-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var f=e.getMinimumRowHeight(i.columns,r),d=f<t;if(f>h)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var v=e.hasRowSpan(i.columns),_=e.getMaxCellHeight(i.columns)>h;return _?(v&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(v||i.settings.rowPageBreak==="avoid")}function xd(r,e,t,i,s,o,c){var h=Ub(r,e,i,o);if(t.canEntireRowFit(h,c))Do(r,e,t,o,c);else if(_A(r,t,h,e)){var f=xA(t,h,e,r);Do(r,e,t,o,c),Eh(r,e,s,o,c),xd(r,e,f,i,s,o,c)}else Eh(r,e,s,o,c),xd(r,e,t,i,s,o,c)}function Do(r,e,t,i,s){i.x=e.settings.margin.left;for(var o=0,c=s;o<c.length;o++){var h=c[o],f=t.cells[h.index];if(!f){i.x+=h.width;continue}r.applyStyles(f.styles),f.x=i.x,f.y=i.y;var d=e.callCellHooks(r,e.hooks.willDrawCell,f,t,h,i);if(d===!1){i.x+=h.width;continue}SA(r,f,i);var v=f.getTextPos();Ab(f.text,v.x,v.y,{halign:f.styles.halign,valign:f.styles.valign,maxWidth:Math.ceil(f.width-f.padding("left")-f.padding("right"))},r.getDocument()),e.callCellHooks(r,e.hooks.didDrawCell,f,t,h,i),i.x+=h.width}i.y+=t.height}function SA(r,e,t){var i=e.styles;if(r.getDocument().setFillColor(r.getDocument().getFillColor()),typeof i.lineWidth=="number"){var s=Lb(i.lineWidth,i.fillColor);s&&r.rect(e.x,t.y,e.width,e.height,s)}else typeof i.lineWidth=="object"&&(i.fillColor&&r.rect(e.x,t.y,e.width,e.height,"F"),NA(r,e,t,i.lineWidth))}function NA(r,e,t,i){var s,o,c,h;i.top&&(s=t.x,o=t.y,c=t.x+e.width,h=t.y,i.right&&(c+=.5*i.right),i.left&&(s-=.5*i.left),f(i.top,s,o,c,h)),i.bottom&&(s=t.x,o=t.y+e.height,c=t.x+e.width,h=t.y+e.height,i.right&&(c+=.5*i.right),i.left&&(s-=.5*i.left),f(i.bottom,s,o,c,h)),i.left&&(s=t.x,o=t.y,c=t.x,h=t.y+e.height,i.top&&(o-=.5*i.top),i.bottom&&(h+=.5*i.bottom),f(i.left,s,o,c,h)),i.right&&(s=t.x+e.width,o=t.y,c=t.x+e.width,h=t.y+e.height,i.top&&(o-=.5*i.top),i.bottom&&(h+=.5*i.bottom),f(i.right,s,o,c,h));function f(d,v,_,N,w){r.getDocument().setLineWidth(d),r.getDocument().line(v,_,N,w,"S")}}function Ub(r,e,t,i){var s=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&t)&&(s+=e.getFootHeight(e.columns)),r.pageSize().height-i.y-s}function Eh(r,e,t,i,s,o){s===void 0&&(s=[]),o===void 0&&(o=!1),r.applyStyles(r.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(h){return Do(r,e,h,i,s)}),e.callEndPageHooks(r,i);var c=e.settings.margin;Cb(r,e,t,i),zb(r),e.pageNumber++,i.x=c.left,i.y=c.top,t.y=c.top,e.callWillDrawPageHooks(r,i),e.settings.showHead==="everyPage"&&(e.head.forEach(function(h){return Do(r,e,h,i,s)}),r.applyStyles(r.userStyles))}function zb(r){var e=r.pageNumber();r.setPage(e+1);var t=r.pageNumber();return t===e?(r.addPage(),!0):!1}function AA(r){r.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=e[0],s=Rb(this,i),o=Mb(this,s);return Bb(this,o),this},r.API.lastAutoTable=!1,r.API.autoTableText=function(e,t,i,s){Ab(e,t,i,s,this)},r.API.autoTableSetDefaults=function(e){return Cu.setDefaults(e,this),this},r.autoTableSetDefaults=function(e,t){Cu.setDefaults(e,t)},r.API.autoTableHtmlToJson=function(e,t){var i;if(t===void 0&&(t=!1),typeof window=="undefined")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new Cu(this),o=Ob(s,e,window,t,!1),c=o.head,h=o.body,f=((i=c[0])===null||i===void 0?void 0:i.map(function(d){return d.content}))||[];return{columns:f,rows:h,data:h}}}var Rp;function jA(r,e){var t=Rb(r,e),i=Mb(r,t);Bb(r,i)}try{if(typeof window!="undefined"&&window){var f5=window,d5=f5.jsPDF||((Rp=f5.jspdf)===null||Rp===void 0?void 0:Rp.jsPDF);d5&&AA(d5)}}catch(r){console.error("Could not apply autoTable plugin",r)}const EA=({setPage:r})=>{const[e,t]=oe.useState([]),[i,s]=oe.useState([]),[o,c]=oe.useState(!0),[h,f]=oe.useState(null),[d,v]=oe.useState(!1),[_,N]=oe.useState([]),[w,E]=oe.useState([]),[k,L]=oe.useState("all"),[T,U]=oe.useState(""),[O,B]=oe.useState(""),[Y,ie]=oe.useState(""),[te,X]=oe.useState("all"),[H,pe]=oe.useState("all");oe.useEffect(()=>{de(null,null,function*(){console.log(" [Reports] Iniciando fetchTickets..."),c(!0),f(null);try{console.log(" [Reports] Iniciando fetch...");const K=dn||Et;console.log(" [Reports] Usando client:",dn?"ADMIN":"NORMAL");const le=K.from("tickets").select("*").order("created_at",{ascending:!1}),ue=new Promise((z,F)=>setTimeout(()=>F(new Error(" Timeout: A consulta demorou mais de 10 segundos")),1e4)),{data:ae,error:ke}=yield Promise.race([le,ue]);if(console.log(" [Reports] Resultado:",{success:!ke,count:ae==null?void 0:ae.length}),ke){console.error(" [Reports] Erro ao buscar chamados:",ke),f(ke.message),c(!1);return}if(ae&&ae.length>0){console.log(" [Reports] Buscando detalhes (profiles e companies)...");const z=[...new Set(ae.map(je=>je.client_id))],F=[...new Set(ae.map(je=>je.company_id))];console.log(" [Reports] IDs nicos:",{clientIds:z.length,companyIds:F.length});const{data:ne}=yield K.from("user_profiles").select("id, full_name, email").in("id",z);console.log(" [Reports] Profiles encontrados:",ne==null?void 0:ne.length);const{data:ce}=yield K.from("companies").select("id, name, cnpj").in("id",F);console.log(" [Reports] Companies encontradas:",ce==null?void 0:ce.length);const we=ae.map(je=>kt(lt({},je),{client:(ne==null?void 0:ne.find(Ae=>Ae.id===je.client_id))||null,company:(ce==null?void 0:ce.find(Ae=>Ae.id===je.company_id))||null}));t(we),s(we)}else t([]),s([]);console.log(" [Reports] Buscando todas as empresas...");const{data:G}=yield K.from("companies").select("id, name, cnpj").order("name");G&&(console.log(" [Reports] Empresas para dropdown:",G.length),N(G)),console.log(" [Reports] Buscando todos os usurios...");const{data:A}=yield K.from("user_profiles").select("id, full_name, email").order("full_name");A&&(console.log(" [Reports] Usurios para dropdown:",A.length),E(A))}catch(K){console.error(" [Reports] Erro:",K),f(K instanceof Error?K.message:"Erro inesperado")}finally{console.log(" [Reports] Finalizado"),c(!1)}})},[]),oe.useEffect(()=>{let he=[...e];if(k!=="all"&&(he=he.filter(K=>K.status===k)),T&&(he=he.filter(K=>new Date(K.created_at)>=new Date(T))),O){const K=new Date(O);K.setHours(23,59,59,999),he=he.filter(le=>new Date(le.created_at)<=K)}Y&&(he=he.filter(K=>K.equipment_manufacturer.toLowerCase().includes(Y.toLowerCase()))),te&&te!=="all"&&(he=he.filter(K=>K.company_id===te)),H&&H!=="all"&&(he=he.filter(K=>K.client_id===H)),s(he)},[k,T,O,Y,te,H,e]);const R=()=>{L("all"),U(""),B(""),ie(""),X("all"),pe("all")},$=()=>de(null,null,function*(){var he,K;v(!0);try{const le=new ft;le.setFontSize(18),le.text("Relatrio de Chamados",14,20),le.setFontSize(10);let ue=30;if(le.text(`Data de gerao: ${new Date().toLocaleString("pt-BR")}`,14,ue),ue+=5,le.text(`Total de chamados: ${i.length}`,14,ue),ue+=5,k!=="all"&&(le.text(`Filtro de Status: ${k}`,14,ue),ue+=5),T&&(le.text(`Data Incio: ${new Date(T).toLocaleDateString("pt-BR")}`,14,ue),ue+=5),O&&(le.text(`Data Fim: ${new Date(O).toLocaleDateString("pt-BR")}`,14,ue),ue+=5),te&&te!=="all"){const F=((he=_.find(ne=>ne.id===te))==null?void 0:he.name)||te;le.text(`Filtro de Empresa: ${F}`,14,ue),ue+=5}if(H&&H!=="all"){const F=((K=w.find(ne=>ne.id===H))==null?void 0:K.full_name)||H;le.text(`Filtro de Usurio: ${F}`,14,ue),ue+=5}ue+=10,le.setFontSize(12),le.text("Estatsticas:",14,ue),ue+=7,le.setFontSize(10);const ae={aberto:i.filter(F=>F.status==="aberto").length,em_atendimento:i.filter(F=>F.status==="em_atendimento").length,aguardando_cliente:i.filter(F=>F.status==="aguardando_cliente").length,fechado:i.filter(F=>F.status==="fechado").length,cancelado:i.filter(F=>F.status==="cancelado").length},ke=new Set(i.map(F=>{var ne;return(ne=F.company)==null?void 0:ne.name}).filter(Boolean)).size,G=new Set(i.map(F=>{var ne;return(ne=F.client)==null?void 0:ne.full_name}).filter(Boolean)).size;le.text(`Abertos: ${ae.aberto}`,14,ue),le.text(`Em Atendimento: ${ae.em_atendimento}`,70,ue),le.text(`Aguardando Cliente: ${ae.aguardando_cliente}`,130,ue),ue+=5,le.text(`Fechados: ${ae.fechado}`,14,ue),le.text(`Cancelados: ${ae.cancelado}`,70,ue),ue+=5,le.text(`Empresas: ${ke}`,14,ue),le.text(`Usurios: ${G}`,70,ue),ue+=10;const A=i.map(F=>{var ne,ce;return[F.id.toString(),new Date(F.created_at).toLocaleDateString("pt-BR"),((ne=F.company)==null?void 0:ne.name)||"-",((ce=F.client)==null?void 0:ce.full_name)||"-",F.equipment_manufacturer,F.equipment_model,F.equipment_serial_number||"-",F.status.replace("_"," ")]});jA(le,{startY:ue,head:[["#","Data","Empresa","Usurio","Fabricante","Modelo","N Srie","Status"]],body:A,theme:"striped",headStyles:{fillColor:[59,130,246]},styles:{fontSize:7},columnStyles:{0:{cellWidth:10},1:{cellWidth:20},2:{cellWidth:28},3:{cellWidth:25},4:{cellWidth:24},5:{cellWidth:24},6:{cellWidth:22},7:{cellWidth:"auto"}}});const z=`relatorio-chamados-${new Date().toISOString().split("T")[0]}.pdf`;le.save(z),alert("Relatrio exportado com sucesso!")}catch(le){console.error("Erro ao exportar PDF:",le),console.error("Detalhes do erro:",le instanceof Error?le.message:String(le)),alert(`Erro ao exportar PDF: ${le instanceof Error?le.message:"Erro desconhecido"}`)}v(!1)}),se=he=>{switch(he){case"aberto":return"bg-green-100 text-green-800";case"em_atendimento":return"bg-blue-100 text-blue-800";case"aguardando_cliente":return"bg-yellow-100 text-yellow-800";case"fechado":return"bg-gray-100 text-gray-800";case"cancelado":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},re=he=>{switch(he){case"aberto":return"Aberto";case"em_atendimento":return"Em Atendimento";case"aguardando_cliente":return"Aguardando Cliente";case"fechado":return"Fechado";case"cancelado":return"Cancelado";default:return he}};return o?m.jsx("div",{className:"p-6 md:p-10",children:m.jsxs("div",{className:"flex justify-center items-center p-10 bg-white rounded-lg shadow-md",children:[m.jsx(Rr,{className:"h-8 w-8 animate-spin text-blue-600"}),m.jsx("p",{className:"ml-3 text-gray-600",children:"Carregando relatrios..."})]})}):m.jsxs("div",{className:"p-6 md:p-10",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Relatrios de Chamados"}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Visualize e exporte relatrios com filtros personalizados"})]}),m.jsxs("button",{onClick:()=>r("dashboard"),className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Voltar ao Dashboard",children:[m.jsx(ys,{className:"h-5 w-5"}),m.jsx("span",{className:"font-medium",children:"Voltar"})]})]}),h&&m.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md mb-6",role:"alert",children:[m.jsx("strong",{className:"font-bold",children:"Erro ao carregar dados!"}),m.jsxs("span",{className:"block sm:inline",children:[" ",h]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx($2,{className:"h-6 w-6 text-blue-600 mr-2"}),m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Filtros"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[m.jsxs(zi,{id:"filterStatus",label:"Status",value:k,onChange:he=>L(he.target.value),children:[m.jsx("option",{value:"all",children:"Todos"}),m.jsx("option",{value:"aberto",children:"Aberto"}),m.jsx("option",{value:"em_atendimento",children:"Em Atendimento"}),m.jsx("option",{value:"aguardando_cliente",children:"Aguardando Cliente"}),m.jsx("option",{value:"fechado",children:"Fechado"}),m.jsx("option",{value:"cancelado",children:"Cancelado"})]}),m.jsx(pn,{id:"filterDateStart",label:"Data Incio",type:"date",value:T,onChange:he=>U(he.target.value)}),m.jsx(pn,{id:"filterDateEnd",label:"Data Fim",type:"date",value:O,onChange:he=>B(he.target.value)}),m.jsx(pn,{id:"filterManufacturer",label:"Fabricante",value:Y,onChange:he=>ie(he.target.value),placeholder:"Ex: DIMEP"}),m.jsxs(zi,{id:"filterCompany",label:"Empresa",value:te,onChange:he=>X(he.target.value),children:[m.jsx("option",{value:"all",children:"Todas as empresas"}),_.map(he=>m.jsxs("option",{value:he.id,children:[he.name," - ",he.cnpj]},he.id))]}),m.jsxs(zi,{id:"filterUser",label:"Usurio",value:H,onChange:he=>pe(he.target.value),children:[m.jsx("option",{value:"all",children:"Todos os usurios"}),w.map(he=>m.jsxs("option",{value:he.id,children:[he.full_name," (",he.email,")"]},he.id))]})]}),m.jsxs("div",{className:"flex flex-wrap gap-3 mt-6 items-center",children:[m.jsxs(Or,{onClick:R,variant:"secondary",className:"shadow-sm hover:shadow transition-shadow",children:[m.jsx($2,{className:"h-4 w-4 mr-2"}),"Limpar Filtros"]}),m.jsxs("div",{className:"relative group",children:[m.jsxs("button",{onClick:$,disabled:d||i.length===0,className:`
                                relative inline-flex items-center justify-center px-8 py-3.5 
                                font-semibold text-white rounded-lg overflow-hidden
                                transition-all duration-300 ease-out
                                ${i.length===0||d?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-emerald-500 via-green-500 to-teal-500 hover:from-emerald-600 hover:via-green-600 hover:to-teal-600 shadow-lg hover:shadow-xl hover:scale-105 active:scale-95"}
                            `,title:i.length===0?"Nenhum chamado para exportar":"Exportar relatrio em PDF",children:[!d&&i.length>0&&m.jsx("span",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white to-transparent opacity-20 animate-shimmer"}),m.jsx("span",{className:"relative flex items-center gap-2",children:d?m.jsxs(m.Fragment,{children:[m.jsx(Rr,{className:"h-5 w-5 animate-spin"}),m.jsx("span",{children:"Gerando PDF..."})]}):m.jsxs(m.Fragment,{children:[m.jsx(_6,{className:"h-5 w-5"}),m.jsx("span",{children:"Exportar PDF"}),m.jsxs("span",{className:"hidden sm:inline-flex items-center ml-1 px-2 py-0.5 rounded-full text-xs bg-white/20 backdrop-blur-sm",children:[i.length," ",i.length===1?"chamado":"chamados"]})]})})]}),i.length===0&&!d&&m.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:block z-10",children:m.jsxs("div",{className:"bg-gray-900 text-white text-xs rounded-lg py-2 px-3 whitespace-nowrap shadow-xl",children:[m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Nenhum chamado para exportar"]}),m.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})})]})]}),m.jsx("style",{children:`
                    @keyframes shimmer {
                        0% { transform: translateX(-100%); }
                        100% { transform: translateX(100%); }
                    }
                    .animate-shimmer {
                        animation: shimmer 2.5s infinite;
                    }
                `})]}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4 mb-6",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),m.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.length})]}),m.jsxs("div",{className:"bg-green-50 rounded-lg shadow-md p-4",children:[m.jsx("p",{className:"text-sm text-green-600",children:"Abertos"}),m.jsx("p",{className:"text-2xl font-bold text-green-900",children:i.filter(he=>he.status==="aberto").length})]}),m.jsxs("div",{className:"bg-blue-50 rounded-lg shadow-md p-4",children:[m.jsx("p",{className:"text-sm text-blue-600",children:"Em Atendimento"}),m.jsx("p",{className:"text-2xl font-bold text-blue-900",children:i.filter(he=>he.status==="em_atendimento").length})]}),m.jsxs("div",{className:"bg-yellow-50 rounded-lg shadow-md p-4",children:[m.jsx("p",{className:"text-sm text-yellow-600",children:"Aguardando"}),m.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:i.filter(he=>he.status==="aguardando_cliente").length})]}),m.jsxs("div",{className:"bg-gray-50 rounded-lg shadow-md p-4",children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Fechados"}),m.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.filter(he=>he.status==="fechado").length})]}),m.jsxs("div",{className:"bg-purple-50 rounded-lg shadow-md p-4",children:[m.jsx("p",{className:"text-sm text-purple-600",children:"Empresas"}),m.jsx("p",{className:"text-2xl font-bold text-purple-900",children:new Set(i.map(he=>{var K;return(K=he.company)==null?void 0:K.name}).filter(Boolean)).size})]}),m.jsxs("div",{className:"bg-indigo-50 rounded-lg shadow-md p-4",children:[m.jsx("p",{className:"text-sm text-indigo-600",children:"Usurios"}),m.jsx("p",{className:"text-2xl font-bold text-indigo-900",children:new Set(i.map(he=>{var K;return(K=he.client)==null?void 0:K.full_name}).filter(Boolean)).size})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[m.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx(nd,{className:"h-5 w-5 text-gray-600 mr-2"}),m.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Chamados Filtrados (",i.length,")"]})]})}),i.length===0?m.jsx("div",{className:"text-center p-10",children:m.jsx("p",{className:"text-gray-500",children:"Nenhum chamado encontrado com os filtros aplicados."})}):m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Empresa"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usurio"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Equipamento"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Local"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(he=>{var K,le,ue,ae;return m.jsxs("tr",{className:"hover:bg-gray-50",children:[m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:["#",he.id]}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[new Date(he.created_at).toLocaleDateString("pt-BR"),m.jsx("br",{}),m.jsx("span",{className:"text-xs text-gray-500",children:new Date(he.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),m.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[m.jsx("p",{className:"font-medium",children:((K=he.company)==null?void 0:K.name)||"-"}),m.jsx("p",{className:"text-xs text-gray-500",children:((le=he.company)==null?void 0:le.cnpj)||""})]}),m.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[m.jsx("p",{className:"font-medium",children:((ue=he.client)==null?void 0:ue.full_name)||"-"}),m.jsx("p",{className:"text-xs text-gray-500",children:((ae=he.client)==null?void 0:ae.email)||""})]}),m.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[m.jsx("p",{className:"font-medium",children:he.equipment_manufacturer}),m.jsx("p",{className:"text-gray-500",children:he.equipment_model})]}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:he.internal_location||"-"}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${se(he.status)}`,children:re(he.status)})})]},he.id)})})]})})]})]})},Ib={DIMEP:["Compact Gate","New BAP","BAP Fancy Line II V2","BAP Black","Face Access Ultra","CM3 Controlador de Acesso","D-REP Facial","Smart Point","Smart Point Bus","Smart Print Facial","PrintPoint III","Biopoint II-S","MicroPoint XP","MicroPoint II","MicroPoint II PCD","MicroPoint ID","MicroPoint Bio","MicroPoint Face","MicroPoint Face PCD"],ControliD:["iDClass Bio","iDClass Bio Prox","iDClass Facial","iDClass Bio Barras","iDClass 373","iDFlex","iDProx Compact","iDProx Slim","iDProx USB","iDFace Max","iDAccess Pro Prox","iDAccess Nano Prox","iDAccess Nano Slave","iDBio","iDUHF","iDUHF Lite","iDLock Bio"],Intelbras:["SS 3530 MF","SS 3510 MF","SS 7500 MF","FR 1211","FR 1311","TF 373"],Hikvision:["DS-K1T341","DS-K1T671","MinMoe","DS-K1T606","ProFace X","ValueFace"],ZKTeco:["F18","F19","SF100","SF400","MB560","MB360","ProFace X"],Topdata:["Inner REP Plus","Inner Ponto 4","Inner 373","Relgio Pontto","Leitor facial F4 / T4","Catraca Revolution Easy","Catraca Revolution Facial","Catraca Fit 4","Catraca Fit Facial","Catraca Box 4","Catraca Box Easy","Catraca Flow","Catraca PNE 4"],GAREN:["Cancela Intense AC","Cancela Intense BLDC","Cancela Intense BLDC (Inox)","Cancela BLDC Pedgio","Cancela Classic AC","Cancela Classic DC","Cancela Compacta","Cancela Flow"],CAME:["Gard GT4","Gard GT8","Gard PT Brushless","Gard PX Brushless","Gard 3250","Gard 5000","Gard 12","GPX","Cancela Alta Segurana (GT8 com Kit)"],Digicon:["MCA Acesso/Painel","MCANET II","MRA","CATRAX PLUS","CATRAX MASTER","TORNIQUETE TX1500","TORNIQUETE DUO","DCLOCK"]},p5=()=>Object.keys(Ib).sort(),m5=r=>Ib[r]||[],qb=({isOpen:r,onClose:e,companies:t,initialEquipment:i=null,onSaved:s})=>{const{profile:o}=xs(),[c,h]=oe.useState({company_id:(i==null?void 0:i.company_id)||"",manufacturer:(i==null?void 0:i.manufacturer)||"",model:(i==null?void 0:i.model)||"",serial_number:(i==null?void 0:i.serial_number)||"",internal_location:(i==null?void 0:i.internal_location)||"",installation_location:(i==null?void 0:i.installation_location)||"",application_type:(i==null?void 0:i.application_type)||"",tecnology:(i==null?void 0:i.tecnology)||""}),[f,d]=oe.useState(!1),[v,_]=oe.useState(!1),[N,w]=oe.useState(!1),[E,k]=oe.useState([]);if(oe.useEffect(()=>{if(!r)return;h({company_id:(i==null?void 0:i.company_id)||"",manufacturer:(i==null?void 0:i.manufacturer)||"",model:(i==null?void 0:i.model)||"",serial_number:(i==null?void 0:i.serial_number)||"",internal_location:(i==null?void 0:i.internal_location)||"",installation_location:(i==null?void 0:i.installation_location)||"",application_type:(i==null?void 0:i.application_type)||"",tecnology:(i==null?void 0:i.tecnology)||""});const O=p5(),B=i?!O.includes(i.manufacturer):!1;if(_(B),!B&&i){const Y=m5(i.manufacturer);k(Y),w(!Y.includes(i.model))}else k([]),w(!1)},[r,i]),!r)return null;const L=O=>{if(h(kt(lt({},c),{manufacturer:O,model:""})),O==="custom")_(!0),k([]),h(kt(lt({},c),{manufacturer:"",model:""}));else{_(!1);const B=m5(O);k(B),w(!1)}},T=O=>{O==="custom"?(w(!0),h(kt(lt({},c),{model:""}))):(w(!1),h(kt(lt({},c),{model:O})))},U=O=>de(null,null,function*(){O.preventDefault(),d(!0);const B=((o==null?void 0:o.role)==="admin"||(o==null?void 0:o.role)==="tecnico")&&dn?dn:Et;try{if(i){const{data:Y,error:ie}=yield B.from("equipments").update({company_id:c.company_id,manufacturer:c.manufacturer,model:c.model,serial_number:c.serial_number||null,internal_location:c.internal_location||null,installation_location:c.installation_location||null,application_type:c.application_type||null,tecnology:c.tecnology||null}).eq("id",i.id).select().single();if(ie)throw ie;s&&s(Y),e()}else{const{data:Y,error:ie}=yield B.from("equipments").insert({company_id:c.company_id,manufacturer:c.manufacturer,model:c.model,serial_number:c.serial_number||null,internal_location:c.internal_location||null,installation_location:c.installation_location||null,application_type:c.application_type||null,tecnology:c.tecnology||null}).select().single();if(ie)throw ie;s&&s(Y),e()}}catch(Y){console.error("Erro ao salvar equipamento:",Y),alert("Erro ao salvar equipamento. Veja o console para detalhes.")}finally{d(!1)}});return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:m.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:i?"Editar Equipamento":"Novo Equipamento"}),m.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600","aria-label":"Fechar modal",children:m.jsx(ku,{className:"h-6 w-6"})})]}),m.jsxs("form",{onSubmit:U,className:"space-y-4",children:[m.jsxs(zi,{label:"Empresa *",value:c.company_id,onChange:O=>h(kt(lt({},c),{company_id:O.target.value})),required:!0,children:[m.jsx("option",{value:"",children:"Selecione uma empresa"}),t.map(O=>m.jsx("option",{value:O.id,children:O.name},O.id))]}),m.jsx("div",{className:"space-y-2",children:v?m.jsxs("div",{className:"flex items-end gap-2",children:[m.jsx("div",{className:"flex-1",children:m.jsx(pn,{label:"Fabricante *",value:c.manufacturer,onChange:O=>h(kt(lt({},c),{manufacturer:O.target.value})),placeholder:"Digite o nome do fabricante",required:!0})}),m.jsx("button",{type:"button",title:"Voltar para lista de fabricantes",onClick:()=>{_(!1),h(kt(lt({},c),{manufacturer:"",model:""})),k([])},className:"px-3 py-2 text-sm text-blue-600 hover:text-blue-800 border border-blue-300 rounded-lg hover:bg-blue-50",children:"Lista"})]}):m.jsx(m.Fragment,{children:m.jsxs(zi,{label:"Fabricante *",value:c.manufacturer,onChange:O=>L(O.target.value),required:!0,children:[m.jsx("option",{value:"",children:"Selecione um fabricante"}),p5().map(O=>m.jsx("option",{value:O,children:O},O)),m.jsx("option",{value:"custom",children:" Outro (digitar manualmente)"})]})})}),m.jsx("div",{className:"space-y-2",children:!N&&E.length>0?m.jsxs(zi,{label:"Modelo *",value:c.model,onChange:O=>T(O.target.value),required:!0,disabled:!c.manufacturer,children:[m.jsx("option",{value:"",children:"Selecione um modelo"}),E.map(O=>m.jsx("option",{value:O,children:O},O)),m.jsx("option",{value:"custom",children:" Outro (digitar manualmente)"})]}):m.jsxs("div",{className:"flex items-end gap-2",children:[m.jsx("div",{className:"flex-1",children:m.jsx(pn,{label:"Modelo *",value:c.model,onChange:O=>h(kt(lt({},c),{model:O.target.value})),placeholder:"Digite o modelo do equipamento",required:!0,disabled:!c.manufacturer})}),E.length>0&&m.jsx("button",{type:"button",title:"Voltar para lista de modelos",onClick:()=>{w(!1),h(kt(lt({},c),{model:""}))},className:"px-3 py-2 text-sm text-blue-600 hover:text-blue-800 border border-blue-300 rounded-lg hover:bg-blue-50",children:"Lista"})]})}),m.jsx(pn,{label:"Nmero de Srie",value:c.serial_number,onChange:O=>h(kt(lt({},c),{serial_number:O.target.value}))}),m.jsxs(zi,{label:"Tipo de Aplicao",value:c.application_type,onChange:O=>h(kt(lt({},c),{application_type:O.target.value})),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"Acesso",children:"Acesso"}),m.jsx("option",{value:"Ponto",children:"Ponto"})]}),m.jsx(pn,{label:"Tecnologia",value:c.tecnology,onChange:O=>h(kt(lt({},c),{tecnology:O.target.value})),placeholder:"Ex: Biometria, Proximidade, etc."}),m.jsx(pn,{label:"Localizao Interna",value:c.internal_location,onChange:O=>h(kt(lt({},c),{internal_location:O.target.value})),placeholder:"Ex: Portaria Principal"}),m.jsx(pn,{label:"Local de Instalao",value:c.installation_location,onChange:O=>h(kt(lt({},c),{installation_location:O.target.value})),placeholder:"Ex: Prximo  recepo"}),m.jsxs("div",{className:"flex gap-3 pt-4",children:[m.jsx(Or,{type:"button",variant:"secondary",onClick:e,className:"flex-1",children:"Cancelar"}),m.jsx(Or,{type:"submit",className:"flex-1",disabled:f,children:f?m.jsxs(m.Fragment,{children:[m.jsx(Rr,{className:"h-4 w-4 animate-spin mr-2"}),"Salvando..."]}):i?"Atualizar":"Adicionar"})]})]})]})})})},bl=({title:r,number:e,children:t})=>m.jsxs("fieldset",{className:"border border-gray-300 rounded-lg p-5 mb-6",children:[m.jsxs("legend",{className:"px-2 text-lg font-medium text-gray-800",children:[m.jsx("span",{className:"bg-gray-200 text-blue-700 rounded-full h-8 w-8 flex items-center justify-center font-bold mr-2 shrink-0",children:e}),r]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4",children:t})]}),CA=({setPage:r,onOpenCompanyModal:e})=>{const{profile:t}=xs(),[i,s]=oe.useState("cnpj-search"),[o,c]=oe.useState(null),[h,f]=oe.useState(null),[d,v]=oe.useState(""),[_,N]=oe.useState(!1),[w,E]=oe.useState(null),[k,L]=oe.useState([]),[T,U]=oe.useState([]),[O,B]=oe.useState(!1),[Y,ie]=oe.useState(!1),[te,X]=oe.useState({manufacturer:"",model:"",application_type:"",problem_description:"",card_type:"",previous_procedures:"",address_cep:"",full_address:"",internal_location:"",integration_needed:!1,integration_requirements:"",contact_name:(t==null?void 0:t.full_name)||"",contact_email:(t==null?void 0:t.email)||"",contact_phone:"",company_cnpj:""}),[H,pe]=oe.useState(!1),[R,$]=oe.useState(!1),[se,re]=oe.useState(null),[he,K]=oe.useState(null),le=()=>{s("cnpj-search"),c(null),f(null),v(""),N(!1),E(null),U([]),B(!1),ie(!1),X({manufacturer:"",model:"",application_type:"",problem_description:"",card_type:"",previous_procedures:"",address_cep:"",full_address:"",internal_location:"",integration_needed:!1,integration_requirements:"",contact_name:(t==null?void 0:t.full_name)||"",contact_email:(t==null?void 0:t.email)||"",contact_phone:"",company_cnpj:""}),pe(!1),$(!1),K(null),re(null)},ue=ve=>de(null,null,function*(){console.log(" Carregando equipamentos para empresa:",ve.name),B(!0);try{const{data:J,error:Ge}=yield Et.from("equipments").select("*").eq("company_id",ve.id);if(Ge)throw Ge;U(J||[]),s("equipment-selection"),console.log(" Equipamentos carregados:",J==null?void 0:J.length)}catch(J){J instanceof Error?(console.error(" Erro ao carregar equipamentos:",J),alert(`Erro ao carregar equipamentos: ${J.message}`)):(console.error(" Erro ao carregar equipamentos:",J),alert("Erro ao carregar equipamentos: erro desconhecido"))}finally{B(!1)}}),ae=ve=>{const Ge=ve.replace(/\D/g,"").slice(0,14);return Ge.length<=2?Ge:Ge.length<=5?`${Ge.slice(0,2)}.${Ge.slice(2)}`:Ge.length<=8?`${Ge.slice(0,2)}.${Ge.slice(2,5)}.${Ge.slice(5)}`:Ge.length<=12?`${Ge.slice(0,2)}.${Ge.slice(2,5)}.${Ge.slice(5,8)}/${Ge.slice(8)}`:`${Ge.slice(0,2)}.${Ge.slice(2,5)}.${Ge.slice(5,8)}/${Ge.slice(8,12)}-${Ge.slice(12)}`},ke=ve=>{const J=ae(ve.target.value);v(J),E(null)},G=ve=>ve.replace(/\D/g,"").length===14,A=()=>de(null,null,function*(){if(!G(d)){E("CNPJ invlido. Deve conter 14 dgitos.");return}N(!0),E(null);const ve=d.replace(/\D/g,"");console.log(" Buscando CNPJ:",ve),console.log(" Perfil do usurio:",{role:t==null?void 0:t.role,company_id:t==null?void 0:t.company_id});let J=Et.from("companies").select("*");if((t==null?void 0:t.role)==="cliente"){const Fe=[];if(t.company_id&&Fe.push(t.company_id),t.additional_company_ids&&t.additional_company_ids.length>0&&Fe.push(...t.additional_company_ids),Fe.length>0)J=J.in("id",Fe),console.log(" Cliente - Buscando apenas empresas vinculadas:",Fe);else{console.log(" Cliente sem empresas vinculadas - bloqueando busca"),E("Voc no possui empresas vinculadas para abrir chamados."),N(!1);return}}else console.log(" Tcnico/Admin - Buscando todas as empresas");const{data:Ge,error:et}=yield J;if(N(!1),et){console.error(" Erro ao buscar empresas:",et),E(`Erro na busca: ${et.message}`);return}const rt=Ge==null?void 0:Ge.find(Fe=>{const tt=Fe.cnpj.replace(/\D/g,"");return console.log(" Comparando:",tt,"===",ve),tt===ve});if(!rt){console.log(" CNPJ no encontrado. Total de empresas:",Ge==null?void 0:Ge.length),(t==null?void 0:t.role)==="cliente"?E("CNPJ no vinculado a este usurio. Contatar o administrador do sistema."):E("CNPJ no encontrado no sistema.");return}console.log(" Empresa encontrada:",rt),c(rt),E(null)}),z=()=>de(null,null,function*(){if(!t)return;const ve=[];t.role==="cliente"&&(t.company_id&&ve.push(t.company_id),t.additional_company_ids&&t.additional_company_ids.length>0&&ve.push(...t.additional_company_ids));try{let J=Et.from("companies").select("*");if(t.role==="cliente"){if(ve.length===0){L([]);return}J=J.in("id",ve)}const{data:Ge,error:et}=yield J;if(et)throw et;L(Ge||[])}catch(J){console.error("Erro ao carregar empresas:",J),L([])}});oe.useEffect(()=>{z()},[t==null?void 0:t.id]);const F=()=>de(null,null,function*(){o&&(yield ue(o))}),ne=ve=>{console.log(" Equipamento selecionado:",ve),f(ve),X(J=>kt(lt({},J),{manufacturer:ve.manufacturer,model:ve.model,internal_location:ve.internal_location||"",application_type:ve.application_type||"",card_type:ve.tecnology||"",company_cnpj:d})),s("ticket-form")},ce=ve=>{const{name:J,value:Ge,type:et}=ve.target;let rt=Ge;et==="checkbox"&&(rt=ve.target.checked),X(Fe=>kt(lt({},Fe),{[J]:rt}))},we=()=>de(null,null,function*(){const ve=te.address_cep.replace(/\D/g,"");if(ve.length!==8){re("CEP invlido. Deve conter 8 nmeros.");return}$(!0),re(null);try{const J=yield fetch(`https://viacep.com.br/ws/${ve}/json/`);if(!J.ok)throw new Error("Erro ao buscar CEP. Verifique a rede.");const Ge=yield J.json();if(Ge.erro)throw new Error("CEP no encontrado.");X(et=>kt(lt({},et),{full_address:`${Ge.logradouro}, ${Ge.bairro}, ${Ge.localidade} - ${Ge.uf}`}))}catch(J){console.error("Erro ao buscar CEP:",J),re(J instanceof Error?J.message:"No foi possvel buscar o CEP."),X(Ge=>kt(lt({},Ge),{full_address:""}))}finally{$(!1)}}),je=()=>!te.manufacturer||!te.model?(re("Fabricante e Modelo so obrigatrios."),!1):te.problem_description.length<30?(re("Descrio do problema deve ter no mnimo 30 caracteres."),!1):te.full_address?!te.contact_name||!te.contact_email||!te.contact_phone?(re("Todos os campos de contato so obrigatrios."),!1):(re(null),!0):(re("Endereo completo  obrigatrio (use a busca por CEP)."),!1),Ae=ve=>de(null,null,function*(){if(ve.preventDefault(),!je()||!o||!h||!t)return;pe(!0);const J={client_id:t.id,company_id:o.id,status:"aberto",equipment_manufacturer:te.manufacturer,equipment_model:te.model,application_type:te.application_type,internal_location:te.internal_location,form_data:te};console.log(" Criando ticket com payload:",J),console.log(" User ID atual (auth.uid()):",t.id),console.log(" Role do usurio:",t.role);const{data:Ge,error:et}=yield Et.from("tickets").insert([J]).select();if(et)console.error(" Erro ao criar ticket:",et),console.error(" Detalhes do erro:",{message:et.message,details:et.details,hint:et.hint,code:et.code}),re(`Erro ao criar chamado: ${et.message}`),pe(!1);else{console.log(" Chamado criado:",Ge);const rt=Ge[0].id;console.log(" Buscando administradores para notificar...");const{data:Fe}=yield Et.from("user_profiles").select("email, full_name").eq("role","admin"),tt=(Fe==null?void 0:Fe.map(Tt=>Tt.email))||[];console.log(` Encontrados ${tt.length} administrador(es)`),console.log(" Enviando notificaes por email...");const We=`${te.manufacturer} - ${te.model}`;try{(yield Wp.sendTicketCreatedNotification({ticketId:rt,clientName:t.full_name,clientEmail:t.email,clientPhone:t.phone,companyName:o.name,equipmentInfo:We,serialNumber:h==null?void 0:h.serial_number,problemDescription:te.problem_description,contactName:te.contact_name,contactEmail:te.contact_email,contactPhone:te.contact_phone,internalLocation:te.internal_location,fullAddress:te.full_address},tt))?console.log(" Emails enviados com sucesso!"):console.warn(" Erro ao enviar emails (chamado criado com sucesso)")}catch(Tt){console.error(" Erro ao enviar emails:",Tt)}pe(!1),alert(` Chamado #${rt} criado com sucesso!

 Notificaes enviadas para:
    Voc: ${t.email}
    Responsvel local: ${te.contact_name} (${te.contact_email})
    Administradores: ${tt.length} pessoa(s)`),le(),r("dashboard")}}),Me=()=>m.jsx("div",{className:"mb-8",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:`flex items-center ${i==="cnpj-search"?"text-blue-600":"text-green-600"}`,children:[m.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${i==="cnpj-search"?"bg-blue-600 text-white":"bg-green-600 text-white"}`,children:i==="cnpj-search"?"1":m.jsx(cc,{className:"h-5 w-5"})}),m.jsx("span",{className:"ml-2 font-medium",children:"CNPJ"})]}),m.jsx("div",{className:"flex-1 h-1 mx-4 bg-gray-300",children:m.jsx("div",{className:`h-full transition-all ${i!=="cnpj-search"?"bg-green-600 w-full":"bg-gray-300 w-0"}`})}),m.jsxs("div",{className:`flex items-center ${i==="equipment-selection"?"text-blue-600":i==="ticket-form"?"text-green-600":"text-gray-400"}`,children:[m.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${i==="equipment-selection"?"bg-blue-600 text-white":i==="ticket-form"?"bg-green-600 text-white":"bg-gray-300 text-gray-600"}`,children:i==="ticket-form"?m.jsx(cc,{className:"h-5 w-5"}):"2"}),m.jsx("span",{className:"ml-2 font-medium",children:"Equipamento"})]}),m.jsx("div",{className:"flex-1 h-1 mx-4 bg-gray-300",children:m.jsx("div",{className:`h-full transition-all ${i==="ticket-form"?"bg-green-600 w-full":"bg-gray-300 w-0"}`})}),m.jsxs("div",{className:`flex items-center ${i==="ticket-form"?"text-blue-600":"text-gray-400"}`,children:[m.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${i==="ticket-form"?"bg-blue-600 text-white":"bg-gray-300 text-gray-600"}`,children:"3"}),m.jsx("span",{className:"ml-2 font-medium",children:"Chamado"})]})]})}),$e=()=>m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:m.jsxs("div",{className:"flex items-start",children:[m.jsx(uc,{className:"h-6 w-6 text-blue-600 mt-0.5 mr-3"}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-1",children:"Etapa 1: Identificao da Empresa"}),m.jsx("p",{className:"text-sm text-blue-700",children:"Informe o CNPJ da empresa para a qual o chamado ser aberto."})]})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:m.jsxs("div",{className:"space-y-4",children:[t&&m.jsx("div",{className:"mb-4",children:m.jsxs(zi,{id:"company_select",label:"Escolha uma empresa (ou deixe em branco para digitar CNPJ)",value:(o==null?void 0:o.id)||"",onChange:ve=>{const J=ve.target.value;if(!J){c(null),v("");return}const Ge=k.find(et=>et.id===J);Ge&&(c(Ge),v(ae(Ge.cnpj||"")),E(null))},children:[m.jsx("option",{value:"",children:"-- Selecione uma empresa --"}),k.map(ve=>m.jsxs("option",{value:ve.id,children:[ve.name,"  ",ve.cnpj]},ve.id))]})}),m.jsxs("div",{className:"relative",children:[m.jsx(pn,{id:"cnpj",label:"CNPJ da Empresa",value:d,onChange:ke,placeholder:"00.000.000/0000-00",maxLength:18,disabled:_||!!o}),!o&&m.jsx(Or,{type:"button",onClick:A,disabled:_||!d,className:"absolute right-1 bottom-1 !py-2 !px-3",children:_?m.jsx(Rr,{className:"h-4 w-4 animate-spin"}):m.jsx(Oh,{className:"h-4 w-4"})})]}),w&&m.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:m.jsxs("div",{className:"flex items-start",children:[m.jsx(fc,{className:"h-5 w-5 text-red-600 mt-0.5 mr-3 flex-shrink-0"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"text-sm font-medium text-red-900",children:"Erro na busca"}),m.jsx("p",{className:"text-sm text-red-700 mt-1",children:w}),w.includes("no encontrado")&&(t==null?void 0:t.role)==="admin"&&m.jsxs("button",{type:"button",onClick:()=>e(d,ve=>de(null,null,function*(){console.log(" Empresa criada recebida:",ve),c(ve),E(null),yield ue(ve)})),className:"mt-3 inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[m.jsx(uc,{className:"h-4 w-4"}),"Cadastrar esta empresa"]})]})]})}),o&&m.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex items-start",children:[m.jsx(uc,{className:"h-5 w-5 text-green-600 mt-0.5 mr-3"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-green-900",children:"Empresa encontrada!"}),m.jsx("p",{className:"text-lg font-bold text-green-900 mt-1",children:o.name}),m.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["CNPJ: ",d]})]})]}),m.jsx("button",{type:"button",onClick:()=>{c(null),v("")},className:"text-sm text-green-700 hover:text-green-900 underline",children:"Alterar"})]}),m.jsx("div",{className:"mt-4 pt-4 border-t border-green-200",children:m.jsx(Or,{type:"button",onClick:F,variant:"primary",className:"w-full",children:"Continuar para Seleo de Equipamentos"})})]})]})}),!o&&m.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:m.jsxs("p",{className:"text-xs text-gray-600",children:[m.jsx("strong",{children:"Nota:"})," Se o CNPJ da sua empresa no for encontrado, entre em contato com o suporte para realizar o cadastro."]})})]}),Ke=()=>m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex items-start",children:[m.jsx(Rh,{className:"h-6 w-6 text-blue-600 mt-0.5 mr-3"}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-1",children:"Etapa 2: Seleo de Equipamento"}),m.jsx("p",{className:"text-sm text-blue-700",children:"Selecione o equipamento com problema ou cadastre um novo."}),m.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Empresa: ",m.jsx("strong",{children:o==null?void 0:o.name})]})]})]}),m.jsxs("button",{type:"button",onClick:()=>s("cnpj-search"),className:"text-sm text-blue-700 hover:text-blue-900 flex items-center",children:[m.jsx(ys,{className:"h-4 w-4 mr-1"}),"Voltar"]})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:O?m.jsx("div",{className:"flex items-center justify-center py-12",children:m.jsx(Rr,{className:"h-8 w-8 animate-spin text-blue-600"})}):m.jsxs("div",{className:"space-y-4",children:[T.length>0?m.jsxs("div",{children:[m.jsxs("h4",{className:"font-semibold text-gray-900 mb-3",children:["Equipamentos Cadastrados (",T.length,")"]}),m.jsx("div",{className:"space-y-2",children:T.map(ve=>m.jsx("button",{type:"button",onClick:()=>ne(ve),className:"w-full text-left p-4 border border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("p",{className:"font-bold text-gray-900 text-lg",children:[ve.manufacturer," - ",ve.model]}),ve.internal_location&&m.jsxs("p",{className:"text-sm text-gray-700 mt-1",children:[m.jsx("span",{className:"font-medium",children:"Local:"})," ",ve.internal_location]}),ve.serial_number&&m.jsxs("p",{className:"text-sm text-gray-600 mt-0.5",children:[m.jsx("span",{className:"font-medium",children:"Serial:"})," ",ve.serial_number]})]}),m.jsx(Rh,{className:"h-5 w-5 text-gray-400"})]})},ve.id))})]}):m.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:[m.jsx(fc,{className:"h-12 w-12 text-yellow-600 mx-auto mb-3"}),m.jsx("h4",{className:"font-semibold text-yellow-900 mb-2",children:"Nenhum equipamento cadastrado"}),m.jsxs("p",{className:"text-sm text-yellow-700 mb-4",children:["No encontramos equipamentos cadastrados para ",m.jsx("strong",{children:o==null?void 0:o.name}),".",m.jsx("br",{}),"Cadastre um novo equipamento para continuar."]})]}),Y?m.jsx(qb,{isOpen:Y,onClose:()=>{ie(!1),re(null)},companies:o?[o]:k,onSaved:ve=>{U(J=>[ve,...J]),f(ve),X(J=>kt(lt({},J),{manufacturer:ve.manufacturer,model:ve.model,internal_location:ve.internal_location||"",company_cnpj:d})),ie(!1),s("ticket-form")}}):m.jsxs(Or,{type:"button",onClick:()=>ie(!0),variant:"secondary",className:"w-full",children:[m.jsx(Ed,{className:"h-5 w-5 mr-2"}),"Cadastrar Novo Equipamento"]})]})})]}),Je=()=>{let ve=0;const J=!!(h!=null&&h.application_type),Ge=!!(h!=null&&h.tecnology);return m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex items-start",children:[m.jsx(cc,{className:"h-6 w-6 text-blue-600 mt-0.5 mr-3"}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-1",children:"Etapa 3: Detalhes do Chamado"}),m.jsx("p",{className:"text-sm text-blue-700",children:"Preencha as informaes sobre o problema."})]})]}),m.jsxs("button",{type:"button",onClick:()=>s("equipment-selection"),className:"text-sm text-blue-700 hover:text-blue-900 flex items-center",children:[m.jsx(ys,{className:"h-4 w-4 mr-1"}),"Voltar"]})]})}),m.jsxs("form",{onSubmit:Ae,className:"bg-white rounded-lg shadow-xl p-8 space-y-6",children:[m.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[m.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Equipamento Selecionado:"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[h==null?void 0:h.manufacturer," - ",h==null?void 0:h.model]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[(h==null?void 0:h.internal_location)&&m.jsxs("p",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"Local:"})," ",h.internal_location]}),(h==null?void 0:h.serial_number)&&m.jsxs("p",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"N Srie:"})," ",h.serial_number]}),(h==null?void 0:h.application_type)&&m.jsxs("p",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"Aplicao:"})," ",h.application_type]}),(h==null?void 0:h.tecnology)&&m.jsxs("p",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"Tecnologia:"})," ",h.tecnology]})]})]})]}),!J&&m.jsx(bl,{number:++ve,title:"Tipo de aplicao",children:m.jsxs(zi,{id:"application_type",name:"application_type",label:"Tipo de Aplicao",value:te.application_type,onChange:ce,required:!0,children:[m.jsx("option",{value:"",children:"Selecione..."}),m.jsx("option",{value:"Acesso",children:"Acesso"}),m.jsx("option",{value:"Ponto",children:"Ponto"})]})}),m.jsx(bl,{number:++ve,title:"Descreva o problema",children:m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("div",{className:"mb-4 p-4 bg-gradient-to-r from-green-50 to-blue-50 border-l-4 border-green-500 rounded-lg shadow-sm",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("div",{className:"flex-shrink-0 mt-0.5",children:m.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"text-sm font-semibold text-gray-800 mb-2",children:" Importante: Envie tambm um vdeo do problema!"}),m.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Se possvel, grave um vdeo mostrando o problema e envie para um dos nossos telefones WhatsApp mencionando o nmero do chamado que voc est abrindo assim como nome da empresa:"}),m.jsxs("div",{className:"flex flex-wrap gap-3 mt-3",children:[m.jsxs("a",{href:"https://wa.me/5519999492176",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium text-sm transition-colors shadow-sm",children:[m.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L0 24l6.304-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"19 99949-2176"]}),m.jsxs("a",{href:"https://wa.me/554730395061",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium text-sm transition-colors shadow-sm",children:[m.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L0 24l6.304-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"47 3039-5061"]})]})]})]})}),m.jsx(rd,{id:"problem_description",name:"problem_description",label:"Descrio Detalhada (mnimo 30 caracteres)",value:te.problem_description,onChange:ce,minLength:30,required:!0})]})}),!Ge&&m.jsx(bl,{number:++ve,title:"Tipo de carto utilizado",children:m.jsxs(zi,{id:"card_type",name:"card_type",label:"Tipo de Carto/Tecnologia",value:te.card_type,onChange:ce,required:!0,children:[m.jsx("option",{value:"",children:"Selecione..."}),m.jsx("option",{value:"Smartcard",children:"Carto smartcard"}),m.jsx("option",{value:"Proximidade HID",children:"Proximidade HID"}),m.jsx("option",{value:"Biometria",children:"Biometria"}),m.jsx("option",{value:"Facial",children:"Facial"})]})}),m.jsx(bl,{number:++ve,title:"Procedimentos j executados",children:m.jsx("div",{className:"md:col-span-2",children:m.jsx(rd,{id:"previous_procedures",name:"previous_procedures",label:"Procedimentos Prvios (opcional)",value:te.previous_procedures,onChange:ce})})}),m.jsx(bl,{number:++ve,title:"Endereo para atendimento",children:m.jsxs("div",{className:"md:col-span-2 space-y-4",children:[(o==null?void 0:o.full_address)&&m.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[m.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"Endereo cadastrado da empresa:"}),m.jsx("p",{className:"text-gray-900",children:o.full_address})]}),he===null&&(o==null?void 0:o.full_address)&&m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsx("p",{className:"text-sm font-medium text-gray-900",children:"O atendimento ser realizado neste endereo?"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(Or,{type:"button",onClick:()=>{K(!0),X(et=>kt(lt({},et),{full_address:o.full_address||""}))},className:"flex-1",children:"Sim, utilizar este endereo"}),m.jsx(Or,{type:"button",onClick:()=>K(!1),variant:"secondary",className:"flex-1",children:"No, informar outro endereo"})]})]}),(he===!1||!(o!=null&&o.full_address))&&m.jsxs(m.Fragment,{children:[he===!1&&(o==null?void 0:o.full_address)&&m.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("p",{className:"text-sm text-blue-900",children:"Voc optou por informar outro endereo"}),m.jsx("button",{type:"button",onClick:()=>K(null),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:" Voltar"})]})}),m.jsxs("div",{className:"relative",children:[m.jsx(pn,{id:"address_cep",name:"address_cep",label:"CEP",value:te.address_cep,onChange:ce}),m.jsx("button",{type:"button",onClick:we,disabled:R,className:"absolute right-1 bottom-1 bg-gray-200 p-2 rounded-md hover:bg-gray-300 disabled:opacity-50",children:R?m.jsx(Rr,{className:"h-4 w-4 text-gray-600 animate-spin"}):m.jsx(Oh,{className:"h-4 w-4 text-gray-600"})})]}),m.jsx(pn,{id:"full_address",name:"full_address",label:"Endereo Completo",value:te.full_address,onChange:ce,required:!0})]}),he===!0&&m.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"text-sm font-medium text-green-900 mb-1",children:" Endereo confirmado para atendimento:"}),m.jsx("p",{className:"text-gray-900",children:te.full_address}),te.address_cep&&m.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["CEP: ",te.address_cep]})]}),m.jsx("button",{type:"button",onClick:()=>{K(null),X(et=>kt(lt({},et),{full_address:"",address_cep:""}))},className:"text-sm text-blue-600 hover:text-blue-800 ml-4",children:"Alterar"})]})})]})}),m.jsx(bl,{number:++ve,title:"Local interno",children:m.jsx(pn,{id:"internal_location",name:"internal_location",label:"Ex: Portaria 1, Catraca Refeitrio",value:te.internal_location,onChange:ce,required:!0})}),m.jsx(bl,{number:++ve,title:"Necessrio integrao?",children:m.jsxs("div",{className:"md:col-span-2 space-y-4",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{id:"integration_needed",name:"integration_needed",type:"checkbox",checked:te.integration_needed,onChange:ce,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),m.jsx("label",{htmlFor:"integration_needed",className:"ml-2 block text-sm text-gray-900",children:"Sim,  necessrio"})]}),te.integration_needed&&m.jsx(rd,{id:"integration_requirements",name:"integration_requirements",label:"Quais so as exigncias?",value:te.integration_requirements,onChange:ce})]})}),m.jsxs(bl,{number:++ve,title:"Responsvel pelo acompanhamento",children:[m.jsx(pn,{id:"contact_name",name:"contact_name",label:"Nome Completo",icon:m.jsx(Em,{}),value:te.contact_name,onChange:ce,required:!0}),m.jsx(pn,{id:"contact_email",name:"contact_email",label:"E-mail",type:"email",icon:m.jsx(Am,{}),value:te.contact_email,onChange:ce,required:!0}),m.jsx(pn,{id:"contact_phone",name:"contact_phone",label:"Telefone/Celular",type:"tel",icon:m.jsx(ky,{}),value:te.contact_phone,onChange:ce,required:!0})]}),m.jsxs("div",{className:"mt-8 pt-5 border-t border-gray-200",children:[se&&m.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md mb-4",children:[m.jsx("strong",{className:"font-bold",children:"Erro!"}),m.jsxs("span",{className:"block sm:inline",children:[" ",se]})]}),m.jsxs("div",{className:"flex justify-end space-x-3",children:[m.jsx(Or,{type:"button",variant:"secondary",onClick:()=>r("dashboard"),disabled:H,children:"Cancelar"}),m.jsxs(Or,{type:"submit",variant:"primary",isLoading:H,disabled:H,children:[m.jsx(cc,{className:"h-5 w-5 mr-2"}),"Enviar Chamado"]})]})]})]})]})};return m.jsxs("div",{className:"p-6 md:p-10 max-w-4xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Abrir Novo Chamado"}),m.jsx("button",{onClick:()=>r("dashboard"),className:"text-gray-600 hover:text-gray-900",title:"Voltar para o dashboard","aria-label":"Voltar para o dashboard",children:m.jsx(ys,{className:"h-6 w-6"})})]}),Me(),i==="cnpj-search"&&$e(),i==="equipment-selection"&&Ke(),i==="ticket-form"&&Je()]})},LA=({setPage:r,openModal:e,initialCNPJ:t,onModalClose:i,onCompanyCreated:s})=>{const[o,c]=oe.useState([]),[h,f]=oe.useState([]),[d,v]=oe.useState(!0),[_,N]=oe.useState(null),[w,E]=oe.useState(""),[k,L]=oe.useState(!1),[T,U]=oe.useState("create"),[O,B]=oe.useState(null),[Y,ie]=oe.useState(!1),[te,X]=oe.useState(!1),[H,pe]=oe.useState(null),[R,$]=oe.useState(!1),[se,re]=oe.useState({name:"",cnpj:"",full_address:""});oe.useEffect(()=>{he()},[]),oe.useEffect(()=>{e&&(U("create"),B(null),re({name:"",cnpj:t||"",full_address:""}),L(!0))},[e,t]);const he=()=>de(null,null,function*(){console.log(" [CompanyManagement] Iniciando fetchCompanies..."),v(!0),N(null);try{const A=dn||Et;console.log(" [CompanyManagement] Usando client:",dn?"ADMIN":"NORMAL");const z=A.from("companies").select("*").order("name",{ascending:!0}),F=new Promise((we,je)=>setTimeout(()=>je(new Error(" Timeout: A consulta demorou mais de 10 segundos")),1e4)),{data:ne,error:ce}=yield Promise.race([z,F]);console.log(" [CompanyManagement] Resultado:",{success:!ce,count:ne==null?void 0:ne.length}),ce?(console.error(" [CompanyManagement] Erro ao buscar empresas:",ce),N(ce.message)):(c(ne||[]),f(ne||[]))}catch(A){console.error(" [CompanyManagement] Erro:",A),N(A instanceof Error?A.message:"Erro inesperado")}finally{console.log(" [CompanyManagement] Finalizado"),v(!1)}});oe.useEffect(()=>{if(!w)f(o);else{const A=o.filter(z=>z.name.toLowerCase().includes(w.toLowerCase())||z.cnpj.includes(w));f(A)}},[w,o]);const K=()=>{U("create"),B(null),re({name:"",cnpj:"",full_address:""}),L(!0)},le=A=>{U("edit"),B(A),re({name:A.name,cnpj:A.cnpj,full_address:A.full_address||""}),L(!0)},ue=()=>{L(!1),B(null),re({name:"",cnpj:"",full_address:""}),i&&i()},ae=()=>de(null,null,function*(){if(!se.cnpj||se.cnpj.replace(/\D/g,"").length!==14){alert("Digite um CNPJ vlido (14 dgitos)");return}X(!0);try{const A=se.cnpj.replace(/\D/g,""),z=yield fetch(`https://brasilapi.com.br/api/cnpj/v1/${A}`);if(!z.ok)throw new Error("CNPJ no encontrado");const F=yield z.json(),ne=`${F.logradouro}, ${F.numero||"S/N"}, ${F.bairro}, ${F.municipio} - ${F.uf}, CEP: ${F.cep}`;re(ce=>kt(lt({},ce),{name:F.razao_social||F.nome_fantasia||ce.name,full_address:ne})),alert("Dados da empresa carregados com sucesso!")}catch(A){console.error("Erro ao buscar CNPJ:",A),alert(`Erro ao buscar CNPJ: ${A instanceof Error?A.message:"CNPJ no encontrado ou invlido"}`)}X(!1)}),ke=()=>de(null,null,function*(){if(!se.name.trim()){alert("Nome da empresa  obrigatrio");return}if(!se.cnpj.trim()){alert("CNPJ  obrigatrio");return}ie(!0);try{if(T==="create"){const{data:A,error:z}=yield Et.from("companies").insert([{name:se.name,cnpj:se.cnpj,full_address:se.full_address||null}]).select().single();if(z)throw z;alert(" Empresa criada com sucesso!"),s&&A&&s(A)}else{const{error:A}=yield Et.from("companies").update({name:se.name,cnpj:se.cnpj,full_address:se.full_address||null}).eq("id",O.id);if(A)throw A;alert("Empresa atualizada com sucesso!")}ue(),he()}catch(A){console.error("Erro ao salvar empresa:",A),alert(`Erro ao salvar empresa: ${A instanceof Error?A.message:"Erro desconhecido"}`)}ie(!1)}),G=A=>de(null,null,function*(){$(!0);try{const{error:z}=yield Et.from("companies").delete().eq("id",A);if(z)throw z;alert("Empresa excluda com sucesso!"),pe(null),he()}catch(z){console.error("Erro ao excluir empresa:",z),alert(`Erro ao excluir empresa: ${z instanceof Error?z.message:"Erro desconhecido"}`)}$(!1)});return d?m.jsx("div",{className:"p-6 md:p-10",children:m.jsxs("div",{className:"flex justify-center items-center p-10 bg-white rounded-lg shadow-md",children:[m.jsx(Rr,{className:"h-8 w-8 animate-spin text-blue-600"}),m.jsx("p",{className:"ml-3 text-gray-600",children:"Carregando empresas..."})]})}):m.jsxs("div",{className:"p-6 md:p-10",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gerenciamento de Empresas"}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Visualize, crie, edite e exclua empresas cadastradas"})]}),m.jsxs("button",{onClick:()=>r("dashboard"),className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[m.jsx(ys,{className:"h-5 w-5"}),m.jsx("span",{className:"font-medium",children:"Voltar"})]})]}),_&&m.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md mb-6",role:"alert",children:[m.jsx("strong",{className:"font-bold",children:"Erro ao carregar dados!"}),m.jsxs("span",{className:"block sm:inline",children:[" ",_]})]}),m.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:m.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[m.jsxs("div",{className:"relative flex-1 w-full md:max-w-md",children:[m.jsx(Oh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),m.jsx("input",{type:"text",placeholder:"Buscar por nome ou CNPJ...",value:w,onChange:A=>E(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),m.jsxs("button",{onClick:K,className:"relative inline-flex items-center justify-center px-6 py-2.5 font-semibold text-white rounded-lg overflow-hidden transition-all duration-300 ease-out bg-gradient-to-r from-blue-500 via-blue-600 to-indigo-600 hover:from-blue-600 hover:via-blue-700 hover:to-indigo-700 shadow-lg hover:shadow-xl hover:scale-105 active:scale-95",children:[m.jsx(Ed,{className:"h-5 w-5 mr-2"}),"Nova Empresa"]})]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Total de Empresas"}),m.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.length})]}),m.jsxs("div",{className:"bg-blue-50 rounded-lg shadow-md p-4",children:[m.jsx("p",{className:"text-sm text-blue-600",children:"Resultados Filtrados"}),m.jsx("p",{className:"text-2xl font-bold text-blue-900",children:h.length})]}),m.jsxs("div",{className:"bg-green-50 rounded-lg shadow-md p-4",children:[m.jsx("p",{className:"text-sm text-green-600",children:"Empresas Ativas"}),m.jsx("p",{className:"text-2xl font-bold text-green-900",children:o.length})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[m.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx(uc,{className:"h-5 w-5 text-gray-600 mr-2"}),m.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Empresas Cadastradas (",h.length,")"]})]})}),h.length===0?m.jsx("div",{className:"text-center p-10",children:m.jsx("p",{className:"text-gray-500",children:w?"Nenhuma empresa encontrada com os critrios de busca.":"Nenhuma empresa cadastrada."})}):m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Empresa"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CNPJ"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Endereo Completo"}),m.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(A=>m.jsxs("tr",{className:"hover:bg-gray-50",children:[m.jsx("td",{className:"px-6 py-4",children:m.jsx("p",{className:"text-sm font-medium text-gray-900",children:A.name})}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:A.cnpj}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-md",children:A.full_address||"-"}),m.jsx("td",{className:"px-6 py-4 text-right",children:H===A.id?m.jsxs("div",{className:"flex items-center justify-end gap-2",children:[m.jsx("button",{onClick:()=>G(A.id),disabled:R,className:"px-3 py-1 text-xs font-medium text-white bg-red-600 hover:bg-red-700 rounded-md disabled:bg-red-400",children:R?"Excluindo...":"Confirmar"}),m.jsx("button",{onClick:()=>pe(null),disabled:R,className:"px-3 py-1 text-xs font-medium text-gray-700 bg-gray-200 hover:bg-gray-300 rounded-md",children:"Cancelar"})]}):m.jsxs("div",{className:"flex items-center justify-end gap-2",children:[m.jsx("button",{onClick:()=>le(A),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-md transition-colors",title:"Editar empresa",children:m.jsx(jm,{className:"h-4 w-4"})}),m.jsx("button",{onClick:()=>pe(A.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Excluir empresa",children:m.jsx(Cd,{className:"h-4 w-4"})})]})})]},A.id))})]})})]}),k&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[m.jsx("div",{className:"p-6 border-b border-gray-200",children:m.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:T==="create"?"Nova Empresa":"Editar Empresa"})}),m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["CNPJ ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",value:se.cnpj,onChange:A=>re(z=>kt(lt({},z),{cnpj:A.target.value})),placeholder:"00.000.000/0000-00",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),m.jsx("button",{onClick:ae,disabled:te,className:"px-4 py-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg hover:from-purple-600 hover:to-purple-700 transition-all shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",title:"Buscar dados pelo CNPJ",children:te?m.jsx(Rr,{className:"h-5 w-5 animate-spin"}):m.jsx(Oh,{className:"h-5 w-5"})})]}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Digite o CNPJ e clique na lupa para buscar os dados automaticamente"})]}),m.jsx(pn,{id:"name",label:"Nome da Empresa",value:se.name,onChange:A=>re(z=>kt(lt({},z),{name:A.target.value})),placeholder:"Ex: Empresa XYZ Ltda",required:!0}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endereo Completo"}),m.jsx("textarea",{value:se.full_address,onChange:A=>re(z=>kt(lt({},z),{full_address:A.target.value})),placeholder:"Rua, nmero, bairro, cidade - UF (ser preenchido automaticamente ao buscar o CNPJ)",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"O endereo ser preenchido automaticamente ao buscar pelo CNPJ"})]})]}),m.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:[m.jsxs("button",{onClick:ue,disabled:Y,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:[m.jsx(ku,{className:"h-5 w-5 inline mr-2"}),"Cancelar"]}),m.jsx("button",{onClick:ke,disabled:Y,className:"px-4 py-2 text-white bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg hover:from-blue-600 hover:to-indigo-700 transition-all shadow-lg hover:shadow-xl disabled:opacity-50",children:Y?m.jsxs(m.Fragment,{children:[m.jsx(Rr,{className:"h-5 w-5 inline mr-2 animate-spin"}),"Salvando..."]}):m.jsxs(m.Fragment,{children:[m.jsx(B6,{className:"h-5 w-5 inline mr-2"}),"Salvar"]})})]})]})})]})},kA=({setPage:r})=>{const[e,t]=oe.useState([]),[i,s]=oe.useState([]),[o,c]=oe.useState(!0),[h,f]=oe.useState(""),[d,v]=oe.useState(!1),[_,N]=oe.useState(null),[w,E]=oe.useState(!1),[k,L]=oe.useState(!1),[T,U]=oe.useState(""),[O,B]=oe.useState(""),[Y,ie]=oe.useState({full_name:"",email:"",password:"",role:"",company_id:"",additional_company_ids:[]});oe.useEffect(()=>{X(),te()},[]);const te=()=>de(null,null,function*(){try{const{data:ae,error:ke}=yield Et.from("companies").select("*").order("name");if(ke)throw ke;s(ae||[])}catch(ae){console.error("Erro ao buscar empresas:",ae)}}),X=()=>de(null,null,function*(){try{if(c(!0),!dn){console.error("Service Role Key no configurada. Configure VITE_SUPABASE_SERVICE_ROLE_KEY no .env.local"),B(" Erro: Service Role Key no configurada"),setTimeout(()=>B(""),5e3);return}const{data:ae,error:ke}=yield dn.from("user_profiles").select(`
                    *,
                    company:companies!company_id(*)
                `).order("full_name");if(ke)throw ke;const G=yield Promise.all((ae||[]).map(A=>de(null,null,function*(){if(A.additional_company_ids&&A.additional_company_ids.length>0&&dn){const{data:z}=yield dn.from("companies").select("*").in("id",A.additional_company_ids);return kt(lt({},A),{companies:[A.company,...z||[]]})}return kt(lt({},A),{companies:[A.company]})})));t(G)}catch(ae){console.error("Erro ao buscar usurios:",ae)}finally{c(!1)}}),H=ae=>{ae?(N(ae),ie({full_name:ae.full_name,email:ae.email,password:"",role:ae.role,company_id:ae.company_id,additional_company_ids:ae.additional_company_ids||[]})):(N(null),ie({full_name:"",email:"",password:"",role:"",company_id:"",additional_company_ids:[]})),U(""),L(!1),v(!0)},pe=()=>{v(!1),N(null),U("")},R=()=>de(null,null,function*(){try{if(E(!0),U(""),!Y.full_name.trim()){U(" O nome completo  obrigatrio");return}if(!Y.email.trim()){U(" O email  obrigatrio");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Y.email)){U(" Por favor, insira um email vlido");return}if(!Y.role){U(" Selecione um perfil (Admin, Tcnico ou Cliente)");return}if(!Y.company_id){U(" Selecione a empresa principal do usurio");return}if(!_&&!Y.password){U(" A senha  obrigatria para novos usurios");return}if(!_&&Y.password&&Y.password.length<6){U(" A senha deve ter no mnimo 6 caracteres");return}if(_){if(Y.password&&Y.password.length<6){U(" A nova senha deve ter no mnimo 6 caracteres");return}const{error:ke}=yield Et.from("user_profiles").update({full_name:Y.full_name,role:Y.role,company_id:Y.company_id,additional_company_ids:Y.additional_company_ids}).eq("id",_.id);if(ke)throw ke;if(Y.password){if(!dn)throw new Error(" Service Role Key no configurada. Configure VITE_SUPABASE_SERVICE_ROLE_KEY no arquivo .env");const{error:G}=yield dn.auth.admin.updateUserById(_.id,{password:Y.password});if(G)throw G}}else{if(!dn)throw new Error(` Service Role Key no configurada.

Para criar usurios, voc precisa:
1. Ir no Supabase Dashboard  Settings  API
2. Copiar a "service_role" key
3. Criar arquivo .env na raiz do projeto
4. Adicionar: VITE_SUPABASE_SERVICE_ROLE_KEY=sua_chave_aqui`);const{data:ke,error:G}=yield dn.auth.admin.createUser({email:Y.email,password:Y.password,email_confirm:!0});if(G)throw console.error("Erro ao criar usurio no Auth:",G),G.message.includes("User not allowed")||G.message.includes("403")?new Error(" Erro de permisso: Configure a Service Role Key no arquivo .env para criar usurios."):G.message.includes("already registered")?new Error(" Este email j est cadastrado no sistema."):new Error(` Erro ao criar usurio: ${G.message}`);const{error:A}=yield dn.from("user_profiles").insert({id:ke.user.id,full_name:Y.full_name,email:Y.email,role:Y.role,company_id:Y.company_id,additional_company_ids:Y.additional_company_ids,force_password_change:!0});if(A)throw console.error("Erro ao criar perfil:",A),yield dn.auth.admin.deleteUser(ke.user.id),new Error(` Erro ao criar perfil: ${A.message||"Tente novamente"}`);pe(),yield X(),B(" Usurio criado com sucesso! Ele precisar trocar a senha no primeiro acesso."),setTimeout(()=>B(""),5e3)}_&&(yield X(),pe(),B(" Usurio atualizado com sucesso!"),setTimeout(()=>B(""),5e3))}catch(ae){console.error("Erro ao salvar usurio:",ae);const ke=ae instanceof Error?ae.message:" Erro desconhecido ao salvar usurio";U(ke)}finally{E(!1)}}),$=ae=>de(null,null,function*(){if(window.confirm(`Tem certeza que deseja excluir ${ae.full_name}?`)){if(!dn){B(" Service Role Key no configurada. No  possvel excluir usurios."),setTimeout(()=>B(""),5e3);return}try{const{error:ke}=yield dn.auth.admin.deleteUser(ae.id);if(ke)throw ke;yield X(),B(" Usurio excludo com sucesso!"),setTimeout(()=>B(""),5e3)}catch(ke){console.error("Erro ao excluir usurio:",ke),B(" Erro ao excluir usurio"),setTimeout(()=>B(""),5e3)}}}),se=ae=>{ie(ke=>{const G=ke.additional_company_ids||[];return G.includes(ae)?kt(lt({},ke),{additional_company_ids:G.filter(A=>A!==ae)}):kt(lt({},ke),{additional_company_ids:[...G,ae]})})},re=()=>{const ae=i.filter(A=>A.id!==Y.company_id).map(A=>A.id),ke=Y.additional_company_ids||[],G=ae.every(A=>ke.includes(A));ie(G?A=>kt(lt({},A),{additional_company_ids:[]}):A=>kt(lt({},A),{additional_company_ids:ae}))},he=e.filter(ae=>{var ke;return ae.full_name.toLowerCase().includes(h.toLowerCase())||ae.email.toLowerCase().includes(h.toLowerCase())||((ke=ae.company)==null?void 0:ke.name.toLowerCase().includes(h.toLowerCase()))}),K={total:e.length,admins:e.filter(ae=>ae.role==="admin").length,tecnicos:e.filter(ae=>ae.role==="tecnico").length,clientes:e.filter(ae=>ae.role==="cliente").length},le=i.filter(ae=>ae.id!==Y.company_id),ue=le.length>0&&le.every(ae=>(Y.additional_company_ids||[]).includes(ae.id));return o?m.jsx("div",{className:"flex justify-center items-center h-96",children:m.jsx("div",{className:"text-gray-600",children:"Carregando usurios..."})}):m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[O&&m.jsxs("div",{className:"fixed top-4 right-4 z-50 bg-green-500 text-white px-6 py-4 rounded-lg shadow-xl flex items-center space-x-3 animate-slide-in",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),m.jsx("p",{className:"font-medium",children:O})]}),m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{children:[m.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[m.jsx(Ry,{className:"h-8 w-8 mr-2 text-green-600"}),"Gerenciamento de Usurios"]}),m.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Gerencie usurios do sistema"})]}),m.jsxs("button",{onClick:()=>r("dashboard"),className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Voltar ao Dashboard",children:[m.jsx(ys,{className:"h-5 w-5"}),m.jsx("span",{className:"font-medium",children:"Voltar"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[m.jsx("div",{className:"text-sm text-gray-600",children:"Total de Usurios"}),m.jsx("div",{className:"text-2xl font-bold text-gray-900",children:K.total})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[m.jsx("div",{className:"text-sm text-gray-600",children:"Administradores"}),m.jsx("div",{className:"text-2xl font-bold text-red-600",children:K.admins})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[m.jsx("div",{className:"text-sm text-gray-600",children:"Tcnicos"}),m.jsx("div",{className:"text-2xl font-bold text-blue-600",children:K.tecnicos})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[m.jsx("div",{className:"text-sm text-gray-600",children:"Clientes"}),m.jsx("div",{className:"text-2xl font-bold text-green-600",children:K.clientes})]})]}),m.jsx("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[m.jsx("div",{className:"relative flex-1 w-full sm:max-w-md",children:m.jsx(pn,{label:"",placeholder:"Buscar por nome, email ou empresa...",value:h,onChange:ae=>f(ae.target.value),className:"w-full"})}),m.jsxs("button",{onClick:()=>H(),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 whitespace-nowrap",children:[m.jsx(Ed,{className:"h-5 w-5 mr-2"}),"Novo Usurio"]})]})}),m.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Perfil"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Empresas"}),m.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:he.map(ae=>{var ke;return m.jsxs("tr",{className:"hover:bg-gray-50",children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"text-sm font-medium text-gray-900",children:ae.full_name})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"text-sm text-gray-600",children:ae.email})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${ae.role==="admin"?"bg-red-100 text-red-800":ae.role==="tecnico"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:ae.role==="admin"?"Admin":ae.role==="tecnico"?"Tcnico":"Cliente"})}),m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:"text-sm text-gray-900",children:[m.jsxs("span",{className:"inline-flex items-center gap-1",children:[(ke=ae.company)==null?void 0:ke.name,m.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-green-100 text-green-700 rounded",children:"Principal"})]}),ae.companies&&ae.companies.length>1&&m.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:[ae.companies.slice(1).map(G=>G.name).join(", "),m.jsxs("span",{className:"ml-1 text-gray-400",children:["(+",ae.companies.length-1," adicional",ae.companies.length-1!==1?"is":"",")"]})]})]})}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[m.jsx("button",{onClick:()=>H(ae),className:"text-blue-600 hover:text-blue-900 mr-4",title:"Editar",children:m.jsx(jm,{className:"h-4 w-4"})}),m.jsx("button",{onClick:()=>$(ae),className:"text-red-600 hover:text-red-900",title:"Excluir",children:m.jsx(Cd,{className:"h-4 w-4"})})]})]},ae.id)})})]}),he.length===0&&m.jsx("div",{className:"text-center py-8 text-gray-500",children:"Nenhum usurio encontrado"})]}),d&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:m.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl flex flex-col max-h-[90vh]",children:[m.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:_?"Editar Usurio":"Novo Usurio"}),m.jsx("button",{onClick:pe,className:"text-gray-400 hover:text-gray-600 transition-colors",title:"Fechar","aria-label":"Fechar modal",children:m.jsx(ku,{className:"h-6 w-6"})})]}),m.jsxs("div",{className:"overflow-y-auto flex-1 p-6",children:[T&&m.jsxs("div",{className:"mb-6 p-4 bg-red-50 border-2 border-red-300 rounded-lg flex items-start shadow-sm animate-shake",children:[m.jsx(fc,{className:"h-6 w-6 text-red-600 mr-3 flex-shrink-0 mt-0.5"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"text-sm font-semibold text-red-900 mb-1",children:"Erro de Validao"}),m.jsx("p",{className:"text-sm text-red-800",children:T})]})]}),m.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:m.jsxs("p",{className:"text-xs text-blue-800",children:[m.jsx("strong",{children:"Campos obrigatrios:"})," Todos os campos marcados com ",m.jsx("span",{className:"text-red-600 font-bold",children:"*"})," devem ser preenchidos."]})}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(pn,{label:"Nome Completo *",value:Y.full_name,onChange:ae=>ie(kt(lt({},Y),{full_name:ae.target.value})),placeholder:"Joo da Silva"}),m.jsx(pn,{label:"Email *",type:"email",value:Y.email,onChange:ae=>ie(kt(lt({},Y),{email:ae.target.value})),placeholder:"joao@empresa.com",disabled:!!_}),m.jsxs("div",{className:"relative",children:[m.jsx(pn,{label:_?"Nova Senha (deixe em branco para manter)":"Senha *",type:k?"text":"password",value:Y.password,onChange:ae=>ie(kt(lt({},Y),{password:ae.target.value})),placeholder:"********"}),m.jsx("button",{type:"button",onClick:()=>L(!k),className:"absolute right-3 top-9 text-gray-400 hover:text-gray-700 hover:bg-gray-100 rounded p-1 transition-colors",title:k?"Ocultar senha":"Mostrar senha",children:k?m.jsx(_u,{className:"h-5 w-5"}):m.jsx(Su,{className:"h-5 w-5"})})]}),m.jsxs(zi,{label:"Perfil *",value:Y.role,onChange:ae=>ie(kt(lt({},Y),{role:ae.target.value})),children:[m.jsx("option",{value:"",children:"Selecione..."}),m.jsx("option",{value:"admin",children:"Administrador"}),m.jsx("option",{value:"tecnico",children:"Tcnico"}),m.jsx("option",{value:"cliente",children:"Cliente"})]}),m.jsxs(zi,{label:"Empresa Principal *",value:Y.company_id,onChange:ae=>ie(kt(lt({},Y),{company_id:ae.target.value})),children:[m.jsx("option",{value:"",children:"Selecione..."}),i.map(ae=>m.jsx("option",{value:ae.id,children:ae.name},ae.id))]}),Y.company_id&&le.length>0&&m.jsxs("div",{className:"border-2 border-blue-200 rounded-lg p-4 bg-blue-50",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-800",children:"Empresas Adicionais (opcional)"}),m.jsx("button",{type:"button",onClick:re,className:"px-3 py-1.5 text-xs font-semibold rounded-md transition-colors bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1",children:ue?" Desmarcar todas":" Selecionar todas"})]}),m.jsx("div",{className:"space-y-2.5 max-h-48 overflow-y-auto bg-white rounded-md p-3 border border-gray-200",children:le.map(ae=>m.jsxs("label",{className:"flex items-center p-2 rounded hover:bg-blue-50 cursor-pointer transition-colors",children:[m.jsx("input",{type:"checkbox",checked:(Y.additional_company_ids||[]).includes(ae.id),onChange:()=>se(ae.id),className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 focus:ring-2 cursor-pointer"}),m.jsx("span",{className:"ml-3 text-sm text-gray-700 font-medium",children:ae.name})]},ae.id))}),m.jsx("p",{className:"mt-2 text-xs text-gray-600 italic",children:"Selecione empresas adicionais alm da empresa principal"})]})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t bg-gray-50",children:[m.jsx("button",{onClick:pe,disabled:w,className:"px-4 py-2 rounded-md text-sm font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancelar"}),m.jsx("button",{onClick:R,disabled:w,className:"px-4 py-2 rounded-md text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:w?m.jsxs(m.Fragment,{children:[m.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Salvando..."]}):_?"Atualizar Usurio":"Criar Usurio"})]})]})})]})},TA=({setPage:r})=>{var pe;const{profile:e,user:t,refreshProfile:i}=xs(),[s,o]=oe.useState(!1),[c,h]=oe.useState(null),[f,d]=oe.useState((e==null?void 0:e.full_name)||""),[v,_]=oe.useState((e==null?void 0:e.phone)||""),[N,w]=oe.useState(""),[E,k]=oe.useState(""),[L,T]=oe.useState(""),[U,O]=oe.useState(!1),[B,Y]=oe.useState(!1),[ie,te]=oe.useState(!1),X=()=>de(null,null,function*(){try{if(o(!0),h(null),!f.trim()){h({type:"error",text:"Nome  obrigatrio"});return}const{error:R}=yield Et.from("user_profiles").update({full_name:f,phone:v||null}).eq("id",t==null?void 0:t.id);if(R)throw R;h({type:"success",text:"Perfil atualizado com sucesso!"}),yield new Promise($=>setTimeout($,500)),yield i()}catch(R){console.error("Erro ao atualizar perfil:",R),h({type:"error",text:"Erro ao atualizar perfil"})}finally{o(!1)}}),H=()=>de(null,null,function*(){try{if(o(!0),h(null),!N||!E||!L){h({type:"error",text:"Preencha todos os campos de senha"});return}if(E!==L){h({type:"error",text:"As senhas no coincidem"});return}if(E.length<6){h({type:"error",text:"A nova senha deve ter pelo menos 6 caracteres"});return}const{error:R}=yield Et.auth.signInWithPassword({email:(e==null?void 0:e.email)||"",password:N});if(R){h({type:"error",text:"Senha atual incorreta"});return}const{error:$}=yield Et.auth.updateUser({password:E});if($)throw $;h({type:"success",text:"Senha alterada com sucesso!"}),w(""),k(""),T("")}catch(R){console.error("Erro ao alterar senha:",R),h({type:"error",text:"Erro ao alterar senha"})}finally{o(!1)}});return e?m.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[m.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[m.jsx(Cy,{className:"h-8 w-8 mr-2 text-blue-600"}),"Meu Perfil"]}),m.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Gerencie suas informaes pessoais e senha"})]}),m.jsxs("button",{onClick:()=>r("dashboard"),className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Voltar ao Dashboard",children:[m.jsx(ys,{className:"h-5 w-5"}),m.jsx("span",{className:"font-medium",children:"Voltar"})]})]}),c&&m.jsxs("div",{className:`mb-6 p-4 rounded-md flex items-start ${c.type==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[c.type==="success"?m.jsx(cc,{className:"h-5 w-5 text-green-600 mr-2 flex-shrink-0 mt-0.5"}):m.jsx(fc,{className:"h-5 w-5 text-red-600 mr-2 flex-shrink-0 mt-0.5"}),m.jsx("span",{className:`text-sm ${c.type==="success"?"text-green-800":"text-red-800"}`,children:c.text})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informaes Pessoais"}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(pn,{label:"Nome Completo",value:f,onChange:R=>d(R.target.value),placeholder:"Seu nome completo"}),m.jsx(pn,{label:"Email",type:"email",value:e.email,disabled:!0,className:"bg-gray-50 cursor-not-allowed"}),m.jsx(pn,{label:"Telefone",type:"tel",value:v,onChange:R=>_(R.target.value),placeholder:"(00) 00000-0000"}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Perfil"}),m.jsx("input",{type:"text",value:e.role==="admin"?"Administrador":e.role==="tecnico"?"Tcnico":"Cliente",disabled:!0,title:"Perfil do usurio",className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 cursor-not-allowed"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Empresa"}),m.jsx("input",{type:"text",value:((pe=e.company)==null?void 0:pe.name)||"N/A",disabled:!0,title:"Empresa do usurio",className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 cursor-not-allowed"})]})]}),m.jsx(Or,{onClick:X,disabled:s,className:"w-full bg-blue-600 hover:bg-blue-700",children:s?"Salvando...":"Salvar Alteraes"})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Alterar Senha"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx(pn,{label:"Senha Atual",type:U?"text":"password",value:N,onChange:R=>w(R.target.value),placeholder:"Digite sua senha atual"}),m.jsx("button",{type:"button",onClick:()=>O(!U),className:"absolute right-3 top-9 text-gray-400 hover:text-gray-600",title:U?"Ocultar senha":"Mostrar senha",children:U?m.jsx(_u,{className:"h-5 w-5"}):m.jsx(Su,{className:"h-5 w-5"})})]}),m.jsxs("div",{className:"relative",children:[m.jsx(pn,{label:"Nova Senha",type:B?"text":"password",value:E,onChange:R=>k(R.target.value),placeholder:"Digite a nova senha"}),m.jsx("button",{type:"button",onClick:()=>Y(!B),className:"absolute right-3 top-9 text-gray-400 hover:text-gray-600",title:B?"Ocultar senha":"Mostrar senha",children:B?m.jsx(_u,{className:"h-5 w-5"}):m.jsx(Su,{className:"h-5 w-5"})})]}),m.jsxs("div",{className:"relative",children:[m.jsx(pn,{label:"Confirmar Nova Senha",type:ie?"text":"password",value:L,onChange:R=>T(R.target.value),placeholder:"Digite a nova senha novamente"}),m.jsx("button",{type:"button",onClick:()=>te(!ie),className:"absolute right-3 top-9 text-gray-400 hover:text-gray-600",title:ie?"Ocultar senha":"Mostrar senha",children:ie?m.jsx(_u,{className:"h-5 w-5"}):m.jsx(Su,{className:"h-5 w-5"})})]}),m.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:[m.jsx("p",{className:"text-xs text-blue-800",children:m.jsx("strong",{children:"Dicas de segurana:"})}),m.jsxs("ul",{className:"text-xs text-blue-700 mt-1 ml-4 list-disc space-y-1",children:[m.jsx("li",{children:"Use pelo menos 6 caracteres"}),m.jsx("li",{children:"Misture letras, nmeros e smbolos"}),m.jsx("li",{children:"No use senhas bvias ou repetidas"})]})]}),m.jsx(Or,{onClick:H,disabled:s,className:"w-full bg-purple-600 hover:bg-purple-700",children:s?"Alterando...":"Alterar Senha"})]})]})]})]}):m.jsx("div",{className:"flex justify-center items-center h-96",children:m.jsx("div",{className:"text-gray-600",children:"Carregando perfil..."})})},OA=()=>{const{profile:r,user:e,refreshProfile:t}=xs(),[i,s]=oe.useState(""),[o,c]=oe.useState(""),[h,f]=oe.useState(!1),[d,v]=oe.useState(!1),[_,N]=oe.useState(!1),[w,E]=oe.useState(""),k=()=>de(null,null,function*(){try{if(N(!0),E(""),!i||!o){E("Preencha todos os campos");return}if(i!==o){E("As senhas no coincidem");return}if(i.length<6){E("A senha deve ter pelo menos 6 caracteres");return}if(!dn){console.error(" supabaseAdmin no est configurado!"),E("Erro de configurao. Entre em contato com o administrador.");return}console.log(" supabaseAdmin est configurado"),console.log(" Atualizando senha para userId:",e==null?void 0:e.id);const{error:L}=yield Et.auth.updateUser({password:i});if(L)throw console.error(" Erro ao atualizar senha:",L),L;console.log(" Senha alterada com sucesso!"),console.log(" Atualizando flag force_password_change para false..."),console.log(" User ID:",e==null?void 0:e.id);const{data:T}=yield dn.from("user_profiles").select("force_password_change").eq("id",e==null?void 0:e.id).single();console.log(" Valor ANTES da atualizao:",T);const{data:U,error:O}=yield dn.from("user_profiles").update({force_password_change:!1}).eq("id",e==null?void 0:e.id).select();if(O)throw console.error(" Erro ao atualizar flag:",O),O;console.log(" Flag atualizada no banco - Resposta do UPDATE:",U);const{data:B}=yield dn.from("user_profiles").select("force_password_change").eq("id",e==null?void 0:e.id).single();console.log(" Valor DEPOIS da atualizao:",B),console.log(" Aguardando 1 segundo para propagao no banco..."),yield new Promise(Y=>setTimeout(Y,1e3)),console.log(" Atualizando perfil no contexto..."),yield t(),console.log(" Perfil atualizado no contexto!"),console.log(" Verificando perfil atual aps refresh:",r),(r==null?void 0:r.force_password_change)===!0?(console.error(" AVISO: Perfil ainda mostra force_password_change=true aps atualizao!"),console.error(" Tentando recarregar a pgina como fallback..."),yield new Promise(Y=>setTimeout(Y,500)),window.location.reload()):console.log(" Sucesso! A tela deve mudar para o dashboard agora.")}catch(L){console.error("Erro ao alterar senha:",L),E("Erro ao alterar senha. Tente novamente.")}finally{N(!1)}});return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-8",children:[m.jsx("div",{className:"flex justify-center mb-4",children:m.jsx("div",{className:"bg-yellow-100 rounded-full p-3",children:m.jsx(fc,{className:"h-12 w-12 text-yellow-600"})})}),m.jsx("h1",{className:"text-2xl font-bold text-gray-900 text-center mb-2",children:"Alterao de Senha Obrigatria"}),m.jsx("p",{className:"text-sm text-gray-600 text-center mb-6",children:"Por segurana, voc precisa alterar sua senha no primeiro acesso"}),m.jsxs("div",{className:"bg-gray-50 rounded-md p-4 mb-6",children:[m.jsxs("p",{className:"text-sm text-gray-700",children:[m.jsx("strong",{children:"Nome:"})," ",r==null?void 0:r.full_name]}),m.jsxs("p",{className:"text-sm text-gray-700 mt-1",children:[m.jsx("strong",{children:"Email:"})," ",r==null?void 0:r.email]})]}),w&&m.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md flex items-start",children:[m.jsx(fc,{className:"h-5 w-5 text-red-600 mr-2 flex-shrink-0 mt-0.5"}),m.jsx("span",{className:"text-sm text-red-800",children:w})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx(pn,{label:"Nova Senha",type:h?"text":"password",value:i,onChange:L=>s(L.target.value),placeholder:"Digite sua nova senha"}),m.jsx("button",{type:"button",onClick:()=>f(!h),className:"absolute right-3 top-9 text-gray-400 hover:text-gray-600",title:h?"Ocultar senha":"Mostrar senha",children:h?m.jsx(_u,{className:"h-5 w-5"}):m.jsx(Su,{className:"h-5 w-5"})})]}),m.jsxs("div",{className:"relative",children:[m.jsx(pn,{label:"Confirmar Nova Senha",type:d?"text":"password",value:o,onChange:L=>c(L.target.value),placeholder:"Digite a senha novamente"}),m.jsx("button",{type:"button",onClick:()=>v(!d),className:"absolute right-3 top-9 text-gray-400 hover:text-gray-600",title:d?"Ocultar senha":"Mostrar senha",children:d?m.jsx(_u,{className:"h-5 w-5"}):m.jsx(Su,{className:"h-5 w-5"})})]}),m.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:[m.jsx("p",{className:"text-xs text-blue-800",children:m.jsx("strong",{children:"Requisitos de segurana:"})}),m.jsxs("ul",{className:"text-xs text-blue-700 mt-1 ml-4 list-disc space-y-1",children:[m.jsx("li",{children:"Mnimo de 6 caracteres"}),m.jsx("li",{children:"Use uma combinao de letras, nmeros e smbolos"}),m.jsx("li",{children:"Evite senhas bvias ou fceis de adivinhar"})]})]}),m.jsx(Or,{onClick:k,disabled:_,className:"w-full bg-blue-600 hover:bg-blue-700",children:_?"Alterando senha...":"Confirmar Nova Senha"})]}),m.jsx("p",{className:"text-xs text-gray-500 text-center mt-6",children:"Esta  uma medida de segurana para proteger sua conta. Aps alterar a senha, voc ter acesso completo ao sistema."})]})})},RA=({setPage:r})=>{const{profile:e}=xs(),[t,i]=oe.useState(!0),[s,o]=oe.useState(!1),[c,h]=oe.useState(!1),[f,d]=oe.useState(null),[v,_]=oe.useState("Portal de Chamados"),[N,w]=oe.useState(null),[E,k]=oe.useState("#2563eb"),[L,T]=oe.useState(null);oe.useEffect(()=>{U()},[]);const U=()=>de(null,null,function*(){try{console.log(" [SystemSettings] Iniciando fetchSettings..."),i(!0);const ie=dn||Et;console.log(" [SystemSettings] Usando client:",dn?"ADMIN":"NORMAL");const te=ie.from("system_settings").select("*"),X=new Promise((R,$)=>setTimeout(()=>$(new Error(" Timeout: A consulta demorou mais de 10 segundos")),1e4)),{data:H,error:pe}=yield Promise.race([te,X]);if(console.log(" [SystemSettings] Resultado:",{success:!pe,count:H==null?void 0:H.length}),pe)throw pe;H&&H.forEach(R=>{switch(R.setting_key){case"portal_name":_(R.setting_value||"Portal de Chamados");break;case"logo_url":w(R.setting_value),T(R.setting_value);break;case"primary_color":k(R.setting_value||"#2563eb");break}})}catch(ie){console.error(" [SystemSettings] Erro ao buscar configuraes:",ie),d({type:"error",text:ie instanceof Error?ie.message:"Erro ao carregar configuraes"})}finally{console.log(" [SystemSettings] Finalizado"),i(!1)}}),O=ie=>de(null,null,function*(){var te;try{const X=(te=ie.target.files)==null?void 0:te[0];if(!X)return;if(!X.type.startsWith("image/")){d({type:"error",text:"Por favor, selecione uma imagem vlida"});return}if(X.size>2*1024*1024){d({type:"error",text:"Imagem muito grande. Mximo 2MB"});return}h(!0),d(null);const H=X.name.split(".").pop(),R=`logos/${`logo-${Date.now()}.${H}`}`,{error:$}=yield Et.storage.from("portal-assets").upload(R,X,{cacheControl:"3600",upsert:!1});if($)throw console.error("Erro no upload:",$),$;const{data:se}=Et.storage.from("portal-assets").getPublicUrl(R),re=se.publicUrl;if(N){const K=N.split("/").slice(-2).join("/");yield Et.storage.from("portal-assets").remove([K])}const{error:he}=yield Et.from("system_settings").update({setting_value:re,updated_at:new Date().toISOString(),updated_by:e==null?void 0:e.id}).eq("setting_key","logo_url");if(he)throw he;w(re),T(re),d({type:"success",text:"Logo atualizada com sucesso!"})}catch(X){console.error("Erro ao fazer upload:",X),d({type:"error",text:"Erro ao fazer upload da imagem"})}finally{h(!1)}}),B=()=>de(null,null,function*(){if(!(!N||!confirm("Tem certeza que deseja remover a logo?")))try{h(!0);const ie=N.split("/").slice(-2).join("/");yield Et.storage.from("portal-assets").remove([ie]);const{error:te}=yield Et.from("system_settings").update({setting_value:null,updated_at:new Date().toISOString(),updated_by:e==null?void 0:e.id}).eq("setting_key","logo_url");if(te)throw te;w(null),T(null),d({type:"success",text:"Logo removida com sucesso!"})}catch(ie){console.error("Erro ao remover logo:",ie),d({type:"error",text:"Erro ao remover logo"})}finally{h(!1)}}),Y=()=>de(null,null,function*(){try{o(!0),d(null);const{error:ie}=yield Et.from("system_settings").update({setting_value:v,updated_at:new Date().toISOString(),updated_by:e==null?void 0:e.id}).eq("setting_key","portal_name");if(ie)throw ie;const{error:te}=yield Et.from("system_settings").update({setting_value:E,updated_at:new Date().toISOString(),updated_by:e==null?void 0:e.id}).eq("setting_key","primary_color");if(te)throw te;d({type:"success",text:"Configuraes salvas com sucesso!"})}catch(ie){console.error("Erro ao salvar configuraes:",ie),d({type:"error",text:"Erro ao salvar configuraes"})}finally{o(!1)}});return t?m.jsx("div",{className:"flex justify-center items-center h-96",children:m.jsx(Rr,{className:"h-8 w-8 animate-spin text-blue-600"})}):m.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[m.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[m.jsx(Ty,{className:"h-8 w-8 mr-2 text-blue-600"}),"Configuraes do Sistema"]}),m.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Personalize a aparncia e informaes do portal"})]}),m.jsxs("button",{onClick:()=>r("dashboard"),className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Voltar ao Dashboard",children:[m.jsx(ys,{className:"h-5 w-5"}),m.jsx("span",{className:"font-medium",children:"Voltar"})]})]}),f&&m.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-start ${f.type==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[f.type==="success"?m.jsx(H2,{className:"h-5 w-5 text-green-600 mr-2 flex-shrink-0 mt-0.5"}):m.jsx(ku,{className:"h-5 w-5 text-red-600 mr-2 flex-shrink-0 mt-0.5"}),m.jsx("p",{className:`text-sm font-medium ${f.type==="success"?"text-green-800":"text-red-800"}`,children:f.text})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[m.jsx(j6,{className:"h-5 w-5 mr-2 text-blue-600"}),"Logo do Portal"]}),m.jsxs("div",{className:"space-y-4",children:[L&&m.jsx("div",{className:"flex items-center justify-center p-6 bg-gray-50 rounded-lg border-2 border-gray-200",children:m.jsx("img",{src:L,alt:"Logo do Portal",className:"max-h-32 object-contain"})}),m.jsxs("div",{className:"flex gap-3",children:[m.jsxs("label",{className:"flex-1",children:[m.jsx("input",{type:"file",accept:"image/*",onChange:O,disabled:c,className:"hidden"}),m.jsx("div",{className:`
                                    flex items-center justify-center gap-2 px-4 py-3 
                                    bg-blue-600 hover:bg-blue-700 text-white font-medium 
                                    rounded-lg cursor-pointer transition-colors
                                    ${c?"opacity-50 cursor-not-allowed":""}
                                `,children:c?m.jsxs(m.Fragment,{children:[m.jsx(Rr,{className:"h-5 w-5 animate-spin"}),m.jsx("span",{children:"Enviando..."})]}):m.jsxs(m.Fragment,{children:[m.jsx(V6,{className:"h-5 w-5"}),m.jsx("span",{children:L?"Trocar Logo":"Enviar Logo"})]})})]}),L&&m.jsx("button",{onClick:B,disabled:c,className:"px-4 py-3 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50",title:"Remover Logo","aria-label":"Remover Logo",children:m.jsx(ku,{className:"h-5 w-5"})})]}),m.jsx("p",{className:"text-xs text-gray-500",children:"Formatos aceitos: PNG, JPG, SVG. Tamanho mximo: 2MB"})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informaes Gerais"}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(pn,{id:"portal_name",label:"Nome do Portal",value:v,onChange:ie=>_(ie.target.value),placeholder:"Ex: Portal de Chamados"}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cor Primria"}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"h-10 w-20 rounded border border-gray-300 flex-shrink-0 primary-color-preview",style:{"--primary-color":E},"aria-label":"Preview da cor primria"}),m.jsx(pn,{id:"color_hex",label:"",value:E,onChange:ie=>k(ie.target.value),placeholder:"#2563eb",className:"flex-1"})]})]}),m.jsx("div",{className:"pt-4",children:m.jsxs(Or,{onClick:Y,isLoading:s,disabled:s,className:"w-full",children:[m.jsx(H2,{className:"h-5 w-5 mr-2"}),"Salvar Configuraes"]})})]})]})]})]})},DA=({setPage:r})=>{const{profile:e}=xs(),[t,i]=oe.useState([]),[s,o]=oe.useState([]),[c,h]=oe.useState(!0),[f,d]=oe.useState(null),[v,_]=oe.useState(""),[N,w]=oe.useState("all"),[E,k]=oe.useState(!1),[L,T]=oe.useState(null),U=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="tecnico";oe.useEffect(()=>(console.log(" [EquipmentManagement] Componente montado, iniciando loadData..."),i([]),o([]),O(),()=>{console.log(" [EquipmentManagement] Componente desmontado")}),[]);const O=()=>de(null,null,function*(){console.log(" Carregando dados..."),h(!0),d(null);const X=((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="tecnico")&&dn?dn:Et;console.log(" [loadData] Usando client:",dn&&((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="tecnico")?"ADMIN":"NORMAL");try{console.log(" Buscando empresas...");const H=X.from("companies").select("*").order("name"),{data:pe,error:R}=yield H;if(R)throw console.error(" Erro ao carregar empresas:",R),R;console.log(" Empresas carregadas:",pe==null?void 0:pe.length),o(pe||[]),console.log(" Buscando equipamentos...");const $=X.from("equipments").select("*").order("created_at",{ascending:!1}),{data:se,error:re}=yield $;if(re){if(console.error(" Erro ao carregar equipamentos:",re),console.error(" Cdigo do erro:",re.code),console.error(" Mensagem:",re.message),re.code==="PGRST116"){d("Erro de permisso ao carregar equipamentos. Verifique as polticas RLS.");return}throw re}console.log(" Equipamentos carregados:",se==null?void 0:se.length),i(se||[])}catch(H){console.error(" Erro geral ao carregar dados:",H),d("Erro ao carregar dados. Verifique o console para mais detalhes.")}finally{console.log(" loadData finalizado, setando loading=false"),h(!1)}}),B=X=>{T(X||null),k(!0)},Y=X=>de(null,null,function*(){if(!U||!confirm(`Tem certeza que deseja excluir o equipamento:
${X.manufacturer} - ${X.model}?`))return;const pe=((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="tecnico")&&dn?dn:Et;try{const{error:R}=yield pe.from("equipments").delete().eq("id",X.id);if(R)throw R;alert(" Equipamento excludo com sucesso!"),O()}catch(R){console.error("Erro ao excluir equipamento:",R),alert(" Erro ao excluir equipamento. Tente novamente.")}}),ie=t.filter(X=>{var R;const H=X.manufacturer.toLowerCase().includes(v.toLowerCase())||X.model.toLowerCase().includes(v.toLowerCase())||((R=X.serial_number)==null?void 0:R.toLowerCase().includes(v.toLowerCase())),pe=N==="all"||X.company_id===N;return H&&pe}),te=X=>{var H;return((H=s.find(pe=>pe.id===X))==null?void 0:H.name)||"Empresa no encontrada"};return U?m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gerenciamento de Equipamentos"}),m.jsx("p",{className:"text-gray-600 mt-1",children:"Gerencie todos os equipamentos cadastrados no sistema"})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs(Or,{onClick:()=>B(),className:"flex items-center gap-2",children:[m.jsx(Ed,{className:"h-5 w-5"}),"Novo Equipamento"]}),m.jsxs("button",{onClick:()=>r("dashboard"),className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[m.jsx(ys,{className:"h-5 w-5"}),m.jsx("span",{className:"font-medium",children:"Voltar"})]})]})]}),f&&m.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:m.jsxs("p",{className:"text-red-800",children:[" ",f]})}),m.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx(Oh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),m.jsx("input",{type:"text",placeholder:"Buscar por fabricante, modelo ou nmero de srie...",value:v,onChange:X=>_(X.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),m.jsx("label",{htmlFor:"company-select",className:"sr-only",children:"Empresa"}),m.jsxs("select",{id:"company-select","aria-label":"Empresa",value:N,onChange:X=>w(X.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[m.jsx("option",{value:"all",children:"Todas as empresas"}),s.map(X=>m.jsx("option",{value:X.id,children:X.name},X.id))]})]})}),c?m.jsx("div",{className:"flex justify-center py-12",children:m.jsx(Rr,{className:"h-8 w-8 animate-spin text-blue-600"})}):ie.length===0?m.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[m.jsx(Rh,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-500 text-lg",children:"Nenhum equipamento encontrado"})]}):m.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Empresa"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fabricante"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Modelo"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nmero de Srie"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Localizao"}),m.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ie.map(X=>m.jsxs("tr",{className:"hover:bg-gray-50",children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx(uc,{className:"h-5 w-5 text-gray-400 mr-2"}),m.jsx("span",{className:"text-sm font-medium text-gray-900",children:te(X.company_id)})]})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:X.manufacturer}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:X.model}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:X.serial_number||"-"}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:X.application_type?m.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${X.application_type==="Acesso"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:X.application_type}):m.jsx("span",{className:"text-sm text-gray-500",children:"-"})}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:X.internal_location||"-"}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[m.jsx("button",{onClick:()=>B(X),className:"text-blue-600 hover:text-blue-900 mr-4",title:"Editar",children:m.jsx(jm,{className:"h-5 w-5"})}),m.jsx("button",{onClick:()=>Y(X),className:"text-red-600 hover:text-red-900",title:"Excluir",children:m.jsx(Cd,{className:"h-5 w-5"})})]})]},X.id))})]})})}),m.jsx(qb,{isOpen:E,onClose:()=>{k(!1),T(null)},companies:s,initialEquipment:L,onSaved:()=>de(null,null,function*(){alert(" Equipamento salvo com sucesso!"),yield O()})})]}):m.jsxs("div",{className:"text-center py-12",children:[m.jsx("p",{className:"text-red-600",children:" Acesso negado. Apenas administradores e tcnicos podem gerenciar equipamentos."}),m.jsx(Or,{onClick:()=>r("dashboard"),className:"mt-4",children:"Voltar ao Dashboard"})]})},PA=()=>{var O;const{profile:r,signOut:e}=xs(),[t,i]=oe.useState("dashboard"),[s,o]=oe.useState(null),[c,h]=oe.useState("Portal de Chamados"),[f,d]=oe.useState(null),[v,_]=oe.useState(!1),[N,w]=oe.useState(""),[E,k]=oe.useState(void 0);if(oe.useEffect(()=>{de(null,null,function*(){try{const{data:Y}=yield Et.from("system_settings").select("setting_key, setting_value").in("setting_key",["portal_name","logo_url"]);if(Y){const ie=Y.find(X=>X.setting_key==="portal_name"),te=Y.find(X=>X.setting_key==="logo_url");ie!=null&&ie.setting_value&&h(ie.setting_value),te!=null&&te.setting_value&&d(te.setting_value)}}catch(Y){console.error("Erro ao buscar configuraes do sistema:",Y)}})},[]),r!=null&&r.force_password_change)return m.jsx(OA,{});const L=B=>{o(B),i("ticket-detail")},T=(B="",Y)=>{w(B),_(!0),k(()=>Y),i("companies")},U=()=>{switch(t){case"dashboard":return m.jsx(op,{setPage:i,onViewTicket:L},"dashboard");case"new-ticket":return m.jsx(CA,{setPage:i,onOpenCompanyModal:T},"new-ticket");case"ticket-detail":return s?m.jsx(Z6,{ticketId:s,setPage:i},`ticket-${s}`):m.jsx(op,{setPage:i,onViewTicket:L},"dashboard-fallback");case"reports":return m.jsx(EA,{setPage:i},"reports");case"companies":return m.jsx(LA,{setPage:i,openModal:v,initialCNPJ:N,onModalClose:()=>{_(!1),w(""),k(void 0)},onCompanyCreated:B=>{E&&E(B),_(!1),w(""),k(void 0),i("new-ticket")}},"companies");case"users":return m.jsx(kA,{setPage:i},"users");case"equipments":return m.jsx(DA,{setPage:i},"equipments");case"profile":return m.jsx(TA,{setPage:i},"profile");case"settings":return m.jsx(RA,{setPage:i},"settings");default:return m.jsx(op,{setPage:i,onViewTicket:L},"dashboard-default")}};return m.jsxs("div",{className:"min-h-screen bg-gray-100",children:[m.jsx("header",{className:"bg-white shadow-sm",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"flex justify-between items-center h-16",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[f?m.jsx("img",{src:f,alt:"Logo",className:"h-10 w-auto object-contain"}):m.jsx(Oy,{className:"h-8 w-8 text-blue-600"}),m.jsx("span",{className:"text-xl font-semibold text-gray-800",children:c})]}),m.jsxs("div",{className:"flex items-center",children:[(r==null?void 0:r.role)==="admin"&&m.jsxs(m.Fragment,{children:[t!=="reports"&&m.jsxs("button",{onClick:()=>i("reports"),className:"mr-4 flex items-center px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-100 transition-colors",title:"Relatrios",children:[m.jsx(f6,{className:"h-5 w-5 mr-1"}),"Relatrios"]}),t!=="companies"&&m.jsxs("button",{onClick:()=>i("companies"),className:"mr-4 flex items-center px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-purple-600 hover:bg-gray-100 transition-colors",title:"Gerenciar Empresas",children:[m.jsx(uc,{className:"h-5 w-5 mr-1"}),"Empresas"]}),t!=="users"&&m.jsxs("button",{onClick:()=>i("users"),className:"mr-4 flex items-center px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-green-600 hover:bg-gray-100 transition-colors",title:"Gerenciar Usurios",children:[m.jsx(Ry,{className:"h-5 w-5 mr-1"}),"Usurios"]}),t!=="settings"&&m.jsxs("button",{onClick:()=>i("settings"),className:"mr-4 flex items-center px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-orange-600 hover:bg-gray-100 transition-colors",title:"Configuraes do Portal",children:[m.jsx(Ty,{className:"h-5 w-5 mr-1"}),"Configuraes"]})]}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="tecnico")&&t!=="equipments"&&m.jsxs("button",{onClick:()=>i("equipments"),className:"mr-4 flex items-center px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-indigo-600 hover:bg-gray-100 transition-colors",title:"Gerenciar Equipamentos",children:[m.jsx(Rh,{className:"h-5 w-5 mr-1"}),"Equipamentos"]}),t!=="profile"&&m.jsxs("button",{onClick:()=>i("profile"),className:"mr-4 flex items-center px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-100 transition-colors",title:"Meu Perfil",children:[m.jsx(Cy,{className:"h-5 w-5 mr-1"}),"Meu Perfil"]}),m.jsxs("div",{className:"mr-4 text-right",children:[m.jsx("p",{className:"text-sm font-medium text-gray-800",children:r==null?void 0:r.full_name}),m.jsx("p",{className:"text-xs text-gray-500",children:(O=r==null?void 0:r.company)==null?void 0:O.name})]}),m.jsx("button",{onClick:e,className:"p-2 rounded-full text-gray-500 hover:text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500",title:"Sair",children:m.jsx(Ly,{className:"h-5 w-5 transform -scale-x-100"})})]})]})})}),m.jsx("main",{children:U()})]})},MA=()=>{const{user:r,profile:e,loading:t}=xs();return t?m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:m.jsx(Rr,{className:"h-12 w-12 animate-spin text-blue-600"})}):m.jsx(m.Fragment,{children:!r||!e?m.jsx(J6,{}):m.jsx(PA,{})})},BA={clearSession:()=>{console.log(" Limpando sesso do Supabase..."),localStorage.clear(),sessionStorage.clear(),window.location.reload()},showLocalStorage:()=>{console.log(" Dados no localStorage:");for(let r=0;r<localStorage.length;r++){const e=localStorage.key(r);if(e){const t=localStorage.getItem(e);console.log(`  ${e}:`,t)}}},clearSupabaseData:()=>{console.log(" Limpando dados do Supabase..."),Object.keys(localStorage).forEach(e=>{(e.startsWith("sb-")||e.includes("supabase"))&&(localStorage.removeItem(e),console.log(`  Removido: ${e}`))}),console.log(" Dados do Supabase removidos. Recarregue a pgina.")}};typeof window!="undefined"&&(window.debugTools=BA);const UA={testConnection(){return de(this,null,function*(){console.log(" [Debug] Testando conexo com Supabase...");try{const r=Date.now(),{data:e,error:t}=yield Et.from("user_profiles").select("count").limit(1),i=Date.now()-r;return console.log(" [Debug] Conexo OK!",{duration:`${i}ms`,data:e,error:t}),{success:!0,duration:i,error:null}}catch(r){return console.error(" [Debug] Erro na conexo:",r),{success:!1,duration:0,error:r}}})},checkAuth(){return de(this,null,function*(){var r;console.log(" [Debug] Verificando autenticao...");try{const{data:{session:e},error:t}=yield Et.auth.getSession();return console.log(" [Debug] Auth Status:",{hasSession:!!e,user:(r=e==null?void 0:e.user)==null?void 0:r.id,expiresAt:e==null?void 0:e.expires_at,error:t}),{session:e,error:t}}catch(e){return console.error(" [Debug] Erro ao verificar auth:",e),{session:null,error:e}}})},clearAll(){return de(this,null,function*(){console.log(" [Debug] Limpando cache e sesso...");try{yield Et.auth.signOut(),localStorage.clear(),sessionStorage.clear(),console.log(" [Debug] Cache limpo! Recarregue a pgina.")}catch(r){console.error(" [Debug] Erro ao limpar:",r)}})},forceReset(){return de(this,null,function*(){console.log(" [Debug] Forando reset completo..."),yield this.clearAll(),window.location.reload()})}};typeof window!="undefined"&&(window.supabaseDebug=UA,console.log(" Use supabaseDebug no console para debugar problemas com Supabase"),console.log("Comandos disponveis:"),console.log("  - supabaseDebug.testConnection()  // Testa conexo bsica"),console.log("  - supabaseDebug.checkAuth()       // Verifica status de autenticao"),console.log("  - supabaseDebug.clearAll()        // Limpa cache e sesso"),console.log("  - supabaseDebug.forceReset()      // Reset completo + reload"));const zA="/portal-chamados/";ux.createRoot(document.getElementById("root")).render(m.jsx(N_,{basename:zA,children:m.jsx(e6,{children:m.jsx(MA,{})})}));export{Cn as _,qA as c,cm as g};
