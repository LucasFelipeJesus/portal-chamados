var Qb=Object.defineProperty,ew=Object.defineProperties;var tw=Object.getOwnPropertyDescriptors;var xf=Object.getOwnPropertySymbols;var wg=Object.prototype.hasOwnProperty,xg=Object.prototype.propertyIsEnumerable;var S0=(i,e,n)=>e in i?Qb(i,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[e]=n,kt=(i,e)=>{for(var n in e||(e={}))wg.call(e,n)&&S0(i,n,e[n]);if(xf)for(var n of xf(e))xg.call(e,n)&&S0(i,n,e[n]);return i},$t=(i,e)=>ew(i,tw(e));var Wl=(i,e)=>{var n={};for(var r in i)wg.call(i,r)&&e.indexOf(r)<0&&(n[r]=i[r]);if(i!=null&&xf)for(var r of xf(i))e.indexOf(r)<0&&xg.call(i,r)&&(n[r]=i[r]);return n};var yn=(i,e,n)=>S0(i,typeof e!="symbol"?e+"":e,n);var fe=(i,e,n)=>new Promise((r,o)=>{var l=f=>{try{h(n.next(f))}catch(p){o(p)}},u=f=>{try{h(n.throw(f))}catch(p){o(p)}},h=f=>f.done?r(f.value):Promise.resolve(f.value).then(l,u);h((n=n.apply(i,e)).next())});function nw(i,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in i)){const l=Object.getOwnPropertyDescriptor(r,o);l&&Object.defineProperty(i,o,l.get?l:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var xN=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Ip(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function aw(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var n=function r(){var o=!1;try{o=this instanceof r}catch(l){}return o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(i).forEach(function(r){var o=Object.getOwnPropertyDescriptor(i,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return i[r]}})}),n}var N0={exports:{}},lh={};var _g;function rw(){if(_g)return lh;_g=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var h in o)h!=="key"&&(l[h]=o[h])}else l=o;return o=l.ref,{$$typeof:i,type:r,key:u,ref:o!==void 0?o:null,props:l}}return lh.Fragment=e,lh.jsx=n,lh.jsxs=n,lh}var Sg;function iw(){return Sg||(Sg=1,N0.exports=rw()),N0.exports}var m=iw(),A0={exports:{}},ch={},j0={exports:{}},E0={};var Ng;function sw(){return Ng||(Ng=1,(function(i){function e(W,se){var le=W.length;W.push(se);e:for(;0<le;){var re=le-1>>>1,Le=W[re];if(0<o(Le,se))W[re]=se,W[le]=Le,le=re;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var se=W[0],le=W.pop();if(le!==se){W[0]=le;e:for(var re=0,Le=W.length,V=Le>>>1;re<V;){var A=2*(re+1)-1,B=W[A],q=A+1,te=W[q];if(0>o(B,le))q<Le&&0>o(te,B)?(W[re]=te,W[q]=le,re=q):(W[re]=B,W[A]=le,re=A);else if(q<Le&&0>o(te,le))W[re]=te,W[q]=le,re=q;else break e}}return se}function o(W,se){var le=W.sortIndex-se.sortIndex;return le!==0?le:W.id-se.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();i.unstable_now=function(){return u.now()-h}}var f=[],p=[],y=1,S=null,N=3,w=!1,C=!1,L=!1,T=!1,k=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate!="undefined"?setImmediate:null;function z(W){for(var se=n(p);se!==null;){if(se.callback===null)r(p);else if(se.startTime<=W)r(p),se.sortIndex=se.expirationTime,e(f,se);else break;se=n(p)}}function J(W){if(L=!1,z(W),!C)if(n(f)!==null)C=!0,ce||(ce=!0,H());else{var se=n(p);se!==null&&ue(J,se.startTime-W)}}var ce=!1,ne=-1,X=5,F=-1;function de(){return T?!0:!(i.unstable_now()-F<X)}function D(){if(T=!1,ce){var W=i.unstable_now();F=W;var se=!0;try{e:{C=!1,L&&(L=!1,G(ne),ne=-1),w=!0;var le=N;try{t:{for(z(W),S=n(f);S!==null&&!(S.expirationTime>W&&de());){var re=S.callback;if(typeof re=="function"){S.callback=null,N=S.priorityLevel;var Le=re(S.expirationTime<=W);if(W=i.unstable_now(),typeof Le=="function"){S.callback=Le,z(W),se=!0;break t}S===n(f)&&r(f),z(W)}else r(f);S=n(f)}if(S!==null)se=!0;else{var V=n(p);V!==null&&ue(J,V.startTime-W),se=!1}}break e}finally{S=null,N=le,w=!1}se=void 0}}finally{se?H():ce=!1}}}var H;if(typeof M=="function")H=function(){M(D)};else if(typeof MessageChannel!="undefined"){var ie=new MessageChannel,ae=ie.port2;ie.port1.onmessage=D,H=function(){ae.postMessage(null)}}else H=function(){k(D,0)};function ue(W,se){ne=k(function(){W(i.unstable_now())},se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return N},i.unstable_next=function(W){switch(N){case 1:case 2:case 3:var se=3;break;default:se=N}var le=N;N=se;try{return W()}finally{N=le}},i.unstable_requestPaint=function(){T=!0},i.unstable_runWithPriority=function(W,se){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var le=N;N=W;try{return se()}finally{N=le}},i.unstable_scheduleCallback=function(W,se,le){var re=i.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?re+le:re):le=re,W){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=le+Le,W={id:y++,callback:se,priorityLevel:W,startTime:le,expirationTime:Le,sortIndex:-1},le>re?(W.sortIndex=le,e(p,W),n(f)===null&&W===n(p)&&(L?(G(ne),ne=-1):L=!0,ue(J,le-re))):(W.sortIndex=Le,e(f,W),C||w||(C=!0,ce||(ce=!0,H()))),W},i.unstable_shouldYield=de,i.unstable_wrapCallback=function(W){var se=N;return function(){var le=N;N=se;try{return W.apply(this,arguments)}finally{N=le}}}})(E0)),E0}var Ag;function ow(){return Ag||(Ag=1,j0.exports=sw()),j0.exports}var C0={exports:{}},qt={};var jg;function lw(){if(jg)return qt;jg=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),N=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=N&&V[N]||V["@@iterator"],typeof V=="function"?V:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,T={};function k(V,A,B){this.props=V,this.context=A,this.refs=T,this.updater=B||C}k.prototype.isReactComponent={},k.prototype.setState=function(V,A){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,A,"setState")},k.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function G(){}G.prototype=k.prototype;function M(V,A,B){this.props=V,this.context=A,this.refs=T,this.updater=B||C}var z=M.prototype=new G;z.constructor=M,L(z,k.prototype),z.isPureReactComponent=!0;var J=Array.isArray;function ce(){}var ne={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function F(V,A,B){var q=B.ref;return{$$typeof:i,type:V,key:A,ref:q!==void 0?q:null,props:B}}function de(V,A){return F(V.type,A,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function H(V){var A={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(B){return A[B]})}var ie=/\/+/g;function ae(V,A){return typeof V=="object"&&V!==null&&V.key!=null?H(""+V.key):A.toString(36)}function ue(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ce,ce):(V.status="pending",V.then(function(A){V.status==="pending"&&(V.status="fulfilled",V.value=A)},function(A){V.status==="pending"&&(V.status="rejected",V.reason=A)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function W(V,A,B,q,te){var oe=typeof V;(oe==="undefined"||oe==="boolean")&&(V=null);var be=!1;if(V===null)be=!0;else switch(oe){case"bigint":case"string":case"number":be=!0;break;case"object":switch(V.$$typeof){case i:case e:be=!0;break;case y:return be=V._init,W(be(V._payload),A,B,q,te)}}if(be)return te=te(V),be=q===""?"."+ae(V,0):q,J(te)?(B="",be!=null&&(B=be.replace(ie,"$&/")+"/"),W(te,A,B,"",function(Pe){return Pe})):te!=null&&(D(te)&&(te=de(te,B+(te.key==null||V&&V.key===te.key?"":(""+te.key).replace(ie,"$&/")+"/")+be)),A.push(te)),1;be=0;var Ae=q===""?".":q+":";if(J(V))for(var Ne=0;Ne<V.length;Ne++)q=V[Ne],oe=Ae+ae(q,Ne),be+=W(q,A,B,oe,te);else if(Ne=w(V),typeof Ne=="function")for(V=Ne.call(V),Ne=0;!(q=V.next()).done;)q=q.value,oe=Ae+ae(q,Ne++),be+=W(q,A,B,oe,te);else if(oe==="object"){if(typeof V.then=="function")return W(ue(V),A,B,q,te);throw A=String(V),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.")}return be}function se(V,A,B){if(V==null)return V;var q=[],te=0;return W(V,q,"","",function(oe){return A.call(B,oe,te++)}),q}function le(V){if(V._status===-1){var A=V._result;A=A(),A.then(function(B){(V._status===0||V._status===-1)&&(V._status=1,V._result=B)},function(B){(V._status===0||V._status===-1)&&(V._status=2,V._result=B)}),V._status===-1&&(V._status=0,V._result=A)}if(V._status===1)return V._result.default;throw V._result}var re=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var A=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(A))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Le={map:se,forEach:function(V,A,B){se(V,function(){A.apply(this,arguments)},B)},count:function(V){var A=0;return se(V,function(){A++}),A},toArray:function(V){return se(V,function(A){return A})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return qt.Activity=S,qt.Children=Le,qt.Component=k,qt.Fragment=n,qt.Profiler=o,qt.PureComponent=M,qt.StrictMode=r,qt.Suspense=f,qt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,qt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return ne.H.useMemoCache(V)}},qt.cache=function(V){return function(){return V.apply(null,arguments)}},qt.cacheSignal=function(){return null},qt.cloneElement=function(V,A,B){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var q=L({},V.props),te=V.key;if(A!=null)for(oe in A.key!==void 0&&(te=""+A.key),A)!X.call(A,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&A.ref===void 0||(q[oe]=A[oe]);var oe=arguments.length-2;if(oe===1)q.children=B;else if(1<oe){for(var be=Array(oe),Ae=0;Ae<oe;Ae++)be[Ae]=arguments[Ae+2];q.children=be}return F(V.type,te,q)},qt.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},qt.createElement=function(V,A,B){var q,te={},oe=null;if(A!=null)for(q in A.key!==void 0&&(oe=""+A.key),A)X.call(A,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(te[q]=A[q]);var be=arguments.length-2;if(be===1)te.children=B;else if(1<be){for(var Ae=Array(be),Ne=0;Ne<be;Ne++)Ae[Ne]=arguments[Ne+2];te.children=Ae}if(V&&V.defaultProps)for(q in be=V.defaultProps,be)te[q]===void 0&&(te[q]=be[q]);return F(V,oe,te)},qt.createRef=function(){return{current:null}},qt.forwardRef=function(V){return{$$typeof:h,render:V}},qt.isValidElement=D,qt.lazy=function(V){return{$$typeof:y,_payload:{_status:-1,_result:V},_init:le}},qt.memo=function(V,A){return{$$typeof:p,type:V,compare:A===void 0?null:A}},qt.startTransition=function(V){var A=ne.T,B={};ne.T=B;try{var q=V(),te=ne.S;te!==null&&te(B,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(ce,re)}catch(oe){re(oe)}finally{A!==null&&B.types!==null&&(A.types=B.types),ne.T=A}},qt.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},qt.use=function(V){return ne.H.use(V)},qt.useActionState=function(V,A,B){return ne.H.useActionState(V,A,B)},qt.useCallback=function(V,A){return ne.H.useCallback(V,A)},qt.useContext=function(V){return ne.H.useContext(V)},qt.useDebugValue=function(){},qt.useDeferredValue=function(V,A){return ne.H.useDeferredValue(V,A)},qt.useEffect=function(V,A){return ne.H.useEffect(V,A)},qt.useEffectEvent=function(V){return ne.H.useEffectEvent(V)},qt.useId=function(){return ne.H.useId()},qt.useImperativeHandle=function(V,A,B){return ne.H.useImperativeHandle(V,A,B)},qt.useInsertionEffect=function(V,A){return ne.H.useInsertionEffect(V,A)},qt.useLayoutEffect=function(V,A){return ne.H.useLayoutEffect(V,A)},qt.useMemo=function(V,A){return ne.H.useMemo(V,A)},qt.useOptimistic=function(V,A){return ne.H.useOptimistic(V,A)},qt.useReducer=function(V,A,B){return ne.H.useReducer(V,A,B)},qt.useRef=function(V){return ne.H.useRef(V)},qt.useState=function(V){return ne.H.useState(V)},qt.useSyncExternalStore=function(V,A,B){return ne.H.useSyncExternalStore(V,A,B)},qt.useTransition=function(){return ne.H.useTransition()},qt.version="19.2.0",qt}var Eg;function qp(){return Eg||(Eg=1,C0.exports=lw()),C0.exports}var L0={exports:{}},fr={};var Cg;function cw(){if(Cg)return fr;Cg=1;var i=qp();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(f,p,y){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:f,containerInfo:p,implementation:y}}var u=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return fr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fr.createPortal=function(f,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(f,p,null,y)},fr.flushSync=function(f){var p=u.T,y=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=p,r.p=y,r.d.f()}},fr.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(f,p))},fr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},fr.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var y=p.as,S=h(y,p.crossOrigin),N=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:N,fetchPriority:w}):y==="script"&&r.d.X(f,{crossOrigin:S,integrity:N,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},fr.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);r.d.M(f,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(f)},fr.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,S=h(y,p.crossOrigin);r.d.L(f,y,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},fr.preloadModule=function(f,p){if(typeof f=="string")if(p){var y=h(p.as,p.crossOrigin);r.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(f)},fr.requestFormReset=function(f){r.d.r(f)},fr.unstable_batchedUpdates=function(f,p){return f(p)},fr.useFormState=function(f,p,y){return u.H.useFormState(f,p,y)},fr.useFormStatus=function(){return u.H.useHostTransitionStatus()},fr.version="19.2.0",fr}var Lg;function uw(){if(Lg)return L0.exports;Lg=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),L0.exports=cw(),L0.exports}var kg;function hw(){if(kg)return ch;kg=1;var i=ow(),e=qp(),n=uw();function r(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l(t){var a=t,s=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(s=a.return),t=a.return;while(t)}return a.tag===3?s:null}function u(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function h(t){if(t.tag===31){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function f(t){if(l(t)!==t)throw Error(r(188))}function p(t){var a=t.alternate;if(!a){if(a=l(t),a===null)throw Error(r(188));return a!==t?null:t}for(var s=t,c=a;;){var g=s.return;if(g===null)break;var b=g.alternate;if(b===null){if(c=g.return,c!==null){s=c;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===s)return f(g),t;if(b===c)return f(g),a;b=b.sibling}throw Error(r(188))}if(s.return!==c.return)s=g,c=b;else{for(var E=!1,I=g.child;I;){if(I===s){E=!0,s=g,c=b;break}if(I===c){E=!0,c=g,s=b;break}I=I.sibling}if(!E){for(I=b.child;I;){if(I===s){E=!0,s=b,c=g;break}if(I===c){E=!0,c=b,s=g;break}I=I.sibling}if(!E)throw Error(r(189))}}if(s.alternate!==c)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:a}function y(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=y(t),a!==null)return a;t=t.sibling}return null}var S=Object.assign,N=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),M=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),de=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function H(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Symbol.for("react.client.reference");function ae(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ie?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case k:return"Profiler";case T:return"StrictMode";case J:return"Suspense";case ce:return"SuspenseList";case F:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case C:return"Portal";case M:return t.displayName||"Context";case G:return(t._context.displayName||"Context")+".Consumer";case z:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ne:return a=t.displayName||null,a!==null?a:ae(t.type)||"Memo";case X:a=t._payload,t=t._init;try{return ae(t(a))}catch(s){}}return null}var ue=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},re=[],Le=-1;function V(t){return{current:t}}function A(t){0>Le||(t.current=re[Le],re[Le]=null,Le--)}function B(t,a){Le++,re[Le]=t.current,t.current=a}var q=V(null),te=V(null),oe=V(null),be=V(null);function Ae(t,a){switch(B(oe,a),B(te,t),B(q,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?H1(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=H1(a),t=$1(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}A(q),B(q,t)}function Ne(){A(q),A(te),A(oe)}function Pe(t){t.memoizedState!==null&&B(be,t);var a=q.current,s=$1(a,t.type);a!==s&&(B(te,t),B(q,s))}function $e(t){te.current===t&&(A(q),A(te)),be.current===t&&(A(be),rh._currentValue=le)}var Ke,Je;function ge(t){if(Ke===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);Ke=a&&a[1]||"",Je=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ke+t+Je}var K=!1;function Ge(t,a){if(!t||K)return"";K=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var Ie=function(){throw Error()};if(Object.defineProperty(Ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ie,[])}catch(Oe){var ke=Oe}Reflect.construct(t,[],Ie)}else{try{Ie.call()}catch(Oe){ke=Oe}t.call(Ie.prototype)}}else{try{throw Error()}catch(Oe){ke=Oe}(Ie=t())&&typeof Ie.catch=="function"&&Ie.catch(function(){})}}catch(Oe){if(Oe&&ke&&typeof Oe.stack=="string")return[Oe.stack,ke.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=c.DetermineComponentFrameRoot(),E=b[0],I=b[1];if(E&&I){var he=E.split(`
`),Ce=I.split(`
`);for(g=c=0;c<he.length&&!he[c].includes("DetermineComponentFrameRoot");)c++;for(;g<Ce.length&&!Ce[g].includes("DetermineComponentFrameRoot");)g++;if(c===he.length||g===Ce.length)for(c=he.length-1,g=Ce.length-1;1<=c&&0<=g&&he[c]!==Ce[g];)g--;for(;1<=c&&0<=g;c--,g--)if(he[c]!==Ce[g]){if(c!==1||g!==1)do if(c--,g--,0>g||he[c]!==Ce[g]){var Me=`
`+he[c].replace(" at new "," at ");return t.displayName&&Me.includes("<anonymous>")&&(Me=Me.replace("<anonymous>",t.displayName)),Me}while(1<=c&&0<=g);break}}}finally{K=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?ge(s):""}function et(t,a){switch(t.tag){case 26:case 27:case 5:return ge(t.type);case 16:return ge("Lazy");case 13:return t.child!==a&&a!==null?ge("Suspense Fallback"):ge("Suspense");case 19:return ge("SuspenseList");case 0:case 15:return Ge(t.type,!1);case 11:return Ge(t.type.render,!1);case 1:return Ge(t.type,!0);case 31:return ge("Activity");default:return""}}function at(t){try{var a="",s=null;do a+=et(t,s),s=t,t=t.return;while(t);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Fe=Object.prototype.hasOwnProperty,tt=i.unstable_scheduleCallback,We=i.unstable_cancelCallback,Lt=i.unstable_shouldYield,pt=i.unstable_requestPaint,Bt=i.unstable_now,Ut=i.unstable_getCurrentPriorityLevel,Mt=i.unstable_ImmediatePriority,bn=i.unstable_UserBlockingPriority,Ot=i.unstable_NormalPriority,ft=i.unstable_LowPriority,Et=i.unstable_IdlePriority,dt=i.log,Ln=i.unstable_setDisableYieldValue,Kt=null,Xe=null;function xt(t){if(typeof dt=="function"&&Ln(t),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(Kt,t)}catch(a){}}var Vt=Math.clz32?Math.clz32:zt,_t=Math.log,Jt=Math.LN2;function zt(t){return t>>>=0,t===0?32:31-(_t(t)/Jt|0)|0}var In=256,Jn=262144,mn=4194304;function wt(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function nn(t,a,s){var c=t.pendingLanes;if(c===0)return 0;var g=0,b=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var I=c&134217727;return I!==0?(c=I&~b,c!==0?g=wt(c):(E&=I,E!==0?g=wt(E):s||(s=I&~t,s!==0&&(g=wt(s))))):(I=c&~b,I!==0?g=wt(I):E!==0?g=wt(E):s||(s=c&~t,s!==0&&(g=wt(s)))),g===0?0:a!==0&&a!==g&&(a&b)===0&&(b=g&-g,s=a&-a,b>=s||b===32&&(s&4194048)!==0)?a:g}function Xr(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function Va(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vi(){var t=mn;return mn<<=1,(mn&62914560)===0&&(mn=4194304),t}function Tr(t){for(var a=[],s=0;31>s;s++)a.push(t);return a}function mt(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zi(t,a,s,c,g,b){var E=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var I=t.entanglements,he=t.expirationTimes,Ce=t.hiddenUpdates;for(s=E&~s;0<s;){var Me=31-Vt(s),Ie=1<<Me;I[Me]=0,he[Me]=-1;var ke=Ce[Me];if(ke!==null)for(Ce[Me]=null,Me=0;Me<ke.length;Me++){var Oe=ke[Me];Oe!==null&&(Oe.lane&=-536870913)}s&=~Ie}c!==0&&yi(t,c,0),b!==0&&g===0&&t.tag!==0&&(t.suspendedLanes|=b&~(E&~a))}function yi(t,a,s){t.pendingLanes|=a,t.suspendedLanes&=~a;var c=31-Vt(a);t.entangledLanes|=a,t.entanglements[c]=t.entanglements[c]|1073741824|s&261930}function br(t,a){var s=t.entangledLanes|=a;for(t=t.entanglements;s;){var c=31-Vt(s),g=1<<c;g&a|t[c]&a&&(t[c]|=a),s&=~g}}function wr(t,a){var s=a&-a;return s=(s&42)!==0?1:qn(s),(s&(t.suspendedLanes|a))!==0?0:s}function qn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ha(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ja(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:dg(t.type))}function xs(t,a){var s=se.p;try{return se.p=t,a()}finally{se.p=s}}var tr=Math.random().toString(36).slice(2),Nn="__reactFiber$"+tr,Hn="__reactProps$"+tr,Ga="__reactContainer$"+tr,xr="__reactEvents$"+tr,Or="__reactListeners$"+tr,Gs="__reactHandles$"+tr,Zr="__reactResources$"+tr,Qr="__reactMarker$"+tr;function _s(t){delete t[Nn],delete t[Hn],delete t[xr],delete t[Or],delete t[Gs]}function ei(t){var a=t[Nn];if(a)return a;for(var s=t.parentNode;s;){if(a=s[Ga]||s[Nn]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(t=X1(t);t!==null;){if(s=t[Nn])return s;t=X1(t)}return a}t=s,s=t.parentNode}return null}function ti(t){if(t=t[Nn]||t[Ga]){var a=t.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return t}return null}function Ys(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(r(33))}function bi(t){var a=t[Zr];return a||(a=t[Zr]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function aa(t){t[Qr]=!0}var vl=new Set,_r={};function ni(t,a){Ii(t,a),Ii(t+"Capture",a)}function Ii(t,a){for(_r[t]=a,t=0;t<a.length;t++)vl.add(a[t])}var yl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bl={},wl={};function hc(t){return Fe.call(wl,t)?!0:Fe.call(bl,t)?!1:yl.test(t)?wl[t]=!0:(bl[t]=!0,!1)}function qi(t,a,s){if(hc(a))if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+s)}}function Lo(t,a,s){if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+s)}}function Sn(t,a,s,c){if(c===null)t.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(a,s,""+c)}}function nr(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xl(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Fi(t,a,s){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,a);if(!t.hasOwnProperty(a)&&typeof c!="undefined"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,b=c.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return g.call(this)},set:function(E){s=""+E,b.call(this,E)}}),Object.defineProperty(t,a,{enumerable:c.enumerable}),{getValue:function(){return s},setValue:function(E){s=""+E},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function Hi(t){if(!t._valueTracker){var a=xl(t)?"checked":"value";t._valueTracker=Fi(t,a,""+t[a])}}function Rr(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var s=a.getValue(),c="";return t&&(c=xl(t)?t.checked?"true":"false":t.value),t=c,t!==s?(a.setValue(t),!0):!1}function wi(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch(a){return t.body}}var ra=/[\n"\\]/g;function Ya(t){return t.replace(ra,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function _l(t,a,s,c,g,b,E,I){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),a!=null?E==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+nr(a)):t.value!==""+nr(a)&&(t.value=""+nr(a)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),a!=null?Sl(t,E,nr(a)):s!=null?Sl(t,E,nr(s)):c!=null&&t.removeAttribute("value"),g==null&&b!=null&&(t.defaultChecked=!!b),g!=null&&(t.checked=g&&typeof g!="function"&&typeof g!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?t.name=""+nr(I):t.removeAttribute("name")}function fc(t,a,s,c,g,b,E,I){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.type=b),a!=null||s!=null){if(!(b!=="submit"&&b!=="reset"||a!=null)){Hi(t);return}s=s!=null?""+nr(s):"",a=a!=null?""+nr(a):s,I||a===t.value||(t.value=a),t.defaultValue=a}c=c!=null?c:g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=I?t.checked:!!c,t.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E),Hi(t)}function Sl(t,a,s){a==="number"&&wi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ar(t,a,s,c){if(t=t.options,a){a={};for(var g=0;g<s.length;g++)a["$"+s[g]]=!0;for(s=0;s<t.length;s++)g=a.hasOwnProperty("$"+t[s].value),t[s].selected!==g&&(t[s].selected=g),g&&c&&(t[s].defaultSelected=!0)}else{for(s=""+nr(s),a=null,g=0;g<t.length;g++){if(t[g].value===s){t[g].selected=!0,c&&(t[g].defaultSelected=!0);return}a!==null||t[g].disabled||(a=t[g])}a!==null&&(a.selected=!0)}}function Nl(t,a,s){if(a!=null&&(a=""+nr(a),a!==t.value&&(t.value=a),s==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=s!=null?""+nr(s):""}function Al(t,a,s,c){if(a==null){if(c!=null){if(s!=null)throw Error(r(92));if(ue(c)){if(1<c.length)throw Error(r(93));c=c[0]}s=c}s==null&&(s=""),a=s}s=nr(a),t.defaultValue=s,c=t.textContent,c===s&&c!==""&&c!==null&&(t.value=c),Hi(t)}function Sr(t,a){if(a){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=a;return}}t.textContent=a}var jl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dc(t,a,s){var c=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?c?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":c?t.setProperty(a,s):typeof s!="number"||s===0||jl.has(a)?a==="float"?t.cssFloat=s:t[a]=(""+s).trim():t[a]=s+"px"}function pc(t,a,s){if(a!=null&&typeof a!="object")throw Error(r(62));if(t=t.style,s!=null){for(var c in s)!s.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var g in a)c=a[g],a.hasOwnProperty(g)&&s[g]!==c&&dc(t,g,c)}else for(var b in a)a.hasOwnProperty(b)&&dc(t,b,a[b])}function El(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ws=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ai(t){return Ws.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ri(){}var $i=null;function Ks(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var St=null,Ss=null;function mc(t){var a=ti(t);if(a&&(t=a.stateNode)){var s=t[Hn]||null;e:switch(t=a.stateNode,a.type){case"input":if(_l(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ya(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var c=s[a];if(c!==t&&c.form===t.form){var g=c[Hn]||null;if(!g)throw Error(r(90));_l(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<s.length;a++)c=s[a],c.form===t.form&&Rr(c)}break e;case"textarea":Nl(t,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&ar(t,!!s.multiple,a,!1)}}}var Ll=!1;function gc(t,a,s){if(Ll)return t(a,s);Ll=!0;try{var c=t(a);return c}finally{if(Ll=!1,(St!==null||Ss!==null)&&(Zh(),St&&(a=St,t=Ss,Ss=St=null,mc(a),t)))for(a=0;a<t.length;a++)mc(t[a])}}function Nr(t,a){var s=t.stateNode;if(s===null)return null;var c=s[Hn]||null;if(c===null)return null;s=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,a,typeof s));return s}var Da=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),kl=!1;if(Da)try{var Js={};Object.defineProperty(Js,"passive",{get:function(){kl=!0}}),window.addEventListener("test",Js,Js),window.removeEventListener("test",Js,Js)}catch(t){kl=!1}var Ar=null,Xs=null,xi=null;function Zs(){if(xi)return xi;var t,a=Xs,s=a.length,c,g="value"in Ar?Ar.value:Ar.textContent,b=g.length;for(t=0;t<s&&a[t]===g[t];t++);var E=s-t;for(c=1;c<=E&&a[s-c]===g[b-c];c++);return xi=g.slice(t,1<c?1-c:void 0)}function Vi(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function ko(){return!0}function To(){return!1}function Ea(t){function a(s,c,g,b,E){this._reactName=s,this._targetInst=g,this.type=c,this.nativeEvent=b,this.target=E,this.currentTarget=null;for(var I in t)t.hasOwnProperty(I)&&(s=t[I],this[I]=s?s(b):b[I]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?ko:To,this.isPropagationStopped=To,this}return S(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ko)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ko)},persist:function(){},isPersistent:ko}),a}var jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=Ea(jr),Gi=S({},jr,{view:0,detail:0}),Oo=Ea(Gi),Qs,Yi,Ns,eo=S({},Gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ct,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ns&&(Ns&&t.type==="mousemove"?(Qs=t.screenX-Ns.screenX,Yi=t.screenY-Ns.screenY):Yi=Qs=0,Ns=t),Qs)},movementY:function(t){return"movementY"in t?t.movementY:Yi}}),Si=Ea(eo),Wi=S({},eo,{dataTransfer:0}),vc=Ea(Wi),yc=S({},Gi,{relatedTarget:0}),Ki=Ea(yc),bc=S({},jr,{animationName:0,elapsedTime:0,pseudoElement:0}),x=Ea(bc),O=S({},jr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ee=Ea(O),pe=S({},jr,{data:0}),we=Ea(pe),Be={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},He={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lt(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=rt[t])?!!a[t]:!1}function Ct(){return lt}var Pt=S({},Gi,{key:function(t){if(t.key){var a=Be[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=Vi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?He[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ct,charCode:function(t){return t.type==="keypress"?Vi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),un=Ea(Pt),$n=S({},eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ia=Ea($n),kn=S({},Gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ct}),wa=Ea(kn),fa=S({},jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ma=Ea(fa),Dr=S({},eo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cr=Ea(Dr),wc=S({},jr,{newState:0,oldState:0}),Ro=Ea(wc),to=[9,13,27,32],Ni=Da&&"CompositionEvent"in window,ii=null;Da&&"documentMode"in document&&(ii=document.documentMode);var no=Da&&"TextEvent"in window&&!ii,As=Da&&(!Ni||ii&&8<ii&&11>=ii),Pa=" ",js=!1;function Es(t,a){switch(t){case"keyup":return to.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Do(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ai=!1;function Xn(t,a){switch(t){case"compositionend":return Do(a);case"keypress":return a.which!==32?null:(js=!0,Pa);case"textInput":return t=a.data,t===Pa&&js?null:t;default:return null}}function Ji(t,a){if(Ai)return t==="compositionend"||!Ni&&Es(t,a)?(t=Zs(),xi=Xs=Ar=null,Ai=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return As&&a.locale!=="ko"?null:a.data;default:return null}}var Mo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tl(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!Mo[t.type]:a==="textarea"}function Er(t,a,s,c){St?Ss?Ss.push(c):Ss=[c]:St=c,a=sf(a,"onChange"),0<a.length&&(s=new _i("onChange","change",null,s,c),t.push({event:s,listeners:a}))}var si=null,Xi=null;function Ol(t){B1(t,0)}function oi(t){var a=Ys(t);if(Rr(a))return t}function Cs(t,a){if(t==="change")return a}var ur=!1;if(Da){var rr;if(Da){var ji="oninput"in document;if(!ji){var Ei=document.createElement("div");Ei.setAttribute("oninput","return;"),ji=typeof Ei.oninput=="function"}rr=ji}else rr=!1;ur=rr&&(!document.documentMode||9<document.documentMode)}function Zi(){si&&(si.detachEvent("onpropertychange",Po),Xi=si=null)}function Po(t){if(t.propertyName==="value"&&oi(Xi)){var a=[];Er(a,Xi,t,Ks(t)),gc(Ol,a)}}function Bo(t,a,s){t==="focusin"?(Zi(),si=a,Xi=s,si.attachEvent("onpropertychange",Po)):t==="focusout"&&Zi()}function sa(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return oi(Xi)}function xc(t,a){if(t==="click")return oi(a)}function Ci(t,a){if(t==="input"||t==="change")return oi(a)}function Li(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var Ba=typeof Object.is=="function"?Object.is:Li;function Qi(t,a){if(Ba(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var s=Object.keys(t),c=Object.keys(a);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var g=s[c];if(!Fe.call(a,g)||!Ba(t[g],a[g]))return!1}return!0}function Uo(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zo(t,a){var s=Uo(t);t=0;for(var c;s;){if(s.nodeType===3){if(c=t+s.textContent.length,t<=a&&c>=a)return{node:s,offset:a-t};t=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Uo(s)}}function es(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?es(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function ts(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=wi(t.document);a instanceof t.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch(c){s=!1}if(s)t=a.contentWindow;else break;a=wi(t.document)}return a}function ki(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var ao=Da&&"documentMode"in document&&11>=document.documentMode,Cr=null,ns=null,Wa=null,Mr=!1;function hn(t,a,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Mr||Cr==null||Cr!==wi(c)||(c=Cr,"selectionStart"in c&&ki(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Wa&&Qi(Wa,c)||(Wa=c,c=sf(ns,"onSelect"),0<c.length&&(a=new _i("onSelect","select",null,a,s),t.push({event:a,listeners:c}),a.target=Cr)))}function an(t,a){var s={};return s[t.toLowerCase()]=a.toLowerCase(),s["Webkit"+t]="webkit"+a,s["Moz"+t]="moz"+a,s}var Tn={animationend:an("Animation","AnimationEnd"),animationiteration:an("Animation","AnimationIteration"),animationstart:an("Animation","AnimationStart"),transitionrun:an("Transition","TransitionRun"),transitionstart:an("Transition","TransitionStart"),transitioncancel:an("Transition","TransitionCancel"),transitionend:an("Transition","TransitionEnd")},oa={},Ti={};Da&&(Ti=document.createElement("div").style,"AnimationEvent"in window||(delete Tn.animationend.animation,delete Tn.animationiteration.animation,delete Tn.animationstart.animation),"TransitionEvent"in window||delete Tn.transitionend.transition);function li(t){if(oa[t])return oa[t];if(!Tn[t])return t;var a=Tn[t],s;for(s in a)if(a.hasOwnProperty(s)&&s in Ti)return oa[t]=a[s];return t}var ro=li("animationend"),Rl=li("animationiteration"),Eu=li("animationstart"),Ch=li("transitionrun"),Lh=li("transitionstart"),kh=li("transitioncancel"),Cu=li("transitionend"),Lu=new Map,io="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");io.push("scrollEnd");function Pr(t,a){Lu.set(t,a),ni(a,[t])}var Dl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Lr=[],so=0,_c=0;function Ml(){for(var t=so,a=_c=so=0;a<t;){var s=Lr[a];Lr[a++]=null;var c=Lr[a];Lr[a++]=null;var g=Lr[a];Lr[a++]=null;var b=Lr[a];if(Lr[a++]=null,c!==null&&g!==null){var E=c.pending;E===null?g.next=g:(g.next=E.next,E.next=g),c.pending=g}b!==0&&Bl(s,g,b)}}function Pl(t,a,s,c){Lr[so++]=t,Lr[so++]=a,Lr[so++]=s,Lr[so++]=c,_c|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function Sc(t,a,s,c){return Pl(t,a,s,c),Ka(t)}function as(t,a){return Pl(t,null,null,a),Ka(t)}function Bl(t,a,s){t.lanes|=s;var c=t.alternate;c!==null&&(c.lanes|=s);for(var g=!1,b=t.return;b!==null;)b.childLanes|=s,c=b.alternate,c!==null&&(c.childLanes|=s),b.tag===22&&(t=b.stateNode,t===null||t._visibility&1||(g=!0)),t=b,b=b.return;return t.tag===3?(b=t.stateNode,g&&a!==null&&(g=31-Vt(s),t=b.hiddenUpdates,c=t[g],c===null?t[g]=[a]:c.push(a),a.lane=s|536870912),b):null}function Ka(t){if(50<Xu)throw Xu=0,Yd=null,Error(r(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var Ua={};function Nc(t,a,s,c){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ja(t,a,s,c){return new Nc(t,a,s,c)}function Ac(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Br(t,a){var s=t.alternate;return s===null?(s=Ja(t.tag,a,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=a,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,a=t.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Ul(t,a){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,a=s.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function Io(t,a,s,c,g,b){var E=0;if(c=t,typeof t=="function")Ac(t)&&(E=1);else if(typeof t=="string")E=qb(t,s,q.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case F:return t=Ja(31,s,a,g),t.elementType=F,t.lanes=b,t;case L:return Ls(s.children,g,b,a);case T:E=8,g|=24;break;case k:return t=Ja(12,s,a,g|2),t.elementType=k,t.lanes=b,t;case J:return t=Ja(13,s,a,g),t.elementType=J,t.lanes=b,t;case ce:return t=Ja(19,s,a,g),t.elementType=ce,t.lanes=b,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case M:E=10;break e;case G:E=9;break e;case z:E=11;break e;case ne:E=14;break e;case X:E=16,c=null;break e}E=29,s=Error(r(130,t===null?"null":typeof t,"")),c=null}return a=Ja(E,s,a,g),a.elementType=t,a.type=c,a.lanes=b,a}function Ls(t,a,s,c){return t=Ja(7,t,c,a),t.lanes=s,t}function zl(t,a,s){return t=Ja(6,t,null,a),t.lanes=s,t}function jc(t){var a=Ja(18,null,null,0);return a.stateNode=t,a}function qo(t,a,s){return a=Ja(4,t.children!==null?t.children:[],t.key,a),a.lanes=s,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var Ec=new WeakMap;function Ur(t,a){if(typeof t=="object"&&t!==null){var s=Ec.get(t);return s!==void 0?s:(a={value:t,source:a,stack:at(a)},Ec.set(t,a),a)}return{value:t,source:a,stack:at(a)}}var Fo=[],oo=0,Cc=null,Il=0,zr=[],Ir=0,ks=null,qr=1,Fr="";function kr(t,a){Fo[oo++]=Il,Fo[oo++]=Cc,Cc=t,Il=a}function Th(t,a,s){zr[Ir++]=qr,zr[Ir++]=Fr,zr[Ir++]=ks,ks=t;var c=qr;t=Fr;var g=32-Vt(c)-1;c&=~(1<<g),s+=1;var b=32-Vt(a)+g;if(30<b){var E=g-g%5;b=(c&(1<<E)-1).toString(32),c>>=E,g-=E,qr=1<<32-Vt(a)+g|s<<g|c,Fr=b+t}else qr=1<<b|s<<g|c,Fr=t}function ku(t){t.return!==null&&(kr(t,1),Th(t,1,0))}function Lc(t){for(;t===Cc;)Cc=Fo[--oo],Fo[oo]=null,Il=Fo[--oo],Fo[oo]=null;for(;t===ks;)ks=zr[--Ir],zr[Ir]=null,Fr=zr[--Ir],zr[Ir]=null,qr=zr[--Ir],zr[Ir]=null}function Oh(t,a){zr[Ir++]=qr,zr[Ir++]=Fr,zr[Ir++]=ks,qr=a.id,Fr=a.overflow,ks=t}var za=null,Pn=null,Xt=!1,ir=null,Zn=!1,ci=Error(r(519));function Ts(t){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ho(Ur(a,t)),ci}function Tu(t){var a=t.stateNode,s=t.type,c=t.memoizedProps;switch(a[Nn]=t,a[Hn]=c,s){case"dialog":Qt("cancel",a),Qt("close",a);break;case"iframe":case"object":case"embed":Qt("load",a);break;case"video":case"audio":for(s=0;s<Qu.length;s++)Qt(Qu[s],a);break;case"source":Qt("error",a);break;case"img":case"image":case"link":Qt("error",a),Qt("load",a);break;case"details":Qt("toggle",a);break;case"input":Qt("invalid",a),fc(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Qt("invalid",a);break;case"textarea":Qt("invalid",a),Al(a,c.value,c.defaultValue,c.children)}s=c.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||c.suppressHydrationWarning===!0||q1(a.textContent,s)?(c.popover!=null&&(Qt("beforetoggle",a),Qt("toggle",a)),c.onScroll!=null&&Qt("scroll",a),c.onScrollEnd!=null&&Qt("scrollend",a),c.onClick!=null&&(a.onclick=ri),a=!0):a=!1,a||Ts(t,!0)}function rs(t){for(za=t.return;za;)switch(za.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:za=za.return}}function Ia(t){if(t!==za)return!1;if(!Xt)return rs(t),Xt=!0,!1;var a=t.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||l0(t.type,t.memoizedProps)),s=!s),s&&Pn&&Ts(t),rs(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Pn=J1(t)}else if(a===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Pn=J1(t)}else a===27?(a=Pn,al(t.type)?(t=d0,d0=null,Pn=t):Pn=a):Pn=za?Mi(t.stateNode.nextSibling):null;return!0}function lo(){Pn=za=null,Xt=!1}function Ou(){var t=ir;return t!==null&&(Wr===null?Wr=t:Wr.push.apply(Wr,t),ir=null),t}function Ho(t){ir===null?ir=[t]:ir.push(t)}var kc=V(null),Os=null,Oi=null;function Rs(t,a,s){B(kc,a._currentValue),a._currentValue=s}function Hr(t){t._currentValue=kc.current,A(kc)}function $o(t,a,s){for(;t!==null;){var c=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),t===s)break;t=t.return}}function co(t,a,s,c){var g=t.child;for(g!==null&&(g.return=t);g!==null;){var b=g.dependencies;if(b!==null){var E=g.child;b=b.firstContext;e:for(;b!==null;){var I=b;b=g;for(var he=0;he<a.length;he++)if(I.context===a[he]){b.lanes|=s,I=b.alternate,I!==null&&(I.lanes|=s),$o(b.return,s,t),c||(E=null);break e}b=I.next}}else if(g.tag===18){if(E=g.return,E===null)throw Error(r(341));E.lanes|=s,b=E.alternate,b!==null&&(b.lanes|=s),$o(E,s,t),E=null}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===t){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}}function Ds(t,a,s,c){t=null;for(var g=a,b=!1;g!==null;){if(!b){if((g.flags&524288)!==0)b=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var E=g.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var I=g.type;Ba(g.pendingProps.value,E.value)||(t!==null?t.push(I):t=[I])}}else if(g===be.current){if(E=g.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(t!==null?t.push(rh):t=[rh])}g=g.return}t!==null&&co(a,t,s,c),a.flags|=262144}function Tc(t){for(t=t.firstContext;t!==null;){if(!Ba(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ms(t){Os=t,Oi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qa(t){return Rh(Os,t)}function Oc(t,a){return Os===null&&Ms(t),Rh(t,a)}function Rh(t,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},Oi===null){if(t===null)throw Error(r(308));Oi=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else Oi=Oi.next=a;return s}var fd=typeof AbortController!="undefined"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(s,c){t.push(c)}};this.abort=function(){a.aborted=!0,t.forEach(function(s){return s()})}},dd=i.unstable_scheduleCallback,pd=i.unstable_NormalPriority,la={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vo(){return{controller:new fd,data:new Map,refCount:0}}function ql(t){t.refCount--,t.refCount===0&&dd(pd,function(){t.controller.abort()})}var Fl=null,Rc=0,d=0,v=null;function _(t,a){if(Fl===null){var s=Fl=[];Rc=0,d=Qd(),v={status:"pending",value:void 0,then:function(c){s.push(c)}}}return Rc++,a.then(j,j),a}function j(){if(--Rc===0&&Fl!==null){v!==null&&(v.status="fulfilled");var t=Fl;Fl=null,d=0,v=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function R(t,a){var s=[],c={status:"pending",value:null,reason:null,then:function(g){s.push(g)}};return t.then(function(){c.status="fulfilled",c.value=a;for(var g=0;g<s.length;g++)(0,s[g])(a)},function(g){for(c.status="rejected",c.reason=g,g=0;g<s.length;g++)(0,s[g])(void 0)}),c}var P=W.S;W.S=function(t,a){h1=Bt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&_(t,a),P!==null&&P(t,a)};var U=V(null);function $(){var t=U.current;return t!==null?t:Un.pooledCache}function Y(t,a){a===null?B(U,U.current):B(U,a.pool)}function Q(){var t=$();return t===null?null:{parent:la._currentValue,pool:t}}var me=Error(r(460)),je=Error(r(474)),Z=Error(r(542)),ye={then:function(){}};function _e(t){return t=t.status,t==="fulfilled"||t==="rejected"}function De(t,a,s){switch(s=t[s],s===void 0?t.push(a):s!==a&&(a.then(ri,ri),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Ve(t),t;default:if(typeof a.status=="string")a.then(ri,ri);else{if(t=Un,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=a,t.status="pending",t.then(function(c){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=c}},function(c){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Ve(t),t}throw Re=a,me}}function Se(t){try{var a=t._init;return a(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Re=s,me):s}}var Re=null;function Ue(){if(Re===null)throw Error(r(459));var t=Re;return Re=null,t}function Ve(t){if(t===me||t===Z)throw Error(r(483))}var qe=null,st=0;function Ze(t){var a=st;return st+=1,qe===null&&(qe=[]),De(qe,t,a)}function Rt(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function nt(t,a){throw a.$$typeof===N?Error(r(525)):(t=Object.prototype.toString.call(a),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function Wt(t){function a(xe,ve){if(t){var Ee=xe.deletions;Ee===null?(xe.deletions=[ve],xe.flags|=16):Ee.push(ve)}}function s(xe,ve){if(!t)return null;for(;ve!==null;)a(xe,ve),ve=ve.sibling;return null}function c(xe){for(var ve=new Map;xe!==null;)xe.key!==null?ve.set(xe.key,xe):ve.set(xe.index,xe),xe=xe.sibling;return ve}function g(xe,ve){return xe=Br(xe,ve),xe.index=0,xe.sibling=null,xe}function b(xe,ve,Ee){return xe.index=Ee,t?(Ee=xe.alternate,Ee!==null?(Ee=Ee.index,Ee<ve?(xe.flags|=67108866,ve):Ee):(xe.flags|=67108866,ve)):(xe.flags|=1048576,ve)}function E(xe){return t&&xe.alternate===null&&(xe.flags|=67108866),xe}function I(xe,ve,Ee,ze){return ve===null||ve.tag!==6?(ve=zl(Ee,xe.mode,ze),ve.return=xe,ve):(ve=g(ve,Ee),ve.return=xe,ve)}function he(xe,ve,Ee,ze){var bt=Ee.type;return bt===L?Me(xe,ve,Ee.props.children,ze,Ee.key):ve!==null&&(ve.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===X&&Se(bt)===ve.type)?(ve=g(ve,Ee.props),Rt(ve,Ee),ve.return=xe,ve):(ve=Io(Ee.type,Ee.key,Ee.props,null,xe.mode,ze),Rt(ve,Ee),ve.return=xe,ve)}function Ce(xe,ve,Ee,ze){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==Ee.containerInfo||ve.stateNode.implementation!==Ee.implementation?(ve=qo(Ee,xe.mode,ze),ve.return=xe,ve):(ve=g(ve,Ee.children||[]),ve.return=xe,ve)}function Me(xe,ve,Ee,ze,bt){return ve===null||ve.tag!==7?(ve=Ls(Ee,xe.mode,ze,bt),ve.return=xe,ve):(ve=g(ve,Ee),ve.return=xe,ve)}function Ie(xe,ve,Ee){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ve=zl(""+ve,xe.mode,Ee),ve.return=xe,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case w:return Ee=Io(ve.type,ve.key,ve.props,null,xe.mode,Ee),Rt(Ee,ve),Ee.return=xe,Ee;case C:return ve=qo(ve,xe.mode,Ee),ve.return=xe,ve;case X:return ve=Se(ve),Ie(xe,ve,Ee)}if(ue(ve)||H(ve))return ve=Ls(ve,xe.mode,Ee,null),ve.return=xe,ve;if(typeof ve.then=="function")return Ie(xe,Ze(ve),Ee);if(ve.$$typeof===M)return Ie(xe,Oc(xe,ve),Ee);nt(xe,ve)}return null}function ke(xe,ve,Ee,ze){var bt=ve!==null?ve.key:null;if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return bt!==null?null:I(xe,ve,""+Ee,ze);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case w:return Ee.key===bt?he(xe,ve,Ee,ze):null;case C:return Ee.key===bt?Ce(xe,ve,Ee,ze):null;case X:return Ee=Se(Ee),ke(xe,ve,Ee,ze)}if(ue(Ee)||H(Ee))return bt!==null?null:Me(xe,ve,Ee,ze,null);if(typeof Ee.then=="function")return ke(xe,ve,Ze(Ee),ze);if(Ee.$$typeof===M)return ke(xe,ve,Oc(xe,Ee),ze);nt(xe,Ee)}return null}function Oe(xe,ve,Ee,ze,bt){if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return xe=xe.get(Ee)||null,I(ve,xe,""+ze,bt);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case w:return xe=xe.get(ze.key===null?Ee:ze.key)||null,he(ve,xe,ze,bt);case C:return xe=xe.get(ze.key===null?Ee:ze.key)||null,Ce(ve,xe,ze,bt);case X:return ze=Se(ze),Oe(xe,ve,Ee,ze,bt)}if(ue(ze)||H(ze))return xe=xe.get(Ee)||null,Me(ve,xe,ze,bt,null);if(typeof ze.then=="function")return Oe(xe,ve,Ee,Ze(ze),bt);if(ze.$$typeof===M)return Oe(xe,ve,Ee,Oc(ve,ze),bt);nt(ve,ze)}return null}function it(xe,ve,Ee,ze){for(var bt=null,gn=null,ct=ve,Gt=ve=0,tn=null;ct!==null&&Gt<Ee.length;Gt++){ct.index>Gt?(tn=ct,ct=null):tn=ct.sibling;var vn=ke(xe,ct,Ee[Gt],ze);if(vn===null){ct===null&&(ct=tn);break}t&&ct&&vn.alternate===null&&a(xe,ct),ve=b(vn,ve,Gt),gn===null?bt=vn:gn.sibling=vn,gn=vn,ct=tn}if(Gt===Ee.length)return s(xe,ct),Xt&&kr(xe,Gt),bt;if(ct===null){for(;Gt<Ee.length;Gt++)ct=Ie(xe,Ee[Gt],ze),ct!==null&&(ve=b(ct,ve,Gt),gn===null?bt=ct:gn.sibling=ct,gn=ct);return Xt&&kr(xe,Gt),bt}for(ct=c(ct);Gt<Ee.length;Gt++)tn=Oe(ct,xe,Gt,Ee[Gt],ze),tn!==null&&(t&&tn.alternate!==null&&ct.delete(tn.key===null?Gt:tn.key),ve=b(tn,ve,Gt),gn===null?bt=tn:gn.sibling=tn,gn=tn);return t&&ct.forEach(function(ll){return a(xe,ll)}),Xt&&kr(xe,Gt),bt}function At(xe,ve,Ee,ze){if(Ee==null)throw Error(r(151));for(var bt=null,gn=null,ct=ve,Gt=ve=0,tn=null,vn=Ee.next();ct!==null&&!vn.done;Gt++,vn=Ee.next()){ct.index>Gt?(tn=ct,ct=null):tn=ct.sibling;var ll=ke(xe,ct,vn.value,ze);if(ll===null){ct===null&&(ct=tn);break}t&&ct&&ll.alternate===null&&a(xe,ct),ve=b(ll,ve,Gt),gn===null?bt=ll:gn.sibling=ll,gn=ll,ct=tn}if(vn.done)return s(xe,ct),Xt&&kr(xe,Gt),bt;if(ct===null){for(;!vn.done;Gt++,vn=Ee.next())vn=Ie(xe,vn.value,ze),vn!==null&&(ve=b(vn,ve,Gt),gn===null?bt=vn:gn.sibling=vn,gn=vn);return Xt&&kr(xe,Gt),bt}for(ct=c(ct);!vn.done;Gt++,vn=Ee.next())vn=Oe(ct,xe,Gt,vn.value,ze),vn!==null&&(t&&vn.alternate!==null&&ct.delete(vn.key===null?Gt:vn.key),ve=b(vn,ve,Gt),gn===null?bt=vn:gn.sibling=vn,gn=vn);return t&&ct.forEach(function(Zb){return a(xe,Zb)}),Xt&&kr(xe,Gt),bt}function Mn(xe,ve,Ee,ze){if(typeof Ee=="object"&&Ee!==null&&Ee.type===L&&Ee.key===null&&(Ee=Ee.props.children),typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case w:e:{for(var bt=Ee.key;ve!==null;){if(ve.key===bt){if(bt=Ee.type,bt===L){if(ve.tag===7){s(xe,ve.sibling),ze=g(ve,Ee.props.children),ze.return=xe,xe=ze;break e}}else if(ve.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===X&&Se(bt)===ve.type){s(xe,ve.sibling),ze=g(ve,Ee.props),Rt(ze,Ee),ze.return=xe,xe=ze;break e}s(xe,ve);break}else a(xe,ve);ve=ve.sibling}Ee.type===L?(ze=Ls(Ee.props.children,xe.mode,ze,Ee.key),ze.return=xe,xe=ze):(ze=Io(Ee.type,Ee.key,Ee.props,null,xe.mode,ze),Rt(ze,Ee),ze.return=xe,xe=ze)}return E(xe);case C:e:{for(bt=Ee.key;ve!==null;){if(ve.key===bt)if(ve.tag===4&&ve.stateNode.containerInfo===Ee.containerInfo&&ve.stateNode.implementation===Ee.implementation){s(xe,ve.sibling),ze=g(ve,Ee.children||[]),ze.return=xe,xe=ze;break e}else{s(xe,ve);break}else a(xe,ve);ve=ve.sibling}ze=qo(Ee,xe.mode,ze),ze.return=xe,xe=ze}return E(xe);case X:return Ee=Se(Ee),Mn(xe,ve,Ee,ze)}if(ue(Ee))return it(xe,ve,Ee,ze);if(H(Ee)){if(bt=H(Ee),typeof bt!="function")throw Error(r(150));return Ee=bt.call(Ee),At(xe,ve,Ee,ze)}if(typeof Ee.then=="function")return Mn(xe,ve,Ze(Ee),ze);if(Ee.$$typeof===M)return Mn(xe,ve,Oc(xe,Ee),ze);nt(xe,Ee)}return typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint"?(Ee=""+Ee,ve!==null&&ve.tag===6?(s(xe,ve.sibling),ze=g(ve,Ee),ze.return=xe,xe=ze):(s(xe,ve),ze=zl(Ee,xe.mode,ze),ze.return=xe,xe=ze),E(xe)):s(xe,ve)}return function(xe,ve,Ee,ze){try{st=0;var bt=Mn(xe,ve,Ee,ze);return qe=null,bt}catch(ct){if(ct===me||ct===Z)throw ct;var gn=Ja(29,ct,null,xe.mode);return gn.lanes=ze,gn.return=xe,gn}finally{}}}var Bn=Wt(!0),It=Wt(!1),Qe=!1;function Ye(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vn(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Nt(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ht(t,a,s){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(_n&2)!==0){var g=c.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),c.pending=a,a=Ka(t),Bl(t,null,s),a}return Pl(t,c,a,s),Ka(t)}function wn(t,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var c=a.lanes;c&=t.pendingLanes,s|=c,a.lanes=s,br(t,s)}}function xa(t,a){var s=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var g=null,b=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};b===null?g=b=E:b=b.next=E,s=s.next}while(s!==null);b===null?g=b=a:b=b.next=a}else g=b=a;s={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:c.shared,callbacks:c.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=a:t.next=a,s.lastBaseUpdate=a}var Fa=!1;function On(){if(Fa){var t=v;if(t!==null)throw t}}function da(t,a,s,c){Fa=!1;var g=t.updateQueue;Qe=!1;var b=g.firstBaseUpdate,E=g.lastBaseUpdate,I=g.shared.pending;if(I!==null){g.shared.pending=null;var he=I,Ce=he.next;he.next=null,E===null?b=Ce:E.next=Ce,E=he;var Me=t.alternate;Me!==null&&(Me=Me.updateQueue,I=Me.lastBaseUpdate,I!==E&&(I===null?Me.firstBaseUpdate=Ce:I.next=Ce,Me.lastBaseUpdate=he))}if(b!==null){var Ie=g.baseState;E=0,Me=Ce=he=null,I=b;do{var ke=I.lane&-536870913,Oe=ke!==I.lane;if(Oe?(en&ke)===ke:(c&ke)===ke){ke!==0&&ke===d&&(Fa=!0),Me!==null&&(Me=Me.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var it=t,At=I;ke=a;var Mn=s;switch(At.tag){case 1:if(it=At.payload,typeof it=="function"){Ie=it.call(Mn,Ie,ke);break e}Ie=it;break e;case 3:it.flags=it.flags&-65537|128;case 0:if(it=At.payload,ke=typeof it=="function"?it.call(Mn,Ie,ke):it,ke==null)break e;Ie=S({},Ie,ke);break e;case 2:Qe=!0}}ke=I.callback,ke!==null&&(t.flags|=64,Oe&&(t.flags|=8192),Oe=g.callbacks,Oe===null?g.callbacks=[ke]:Oe.push(ke))}else Oe={lane:ke,tag:I.tag,payload:I.payload,callback:I.callback,next:null},Me===null?(Ce=Me=Oe,he=Ie):Me=Me.next=Oe,E|=ke;if(I=I.next,I===null){if(I=g.shared.pending,I===null)break;Oe=I,I=Oe.next,Oe.next=null,g.lastBaseUpdate=Oe,g.shared.pending=null}}while(!0);Me===null&&(he=Ie),g.baseState=he,g.firstBaseUpdate=Ce,g.lastBaseUpdate=Me,b===null&&(g.shared.lanes=0),Zo|=E,t.lanes=E,t.memoizedState=Ie}}function Xa(t,a){if(typeof t!="function")throw Error(r(191,t));t.call(a)}function pa(t,a){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Xa(s[t],a)}var Yt=V(null),on=V(0);function Gn(t,a){t=wo,B(on,t),B(Yt,a),wo=t|a.baseLanes}function fn(){B(on,wo),B(Yt,Yt.current)}function _a(){wo=on.current,A(Yt),A(on)}var Yn=V(null),ln=null;function ca(t){var a=t.alternate;B(rn,rn.current&1),B(Yn,t),ln===null&&(a===null||Yt.current!==null||a.memoizedState!==null)&&(ln=t)}function xn(t){B(rn,rn.current),B(Yn,t),ln===null&&(ln=t)}function ma(t){t.tag===22?(B(rn,rn.current),B(Yn,t),ln===null&&(ln=t)):ga()}function ga(){B(rn,rn.current),B(Yn,Yn.current)}function An(t){A(Yn),ln===t&&(ln=null),A(rn)}var rn=V(0);function Za(t){for(var a=t;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||h0(s)||f0(s)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Qn=0,gt=null,yt=null,cn=null,hr=!1,$r=!1,sr=!1,va=0,Ps=0,Bs=null,Dc=0;function Rn(){throw Error(r(321))}function Ru(t,a){if(a===null)return!1;for(var s=0;s<a.length&&s<t.length;s++)if(!Ba(t[s],a[s]))return!1;return!0}function Du(t,a,s,c,g,b){return Qn=b,gt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,W.H=t===null||t.memoizedState===null?_m:_d,sr=!1,b=s(c,g),sr=!1,$r&&(b=is(a,s,c,g)),Mc(t),b}function Mc(t){W.H=Fu;var a=yt!==null&&yt.next!==null;if(Qn=0,cn=yt=gt=null,hr=!1,Ps=0,Bs=null,a)throw Error(r(300));t===null||La||(t=t.dependencies,t!==null&&Tc(t)&&(La=!0))}function is(t,a,s,c){gt=t;var g=0;do{if($r&&(Bs=null),Ps=0,$r=!1,25<=g)throw Error(r(301));if(g+=1,cn=yt=null,t.updateQueue!=null){var b=t.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}W.H=Sm,b=a(s,c)}while($r);return b}function md(){var t=W.H,a=t.useState()[0];return a=typeof a.then=="function"?Us(a):a,t=t.useState()[0],(yt!==null?yt.memoizedState:null)!==t&&(gt.flags|=1024),a}function Mu(){var t=va!==0;return va=0,t}function Pu(t,a,s){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~s}function Pc(t){if(hr){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}hr=!1}Qn=0,cn=yt=gt=null,$r=!1,Ps=va=0,Bs=null}function Ca(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?gt.memoizedState=cn=t:cn=cn.next=t,cn}function ea(){if(yt===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var a=cn===null?gt.memoizedState:cn.next;if(a!==null)cn=a,yt=t;else{if(t===null)throw gt.alternate===null?Error(r(467)):Error(r(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},cn===null?gt.memoizedState=cn=t:cn=cn.next=t}return cn}function Hl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Us(t){var a=Ps;return Ps+=1,Bs===null&&(Bs=[]),t=De(Bs,t,a),a=gt,(cn===null?a.memoizedState:cn.next)===null&&(a=a.alternate,W.H=a===null||a.memoizedState===null?_m:_d),t}function Go(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Us(t);if(t.$$typeof===M)return qa(t)}throw Error(r(438,String(t)))}function uo(t){var a=null,s=gt.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var c=gt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=Hl(),gt.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(t),c=0;c<t;c++)s[c]=de;return a.index++,s}function Ri(t,a){return typeof a=="function"?a(t):a}function Bc(t){var a=ea();return Yo(a,yt,t)}function Yo(t,a,s){var c=t.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var g=t.baseQueue,b=c.pending;if(b!==null){if(g!==null){var E=g.next;g.next=b.next,b.next=E}a.baseQueue=g=b,c.pending=null}if(b=t.baseState,g===null)t.memoizedState=b;else{a=g.next;var I=E=null,he=null,Ce=a,Me=!1;do{var Ie=Ce.lane&-536870913;if(Ie!==Ce.lane?(en&Ie)===Ie:(Qn&Ie)===Ie){var ke=Ce.revertLane;if(ke===0)he!==null&&(he=he.next={lane:0,revertLane:0,gesture:null,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null}),Ie===d&&(Me=!0);else if((Qn&ke)===ke){Ce=Ce.next,ke===d&&(Me=!0);continue}else Ie={lane:0,revertLane:Ce.revertLane,gesture:null,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null},he===null?(I=he=Ie,E=b):he=he.next=Ie,gt.lanes|=ke,Zo|=ke;Ie=Ce.action,sr&&s(b,Ie),b=Ce.hasEagerState?Ce.eagerState:s(b,Ie)}else ke={lane:Ie,revertLane:Ce.revertLane,gesture:Ce.gesture,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null},he===null?(I=he=ke,E=b):he=he.next=ke,gt.lanes|=Ie,Zo|=Ie;Ce=Ce.next}while(Ce!==null&&Ce!==a);if(he===null?E=b:he.next=I,!Ba(b,t.memoizedState)&&(La=!0,Me&&(s=v,s!==null)))throw s;t.memoizedState=b,t.baseState=E,t.baseQueue=he,c.lastRenderedState=b}return g===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function Uc(t){var a=ea(),s=a.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var c=s.dispatch,g=s.pending,b=a.memoizedState;if(g!==null){s.pending=null;var E=g=g.next;do b=t(b,E.action),E=E.next;while(E!==g);Ba(b,a.memoizedState)||(La=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),s.lastRenderedState=b}return[b,c]}function zc(t,a,s){var c=gt,g=ea(),b=Xt;if(b){if(s===void 0)throw Error(r(407));s=s()}else s=a();var E=!Ba((yt||g).memoizedState,s);if(E&&(g.memoizedState=s,La=!0),g=g.queue,gd(Uu.bind(null,c,g,t),[t]),g.getSnapshot!==a||E||cn!==null&&cn.memoizedState.tag&1){if(c.flags|=2048,fo(9,{destroy:void 0},Bu.bind(null,c,g,s,a),null),Un===null)throw Error(r(349));b||(Qn&127)!==0||ss(c,a,s)}return s}function ss(t,a,s){t.flags|=16384,t={getSnapshot:a,value:s},a=gt.updateQueue,a===null?(a=Hl(),gt.updateQueue=a,a.stores=[t]):(s=a.stores,s===null?a.stores=[t]:s.push(t))}function Bu(t,a,s,c){a.value=s,a.getSnapshot=c,Dh(a)&&zu(t)}function Uu(t,a,s){return s(function(){Dh(a)&&zu(t)})}function Dh(t){var a=t.getSnapshot;t=t.value;try{var s=a();return!Ba(t,s)}catch(c){return!0}}function zu(t){var a=as(t,2);a!==null&&Kr(a,t,2)}function zs(t){var a=Ca();if(typeof t=="function"){var s=t;if(t=s(),sr){xt(!0);try{s()}finally{xt(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:t},a}function Mh(t,a,s,c){return t.baseState=s,Yo(t,yt,typeof c=="function"?c:Ri)}function Ph(t,a,s,c,g){if(Ih(t))throw Error(r(485));if(t=a.action,t!==null){var b={payload:g,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){b.listeners.push(E)}};W.T!==null?s(!0):b.isTransition=!1,c(b),s=a.pending,s===null?(b.next=a.pending=b,Bh(a,b)):(b.next=s.next,a.pending=s.next=b)}}function Bh(t,a){var s=a.action,c=a.payload,g=t.state;if(a.isTransition){var b=W.T,E={};W.T=E;try{var I=s(g,c),he=W.S;he!==null&&he(E,I),Iu(t,a,I)}catch(Ce){ho(t,a,Ce)}finally{b!==null&&E.types!==null&&(b.types=E.types),W.T=b}}else try{b=s(g,c),Iu(t,a,b)}catch(Ce){ho(t,a,Ce)}}function Iu(t,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(c){Uh(t,a,c)},function(c){return ho(t,a,c)}):Uh(t,a,s)}function Uh(t,a,s){a.status="fulfilled",a.value=s,Ic(a),t.state=s,a=t.pending,a!==null&&(s=a.next,s===a?t.pending=null:(s=s.next,a.next=s,Bh(t,s)))}function ho(t,a,s){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=s,Ic(a),a=a.next;while(a!==c)}t.action=null}function Ic(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function $l(t,a){return a}function Di(t,a){if(Xt){var s=Un.formState;if(s!==null){e:{var c=gt;if(Xt){if(Pn){t:{for(var g=Pn,b=Zn;g.nodeType!==8;){if(!b){g=null;break t}if(g=Mi(g.nextSibling),g===null){g=null;break t}}b=g.data,g=b==="F!"||b==="F"?g:null}if(g){Pn=Mi(g.nextSibling),c=g.data==="F!";break e}}Ts(c)}c=!1}c&&(a=s[0])}}return s=Ca(),s.memoizedState=s.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$l,lastRenderedState:a},s.queue=c,s=bm.bind(null,gt,c),c.dispatch=s,c=zs(!1),b=xd.bind(null,gt,!1,c.queue),c=Ca(),g={state:a,dispatch:null,action:t,pending:null},c.queue=g,s=Ph.bind(null,gt,g,b,s),g.dispatch=s,c.memoizedState=t,[a,s,!1]}function os(t){var a=ea();return ls(a,yt,t)}function ls(t,a,s){if(a=Yo(t,a,$l)[0],t=Bc(Ri)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Us(a)}catch(E){throw E===me?Z:E}else c=a;a=ea();var g=a.queue,b=g.dispatch;return s!==a.memoizedState&&(gt.flags|=2048,fo(9,{destroy:void 0},qc.bind(null,g,s),null)),[c,b,t]}function qc(t,a){t.action=a}function Fc(t){var a=ea(),s=yt;if(s!==null)return ls(a,s,t);ea(),a=a.memoizedState,s=ea();var c=s.queue.dispatch;return s.memoizedState=t,[a,c,!1]}function fo(t,a,s,c){return t={tag:t,create:s,deps:c,inst:a,next:null},a=gt.updateQueue,a===null&&(a=Hl(),gt.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=t.next=t:(c=s.next,s.next=t,t.next=c,a.lastEffect=t),t}function zh(){return ea().memoizedState}function Wo(t,a,s,c){var g=Ca();gt.flags|=t,g.memoizedState=fo(1|a,{destroy:void 0},s,c===void 0?null:c)}function Ko(t,a,s,c){var g=ea();c=c===void 0?null:c;var b=g.memoizedState.inst;yt!==null&&c!==null&&Ru(c,yt.memoizedState.deps)?g.memoizedState=fo(a,b,s,c):(gt.flags|=t,g.memoizedState=fo(1|a,b,s,c))}function im(t,a){Wo(8390656,8,t,a)}function gd(t,a){Ko(2048,8,t,a)}function Gy(t){gt.flags|=4;var a=gt.updateQueue;if(a===null)a=Hl(),gt.updateQueue=a,a.events=[t];else{var s=a.events;s===null?a.events=[t]:s.push(t)}}function sm(t){var a=ea().memoizedState;return Gy({ref:a,nextImpl:t}),function(){if((_n&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function om(t,a){return Ko(4,2,t,a)}function lm(t,a){return Ko(4,4,t,a)}function cm(t,a){if(typeof a=="function"){t=t();var s=a(t);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function um(t,a,s){s=s!=null?s.concat([t]):null,Ko(4,4,cm.bind(null,a,t),s)}function vd(){}function hm(t,a){var s=ea();a=a===void 0?null:a;var c=s.memoizedState;return a!==null&&Ru(a,c[1])?c[0]:(s.memoizedState=[t,a],t)}function fm(t,a){var s=ea();a=a===void 0?null:a;var c=s.memoizedState;if(a!==null&&Ru(a,c[1]))return c[0];if(c=t(),sr){xt(!0);try{t()}finally{xt(!1)}}return s.memoizedState=[c,a],c}function yd(t,a,s){return s===void 0||(Qn&1073741824)!==0&&(en&261930)===0?t.memoizedState=a:(t.memoizedState=s,t=d1(),gt.lanes|=t,Zo|=t,s)}function dm(t,a,s,c){return Ba(s,a)?s:Yt.current!==null?(t=yd(t,s,c),Ba(t,a)||(La=!0),t):(Qn&42)===0||(Qn&1073741824)!==0&&(en&261930)===0?(La=!0,t.memoizedState=s):(t=d1(),gt.lanes|=t,Zo|=t,a)}function pm(t,a,s,c,g){var b=se.p;se.p=b!==0&&8>b?b:8;var E=W.T,I={};W.T=I,xd(t,!1,a,s);try{var he=g(),Ce=W.S;if(Ce!==null&&Ce(I,he),he!==null&&typeof he=="object"&&typeof he.then=="function"){var Me=R(he,c);qu(t,a,Me,fi(t))}else qu(t,a,c,fi(t))}catch(Ie){qu(t,a,{then:function(){},status:"rejected",reason:Ie},fi())}finally{se.p=b,E!==null&&I.types!==null&&(E.types=I.types),W.T=E}}function Yy(){}function bd(t,a,s,c){if(t.tag!==5)throw Error(r(476));var g=mm(t).queue;pm(t,g,a,le,s===null?Yy:function(){return gm(t),s(c)})}function mm(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:le},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:s},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function gm(t){var a=mm(t);a.next===null&&(a=t.alternate.memoizedState),qu(t,a.next.queue,{},fi())}function wd(){return qa(rh)}function vm(){return ea().memoizedState}function ym(){return ea().memoizedState}function Wy(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var s=fi();t=Nt(s);var c=Ht(a,t,s);c!==null&&(Kr(c,a,s),wn(c,a,s)),a={cache:Vo()},t.payload=a;return}a=a.return}}function Ky(t,a,s){var c=fi();s={lane:c,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ih(t)?wm(a,s):(s=Sc(t,a,s,c),s!==null&&(Kr(s,t,c),xm(s,a,c)))}function bm(t,a,s){var c=fi();qu(t,a,s,c)}function qu(t,a,s,c){var g={lane:c,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ih(t))wm(a,g);else{var b=t.alternate;if(t.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var E=a.lastRenderedState,I=b(E,s);if(g.hasEagerState=!0,g.eagerState=I,Ba(I,E))return Pl(t,a,g,0),Un===null&&Ml(),!1}catch(he){}finally{}if(s=Sc(t,a,g,c),s!==null)return Kr(s,t,c),xm(s,a,c),!0}return!1}function xd(t,a,s,c){if(c={lane:2,revertLane:Qd(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ih(t)){if(a)throw Error(r(479))}else a=Sc(t,s,c,2),a!==null&&Kr(a,t,2)}function Ih(t){var a=t.alternate;return t===gt||a!==null&&a===gt}function wm(t,a){$r=hr=!0;var s=t.pending;s===null?a.next=a:(a.next=s.next,s.next=a),t.pending=a}function xm(t,a,s){if((s&4194048)!==0){var c=a.lanes;c&=t.pendingLanes,s|=c,a.lanes=s,br(t,s)}}var Fu={readContext:qa,use:Go,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useLayoutEffect:Rn,useInsertionEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useSyncExternalStore:Rn,useId:Rn,useHostTransitionStatus:Rn,useFormState:Rn,useActionState:Rn,useOptimistic:Rn,useMemoCache:Rn,useCacheRefresh:Rn};Fu.useEffectEvent=Rn;var _m={readContext:qa,use:Go,useCallback:function(t,a){return Ca().memoizedState=[t,a===void 0?null:a],t},useContext:qa,useEffect:im,useImperativeHandle:function(t,a,s){s=s!=null?s.concat([t]):null,Wo(4194308,4,cm.bind(null,a,t),s)},useLayoutEffect:function(t,a){return Wo(4194308,4,t,a)},useInsertionEffect:function(t,a){Wo(4,2,t,a)},useMemo:function(t,a){var s=Ca();a=a===void 0?null:a;var c=t();if(sr){xt(!0);try{t()}finally{xt(!1)}}return s.memoizedState=[c,a],c},useReducer:function(t,a,s){var c=Ca();if(s!==void 0){var g=s(a);if(sr){xt(!0);try{s(a)}finally{xt(!1)}}}else g=a;return c.memoizedState=c.baseState=g,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:g},c.queue=t,t=t.dispatch=Ky.bind(null,gt,t),[c.memoizedState,t]},useRef:function(t){var a=Ca();return t={current:t},a.memoizedState=t},useState:function(t){t=zs(t);var a=t.queue,s=bm.bind(null,gt,a);return a.dispatch=s,[t.memoizedState,s]},useDebugValue:vd,useDeferredValue:function(t,a){var s=Ca();return yd(s,t,a)},useTransition:function(){var t=zs(!1);return t=pm.bind(null,gt,t.queue,!0,!1),Ca().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,s){var c=gt,g=Ca();if(Xt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=a(),Un===null)throw Error(r(349));(en&127)!==0||ss(c,a,s)}g.memoizedState=s;var b={value:s,getSnapshot:a};return g.queue=b,im(Uu.bind(null,c,b,t),[t]),c.flags|=2048,fo(9,{destroy:void 0},Bu.bind(null,c,b,s,a),null),s},useId:function(){var t=Ca(),a=Un.identifierPrefix;if(Xt){var s=Fr,c=qr;s=(c&~(1<<32-Vt(c)-1)).toString(32)+s,a="_"+a+"R_"+s,s=va++,0<s&&(a+="H"+s.toString(32)),a+="_"}else s=Dc++,a="_"+a+"r_"+s.toString(32)+"_";return t.memoizedState=a},useHostTransitionStatus:wd,useFormState:Di,useActionState:Di,useOptimistic:function(t){var a=Ca();a.memoizedState=a.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=xd.bind(null,gt,!0,s),s.dispatch=a,[t,a]},useMemoCache:uo,useCacheRefresh:function(){return Ca().memoizedState=Wy.bind(null,gt)},useEffectEvent:function(t){var a=Ca(),s={impl:t};return a.memoizedState=s,function(){if((_n&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},_d={readContext:qa,use:Go,useCallback:hm,useContext:qa,useEffect:gd,useImperativeHandle:um,useInsertionEffect:om,useLayoutEffect:lm,useMemo:fm,useReducer:Bc,useRef:zh,useState:function(){return Bc(Ri)},useDebugValue:vd,useDeferredValue:function(t,a){var s=ea();return dm(s,yt.memoizedState,t,a)},useTransition:function(){var t=Bc(Ri)[0],a=ea().memoizedState;return[typeof t=="boolean"?t:Us(t),a]},useSyncExternalStore:zc,useId:vm,useHostTransitionStatus:wd,useFormState:os,useActionState:os,useOptimistic:function(t,a){var s=ea();return Mh(s,yt,t,a)},useMemoCache:uo,useCacheRefresh:ym};_d.useEffectEvent=sm;var Sm={readContext:qa,use:Go,useCallback:hm,useContext:qa,useEffect:gd,useImperativeHandle:um,useInsertionEffect:om,useLayoutEffect:lm,useMemo:fm,useReducer:Uc,useRef:zh,useState:function(){return Uc(Ri)},useDebugValue:vd,useDeferredValue:function(t,a){var s=ea();return yt===null?yd(s,t,a):dm(s,yt.memoizedState,t,a)},useTransition:function(){var t=Uc(Ri)[0],a=ea().memoizedState;return[typeof t=="boolean"?t:Us(t),a]},useSyncExternalStore:zc,useId:vm,useHostTransitionStatus:wd,useFormState:Fc,useActionState:Fc,useOptimistic:function(t,a){var s=ea();return yt!==null?Mh(s,yt,t,a):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:uo,useCacheRefresh:ym};Sm.useEffectEvent=sm;function Sd(t,a,s,c){a=t.memoizedState,s=s(c,a),s=s==null?a:S({},a,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Nd={enqueueSetState:function(t,a,s){t=t._reactInternals;var c=fi(),g=Nt(c);g.payload=a,s!=null&&(g.callback=s),a=Ht(t,g,c),a!==null&&(Kr(a,t,c),wn(a,t,c))},enqueueReplaceState:function(t,a,s){t=t._reactInternals;var c=fi(),g=Nt(c);g.tag=1,g.payload=a,s!=null&&(g.callback=s),a=Ht(t,g,c),a!==null&&(Kr(a,t,c),wn(a,t,c))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var s=fi(),c=Nt(s);c.tag=2,a!=null&&(c.callback=a),a=Ht(t,c,s),a!==null&&(Kr(a,t,s),wn(a,t,s))}};function Nm(t,a,s,c,g,b,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,b,E):a.prototype&&a.prototype.isPureReactComponent?!Qi(s,c)||!Qi(g,b):!0}function Am(t,a,s,c){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,c),a.state!==t&&Nd.enqueueReplaceState(a,a.state,null)}function Vl(t,a){var s=a;if("ref"in a){s={};for(var c in a)c!=="ref"&&(s[c]=a[c])}if(t=t.defaultProps){s===a&&(s=S({},s));for(var g in t)s[g]===void 0&&(s[g]=t[g])}return s}function jm(t){Dl(t)}function Em(t){console.error(t)}function Cm(t){Dl(t)}function qh(t,a){try{var s=t.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function Lm(t,a,s){try{var c=t.onCaughtError;c(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Ad(t,a,s){return s=Nt(s),s.tag=3,s.payload={element:null},s.callback=function(){qh(t,a)},s}function km(t){return t=Nt(t),t.tag=3,t}function Tm(t,a,s,c){var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var b=c.value;t.payload=function(){return g(b)},t.callback=function(){Lm(a,s,c)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Lm(a,s,c),typeof g!="function"&&(Qo===null?Qo=new Set([this]):Qo.add(this));var I=c.stack;this.componentDidCatch(c.value,{componentStack:I!==null?I:""})})}function Jy(t,a,s,c,g){if(s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=s.alternate,a!==null&&Ds(a,s,g,!0),s=Yn.current,s!==null){switch(s.tag){case 31:case 13:return ln===null?Qh():s.alternate===null&&ya===0&&(ya=3),s.flags&=-257,s.flags|=65536,s.lanes=g,c===ye?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([c]):a.add(c),Jd(t,c,g)),!1;case 22:return s.flags|=65536,c===ye?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([c]):s.add(c)),Jd(t,c,g)),!1}throw Error(r(435,s.tag))}return Jd(t,c,g),Qh(),!1}if(Xt)return a=Yn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,c!==ci&&(t=Error(r(422),{cause:c}),Ho(Ur(t,s)))):(c!==ci&&(a=Error(r(423),{cause:c}),Ho(Ur(a,s))),t=t.current.alternate,t.flags|=65536,g&=-g,t.lanes|=g,c=Ur(c,s),g=Ad(t.stateNode,c,g),xa(t,g),ya!==4&&(ya=2)),!1;var b=Error(r(520),{cause:c});if(b=Ur(b,s),Ju===null?Ju=[b]:Ju.push(b),ya!==4&&(ya=2),a===null)return!0;c=Ur(c,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,t=g&-g,s.lanes|=t,t=Ad(s.stateNode,c,t),xa(s,t),!1;case 1:if(a=s.type,b=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Qo===null||!Qo.has(b))))return s.flags|=65536,g&=-g,s.lanes|=g,g=km(g),Tm(g,t,s,c),xa(s,g),!1}s=s.return}while(s!==null);return!1}var jd=Error(r(461)),La=!1;function or(t,a,s,c){a.child=t===null?It(a,null,s,c):Bn(a,t.child,s,c)}function Om(t,a,s,c,g){s=s.render;var b=a.ref;if("ref"in c){var E={};for(var I in c)I!=="ref"&&(E[I]=c[I])}else E=c;return Ms(a),c=Du(t,a,s,E,b,g),I=Mu(),t!==null&&!La?(Pu(t,a,g),po(t,a,g)):(Xt&&I&&ku(a),a.flags|=1,or(t,a,c,g),a.child)}function Rm(t,a,s,c,g){if(t===null){var b=s.type;return typeof b=="function"&&!Ac(b)&&b.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=b,Dm(t,a,b,c,g)):(t=Io(s.type,null,c,a,a.mode,g),t.ref=a.ref,t.return=a,a.child=t)}if(b=t.child,!Dd(t,g)){var E=b.memoizedProps;if(s=s.compare,s=s!==null?s:Qi,s(E,c)&&t.ref===a.ref)return po(t,a,g)}return a.flags|=1,t=Br(b,c),t.ref=a.ref,t.return=a,a.child=t}function Dm(t,a,s,c,g){if(t!==null){var b=t.memoizedProps;if(Qi(b,c)&&t.ref===a.ref)if(La=!1,a.pendingProps=c=b,Dd(t,g))(t.flags&131072)!==0&&(La=!0);else return a.lanes=t.lanes,po(t,a,g)}return Ed(t,a,s,c,g)}function Mm(t,a,s,c){var g=c.children,b=t!==null?t.memoizedState:null;if(t===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((a.flags&128)!==0){if(b=b!==null?b.baseLanes|s:s,t!==null){for(c=a.child=t.child,g=0;c!==null;)g=g|c.lanes|c.childLanes,c=c.sibling;c=g&~b}else c=0,a.child=null;return Pm(t,a,b,s,c)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&Y(a,b!==null?b.cachePool:null),b!==null?Gn(a,b):fn(),ma(a);else return c=a.lanes=536870912,Pm(t,a,b!==null?b.baseLanes|s:s,s,c)}else b!==null?(Y(a,b.cachePool),Gn(a,b),ga(),a.memoizedState=null):(t!==null&&Y(a,null),fn(),ga());return or(t,a,g,s),a.child}function Hu(t,a){return t!==null&&t.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Pm(t,a,s,c,g){var b=$();return b=b===null?null:{parent:la._currentValue,pool:b},a.memoizedState={baseLanes:s,cachePool:b},t!==null&&Y(a,null),fn(),ma(a),t!==null&&Ds(t,a,c,!0),a.childLanes=g,null}function Fh(t,a){return a=$h({mode:a.mode,children:a.children},t.mode),a.ref=t.ref,t.child=a,a.return=t,a}function Bm(t,a,s){return Bn(a,t.child,null,s),t=Fh(a,a.pendingProps),t.flags|=2,An(a),a.memoizedState=null,t}function Xy(t,a,s){var c=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,t===null){if(Xt){if(c.mode==="hidden")return t=Fh(a,c),a.lanes=536870912,Hu(null,t);if(xn(a),(t=Pn)?(t=K1(t,Zn),t=t!==null&&t.data==="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:ks!==null?{id:qr,overflow:Fr}:null,retryLane:536870912,hydrationErrors:null},s=jc(t),s.return=a,a.child=s,za=a,Pn=null)):t=null,t===null)throw Ts(a);return a.lanes=536870912,null}return Fh(a,c)}var b=t.memoizedState;if(b!==null){var E=b.dehydrated;if(xn(a),g)if(a.flags&256)a.flags&=-257,a=Bm(t,a,s);else if(a.memoizedState!==null)a.child=t.child,a.flags|=128,a=null;else throw Error(r(558));else if(La||Ds(t,a,s,!1),g=(s&t.childLanes)!==0,La||g){if(c=Un,c!==null&&(E=wr(c,s),E!==0&&E!==b.retryLane))throw b.retryLane=E,as(t,E),Kr(c,t,E),jd;Qh(),a=Bm(t,a,s)}else t=b.treeContext,Pn=Mi(E.nextSibling),za=a,Xt=!0,ir=null,Zn=!1,t!==null&&Oh(a,t),a=Fh(a,c),a.flags|=4096;return a}return t=Br(t.child,{mode:c.mode,children:c.children}),t.ref=a.ref,a.child=t,t.return=a,t}function Hh(t,a){var s=a.ref;if(s===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(a.flags|=4194816)}}function Ed(t,a,s,c,g){return Ms(a),s=Du(t,a,s,c,void 0,g),c=Mu(),t!==null&&!La?(Pu(t,a,g),po(t,a,g)):(Xt&&c&&ku(a),a.flags|=1,or(t,a,s,g),a.child)}function Um(t,a,s,c,g,b){return Ms(a),a.updateQueue=null,s=is(a,c,s,g),Mc(t),c=Mu(),t!==null&&!La?(Pu(t,a,b),po(t,a,b)):(Xt&&c&&ku(a),a.flags|=1,or(t,a,s,b),a.child)}function zm(t,a,s,c,g){if(Ms(a),a.stateNode===null){var b=Ua,E=s.contextType;typeof E=="object"&&E!==null&&(b=qa(E)),b=new s(c,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Nd,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=c,b.state=a.memoizedState,b.refs={},Ye(a),E=s.contextType,b.context=typeof E=="object"&&E!==null?qa(E):Ua,b.state=a.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(Sd(a,s,E,c),b.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(E=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),E!==b.state&&Nd.enqueueReplaceState(b,b.state,null),da(a,c,b,g),On(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(t===null){b=a.stateNode;var I=a.memoizedProps,he=Vl(s,I);b.props=he;var Ce=b.context,Me=s.contextType;E=Ua,typeof Me=="object"&&Me!==null&&(E=qa(Me));var Ie=s.getDerivedStateFromProps;Me=typeof Ie=="function"||typeof b.getSnapshotBeforeUpdate=="function",I=a.pendingProps!==I,Me||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(I||Ce!==E)&&Am(a,b,c,E),Qe=!1;var ke=a.memoizedState;b.state=ke,da(a,c,b,g),On(),Ce=a.memoizedState,I||ke!==Ce||Qe?(typeof Ie=="function"&&(Sd(a,s,Ie,c),Ce=a.memoizedState),(he=Qe||Nm(a,s,he,c,ke,Ce,E))?(Me||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=Ce),b.props=c,b.state=Ce,b.context=E,c=he):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{b=a.stateNode,Vn(t,a),E=a.memoizedProps,Me=Vl(s,E),b.props=Me,Ie=a.pendingProps,ke=b.context,Ce=s.contextType,he=Ua,typeof Ce=="object"&&Ce!==null&&(he=qa(Ce)),I=s.getDerivedStateFromProps,(Ce=typeof I=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(E!==Ie||ke!==he)&&Am(a,b,c,he),Qe=!1,ke=a.memoizedState,b.state=ke,da(a,c,b,g),On();var Oe=a.memoizedState;E!==Ie||ke!==Oe||Qe||t!==null&&t.dependencies!==null&&Tc(t.dependencies)?(typeof I=="function"&&(Sd(a,s,I,c),Oe=a.memoizedState),(Me=Qe||Nm(a,s,Me,c,ke,Oe,he)||t!==null&&t.dependencies!==null&&Tc(t.dependencies))?(Ce||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(c,Oe,he),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(c,Oe,he)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||E===t.memoizedProps&&ke===t.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&ke===t.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=Oe),b.props=c,b.state=Oe,b.context=he,c=Me):(typeof b.componentDidUpdate!="function"||E===t.memoizedProps&&ke===t.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&ke===t.memoizedState||(a.flags|=1024),c=!1)}return b=c,Hh(t,a),c=(a.flags&128)!==0,b||c?(b=a.stateNode,s=c&&typeof s.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,t!==null&&c?(a.child=Bn(a,t.child,null,g),a.child=Bn(a,null,s,g)):or(t,a,s,g),a.memoizedState=b.state,t=a.child):t=po(t,a,g),t}function Im(t,a,s,c){return lo(),a.flags|=256,or(t,a,s,c),a.child}var Cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ld(t){return{baseLanes:t,cachePool:Q()}}function kd(t,a,s){return t=t!==null?t.childLanes&~s:0,a&&(t|=hi),t}function qm(t,a,s){var c=a.pendingProps,g=!1,b=(a.flags&128)!==0,E;if((E=b)||(E=t!==null&&t.memoizedState===null?!1:(rn.current&2)!==0),E&&(g=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,t===null){if(Xt){if(g?ca(a):ga(),(t=Pn)?(t=K1(t,Zn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:ks!==null?{id:qr,overflow:Fr}:null,retryLane:536870912,hydrationErrors:null},s=jc(t),s.return=a,a.child=s,za=a,Pn=null)):t=null,t===null)throw Ts(a);return f0(t)?a.lanes=32:a.lanes=536870912,null}var I=c.children;return c=c.fallback,g?(ga(),g=a.mode,I=$h({mode:"hidden",children:I},g),c=Ls(c,g,s,null),I.return=a,c.return=a,I.sibling=c,a.child=I,c=a.child,c.memoizedState=Ld(s),c.childLanes=kd(t,E,s),a.memoizedState=Cd,Hu(null,c)):(ca(a),Td(a,I))}var he=t.memoizedState;if(he!==null&&(I=he.dehydrated,I!==null)){if(b)a.flags&256?(ca(a),a.flags&=-257,a=Od(t,a,s)):a.memoizedState!==null?(ga(),a.child=t.child,a.flags|=128,a=null):(ga(),I=c.fallback,g=a.mode,c=$h({mode:"visible",children:c.children},g),I=Ls(I,g,s,null),I.flags|=2,c.return=a,I.return=a,c.sibling=I,a.child=c,Bn(a,t.child,null,s),c=a.child,c.memoizedState=Ld(s),c.childLanes=kd(t,E,s),a.memoizedState=Cd,a=Hu(null,c));else if(ca(a),f0(I)){if(E=I.nextSibling&&I.nextSibling.dataset,E)var Ce=E.dgst;E=Ce,c=Error(r(419)),c.stack="",c.digest=E,Ho({value:c,source:null,stack:null}),a=Od(t,a,s)}else if(La||Ds(t,a,s,!1),E=(s&t.childLanes)!==0,La||E){if(E=Un,E!==null&&(c=wr(E,s),c!==0&&c!==he.retryLane))throw he.retryLane=c,as(t,c),Kr(E,t,c),jd;h0(I)||Qh(),a=Od(t,a,s)}else h0(I)?(a.flags|=192,a.child=t.child,a=null):(t=he.treeContext,Pn=Mi(I.nextSibling),za=a,Xt=!0,ir=null,Zn=!1,t!==null&&Oh(a,t),a=Td(a,c.children),a.flags|=4096);return a}return g?(ga(),I=c.fallback,g=a.mode,he=t.child,Ce=he.sibling,c=Br(he,{mode:"hidden",children:c.children}),c.subtreeFlags=he.subtreeFlags&65011712,Ce!==null?I=Br(Ce,I):(I=Ls(I,g,s,null),I.flags|=2),I.return=a,c.return=a,c.sibling=I,a.child=c,Hu(null,c),c=a.child,I=t.child.memoizedState,I===null?I=Ld(s):(g=I.cachePool,g!==null?(he=la._currentValue,g=g.parent!==he?{parent:he,pool:he}:g):g=Q(),I={baseLanes:I.baseLanes|s,cachePool:g}),c.memoizedState=I,c.childLanes=kd(t,E,s),a.memoizedState=Cd,Hu(t.child,c)):(ca(a),s=t.child,t=s.sibling,s=Br(s,{mode:"visible",children:c.children}),s.return=a,s.sibling=null,t!==null&&(E=a.deletions,E===null?(a.deletions=[t],a.flags|=16):E.push(t)),a.child=s,a.memoizedState=null,s)}function Td(t,a){return a=$h({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function $h(t,a){return t=Ja(22,t,null,a),t.lanes=0,t}function Od(t,a,s){return Bn(a,t.child,null,s),t=Td(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function Fm(t,a,s){t.lanes|=a;var c=t.alternate;c!==null&&(c.lanes|=a),$o(t.return,a,s)}function Rd(t,a,s,c,g,b){var E=t.memoizedState;E===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:g,treeForkCount:b}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=c,E.tail=s,E.tailMode=g,E.treeForkCount=b)}function Hm(t,a,s){var c=a.pendingProps,g=c.revealOrder,b=c.tail;c=c.children;var E=rn.current,I=(E&2)!==0;if(I?(E=E&1|2,a.flags|=128):E&=1,B(rn,E),or(t,a,c,s),c=Xt?Il:0,!I&&t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fm(t,s,a);else if(t.tag===19)Fm(t,s,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(g){case"forwards":for(s=a.child,g=null;s!==null;)t=s.alternate,t!==null&&Za(t)===null&&(g=s),s=s.sibling;s=g,s===null?(g=a.child,a.child=null):(g=s.sibling,s.sibling=null),Rd(a,!1,g,s,b,c);break;case"backwards":case"unstable_legacy-backwards":for(s=null,g=a.child,a.child=null;g!==null;){if(t=g.alternate,t!==null&&Za(t)===null){a.child=g;break}t=g.sibling,g.sibling=s,s=g,g=t}Rd(a,!0,s,null,b,c);break;case"together":Rd(a,!1,null,null,void 0,c);break;default:a.memoizedState=null}return a.child}function po(t,a,s){if(t!==null&&(a.dependencies=t.dependencies),Zo|=a.lanes,(s&a.childLanes)===0)if(t!==null){if(Ds(t,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(r(153));if(a.child!==null){for(t=a.child,s=Br(t,t.pendingProps),a.child=s,s.return=a;t.sibling!==null;)t=t.sibling,s=s.sibling=Br(t,t.pendingProps),s.return=a;s.sibling=null}return a.child}function Dd(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&Tc(t)))}function Zy(t,a,s){switch(a.tag){case 3:Ae(a,a.stateNode.containerInfo),Rs(a,la,t.memoizedState.cache),lo();break;case 27:case 5:Pe(a);break;case 4:Ae(a,a.stateNode.containerInfo);break;case 10:Rs(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,xn(a),null;break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(ca(a),a.flags|=128,null):(s&a.child.childLanes)!==0?qm(t,a,s):(ca(a),t=po(t,a,s),t!==null?t.sibling:null);ca(a);break;case 19:var g=(t.flags&128)!==0;if(c=(s&a.childLanes)!==0,c||(Ds(t,a,s,!1),c=(s&a.childLanes)!==0),g){if(c)return Hm(t,a,s);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),B(rn,rn.current),c)break;return null;case 22:return a.lanes=0,Mm(t,a,s,a.pendingProps);case 24:Rs(a,la,t.memoizedState.cache)}return po(t,a,s)}function $m(t,a,s){if(t!==null)if(t.memoizedProps!==a.pendingProps)La=!0;else{if(!Dd(t,s)&&(a.flags&128)===0)return La=!1,Zy(t,a,s);La=(t.flags&131072)!==0}else La=!1,Xt&&(a.flags&1048576)!==0&&Th(a,Il,a.index);switch(a.lanes=0,a.tag){case 16:e:{var c=a.pendingProps;if(t=Se(a.elementType),a.type=t,typeof t=="function")Ac(t)?(c=Vl(t,c),a.tag=1,a=zm(null,a,t,c,s)):(a.tag=0,a=Ed(null,a,t,c,s));else{if(t!=null){var g=t.$$typeof;if(g===z){a.tag=11,a=Om(null,a,t,c,s);break e}else if(g===ne){a.tag=14,a=Rm(null,a,t,c,s);break e}}throw a=ae(t)||t,Error(r(306,a,""))}}return a;case 0:return Ed(t,a,a.type,a.pendingProps,s);case 1:return c=a.type,g=Vl(c,a.pendingProps),zm(t,a,c,g,s);case 3:e:{if(Ae(a,a.stateNode.containerInfo),t===null)throw Error(r(387));c=a.pendingProps;var b=a.memoizedState;g=b.element,Vn(t,a),da(a,c,null,s);var E=a.memoizedState;if(c=E.cache,Rs(a,la,c),c!==b.cache&&co(a,[la],s,!0),On(),c=E.element,b.isDehydrated)if(b={element:c,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=Im(t,a,c,s);break e}else if(c!==g){g=Ur(Error(r(424)),a),Ho(g),a=Im(t,a,c,s);break e}else{switch(t=a.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Pn=Mi(t.firstChild),za=a,Xt=!0,ir=null,Zn=!0,s=It(a,null,c,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(lo(),c===g){a=po(t,a,s);break e}or(t,a,c,s)}a=a.child}return a;case 26:return Hh(t,a),t===null?(s=tg(a.type,null,a.pendingProps,null))?a.memoizedState=s:Xt||(s=a.type,t=a.pendingProps,c=of(oe.current).createElement(s),c[Nn]=a,c[Hn]=t,lr(c,s,t),aa(c),a.stateNode=c):a.memoizedState=tg(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return Pe(a),t===null&&Xt&&(c=a.stateNode=Z1(a.type,a.pendingProps,oe.current),za=a,Zn=!0,g=Pn,al(a.type)?(d0=g,Pn=Mi(c.firstChild)):Pn=g),or(t,a,a.pendingProps.children,s),Hh(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&Xt&&((g=c=Pn)&&(c=Cb(c,a.type,a.pendingProps,Zn),c!==null?(a.stateNode=c,za=a,Pn=Mi(c.firstChild),Zn=!1,g=!0):g=!1),g||Ts(a)),Pe(a),g=a.type,b=a.pendingProps,E=t!==null?t.memoizedProps:null,c=b.children,l0(g,b)?c=null:E!==null&&l0(g,E)&&(a.flags|=32),a.memoizedState!==null&&(g=Du(t,a,md,null,null,s),rh._currentValue=g),Hh(t,a),or(t,a,c,s),a.child;case 6:return t===null&&Xt&&((t=s=Pn)&&(s=Lb(s,a.pendingProps,Zn),s!==null?(a.stateNode=s,za=a,Pn=null,t=!0):t=!1),t||Ts(a)),null;case 13:return qm(t,a,s);case 4:return Ae(a,a.stateNode.containerInfo),c=a.pendingProps,t===null?a.child=Bn(a,null,c,s):or(t,a,c,s),a.child;case 11:return Om(t,a,a.type,a.pendingProps,s);case 7:return or(t,a,a.pendingProps,s),a.child;case 8:return or(t,a,a.pendingProps.children,s),a.child;case 12:return or(t,a,a.pendingProps.children,s),a.child;case 10:return c=a.pendingProps,Rs(a,a.type,c.value),or(t,a,c.children,s),a.child;case 9:return g=a.type._context,c=a.pendingProps.children,Ms(a),g=qa(g),c=c(g),a.flags|=1,or(t,a,c,s),a.child;case 14:return Rm(t,a,a.type,a.pendingProps,s);case 15:return Dm(t,a,a.type,a.pendingProps,s);case 19:return Hm(t,a,s);case 31:return Xy(t,a,s);case 22:return Mm(t,a,s,a.pendingProps);case 24:return Ms(a),c=qa(la),t===null?(g=$(),g===null&&(g=Un,b=Vo(),g.pooledCache=b,b.refCount++,b!==null&&(g.pooledCacheLanes|=s),g=b),a.memoizedState={parent:c,cache:g},Ye(a),Rs(a,la,g)):((t.lanes&s)!==0&&(Vn(t,a),da(a,null,null,s),On()),g=t.memoizedState,b=a.memoizedState,g.parent!==c?(g={parent:c,cache:c},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Rs(a,la,c)):(c=b.cache,Rs(a,la,c),c!==g.cache&&co(a,[la],s,!0))),or(t,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function mo(t){t.flags|=4}function Md(t,a,s,c,g){if((a=(t.mode&32)!==0)&&(a=!1),a){if(t.flags|=16777216,(g&335544128)===g)if(t.stateNode.complete)t.flags|=8192;else if(v1())t.flags|=8192;else throw Re=ye,je}else t.flags&=-16777217}function Vm(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!sg(a))if(v1())t.flags|=8192;else throw Re=ye,je}function Vh(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?vi():536870912,t.lanes|=a,Gc|=a)}function $u(t,a){if(!Xt)switch(t.tailMode){case"hidden":a=t.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Wn(t){var a=t.alternate!==null&&t.alternate.child===t.child,s=0,c=0;if(a)for(var g=t.child;g!==null;)s|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=t,g=g.sibling;else for(g=t.child;g!==null;)s|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=t,g=g.sibling;return t.subtreeFlags|=c,t.childLanes=s,a}function Qy(t,a,s){var c=a.pendingProps;switch(Lc(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wn(a),null;case 1:return Wn(a),null;case 3:return s=a.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Hr(la),Ne(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Ia(a)?mo(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Ou())),Wn(a),null;case 26:var g=a.type,b=a.memoizedState;return t===null?(mo(a),b!==null?(Wn(a),Vm(a,b)):(Wn(a),Md(a,g,null,c,s))):b?b!==t.memoizedState?(mo(a),Wn(a),Vm(a,b)):(Wn(a),a.flags&=-16777217):(t=t.memoizedProps,t!==c&&mo(a),Wn(a),Md(a,g,t,c,s)),null;case 27:if($e(a),s=oe.current,g=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==c&&mo(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Wn(a),null}t=q.current,Ia(a)?Tu(a):(t=Z1(g,c,s),a.stateNode=t,mo(a))}return Wn(a),null;case 5:if($e(a),g=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==c&&mo(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Wn(a),null}if(b=q.current,Ia(a))Tu(a);else{var E=of(oe.current);switch(b){case 1:b=E.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:b=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":b=E.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":b=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":b=E.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof c.is=="string"?E.createElement("select",{is:c.is}):E.createElement("select"),c.multiple?b.multiple=!0:c.size&&(b.size=c.size);break;default:b=typeof c.is=="string"?E.createElement(g,{is:c.is}):E.createElement(g)}}b[Nn]=a,b[Hn]=c;e:for(E=a.child;E!==null;){if(E.tag===5||E.tag===6)b.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===a)break e;for(;E.sibling===null;){if(E.return===null||E.return===a)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}a.stateNode=b;e:switch(lr(b,g,c),g){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&mo(a)}}return Wn(a),Md(a,a.type,t===null?null:t.memoizedProps,a.pendingProps,s),null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==c&&mo(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(t=oe.current,Ia(a)){if(t=a.stateNode,s=a.memoizedProps,c=null,g=za,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}t[Nn]=a,t=!!(t.nodeValue===s||c!==null&&c.suppressHydrationWarning===!0||q1(t.nodeValue,s)),t||Ts(a,!0)}else t=of(t).createTextNode(c),t[Nn]=a,a.stateNode=t}return Wn(a),null;case 31:if(s=a.memoizedState,t===null||t.memoizedState!==null){if(c=Ia(a),s!==null){if(t===null){if(!c)throw Error(r(318));if(t=a.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Nn]=a}else lo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Wn(a),t=!1}else s=Ou(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return a.flags&256?(An(a),a):(An(a),null);if((a.flags&128)!==0)throw Error(r(558))}return Wn(a),null;case 13:if(c=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(g=Ia(a),c!==null&&c.dehydrated!==null){if(t===null){if(!g)throw Error(r(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Nn]=a}else lo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Wn(a),g=!1}else g=Ou(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(An(a),a):(An(a),null)}return An(a),(a.flags&128)!==0?(a.lanes=s,a):(s=c!==null,t=t!==null&&t.memoizedState!==null,s&&(c=a.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool),b=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(b=c.memoizedState.cachePool.pool),b!==g&&(c.flags|=2048)),s!==t&&s&&(a.child.flags|=8192),Vh(a,a.updateQueue),Wn(a),null);case 4:return Ne(),t===null&&a0(a.stateNode.containerInfo),Wn(a),null;case 10:return Hr(a.type),Wn(a),null;case 19:if(A(rn),c=a.memoizedState,c===null)return Wn(a),null;if(g=(a.flags&128)!==0,b=c.rendering,b===null)if(g)$u(c,!1);else{if(ya!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(b=Za(t),b!==null){for(a.flags|=128,$u(c,!1),t=b.updateQueue,a.updateQueue=t,Vh(a,t),a.subtreeFlags=0,t=s,s=a.child;s!==null;)Ul(s,t),s=s.sibling;return B(rn,rn.current&1|2),Xt&&kr(a,c.treeForkCount),a.child}t=t.sibling}c.tail!==null&&Bt()>Jh&&(a.flags|=128,g=!0,$u(c,!1),a.lanes=4194304)}else{if(!g)if(t=Za(b),t!==null){if(a.flags|=128,g=!0,t=t.updateQueue,a.updateQueue=t,Vh(a,t),$u(c,!0),c.tail===null&&c.tailMode==="hidden"&&!b.alternate&&!Xt)return Wn(a),null}else 2*Bt()-c.renderingStartTime>Jh&&s!==536870912&&(a.flags|=128,g=!0,$u(c,!1),a.lanes=4194304);c.isBackwards?(b.sibling=a.child,a.child=b):(t=c.last,t!==null?t.sibling=b:a.child=b,c.last=b)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Bt(),t.sibling=null,s=rn.current,B(rn,g?s&1|2:s&1),Xt&&kr(a,c.treeForkCount),t):(Wn(a),null);case 22:case 23:return An(a),_a(),c=a.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(s&536870912)!==0&&(a.flags&128)===0&&(Wn(a),a.subtreeFlags&6&&(a.flags|=8192)):Wn(a),s=a.updateQueue,s!==null&&Vh(a,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==s&&(a.flags|=2048),t!==null&&A(U),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),Hr(la),Wn(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function eb(t,a){switch(Lc(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return Hr(la),Ne(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return $e(a),null;case 31:if(a.memoizedState!==null){if(An(a),a.alternate===null)throw Error(r(340));lo()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 13:if(An(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(r(340));lo()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return A(rn),null;case 4:return Ne(),null;case 10:return Hr(a.type),null;case 22:case 23:return An(a),_a(),t!==null&&A(U),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return Hr(la),null;case 25:return null;default:return null}}function Gm(t,a){switch(Lc(a),a.tag){case 3:Hr(la),Ne();break;case 26:case 27:case 5:$e(a);break;case 4:Ne();break;case 31:a.memoizedState!==null&&An(a);break;case 13:An(a);break;case 19:A(rn);break;case 10:Hr(a.type);break;case 22:case 23:An(a),_a(),t!==null&&A(U);break;case 24:Hr(la)}}function Vu(t,a){try{var s=a.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var g=c.next;s=g;do{if((s.tag&t)===t){c=void 0;var b=s.create,E=s.inst;c=b(),E.destroy=c}s=s.next}while(s!==g)}}catch(I){En(a,a.return,I)}}function Jo(t,a,s){try{var c=a.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var b=g.next;c=b;do{if((c.tag&t)===t){var E=c.inst,I=E.destroy;if(I!==void 0){E.destroy=void 0,g=a;var he=s,Ce=I;try{Ce()}catch(Me){En(g,he,Me)}}}c=c.next}while(c!==b)}}catch(Me){En(a,a.return,Me)}}function Ym(t){var a=t.updateQueue;if(a!==null){var s=t.stateNode;try{pa(a,s)}catch(c){En(t,t.return,c)}}}function Wm(t,a,s){s.props=Vl(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(c){En(t,a,c)}}function Gu(t,a){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof s=="function"?t.refCleanup=s(c):s.current=c}}catch(g){En(t,a,g)}}function Is(t,a){var s=t.ref,c=t.refCleanup;if(s!==null)if(typeof c=="function")try{c()}catch(g){En(t,a,g)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(g){En(t,a,g)}else s.current=null}function Km(t){var a=t.type,s=t.memoizedProps,c=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&c.focus();break e;case"img":s.src?c.src=s.src:s.srcSet&&(c.srcset=s.srcSet)}}catch(g){En(t,t.return,g)}}function Pd(t,a,s){try{var c=t.stateNode;_b(c,t.type,s,a),c[Hn]=a}catch(g){En(t,t.return,g)}}function Jm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&al(t.type)||t.tag===4}function Bd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&al(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ud(t,a,s){var c=t.tag;if(c===5||c===6)t=t.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(t),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=ri));else if(c!==4&&(c===27&&al(t.type)&&(s=t.stateNode,a=null),t=t.child,t!==null))for(Ud(t,a,s),t=t.sibling;t!==null;)Ud(t,a,s),t=t.sibling}function Gh(t,a,s){var c=t.tag;if(c===5||c===6)t=t.stateNode,a?s.insertBefore(t,a):s.appendChild(t);else if(c!==4&&(c===27&&al(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Gh(t,a,s),t=t.sibling;t!==null;)Gh(t,a,s),t=t.sibling}function Xm(t){var a=t.stateNode,s=t.memoizedProps;try{for(var c=t.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);lr(a,c,s),a[Nn]=t,a[Hn]=s}catch(b){En(t,t.return,b)}}var go=!1,ka=!1,zd=!1,Zm=typeof WeakSet=="function"?WeakSet:Set,Qa=null;function tb(t,a){if(t=t.containerInfo,s0=pf,t=ts(t),ki(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var g=c.anchorOffset,b=c.focusNode;c=c.focusOffset;try{s.nodeType,b.nodeType}catch(At){s=null;break e}var E=0,I=-1,he=-1,Ce=0,Me=0,Ie=t,ke=null;t:for(;;){for(var Oe;Ie!==s||g!==0&&Ie.nodeType!==3||(I=E+g),Ie!==b||c!==0&&Ie.nodeType!==3||(he=E+c),Ie.nodeType===3&&(E+=Ie.nodeValue.length),(Oe=Ie.firstChild)!==null;)ke=Ie,Ie=Oe;for(;;){if(Ie===t)break t;if(ke===s&&++Ce===g&&(I=E),ke===b&&++Me===c&&(he=E),(Oe=Ie.nextSibling)!==null)break;Ie=ke,ke=Ie.parentNode}Ie=Oe}s=I===-1||he===-1?null:{start:I,end:he}}else s=null}s=s||{start:0,end:0}}else s=null;for(o0={focusedElem:t,selectionRange:s},pf=!1,Qa=a;Qa!==null;)if(a=Qa,t=a.child,(a.subtreeFlags&1028)!==0&&t!==null)t.return=a,Qa=t;else for(;Qa!==null;){switch(a=Qa,b=a.alternate,t=a.flags,a.tag){case 0:if((t&4)!==0&&(t=a.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)g=t[s],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&b!==null){t=void 0,s=a,g=b.memoizedProps,b=b.memoizedState,c=s.stateNode;try{var it=Vl(s.type,g);t=c.getSnapshotBeforeUpdate(it,b),c.__reactInternalSnapshotBeforeUpdate=t}catch(At){En(s,s.return,At)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,s=t.nodeType,s===9)u0(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":u0(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=a.sibling,t!==null){t.return=a.return,Qa=t;break}Qa=a.return}}function Qm(t,a,s){var c=s.flags;switch(s.tag){case 0:case 11:case 15:yo(t,s),c&4&&Vu(5,s);break;case 1:if(yo(t,s),c&4)if(t=s.stateNode,a===null)try{t.componentDidMount()}catch(E){En(s,s.return,E)}else{var g=Vl(s.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(g,a,t.__reactInternalSnapshotBeforeUpdate)}catch(E){En(s,s.return,E)}}c&64&&Ym(s),c&512&&Gu(s,s.return);break;case 3:if(yo(t,s),c&64&&(t=s.updateQueue,t!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{pa(t,a)}catch(E){En(s,s.return,E)}}break;case 27:a===null&&c&4&&Xm(s);case 26:case 5:yo(t,s),a===null&&c&4&&Km(s),c&512&&Gu(s,s.return);break;case 12:yo(t,s);break;case 31:yo(t,s),c&4&&n1(t,s);break;case 13:yo(t,s),c&4&&a1(t,s),c&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=ub.bind(null,s),kb(t,s))));break;case 22:if(c=s.memoizedState!==null||go,!c){a=a!==null&&a.memoizedState!==null||ka,g=go;var b=ka;go=c,(ka=a)&&!b?bo(t,s,(s.subtreeFlags&8772)!==0):yo(t,s),go=g,ka=b}break;case 30:break;default:yo(t,s)}}function e1(t){var a=t.alternate;a!==null&&(t.alternate=null,e1(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&_s(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ta=null,Vr=!1;function vo(t,a,s){for(s=s.child;s!==null;)t1(t,a,s),s=s.sibling}function t1(t,a,s){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(Kt,s)}catch(b){}switch(s.tag){case 26:ka||Is(s,a),vo(t,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ka||Is(s,a);var c=ta,g=Vr;al(s.type)&&(ta=s.stateNode,Vr=!1),vo(t,a,s),th(s.stateNode),ta=c,Vr=g;break;case 5:ka||Is(s,a);case 6:if(c=ta,g=Vr,ta=null,vo(t,a,s),ta=c,Vr=g,ta!==null)if(Vr)try{(ta.nodeType===9?ta.body:ta.nodeName==="HTML"?ta.ownerDocument.body:ta).removeChild(s.stateNode)}catch(b){En(s,a,b)}else try{ta.removeChild(s.stateNode)}catch(b){En(s,a,b)}break;case 18:ta!==null&&(Vr?(t=ta,Y1(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),eu(t)):Y1(ta,s.stateNode));break;case 4:c=ta,g=Vr,ta=s.stateNode.containerInfo,Vr=!0,vo(t,a,s),ta=c,Vr=g;break;case 0:case 11:case 14:case 15:Jo(2,s,a),ka||Jo(4,s,a),vo(t,a,s);break;case 1:ka||(Is(s,a),c=s.stateNode,typeof c.componentWillUnmount=="function"&&Wm(s,a,c)),vo(t,a,s);break;case 21:vo(t,a,s);break;case 22:ka=(c=ka)||s.memoizedState!==null,vo(t,a,s),ka=c;break;default:vo(t,a,s)}}function n1(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{eu(t)}catch(s){En(a,a.return,s)}}}function a1(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{eu(t)}catch(s){En(a,a.return,s)}}function nb(t){switch(t.tag){case 31:case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new Zm),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new Zm),a;default:throw Error(r(435,t.tag))}}function Yh(t,a){var s=nb(t);a.forEach(function(c){if(!s.has(c)){s.add(c);var g=hb.bind(null,t,c);c.then(g,g)}})}function Gr(t,a){var s=a.deletions;if(s!==null)for(var c=0;c<s.length;c++){var g=s[c],b=t,E=a,I=E;e:for(;I!==null;){switch(I.tag){case 27:if(al(I.type)){ta=I.stateNode,Vr=!1;break e}break;case 5:ta=I.stateNode,Vr=!1;break e;case 3:case 4:ta=I.stateNode.containerInfo,Vr=!0;break e}I=I.return}if(ta===null)throw Error(r(160));t1(b,E,g),ta=null,Vr=!1,b=g.alternate,b!==null&&(b.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)r1(a,t),a=a.sibling}var cs=null;function r1(t,a){var s=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Gr(a,t),Yr(t),c&4&&(Jo(3,t,t.return),Vu(3,t),Jo(5,t,t.return));break;case 1:Gr(a,t),Yr(t),c&512&&(ka||s===null||Is(s,s.return)),c&64&&go&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?c:s.concat(c))));break;case 26:var g=cs;if(Gr(a,t),Yr(t),c&512&&(ka||s===null||Is(s,s.return)),c&4){var b=s!==null?s.memoizedState:null;if(c=t.memoizedState,s===null)if(c===null)if(t.stateNode===null){e:{c=t.type,s=t.memoizedProps,g=g.ownerDocument||g;t:switch(c){case"title":b=g.getElementsByTagName("title")[0],(!b||b[Qr]||b[Nn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=g.createElement(c),g.head.insertBefore(b,g.querySelector("head > title"))),lr(b,c,s),b[Nn]=t,aa(b),c=b;break e;case"link":var E=rg("link","href",g).get(c+(s.href||""));if(E){for(var I=0;I<E.length;I++)if(b=E[I],b.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&b.getAttribute("rel")===(s.rel==null?null:s.rel)&&b.getAttribute("title")===(s.title==null?null:s.title)&&b.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(I,1);break t}}b=g.createElement(c),lr(b,c,s),g.head.appendChild(b);break;case"meta":if(E=rg("meta","content",g).get(c+(s.content||""))){for(I=0;I<E.length;I++)if(b=E[I],b.getAttribute("content")===(s.content==null?null:""+s.content)&&b.getAttribute("name")===(s.name==null?null:s.name)&&b.getAttribute("property")===(s.property==null?null:s.property)&&b.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&b.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(I,1);break t}}b=g.createElement(c),lr(b,c,s),g.head.appendChild(b);break;default:throw Error(r(468,c))}b[Nn]=t,aa(b),c=b}t.stateNode=c}else ig(g,t.type,t.stateNode);else t.stateNode=ag(g,c,t.memoizedProps);else b!==c?(b===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):b.count--,c===null?ig(g,t.type,t.stateNode):ag(g,c,t.memoizedProps)):c===null&&t.stateNode!==null&&Pd(t,t.memoizedProps,s.memoizedProps)}break;case 27:Gr(a,t),Yr(t),c&512&&(ka||s===null||Is(s,s.return)),s!==null&&c&4&&Pd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Gr(a,t),Yr(t),c&512&&(ka||s===null||Is(s,s.return)),t.flags&32){g=t.stateNode;try{Sr(g,"")}catch(it){En(t,t.return,it)}}c&4&&t.stateNode!=null&&(g=t.memoizedProps,Pd(t,g,s!==null?s.memoizedProps:g)),c&1024&&(zd=!0);break;case 6:if(Gr(a,t),Yr(t),c&4){if(t.stateNode===null)throw Error(r(162));c=t.memoizedProps,s=t.stateNode;try{s.nodeValue=c}catch(it){En(t,t.return,it)}}break;case 3:if(uf=null,g=cs,cs=lf(a.containerInfo),Gr(a,t),cs=g,Yr(t),c&4&&s!==null&&s.memoizedState.isDehydrated)try{eu(a.containerInfo)}catch(it){En(t,t.return,it)}zd&&(zd=!1,i1(t));break;case 4:c=cs,cs=lf(t.stateNode.containerInfo),Gr(a,t),Yr(t),cs=c;break;case 12:Gr(a,t),Yr(t);break;case 31:Gr(a,t),Yr(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Yh(t,c)));break;case 13:Gr(a,t),Yr(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Kh=Bt()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Yh(t,c)));break;case 22:g=t.memoizedState!==null;var he=s!==null&&s.memoizedState!==null,Ce=go,Me=ka;if(go=Ce||g,ka=Me||he,Gr(a,t),ka=Me,go=Ce,Yr(t),c&8192)e:for(a=t.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(s===null||he||go||ka||Gl(t)),s=null,a=t;;){if(a.tag===5||a.tag===26){if(s===null){he=s=a;try{if(b=he.stateNode,g)E=b.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{I=he.stateNode;var Ie=he.memoizedProps.style,ke=Ie!=null&&Ie.hasOwnProperty("display")?Ie.display:null;I.style.display=ke==null||typeof ke=="boolean"?"":(""+ke).trim()}}catch(it){En(he,he.return,it)}}}else if(a.tag===6){if(s===null){he=a;try{he.stateNode.nodeValue=g?"":he.memoizedProps}catch(it){En(he,he.return,it)}}}else if(a.tag===18){if(s===null){he=a;try{var Oe=he.stateNode;g?W1(Oe,!0):W1(he.stateNode,!1)}catch(it){En(he,he.return,it)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=t.updateQueue,c!==null&&(s=c.retryQueue,s!==null&&(c.retryQueue=null,Yh(t,s))));break;case 19:Gr(a,t),Yr(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Yh(t,c)));break;case 30:break;case 21:break;default:Gr(a,t),Yr(t)}}function Yr(t){var a=t.flags;if(a&2){try{for(var s,c=t.return;c!==null;){if(Jm(c)){s=c;break}c=c.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var g=s.stateNode,b=Bd(t);Gh(t,b,g);break;case 5:var E=s.stateNode;s.flags&32&&(Sr(E,""),s.flags&=-33);var I=Bd(t);Gh(t,I,E);break;case 3:case 4:var he=s.stateNode.containerInfo,Ce=Bd(t);Ud(t,Ce,he);break;default:throw Error(r(161))}}catch(Me){En(t,t.return,Me)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function i1(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;i1(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function yo(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Qm(t,a.alternate,a),a=a.sibling}function Gl(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:Jo(4,a,a.return),Gl(a);break;case 1:Is(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&Wm(a,a.return,s),Gl(a);break;case 27:th(a.stateNode);case 26:case 5:Is(a,a.return),Gl(a);break;case 22:a.memoizedState===null&&Gl(a);break;case 30:Gl(a);break;default:Gl(a)}t=t.sibling}}function bo(t,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,g=t,b=a,E=b.flags;switch(b.tag){case 0:case 11:case 15:bo(g,b,s),Vu(4,b);break;case 1:if(bo(g,b,s),c=b,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Ce){En(c,c.return,Ce)}if(c=b,g=c.updateQueue,g!==null){var I=c.stateNode;try{var he=g.shared.hiddenCallbacks;if(he!==null)for(g.shared.hiddenCallbacks=null,g=0;g<he.length;g++)Xa(he[g],I)}catch(Ce){En(c,c.return,Ce)}}s&&E&64&&Ym(b),Gu(b,b.return);break;case 27:Xm(b);case 26:case 5:bo(g,b,s),s&&c===null&&E&4&&Km(b),Gu(b,b.return);break;case 12:bo(g,b,s);break;case 31:bo(g,b,s),s&&E&4&&n1(g,b);break;case 13:bo(g,b,s),s&&E&4&&a1(g,b);break;case 22:b.memoizedState===null&&bo(g,b,s),Gu(b,b.return);break;case 30:break;default:bo(g,b,s)}a=a.sibling}}function Id(t,a){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&ql(s))}function qd(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&ql(t))}function us(t,a,s,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)s1(t,a,s,c),a=a.sibling}function s1(t,a,s,c){var g=a.flags;switch(a.tag){case 0:case 11:case 15:us(t,a,s,c),g&2048&&Vu(9,a);break;case 1:us(t,a,s,c);break;case 3:us(t,a,s,c),g&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&ql(t)));break;case 12:if(g&2048){us(t,a,s,c),t=a.stateNode;try{var b=a.memoizedProps,E=b.id,I=b.onPostCommit;typeof I=="function"&&I(E,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(he){En(a,a.return,he)}}else us(t,a,s,c);break;case 31:us(t,a,s,c);break;case 13:us(t,a,s,c);break;case 23:break;case 22:b=a.stateNode,E=a.alternate,a.memoizedState!==null?b._visibility&2?us(t,a,s,c):Yu(t,a):b._visibility&2?us(t,a,s,c):(b._visibility|=2,Hc(t,a,s,c,(a.subtreeFlags&10256)!==0||!1)),g&2048&&Id(E,a);break;case 24:us(t,a,s,c),g&2048&&qd(a.alternate,a);break;default:us(t,a,s,c)}}function Hc(t,a,s,c,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var b=t,E=a,I=s,he=c,Ce=E.flags;switch(E.tag){case 0:case 11:case 15:Hc(b,E,I,he,g),Vu(8,E);break;case 23:break;case 22:var Me=E.stateNode;E.memoizedState!==null?Me._visibility&2?Hc(b,E,I,he,g):Yu(b,E):(Me._visibility|=2,Hc(b,E,I,he,g)),g&&Ce&2048&&Id(E.alternate,E);break;case 24:Hc(b,E,I,he,g),g&&Ce&2048&&qd(E.alternate,E);break;default:Hc(b,E,I,he,g)}a=a.sibling}}function Yu(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=t,c=a,g=c.flags;switch(c.tag){case 22:Yu(s,c),g&2048&&Id(c.alternate,c);break;case 24:Yu(s,c),g&2048&&qd(c.alternate,c);break;default:Yu(s,c)}a=a.sibling}}var Wu=8192;function $c(t,a,s){if(t.subtreeFlags&Wu)for(t=t.child;t!==null;)o1(t,a,s),t=t.sibling}function o1(t,a,s){switch(t.tag){case 26:$c(t,a,s),t.flags&Wu&&t.memoizedState!==null&&Fb(s,cs,t.memoizedState,t.memoizedProps);break;case 5:$c(t,a,s);break;case 3:case 4:var c=cs;cs=lf(t.stateNode.containerInfo),$c(t,a,s),cs=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=Wu,Wu=16777216,$c(t,a,s),Wu=c):$c(t,a,s));break;default:$c(t,a,s)}}function l1(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function Ku(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var c=a[s];Qa=c,u1(c,t)}l1(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)c1(t),t=t.sibling}function c1(t){switch(t.tag){case 0:case 11:case 15:Ku(t),t.flags&2048&&Jo(9,t,t.return);break;case 3:Ku(t);break;case 12:Ku(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,Wh(t)):Ku(t);break;default:Ku(t)}}function Wh(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var c=a[s];Qa=c,u1(c,t)}l1(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:Jo(8,a,a.return),Wh(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,Wh(a));break;default:Wh(a)}t=t.sibling}}function u1(t,a){for(;Qa!==null;){var s=Qa;switch(s.tag){case 0:case 11:case 15:Jo(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var c=s.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ql(s.memoizedState.cache)}if(c=s.child,c!==null)c.return=s,Qa=c;else e:for(s=t;Qa!==null;){c=Qa;var g=c.sibling,b=c.return;if(e1(c),c===s){Qa=null;break e}if(g!==null){g.return=b,Qa=g;break e}Qa=b}}}var ab={getCacheForType:function(t){var a=qa(la),s=a.data.get(t);return s===void 0&&(s=t(),a.data.set(t,s)),s},cacheSignal:function(){return qa(la).controller.signal}},rb=typeof WeakMap=="function"?WeakMap:Map,_n=0,Un=null,Zt=null,en=0,jn=0,ui=null,Xo=!1,Vc=!1,Fd=!1,wo=0,ya=0,Zo=0,Yl=0,Hd=0,hi=0,Gc=0,Ju=null,Wr=null,$d=!1,Kh=0,h1=0,Jh=1/0,Xh=null,Qo=null,Ha=0,el=null,Yc=null,xo=0,Vd=0,Gd=null,f1=null,Xu=0,Yd=null;function fi(){return(_n&2)!==0&&en!==0?en&-en:W.T!==null?Qd():ja()}function d1(){if(hi===0)if((en&536870912)===0||Xt){var t=Jn;Jn<<=1,(Jn&3932160)===0&&(Jn=262144),hi=t}else hi=536870912;return t=Yn.current,t!==null&&(t.flags|=32),hi}function Kr(t,a,s){(t===Un&&(jn===2||jn===9)||t.cancelPendingCommit!==null)&&(Wc(t,0),tl(t,en,hi,!1)),mt(t,s),((_n&2)===0||t!==Un)&&(t===Un&&((_n&2)===0&&(Yl|=s),ya===4&&tl(t,en,hi,!1)),qs(t))}function p1(t,a,s){if((_n&6)!==0)throw Error(r(327));var c=!s&&(a&127)===0&&(a&t.expiredLanes)===0||Xr(t,a),g=c?ob(t,a):Kd(t,a,!0),b=c;do{if(g===0){Vc&&!c&&tl(t,a,0,!1);break}else{if(s=t.current.alternate,b&&!ib(s)){g=Kd(t,a,!1),b=!1;continue}if(g===2){if(b=a,t.errorRecoveryDisabledLanes&b)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;e:{var I=t;g=Ju;var he=I.current.memoizedState.isDehydrated;if(he&&(Wc(I,E).flags|=256),E=Kd(I,E,!1),E!==2){if(Fd&&!he){I.errorRecoveryDisabledLanes|=b,Yl|=b,g=4;break e}b=Wr,Wr=g,b!==null&&(Wr===null?Wr=b:Wr.push.apply(Wr,b))}g=E}if(b=!1,g!==2)continue}}if(g===1){Wc(t,0),tl(t,a,0,!0);break}e:{switch(c=t,b=g,b){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:tl(c,a,hi,!Xo);break e;case 2:Wr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(g=Kh+300-Bt(),10<g)){if(tl(c,a,hi,!Xo),nn(c,0,!0)!==0)break e;xo=a,c.timeoutHandle=V1(m1.bind(null,c,s,Wr,Xh,$d,a,hi,Yl,Gc,Xo,b,"Throttled",-0,0),g);break e}m1(c,s,Wr,Xh,$d,a,hi,Yl,Gc,Xo,b,null,-0,0)}}break}while(!0);qs(t)}function m1(t,a,s,c,g,b,E,I,he,Ce,Me,Ie,ke,Oe){if(t.timeoutHandle=-1,Ie=a.subtreeFlags,Ie&8192||(Ie&16785408)===16785408){Ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ri},o1(a,b,Ie);var it=(b&62914560)===b?Kh-Bt():(b&4194048)===b?h1-Bt():0;if(it=Hb(Ie,it),it!==null){xo=b,t.cancelPendingCommit=it(S1.bind(null,t,a,b,s,c,g,E,I,he,Me,Ie,null,ke,Oe)),tl(t,b,E,!Ce);return}}S1(t,a,b,s,c,g,E,I,he)}function ib(t){for(var a=t;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var c=0;c<s.length;c++){var g=s[c],b=g.getSnapshot;g=g.value;try{if(!Ba(b(),g))return!1}catch(E){return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function tl(t,a,s,c){a&=~Hd,a&=~Yl,t.suspendedLanes|=a,t.pingedLanes&=~a,c&&(t.warmLanes|=a),c=t.expirationTimes;for(var g=a;0<g;){var b=31-Vt(g),E=1<<b;c[b]=-1,g&=~E}s!==0&&yi(t,s,a)}function Zh(){return(_n&6)===0?(Zu(0),!1):!0}function Wd(){if(Zt!==null){if(jn===0)var t=Zt.return;else t=Zt,Oi=Os=null,Pc(t),qe=null,st=0,t=Zt;for(;t!==null;)Gm(t.alternate,t),t=t.return;Zt=null}}function Wc(t,a){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Ab(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),xo=0,Wd(),Un=t,Zt=s=Br(t.current,null),en=a,jn=0,ui=null,Xo=!1,Vc=Xr(t,a),Fd=!1,Gc=hi=Hd=Yl=Zo=ya=0,Wr=Ju=null,$d=!1,(a&8)!==0&&(a|=a&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=a;0<c;){var g=31-Vt(c),b=1<<g;a|=t[g],c&=~b}return wo=a,Ml(),s}function g1(t,a){gt=null,W.H=Fu,a===me||a===Z?(a=Ue(),jn=3):a===je?(a=Ue(),jn=4):jn=a===jd?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ui=a,Zt===null&&(ya=1,qh(t,Ur(a,t.current)))}function v1(){var t=Yn.current;return t===null?!0:(en&4194048)===en?ln===null:(en&62914560)===en||(en&536870912)!==0?t===ln:!1}function y1(){var t=W.H;return W.H=Fu,t===null?Fu:t}function b1(){var t=W.A;return W.A=ab,t}function Qh(){ya=4,Xo||(en&4194048)!==en&&Yn.current!==null||(Vc=!0),(Zo&134217727)===0&&(Yl&134217727)===0||Un===null||tl(Un,en,hi,!1)}function Kd(t,a,s){var c=_n;_n|=2;var g=y1(),b=b1();(Un!==t||en!==a)&&(Xh=null,Wc(t,a)),a=!1;var E=ya;e:do try{if(jn!==0&&Zt!==null){var I=Zt,he=ui;switch(jn){case 8:Wd(),E=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(a=!0);var Ce=jn;if(jn=0,ui=null,Kc(t,I,he,Ce),s&&Vc){E=0;break e}break;default:Ce=jn,jn=0,ui=null,Kc(t,I,he,Ce)}}sb(),E=ya;break}catch(Me){g1(t,Me)}while(!0);return a&&t.shellSuspendCounter++,Oi=Os=null,_n=c,W.H=g,W.A=b,Zt===null&&(Un=null,en=0,Ml()),E}function sb(){for(;Zt!==null;)w1(Zt)}function ob(t,a){var s=_n;_n|=2;var c=y1(),g=b1();Un!==t||en!==a?(Xh=null,Jh=Bt()+500,Wc(t,a)):Vc=Xr(t,a);e:do try{if(jn!==0&&Zt!==null){a=Zt;var b=ui;t:switch(jn){case 1:jn=0,ui=null,Kc(t,a,b,1);break;case 2:case 9:if(_e(b)){jn=0,ui=null,x1(a);break}a=function(){jn!==2&&jn!==9||Un!==t||(jn=7),qs(t)},b.then(a,a);break e;case 3:jn=7;break e;case 4:jn=5;break e;case 7:_e(b)?(jn=0,ui=null,x1(a)):(jn=0,ui=null,Kc(t,a,b,7));break;case 5:var E=null;switch(Zt.tag){case 26:E=Zt.memoizedState;case 5:case 27:var I=Zt;if(E?sg(E):I.stateNode.complete){jn=0,ui=null;var he=I.sibling;if(he!==null)Zt=he;else{var Ce=I.return;Ce!==null?(Zt=Ce,ef(Ce)):Zt=null}break t}}jn=0,ui=null,Kc(t,a,b,5);break;case 6:jn=0,ui=null,Kc(t,a,b,6);break;case 8:Wd(),ya=6;break e;default:throw Error(r(462))}}lb();break}catch(Me){g1(t,Me)}while(!0);return Oi=Os=null,W.H=c,W.A=g,_n=s,Zt!==null?0:(Un=null,en=0,Ml(),ya)}function lb(){for(;Zt!==null&&!Lt();)w1(Zt)}function w1(t){var a=$m(t.alternate,t,wo);t.memoizedProps=t.pendingProps,a===null?ef(t):Zt=a}function x1(t){var a=t,s=a.alternate;switch(a.tag){case 15:case 0:a=Um(s,a,a.pendingProps,a.type,void 0,en);break;case 11:a=Um(s,a,a.pendingProps,a.type.render,a.ref,en);break;case 5:Pc(a);default:Gm(s,a),a=Zt=Ul(a,wo),a=$m(s,a,wo)}t.memoizedProps=t.pendingProps,a===null?ef(t):Zt=a}function Kc(t,a,s,c){Oi=Os=null,Pc(a),qe=null,st=0;var g=a.return;try{if(Jy(t,g,a,s,en)){ya=1,qh(t,Ur(s,t.current)),Zt=null;return}}catch(b){if(g!==null)throw Zt=g,b;ya=1,qh(t,Ur(s,t.current)),Zt=null;return}a.flags&32768?(Xt||c===1?t=!0:Vc||(en&536870912)!==0?t=!1:(Xo=t=!0,(c===2||c===9||c===3||c===6)&&(c=Yn.current,c!==null&&c.tag===13&&(c.flags|=16384))),_1(a,t)):ef(a)}function ef(t){var a=t;do{if((a.flags&32768)!==0){_1(a,Xo);return}t=a.return;var s=Qy(a.alternate,a,wo);if(s!==null){Zt=s;return}if(a=a.sibling,a!==null){Zt=a;return}Zt=a=t}while(a!==null);ya===0&&(ya=5)}function _1(t,a){do{var s=eb(t.alternate,t);if(s!==null){s.flags&=32767,Zt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(t=t.sibling,t!==null)){Zt=t;return}Zt=t=s}while(t!==null);ya=6,Zt=null}function S1(t,a,s,c,g,b,E,I,he){t.cancelPendingCommit=null;do tf();while(Ha!==0);if((_n&6)!==0)throw Error(r(327));if(a!==null){if(a===t.current)throw Error(r(177));if(b=a.lanes|a.childLanes,b|=_c,zi(t,s,b,E,I,he),t===Un&&(Zt=Un=null,en=0),Yc=a,el=t,xo=s,Vd=b,Gd=g,f1=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,fb(Ot,function(){return C1(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=W.T,W.T=null,g=se.p,se.p=2,E=_n,_n|=4;try{tb(t,a,s)}finally{_n=E,se.p=g,W.T=c}}Ha=1,N1(),A1(),j1()}}function N1(){if(Ha===1){Ha=0;var t=el,a=Yc,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=W.T,W.T=null;var c=se.p;se.p=2;var g=_n;_n|=4;try{r1(a,t);var b=o0,E=ts(t.containerInfo),I=b.focusedElem,he=b.selectionRange;if(E!==I&&I&&I.ownerDocument&&es(I.ownerDocument.documentElement,I)){if(he!==null&&ki(I)){var Ce=he.start,Me=he.end;if(Me===void 0&&(Me=Ce),"selectionStart"in I)I.selectionStart=Ce,I.selectionEnd=Math.min(Me,I.value.length);else{var Ie=I.ownerDocument||document,ke=Ie&&Ie.defaultView||window;if(ke.getSelection){var Oe=ke.getSelection(),it=I.textContent.length,At=Math.min(he.start,it),Mn=he.end===void 0?At:Math.min(he.end,it);!Oe.extend&&At>Mn&&(E=Mn,Mn=At,At=E);var xe=zo(I,At),ve=zo(I,Mn);if(xe&&ve&&(Oe.rangeCount!==1||Oe.anchorNode!==xe.node||Oe.anchorOffset!==xe.offset||Oe.focusNode!==ve.node||Oe.focusOffset!==ve.offset)){var Ee=Ie.createRange();Ee.setStart(xe.node,xe.offset),Oe.removeAllRanges(),At>Mn?(Oe.addRange(Ee),Oe.extend(ve.node,ve.offset)):(Ee.setEnd(ve.node,ve.offset),Oe.addRange(Ee))}}}}for(Ie=[],Oe=I;Oe=Oe.parentNode;)Oe.nodeType===1&&Ie.push({element:Oe,left:Oe.scrollLeft,top:Oe.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<Ie.length;I++){var ze=Ie[I];ze.element.scrollLeft=ze.left,ze.element.scrollTop=ze.top}}pf=!!s0,o0=s0=null}finally{_n=g,se.p=c,W.T=s}}t.current=a,Ha=2}}function A1(){if(Ha===2){Ha=0;var t=el,a=Yc,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=W.T,W.T=null;var c=se.p;se.p=2;var g=_n;_n|=4;try{Qm(t,a.alternate,a)}finally{_n=g,se.p=c,W.T=s}}Ha=3}}function j1(){if(Ha===4||Ha===3){Ha=0,pt();var t=el,a=Yc,s=xo,c=f1;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ha=5:(Ha=0,Yc=el=null,E1(t,t.pendingLanes));var g=t.pendingLanes;if(g===0&&(Qo=null),ha(s),a=a.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(Kt,a,void 0,(a.current.flags&128)===128)}catch(he){}if(c!==null){a=W.T,g=se.p,se.p=2,W.T=null;try{for(var b=t.onRecoverableError,E=0;E<c.length;E++){var I=c[E];b(I.value,{componentStack:I.stack})}}finally{W.T=a,se.p=g}}(xo&3)!==0&&tf(),qs(t),g=t.pendingLanes,(s&261930)!==0&&(g&42)!==0?t===Yd?Xu++:(Xu=0,Yd=t):Xu=0,Zu(0)}}function E1(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,ql(a)))}function tf(){return N1(),A1(),j1(),C1()}function C1(){if(Ha!==5)return!1;var t=el,a=Vd;Vd=0;var s=ha(xo),c=W.T,g=se.p;try{se.p=32>s?32:s,W.T=null,s=Gd,Gd=null;var b=el,E=xo;if(Ha=0,Yc=el=null,xo=0,(_n&6)!==0)throw Error(r(331));var I=_n;if(_n|=4,c1(b.current),s1(b,b.current,E,s),_n=I,Zu(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(Kt,b)}catch(he){}return!0}finally{se.p=g,W.T=c,E1(t,a)}}function L1(t,a,s){a=Ur(s,a),a=Ad(t.stateNode,a,2),t=Ht(t,a,2),t!==null&&(mt(t,2),qs(t))}function En(t,a,s){if(t.tag===3)L1(t,t,s);else for(;a!==null;){if(a.tag===3){L1(a,t,s);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Qo===null||!Qo.has(c))){t=Ur(s,t),s=km(2),c=Ht(a,s,2),c!==null&&(Tm(s,c,a,t),mt(c,2),qs(c));break}}a=a.return}}function Jd(t,a,s){var c=t.pingCache;if(c===null){c=t.pingCache=new rb;var g=new Set;c.set(a,g)}else g=c.get(a),g===void 0&&(g=new Set,c.set(a,g));g.has(s)||(Fd=!0,g.add(s),t=cb.bind(null,t,a,s),a.then(t,t))}function cb(t,a,s){var c=t.pingCache;c!==null&&c.delete(a),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Un===t&&(en&s)===s&&(ya===4||ya===3&&(en&62914560)===en&&300>Bt()-Kh?(_n&2)===0&&Wc(t,0):Hd|=s,Gc===en&&(Gc=0)),qs(t)}function k1(t,a){a===0&&(a=vi()),t=as(t,a),t!==null&&(mt(t,a),qs(t))}function ub(t){var a=t.memoizedState,s=0;a!==null&&(s=a.retryLane),k1(t,s)}function hb(t,a){var s=0;switch(t.tag){case 31:case 13:var c=t.stateNode,g=t.memoizedState;g!==null&&(s=g.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),k1(t,s)}function fb(t,a){return tt(t,a)}var nf=null,Jc=null,Xd=!1,af=!1,Zd=!1,nl=0;function qs(t){t!==Jc&&t.next===null&&(Jc===null?nf=Jc=t:Jc=Jc.next=t),af=!0,Xd||(Xd=!0,pb())}function Zu(t,a){if(!Zd&&af){Zd=!0;do for(var s=!1,c=nf;c!==null;){if(t!==0){var g=c.pendingLanes;if(g===0)var b=0;else{var E=c.suspendedLanes,I=c.pingedLanes;b=(1<<31-Vt(42|t)+1)-1,b&=g&~(E&~I),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(s=!0,D1(c,b))}else b=en,b=nn(c,c===Un?b:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(b&3)===0||Xr(c,b)||(s=!0,D1(c,b));c=c.next}while(s);Zd=!1}}function db(){T1()}function T1(){af=Xd=!1;var t=0;nl!==0&&Nb()&&(t=nl);for(var a=Bt(),s=null,c=nf;c!==null;){var g=c.next,b=O1(c,a);b===0?(c.next=null,s===null?nf=g:s.next=g,g===null&&(Jc=s)):(s=c,(t!==0||(b&3)!==0)&&(af=!0)),c=g}Ha!==0&&Ha!==5||Zu(t),nl!==0&&(nl=0)}function O1(t,a){for(var s=t.suspendedLanes,c=t.pingedLanes,g=t.expirationTimes,b=t.pendingLanes&-62914561;0<b;){var E=31-Vt(b),I=1<<E,he=g[E];he===-1?((I&s)===0||(I&c)!==0)&&(g[E]=Va(I,a)):he<=a&&(t.expiredLanes|=I),b&=~I}if(a=Un,s=en,s=nn(t,t===a?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,s===0||t===a&&(jn===2||jn===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&We(c),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Xr(t,s)){if(a=s&-s,a===t.callbackPriority)return a;switch(c!==null&&We(c),ha(s)){case 2:case 8:s=bn;break;case 32:s=Ot;break;case 268435456:s=Et;break;default:s=Ot}return c=R1.bind(null,t),s=tt(s,c),t.callbackPriority=a,t.callbackNode=s,a}return c!==null&&c!==null&&We(c),t.callbackPriority=2,t.callbackNode=null,2}function R1(t,a){if(Ha!==0&&Ha!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(tf()&&t.callbackNode!==s)return null;var c=en;return c=nn(t,t===Un?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(p1(t,c,a),O1(t,Bt()),t.callbackNode!=null&&t.callbackNode===s?R1.bind(null,t):null)}function D1(t,a){if(tf())return null;p1(t,a,!0)}function pb(){jb(function(){(_n&6)!==0?tt(Mt,db):T1()})}function Qd(){if(nl===0){var t=d;t===0&&(t=In,In<<=1,(In&261888)===0&&(In=256)),nl=t}return nl}function M1(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ai(""+t)}function P1(t,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,t.id&&s.setAttribute("form",t.id),a.parentNode.insertBefore(s,a),t=new FormData(t),s.parentNode.removeChild(s),t}function mb(t,a,s,c,g){if(a==="submit"&&s&&s.stateNode===g){var b=M1((g[Hn]||null).action),E=c.submitter;E&&(a=(a=E[Hn]||null)?M1(a.formAction):E.getAttribute("formAction"),a!==null&&(b=a,E=null));var I=new _i("action","action",null,c,g);t.push({event:I,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(nl!==0){var he=E?P1(g,E):new FormData(g);bd(s,{pending:!0,data:he,method:g.method,action:b},null,he)}}else typeof b=="function"&&(I.preventDefault(),he=E?P1(g,E):new FormData(g),bd(s,{pending:!0,data:he,method:g.method,action:b},b,he))},currentTarget:g}]})}}for(var e0=0;e0<io.length;e0++){var t0=io[e0],gb=t0.toLowerCase(),vb=t0[0].toUpperCase()+t0.slice(1);Pr(gb,"on"+vb)}Pr(ro,"onAnimationEnd"),Pr(Rl,"onAnimationIteration"),Pr(Eu,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ch,"onTransitionRun"),Pr(Lh,"onTransitionStart"),Pr(kh,"onTransitionCancel"),Pr(Cu,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qu));function B1(t,a){a=(a&4)!==0;for(var s=0;s<t.length;s++){var c=t[s],g=c.event;c=c.listeners;e:{var b=void 0;if(a)for(var E=c.length-1;0<=E;E--){var I=c[E],he=I.instance,Ce=I.currentTarget;if(I=I.listener,he!==b&&g.isPropagationStopped())break e;b=I,g.currentTarget=Ce;try{b(g)}catch(Me){Dl(Me)}g.currentTarget=null,b=he}else for(E=0;E<c.length;E++){if(I=c[E],he=I.instance,Ce=I.currentTarget,I=I.listener,he!==b&&g.isPropagationStopped())break e;b=I,g.currentTarget=Ce;try{b(g)}catch(Me){Dl(Me)}g.currentTarget=null,b=he}}}}function Qt(t,a){var s=a[xr];s===void 0&&(s=a[xr]=new Set);var c=t+"__bubble";s.has(c)||(U1(a,t,2,!1),s.add(c))}function n0(t,a,s){var c=0;a&&(c|=4),U1(s,t,c,a)}var rf="_reactListening"+Math.random().toString(36).slice(2);function a0(t){if(!t[rf]){t[rf]=!0,vl.forEach(function(s){s!=="selectionchange"&&(yb.has(s)||n0(s,!1,t),n0(s,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[rf]||(a[rf]=!0,n0("selectionchange",!1,a))}}function U1(t,a,s,c){switch(dg(a)){case 2:var g=Gb;break;case 8:g=Yb;break;default:g=y0}s=g.bind(null,a,s,t),g=void 0,!kl||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),c?g!==void 0?t.addEventListener(a,s,{capture:!0,passive:g}):t.addEventListener(a,s,!0):g!==void 0?t.addEventListener(a,s,{passive:g}):t.addEventListener(a,s,!1)}function r0(t,a,s,c,g){var b=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var I=c.stateNode.containerInfo;if(I===g)break;if(E===4)for(E=c.return;E!==null;){var he=E.tag;if((he===3||he===4)&&E.stateNode.containerInfo===g)return;E=E.return}for(;I!==null;){if(E=ei(I),E===null)return;if(he=E.tag,he===5||he===6||he===26||he===27){c=b=E;continue e}I=I.parentNode}}c=c.return}gc(function(){var Ce=b,Me=Ks(s),Ie=[];e:{var ke=Lu.get(t);if(ke!==void 0){var Oe=_i,it=t;switch(t){case"keypress":if(Vi(s)===0)break e;case"keydown":case"keyup":Oe=un;break;case"focusin":it="focus",Oe=Ki;break;case"focusout":it="blur",Oe=Ki;break;case"beforeblur":case"afterblur":Oe=Ki;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Oe=Si;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Oe=vc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Oe=wa;break;case ro:case Rl:case Eu:Oe=x;break;case Cu:Oe=Ma;break;case"scroll":case"scrollend":Oe=Oo;break;case"wheel":Oe=cr;break;case"copy":case"cut":case"paste":Oe=ee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Oe=ia;break;case"toggle":case"beforetoggle":Oe=Ro}var At=(a&4)!==0,Mn=!At&&(t==="scroll"||t==="scrollend"),xe=At?ke!==null?ke+"Capture":null:ke;At=[];for(var ve=Ce,Ee;ve!==null;){var ze=ve;if(Ee=ze.stateNode,ze=ze.tag,ze!==5&&ze!==26&&ze!==27||Ee===null||xe===null||(ze=Nr(ve,xe),ze!=null&&At.push(eh(ve,ze,Ee))),Mn)break;ve=ve.return}0<At.length&&(ke=new Oe(ke,it,null,s,Me),Ie.push({event:ke,listeners:At}))}}if((a&7)===0){e:{if(ke=t==="mouseover"||t==="pointerover",Oe=t==="mouseout"||t==="pointerout",ke&&s!==$i&&(it=s.relatedTarget||s.fromElement)&&(ei(it)||it[Ga]))break e;if((Oe||ke)&&(ke=Me.window===Me?Me:(ke=Me.ownerDocument)?ke.defaultView||ke.parentWindow:window,Oe?(it=s.relatedTarget||s.toElement,Oe=Ce,it=it?ei(it):null,it!==null&&(Mn=l(it),At=it.tag,it!==Mn||At!==5&&At!==27&&At!==6)&&(it=null)):(Oe=null,it=Ce),Oe!==it)){if(At=Si,ze="onMouseLeave",xe="onMouseEnter",ve="mouse",(t==="pointerout"||t==="pointerover")&&(At=ia,ze="onPointerLeave",xe="onPointerEnter",ve="pointer"),Mn=Oe==null?ke:Ys(Oe),Ee=it==null?ke:Ys(it),ke=new At(ze,ve+"leave",Oe,s,Me),ke.target=Mn,ke.relatedTarget=Ee,ze=null,ei(Me)===Ce&&(At=new At(xe,ve+"enter",it,s,Me),At.target=Ee,At.relatedTarget=Mn,ze=At),Mn=ze,Oe&&it)t:{for(At=bb,xe=Oe,ve=it,Ee=0,ze=xe;ze;ze=At(ze))Ee++;ze=0;for(var bt=ve;bt;bt=At(bt))ze++;for(;0<Ee-ze;)xe=At(xe),Ee--;for(;0<ze-Ee;)ve=At(ve),ze--;for(;Ee--;){if(xe===ve||ve!==null&&xe===ve.alternate){At=xe;break t}xe=At(xe),ve=At(ve)}At=null}else At=null;Oe!==null&&z1(Ie,ke,Oe,At,!1),it!==null&&Mn!==null&&z1(Ie,Mn,it,At,!0)}}e:{if(ke=Ce?Ys(Ce):window,Oe=ke.nodeName&&ke.nodeName.toLowerCase(),Oe==="select"||Oe==="input"&&ke.type==="file")var gn=Cs;else if(Tl(ke))if(ur)gn=Ci;else{gn=sa;var ct=Bo}else Oe=ke.nodeName,!Oe||Oe.toLowerCase()!=="input"||ke.type!=="checkbox"&&ke.type!=="radio"?Ce&&El(Ce.elementType)&&(gn=Cs):gn=xc;if(gn&&(gn=gn(t,Ce))){Er(Ie,gn,s,Me);break e}ct&&ct(t,ke,Ce),t==="focusout"&&Ce&&ke.type==="number"&&Ce.memoizedProps.value!=null&&Sl(ke,"number",ke.value)}switch(ct=Ce?Ys(Ce):window,t){case"focusin":(Tl(ct)||ct.contentEditable==="true")&&(Cr=ct,ns=Ce,Wa=null);break;case"focusout":Wa=ns=Cr=null;break;case"mousedown":Mr=!0;break;case"contextmenu":case"mouseup":case"dragend":Mr=!1,hn(Ie,s,Me);break;case"selectionchange":if(ao)break;case"keydown":case"keyup":hn(Ie,s,Me)}var Gt;if(Ni)e:{switch(t){case"compositionstart":var tn="onCompositionStart";break e;case"compositionend":tn="onCompositionEnd";break e;case"compositionupdate":tn="onCompositionUpdate";break e}tn=void 0}else Ai?Es(t,s)&&(tn="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(tn="onCompositionStart");tn&&(As&&s.locale!=="ko"&&(Ai||tn!=="onCompositionStart"?tn==="onCompositionEnd"&&Ai&&(Gt=Zs()):(Ar=Me,Xs="value"in Ar?Ar.value:Ar.textContent,Ai=!0)),ct=sf(Ce,tn),0<ct.length&&(tn=new we(tn,t,null,s,Me),Ie.push({event:tn,listeners:ct}),Gt?tn.data=Gt:(Gt=Do(s),Gt!==null&&(tn.data=Gt)))),(Gt=no?Xn(t,s):Ji(t,s))&&(tn=sf(Ce,"onBeforeInput"),0<tn.length&&(ct=new we("onBeforeInput","beforeinput",null,s,Me),Ie.push({event:ct,listeners:tn}),ct.data=Gt)),mb(Ie,t,Ce,s,Me)}B1(Ie,a)})}function eh(t,a,s){return{instance:t,listener:a,currentTarget:s}}function sf(t,a){for(var s=a+"Capture",c=[];t!==null;){var g=t,b=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||b===null||(g=Nr(t,s),g!=null&&c.unshift(eh(t,g,b)),g=Nr(t,a),g!=null&&c.push(eh(t,g,b))),t.tag===3)return c;t=t.return}return[]}function bb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function z1(t,a,s,c,g){for(var b=a._reactName,E=[];s!==null&&s!==c;){var I=s,he=I.alternate,Ce=I.stateNode;if(I=I.tag,he!==null&&he===c)break;I!==5&&I!==26&&I!==27||Ce===null||(he=Ce,g?(Ce=Nr(s,b),Ce!=null&&E.unshift(eh(s,Ce,he))):g||(Ce=Nr(s,b),Ce!=null&&E.push(eh(s,Ce,he)))),s=s.return}E.length!==0&&t.push({event:a,listeners:E})}var wb=/\r\n?/g,xb=/\u0000|\uFFFD/g;function I1(t){return(typeof t=="string"?t:""+t).replace(wb,`
`).replace(xb,"")}function q1(t,a){return a=I1(a),I1(t)===a}function Dn(t,a,s,c,g,b){switch(s){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Sr(t,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Sr(t,""+c);break;case"className":Lo(t,"class",c);break;case"tabIndex":Lo(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Lo(t,s,c);break;case"style":pc(t,c,b);break;case"data":if(a!=="object"){Lo(t,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||s!=="href")){t.removeAttribute(s);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(s);break}c=ai(""+c),t.setAttribute(s,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(s==="formAction"?(a!=="input"&&Dn(t,a,"name",g.name,g,null),Dn(t,a,"formEncType",g.formEncType,g,null),Dn(t,a,"formMethod",g.formMethod,g,null),Dn(t,a,"formTarget",g.formTarget,g,null)):(Dn(t,a,"encType",g.encType,g,null),Dn(t,a,"method",g.method,g,null),Dn(t,a,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(s);break}c=ai(""+c),t.setAttribute(s,c);break;case"onClick":c!=null&&(t.onclick=ri);break;case"onScroll":c!=null&&Qt("scroll",t);break;case"onScrollEnd":c!=null&&Qt("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(s=c.__html,s!=null){if(g.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}s=ai(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(s,""+c):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":c===!0?t.setAttribute(s,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(s,c):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(s,c):t.removeAttribute(s);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(s):t.setAttribute(s,c);break;case"popover":Qt("beforetoggle",t),Qt("toggle",t),qi(t,"popover",c);break;case"xlinkActuate":Sn(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Sn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Sn(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Sn(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Sn(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Sn(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":qi(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Cl.get(s)||s,qi(t,s,c))}}function i0(t,a,s,c,g,b){switch(s){case"style":pc(t,c,b);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(s=c.__html,s!=null){if(g.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof c=="string"?Sr(t,c):(typeof c=="number"||typeof c=="bigint")&&Sr(t,""+c);break;case"onScroll":c!=null&&Qt("scroll",t);break;case"onScrollEnd":c!=null&&Qt("scrollend",t);break;case"onClick":c!=null&&(t.onclick=ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_r.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(g=s.endsWith("Capture"),a=s.slice(2,g?s.length-7:void 0),b=t[Hn]||null,b=b!=null?b[s]:null,typeof b=="function"&&t.removeEventListener(a,b,g),typeof c=="function")){typeof b!="function"&&b!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(a,c,g);break e}s in t?t[s]=c:c===!0?t.setAttribute(s,""):qi(t,s,c)}}}function lr(t,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qt("error",t),Qt("load",t);var c=!1,g=!1,b;for(b in s)if(s.hasOwnProperty(b)){var E=s[b];if(E!=null)switch(b){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Dn(t,a,b,E,s,null)}}g&&Dn(t,a,"srcSet",s.srcSet,s,null),c&&Dn(t,a,"src",s.src,s,null);return;case"input":Qt("invalid",t);var I=b=E=g=null,he=null,Ce=null;for(c in s)if(s.hasOwnProperty(c)){var Me=s[c];if(Me!=null)switch(c){case"name":g=Me;break;case"type":E=Me;break;case"checked":he=Me;break;case"defaultChecked":Ce=Me;break;case"value":b=Me;break;case"defaultValue":I=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(r(137,a));break;default:Dn(t,a,c,Me,s,null)}}fc(t,b,I,he,Ce,E,g,!1);return;case"select":Qt("invalid",t),c=E=b=null;for(g in s)if(s.hasOwnProperty(g)&&(I=s[g],I!=null))switch(g){case"value":b=I;break;case"defaultValue":E=I;break;case"multiple":c=I;default:Dn(t,a,g,I,s,null)}a=b,s=E,t.multiple=!!c,a!=null?ar(t,!!c,a,!1):s!=null&&ar(t,!!c,s,!0);return;case"textarea":Qt("invalid",t),b=g=c=null;for(E in s)if(s.hasOwnProperty(E)&&(I=s[E],I!=null))switch(E){case"value":c=I;break;case"defaultValue":g=I;break;case"children":b=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:Dn(t,a,E,I,s,null)}Al(t,c,g,b);return;case"option":for(he in s)if(s.hasOwnProperty(he)&&(c=s[he],c!=null))switch(he){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Dn(t,a,he,c,s,null)}return;case"dialog":Qt("beforetoggle",t),Qt("toggle",t),Qt("cancel",t),Qt("close",t);break;case"iframe":case"object":Qt("load",t);break;case"video":case"audio":for(c=0;c<Qu.length;c++)Qt(Qu[c],t);break;case"image":Qt("error",t),Qt("load",t);break;case"details":Qt("toggle",t);break;case"embed":case"source":case"link":Qt("error",t),Qt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ce in s)if(s.hasOwnProperty(Ce)&&(c=s[Ce],c!=null))switch(Ce){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Dn(t,a,Ce,c,s,null)}return;default:if(El(a)){for(Me in s)s.hasOwnProperty(Me)&&(c=s[Me],c!==void 0&&i0(t,a,Me,c,s,void 0));return}}for(I in s)s.hasOwnProperty(I)&&(c=s[I],c!=null&&Dn(t,a,I,c,s,null))}function _b(t,a,s,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,b=null,E=null,I=null,he=null,Ce=null,Me=null;for(Oe in s){var Ie=s[Oe];if(s.hasOwnProperty(Oe)&&Ie!=null)switch(Oe){case"checked":break;case"value":break;case"defaultValue":he=Ie;default:c.hasOwnProperty(Oe)||Dn(t,a,Oe,null,c,Ie)}}for(var ke in c){var Oe=c[ke];if(Ie=s[ke],c.hasOwnProperty(ke)&&(Oe!=null||Ie!=null))switch(ke){case"type":b=Oe;break;case"name":g=Oe;break;case"checked":Ce=Oe;break;case"defaultChecked":Me=Oe;break;case"value":E=Oe;break;case"defaultValue":I=Oe;break;case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(r(137,a));break;default:Oe!==Ie&&Dn(t,a,ke,Oe,c,Ie)}}_l(t,E,I,he,Ce,Me,b,g);return;case"select":Oe=E=I=ke=null;for(b in s)if(he=s[b],s.hasOwnProperty(b)&&he!=null)switch(b){case"value":break;case"multiple":Oe=he;default:c.hasOwnProperty(b)||Dn(t,a,b,null,c,he)}for(g in c)if(b=c[g],he=s[g],c.hasOwnProperty(g)&&(b!=null||he!=null))switch(g){case"value":ke=b;break;case"defaultValue":I=b;break;case"multiple":E=b;default:b!==he&&Dn(t,a,g,b,c,he)}a=I,s=E,c=Oe,ke!=null?ar(t,!!s,ke,!1):!!c!=!!s&&(a!=null?ar(t,!!s,a,!0):ar(t,!!s,s?[]:"",!1));return;case"textarea":Oe=ke=null;for(I in s)if(g=s[I],s.hasOwnProperty(I)&&g!=null&&!c.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Dn(t,a,I,null,c,g)}for(E in c)if(g=c[E],b=s[E],c.hasOwnProperty(E)&&(g!=null||b!=null))switch(E){case"value":ke=g;break;case"defaultValue":Oe=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==b&&Dn(t,a,E,g,c,b)}Nl(t,ke,Oe);return;case"option":for(var it in s)if(ke=s[it],s.hasOwnProperty(it)&&ke!=null&&!c.hasOwnProperty(it))switch(it){case"selected":t.selected=!1;break;default:Dn(t,a,it,null,c,ke)}for(he in c)if(ke=c[he],Oe=s[he],c.hasOwnProperty(he)&&ke!==Oe&&(ke!=null||Oe!=null))switch(he){case"selected":t.selected=ke&&typeof ke!="function"&&typeof ke!="symbol";break;default:Dn(t,a,he,ke,c,Oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in s)ke=s[At],s.hasOwnProperty(At)&&ke!=null&&!c.hasOwnProperty(At)&&Dn(t,a,At,null,c,ke);for(Ce in c)if(ke=c[Ce],Oe=s[Ce],c.hasOwnProperty(Ce)&&ke!==Oe&&(ke!=null||Oe!=null))switch(Ce){case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(r(137,a));break;default:Dn(t,a,Ce,ke,c,Oe)}return;default:if(El(a)){for(var Mn in s)ke=s[Mn],s.hasOwnProperty(Mn)&&ke!==void 0&&!c.hasOwnProperty(Mn)&&i0(t,a,Mn,void 0,c,ke);for(Me in c)ke=c[Me],Oe=s[Me],!c.hasOwnProperty(Me)||ke===Oe||ke===void 0&&Oe===void 0||i0(t,a,Me,ke,c,Oe);return}}for(var xe in s)ke=s[xe],s.hasOwnProperty(xe)&&ke!=null&&!c.hasOwnProperty(xe)&&Dn(t,a,xe,null,c,ke);for(Ie in c)ke=c[Ie],Oe=s[Ie],!c.hasOwnProperty(Ie)||ke===Oe||ke==null&&Oe==null||Dn(t,a,Ie,ke,c,Oe)}function F1(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Sb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,a=0,s=performance.getEntriesByType("resource"),c=0;c<s.length;c++){var g=s[c],b=g.transferSize,E=g.initiatorType,I=g.duration;if(b&&I&&F1(E)){for(E=0,I=g.responseEnd,c+=1;c<s.length;c++){var he=s[c],Ce=he.startTime;if(Ce>I)break;var Me=he.transferSize,Ie=he.initiatorType;Me&&F1(Ie)&&(he=he.responseEnd,E+=Me*(he<I?1:(I-Ce)/(he-Ce)))}if(--c,a+=8*(b+E)/(g.duration/1e3),t++,10<t)break}}if(0<t)return a/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var s0=null,o0=null;function of(t){return t.nodeType===9?t:t.ownerDocument}function H1(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $1(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function l0(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var c0=null;function Nb(){var t=window.event;return t&&t.type==="popstate"?t===c0?!1:(c0=t,!0):(c0=null,!1)}var V1=typeof setTimeout=="function"?setTimeout:void 0,Ab=typeof clearTimeout=="function"?clearTimeout:void 0,G1=typeof Promise=="function"?Promise:void 0,jb=typeof queueMicrotask=="function"?queueMicrotask:typeof G1!="undefined"?function(t){return G1.resolve(null).then(t).catch(Eb)}:V1;function Eb(t){setTimeout(function(){throw t})}function al(t){return t==="head"}function Y1(t,a){var s=a,c=0;do{var g=s.nextSibling;if(t.removeChild(s),g&&g.nodeType===8)if(s=g.data,s==="/$"||s==="/&"){if(c===0){t.removeChild(g),eu(a);return}c--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")c++;else if(s==="html")th(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,th(s);for(var b=s.firstChild;b;){var E=b.nextSibling,I=b.nodeName;b[Qr]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&b.rel.toLowerCase()==="stylesheet"||s.removeChild(b),b=E}}else s==="body"&&th(t.ownerDocument.body);s=g}while(s);eu(a)}function W1(t,a){var s=t;t=0;do{var c=s.nextSibling;if(s.nodeType===1?a?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(a?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=c}while(s)}function u0(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":u0(s),_s(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Cb(t,a,s,c){for(;t.nodeType===1;){var g=s;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[Qr])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(b=t.getAttribute("rel"),b==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(b!==g.rel||t.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||t.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||t.getAttribute("title")!==(g.title==null?null:g.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(b=t.getAttribute("src"),(b!==(g.src==null?null:g.src)||t.getAttribute("type")!==(g.type==null?null:g.type)||t.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&b&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var b=g.name==null?null:""+g.name;if(g.type==="hidden"&&t.getAttribute("name")===b)return t}else return t;if(t=Mi(t.nextSibling),t===null)break}return null}function Lb(t,a,s){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Mi(t.nextSibling),t===null))return null;return t}function K1(t,a){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Mi(t.nextSibling),t===null))return null;return t}function h0(t){return t.data==="$?"||t.data==="$~"}function f0(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function kb(t,a){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=a;else if(t.data!=="$?"||s.readyState!=="loading")a();else{var c=function(){a(),s.removeEventListener("DOMContentLoaded",c)};s.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function Mi(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return t}var d0=null;function J1(t){t=t.nextSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(a===0)return Mi(t.nextSibling);a--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||a++}t=t.nextSibling}return null}function X1(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(a===0)return t;a--}else s!=="/$"&&s!=="/&"||a++}t=t.previousSibling}return null}function Z1(t,a,s){switch(a=of(s),t){case"html":if(t=a.documentElement,!t)throw Error(r(452));return t;case"head":if(t=a.head,!t)throw Error(r(453));return t;case"body":if(t=a.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function th(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);_s(t)}var Pi=new Map,Q1=new Set;function lf(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var _o=se.d;se.d={f:Tb,r:Ob,D:Rb,C:Db,L:Mb,m:Pb,X:Ub,S:Bb,M:zb};function Tb(){var t=_o.f(),a=Zh();return t||a}function Ob(t){var a=ti(t);a!==null&&a.tag===5&&a.type==="form"?gm(a):_o.r(t)}var Xc=typeof document=="undefined"?null:document;function eg(t,a,s){var c=Xc;if(c&&typeof a=="string"&&a){var g=Ya(a);g='link[rel="'+t+'"][href="'+g+'"]',typeof s=="string"&&(g+='[crossorigin="'+s+'"]'),Q1.has(g)||(Q1.add(g),t={rel:t,crossOrigin:s,href:a},c.querySelector(g)===null&&(a=c.createElement("link"),lr(a,"link",t),aa(a),c.head.appendChild(a)))}}function Rb(t){_o.D(t),eg("dns-prefetch",t,null)}function Db(t,a){_o.C(t,a),eg("preconnect",t,a)}function Mb(t,a,s){_o.L(t,a,s);var c=Xc;if(c&&t&&a){var g='link[rel="preload"][as="'+Ya(a)+'"]';a==="image"&&s&&s.imageSrcSet?(g+='[imagesrcset="'+Ya(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(g+='[imagesizes="'+Ya(s.imageSizes)+'"]')):g+='[href="'+Ya(t)+'"]';var b=g;switch(a){case"style":b=Zc(t);break;case"script":b=Qc(t)}Pi.has(b)||(t=S({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:t,as:a},s),Pi.set(b,t),c.querySelector(g)!==null||a==="style"&&c.querySelector(nh(b))||a==="script"&&c.querySelector(ah(b))||(a=c.createElement("link"),lr(a,"link",t),aa(a),c.head.appendChild(a)))}}function Pb(t,a){_o.m(t,a);var s=Xc;if(s&&t){var c=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+Ya(c)+'"][href="'+Ya(t)+'"]',b=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Qc(t)}if(!Pi.has(b)&&(t=S({rel:"modulepreload",href:t},a),Pi.set(b,t),s.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ah(b)))return}c=s.createElement("link"),lr(c,"link",t),aa(c),s.head.appendChild(c)}}}function Bb(t,a,s){_o.S(t,a,s);var c=Xc;if(c&&t){var g=bi(c).hoistableStyles,b=Zc(t);a=a||"default";var E=g.get(b);if(!E){var I={loading:0,preload:null};if(E=c.querySelector(nh(b)))I.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":a},s),(s=Pi.get(b))&&p0(t,s);var he=E=c.createElement("link");aa(he),lr(he,"link",t),he._p=new Promise(function(Ce,Me){he.onload=Ce,he.onerror=Me}),he.addEventListener("load",function(){I.loading|=1}),he.addEventListener("error",function(){I.loading|=2}),I.loading|=4,cf(E,a,c)}E={type:"stylesheet",instance:E,count:1,state:I},g.set(b,E)}}}function Ub(t,a){_o.X(t,a);var s=Xc;if(s&&t){var c=bi(s).hoistableScripts,g=Qc(t),b=c.get(g);b||(b=s.querySelector(ah(g)),b||(t=S({src:t,async:!0},a),(a=Pi.get(g))&&m0(t,a),b=s.createElement("script"),aa(b),lr(b,"link",t),s.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(g,b))}}function zb(t,a){_o.M(t,a);var s=Xc;if(s&&t){var c=bi(s).hoistableScripts,g=Qc(t),b=c.get(g);b||(b=s.querySelector(ah(g)),b||(t=S({src:t,async:!0,type:"module"},a),(a=Pi.get(g))&&m0(t,a),b=s.createElement("script"),aa(b),lr(b,"link",t),s.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(g,b))}}function tg(t,a,s,c){var g=(g=oe.current)?lf(g):null;if(!g)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=Zc(s.href),s=bi(g).hoistableStyles,c=s.get(a),c||(c={type:"style",instance:null,count:0,state:null},s.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Zc(s.href);var b=bi(g).hoistableStyles,E=b.get(t);if(E||(g=g.ownerDocument||g,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(t,E),(b=g.querySelector(nh(t)))&&!b._p&&(E.instance=b,E.state.loading=5),Pi.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Pi.set(t,s),b||Ib(g,t,s,E.state))),a&&c===null)throw Error(r(528,""));return E}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Qc(s),s=bi(g).hoistableScripts,c=s.get(a),c||(c={type:"script",instance:null,count:0,state:null},s.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Zc(t){return'href="'+Ya(t)+'"'}function nh(t){return'link[rel="stylesheet"]['+t+"]"}function ng(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function Ib(t,a,s,c){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=t.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),lr(a,"link",s),aa(a),t.head.appendChild(a))}function Qc(t){return'[src="'+Ya(t)+'"]'}function ah(t){return"script[async]"+t}function ag(t,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var c=t.querySelector('style[data-href~="'+Ya(s.href)+'"]');if(c)return a.instance=c,aa(c),c;var g=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),aa(c),lr(c,"style",g),cf(c,s.precedence,t),a.instance=c;case"stylesheet":g=Zc(s.href);var b=t.querySelector(nh(g));if(b)return a.state.loading|=4,a.instance=b,aa(b),b;c=ng(s),(g=Pi.get(g))&&p0(c,g),b=(t.ownerDocument||t).createElement("link"),aa(b);var E=b;return E._p=new Promise(function(I,he){E.onload=I,E.onerror=he}),lr(b,"link",c),a.state.loading|=4,cf(b,s.precedence,t),a.instance=b;case"script":return b=Qc(s.src),(g=t.querySelector(ah(b)))?(a.instance=g,aa(g),g):(c=s,(g=Pi.get(b))&&(c=S({},s),m0(c,g)),t=t.ownerDocument||t,g=t.createElement("script"),aa(g),lr(g,"link",c),t.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,cf(c,s.precedence,t));return a.instance}function cf(t,a,s){for(var c=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,b=g,E=0;E<c.length;E++){var I=c[E];if(I.dataset.precedence===a)b=I;else if(b!==g)break}b?b.parentNode.insertBefore(t,b.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(t,a.firstChild))}function p0(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function m0(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var uf=null;function rg(t,a,s){if(uf===null){var c=new Map,g=uf=new Map;g.set(s,c)}else g=uf,c=g.get(s),c||(c=new Map,g.set(s,c));if(c.has(t))return c;for(c.set(t,null),s=s.getElementsByTagName(t),g=0;g<s.length;g++){var b=s[g];if(!(b[Qr]||b[Nn]||t==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var E=b.getAttribute(a)||"";E=t+E;var I=c.get(E);I?I.push(b):c.set(E,[b])}}return c}function ig(t,a,s){t=t.ownerDocument||t,t.head.insertBefore(s,a==="title"?t.querySelector("head > title"):null)}function qb(t,a,s){if(s===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return t=a.disabled,typeof a.precedence=="string"&&t==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function sg(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Fb(t,a,s,c){if(s.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var g=Zc(c.href),b=a.querySelector(nh(g));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(t.count++,t=hf.bind(t),a.then(t,t)),s.state.loading|=4,s.instance=b,aa(b);return}b=a.ownerDocument||a,c=ng(c),(g=Pi.get(g))&&p0(c,g),b=b.createElement("link"),aa(b);var E=b;E._p=new Promise(function(I,he){E.onload=I,E.onerror=he}),lr(b,"link",c),s.instance=b}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=hf.bind(t),a.addEventListener("load",s),a.addEventListener("error",s))}}var g0=0;function Hb(t,a){return t.stylesheets&&t.count===0&&df(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var c=setTimeout(function(){if(t.stylesheets&&df(t,t.stylesheets),t.unsuspend){var b=t.unsuspend;t.unsuspend=null,b()}},6e4+a);0<t.imgBytes&&g0===0&&(g0=62500*Sb());var g=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&df(t,t.stylesheets),t.unsuspend)){var b=t.unsuspend;t.unsuspend=null,b()}},(t.imgBytes>g0?50:800)+a);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(g)}}:null}function hf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)df(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ff=null;function df(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ff=new Map,a.forEach($b,t),ff=null,hf.call(t))}function $b(t,a){if(!(a.state.loading&4)){var s=ff.get(t);if(s)var c=s.get(null);else{s=new Map,ff.set(t,s);for(var g=t.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<g.length;b++){var E=g[b];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),c=E)}c&&s.set(null,c)}g=a.instance,E=g.getAttribute("data-precedence"),b=s.get(E)||c,b===c&&s.set(null,g),s.set(E,g),this.count++,c=hf.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),b?b.parentNode.insertBefore(g,b.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(g,t.firstChild)),a.state.loading|=4}}var rh={$$typeof:M,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function Vb(t,a,s,c,g,b,E,I,he){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tr(0),this.hiddenUpdates=Tr(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=b,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=he,this.incompleteTransitions=new Map}function og(t,a,s,c,g,b,E,I,he,Ce,Me,Ie){return t=new Vb(t,a,s,E,he,Ce,Me,Ie,I),a=1,b===!0&&(a|=24),b=Ja(3,null,null,a),t.current=b,b.stateNode=t,a=Vo(),a.refCount++,t.pooledCache=a,a.refCount++,b.memoizedState={element:c,isDehydrated:s,cache:a},Ye(b),t}function lg(t){return t?(t=Ua,t):Ua}function cg(t,a,s,c,g,b){g=lg(g),c.context===null?c.context=g:c.pendingContext=g,c=Nt(a),c.payload={element:s},b=b===void 0?null:b,b!==null&&(c.callback=b),s=Ht(t,c,a),s!==null&&(Kr(s,t,a),wn(s,t,a))}function ug(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<a?s:a}}function v0(t,a){ug(t,a),(t=t.alternate)&&ug(t,a)}function hg(t){if(t.tag===13||t.tag===31){var a=as(t,67108864);a!==null&&Kr(a,t,67108864),v0(t,67108864)}}function fg(t){if(t.tag===13||t.tag===31){var a=fi();a=qn(a);var s=as(t,a);s!==null&&Kr(s,t,a),v0(t,a)}}var pf=!0;function Gb(t,a,s,c){var g=W.T;W.T=null;var b=se.p;try{se.p=2,y0(t,a,s,c)}finally{se.p=b,W.T=g}}function Yb(t,a,s,c){var g=W.T;W.T=null;var b=se.p;try{se.p=8,y0(t,a,s,c)}finally{se.p=b,W.T=g}}function y0(t,a,s,c){if(pf){var g=b0(c);if(g===null)r0(t,a,c,mf,s),pg(t,c);else if(Kb(g,t,a,s,c))c.stopPropagation();else if(pg(t,c),a&4&&-1<Wb.indexOf(t)){for(;g!==null;){var b=ti(g);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var E=wt(b.pendingLanes);if(E!==0){var I=b;for(I.pendingLanes|=2,I.entangledLanes|=2;E;){var he=1<<31-Vt(E);I.entanglements[1]|=he,E&=~he}qs(b),(_n&6)===0&&(Jh=Bt()+500,Zu(0))}}break;case 31:case 13:I=as(b,2),I!==null&&Kr(I,b,2),Zh(),v0(b,2)}if(b=b0(c),b===null&&r0(t,a,c,mf,s),b===g)break;g=b}g!==null&&c.stopPropagation()}else r0(t,a,c,null,s)}}function b0(t){return t=Ks(t),w0(t)}var mf=null;function w0(t){if(mf=null,t=ei(t),t!==null){var a=l(t);if(a===null)t=null;else{var s=a.tag;if(s===13){if(t=u(a),t!==null)return t;t=null}else if(s===31){if(t=h(a),t!==null)return t;t=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return mf=t,null}function dg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ut()){case Mt:return 2;case bn:return 8;case Ot:case ft:return 32;case Et:return 268435456;default:return 32}default:return 32}}var x0=!1,rl=null,il=null,sl=null,ih=new Map,sh=new Map,ol=[],Wb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pg(t,a){switch(t){case"focusin":case"focusout":rl=null;break;case"dragenter":case"dragleave":il=null;break;case"mouseover":case"mouseout":sl=null;break;case"pointerover":case"pointerout":ih.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":sh.delete(a.pointerId)}}function oh(t,a,s,c,g,b){return t===null||t.nativeEvent!==b?(t={blockedOn:a,domEventName:s,eventSystemFlags:c,nativeEvent:b,targetContainers:[g]},a!==null&&(a=ti(a),a!==null&&hg(a)),t):(t.eventSystemFlags|=c,a=t.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),t)}function Kb(t,a,s,c,g){switch(a){case"focusin":return rl=oh(rl,t,a,s,c,g),!0;case"dragenter":return il=oh(il,t,a,s,c,g),!0;case"mouseover":return sl=oh(sl,t,a,s,c,g),!0;case"pointerover":var b=g.pointerId;return ih.set(b,oh(ih.get(b)||null,t,a,s,c,g)),!0;case"gotpointercapture":return b=g.pointerId,sh.set(b,oh(sh.get(b)||null,t,a,s,c,g)),!0}return!1}function mg(t){var a=ei(t.target);if(a!==null){var s=l(a);if(s!==null){if(a=s.tag,a===13){if(a=u(s),a!==null){t.blockedOn=a,xs(t.priority,function(){fg(s)});return}}else if(a===31){if(a=h(s),a!==null){t.blockedOn=a,xs(t.priority,function(){fg(s)});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gf(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var s=b0(t.nativeEvent);if(s===null){s=t.nativeEvent;var c=new s.constructor(s.type,s);$i=c,s.target.dispatchEvent(c),$i=null}else return a=ti(s),a!==null&&hg(a),t.blockedOn=s,!1;a.shift()}return!0}function gg(t,a,s){gf(t)&&s.delete(a)}function Jb(){x0=!1,rl!==null&&gf(rl)&&(rl=null),il!==null&&gf(il)&&(il=null),sl!==null&&gf(sl)&&(sl=null),ih.forEach(gg),sh.forEach(gg)}function vf(t,a){t.blockedOn===a&&(t.blockedOn=null,x0||(x0=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Jb)))}var yf=null;function vg(t){yf!==t&&(yf=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){yf===t&&(yf=null);for(var a=0;a<t.length;a+=3){var s=t[a],c=t[a+1],g=t[a+2];if(typeof c!="function"){if(w0(c||s)===null)continue;break}var b=ti(s);b!==null&&(t.splice(a,3),a-=3,bd(b,{pending:!0,data:g,method:s.method,action:c},c,g))}}))}function eu(t){function a(he){return vf(he,t)}rl!==null&&vf(rl,t),il!==null&&vf(il,t),sl!==null&&vf(sl,t),ih.forEach(a),sh.forEach(a);for(var s=0;s<ol.length;s++){var c=ol[s];c.blockedOn===t&&(c.blockedOn=null)}for(;0<ol.length&&(s=ol[0],s.blockedOn===null);)mg(s),s.blockedOn===null&&ol.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(c=0;c<s.length;c+=3){var g=s[c],b=s[c+1],E=g[Hn]||null;if(typeof b=="function")E||vg(s);else if(E){var I=null;if(b&&b.hasAttribute("formAction")){if(g=b,E=b[Hn]||null)I=E.formAction;else if(w0(g)!==null)continue}else I=E.action;typeof I=="function"?s[c+1]=I:(s.splice(c,3),c-=3),vg(s)}}}function yg(){function t(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(E){return g=E})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),c||setTimeout(s,20)}function s(){if(!c&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,g=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(s,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function _0(t){this._internalRoot=t}bf.prototype.render=_0.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(r(409));var s=a.current,c=fi();cg(s,c,t,a,null,null)},bf.prototype.unmount=_0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;cg(t.current,2,null,t,null,null),Zh(),a[Ga]=null}};function bf(t){this._internalRoot=t}bf.prototype.unstable_scheduleHydration=function(t){if(t){var a=ja();t={blockedOn:null,target:t,priority:a};for(var s=0;s<ol.length&&a!==0&&a<ol[s].priority;s++);ol.splice(s,0,t),s===0&&mg(t)}};var bg=e.version;if(bg!=="19.2.0")throw Error(r(527,bg,"19.2.0"));se.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=p(a),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var Xb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var wf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wf.isDisabled&&wf.supportsFiber)try{Kt=wf.inject(Xb),Xe=wf}catch(t){}}return ch.createRoot=function(t,a){if(!o(t))throw Error(r(299));var s=!1,c="",g=jm,b=Em,E=Cm;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),a=og(t,1,!1,null,null,s,c,null,g,b,E,yg),t[Ga]=a.current,a0(t),new _0(a)},ch.hydrateRoot=function(t,a,s){if(!o(t))throw Error(r(299));var c=!1,g="",b=jm,E=Em,I=Cm,he=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onUncaughtError!==void 0&&(b=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(I=s.onRecoverableError),s.formState!==void 0&&(he=s.formState)),a=og(t,1,!0,a,s!=null?s:null,c,g,he,b,E,I,yg),a.context=lg(null),s=a.current,c=fi(),c=qn(c),g=Nt(c),g.callback=null,Ht(s,g,c),s=c,a.current.lanes=s,mt(a,s),qs(a),t[Ga]=a.current,a0(t),new bf(a)},ch.version="19.2.0",ch}var Tg;function fw(){if(Tg)return A0.exports;Tg=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),A0.exports=hw(),A0.exports}var dw=fw();const pw=Ip(dw);var Te=qp();const Og=Ip(Te);var fp=function(i,e){return fp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},fp(i,e)};function Pv(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");fp(i,e);function n(){this.constructor=i}i.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Wf=function(){return Wf=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Wf.apply(this,arguments)};function Nu(i,e){var n={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(n[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(i);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(i,r[o])&&(n[r[o]]=i[r[o]]);return n}function Bv(i,e,n,r){var o=arguments.length,l=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(i,e,n,r);else for(var h=i.length-1;h>=0;h--)(u=i[h])&&(l=(o<3?u(l):o>3?u(e,n,l):u(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l}function Uv(i,e){return function(n,r){e(n,r,i)}}function zv(i,e,n,r,o,l){function u(k){if(k!==void 0&&typeof k!="function")throw new TypeError("Function expected");return k}for(var h=r.kind,f=h==="getter"?"get":h==="setter"?"set":"value",p=!e&&i?r.static?i:i.prototype:null,y=e||(p?Object.getOwnPropertyDescriptor(p,r.name):{}),S,N=!1,w=n.length-1;w>=0;w--){var C={};for(var L in r)C[L]=L==="access"?{}:r[L];for(var L in r.access)C.access[L]=r.access[L];C.addInitializer=function(k){if(N)throw new TypeError("Cannot add initializers after decoration has completed");l.push(u(k||null))};var T=(0,n[w])(h==="accessor"?{get:y.get,set:y.set}:y[f],C);if(h==="accessor"){if(T===void 0)continue;if(T===null||typeof T!="object")throw new TypeError("Object expected");(S=u(T.get))&&(y.get=S),(S=u(T.set))&&(y.set=S),(S=u(T.init))&&o.unshift(S)}else(S=u(T))&&(h==="field"?o.unshift(S):y[f]=S)}p&&Object.defineProperty(p,r.name,y),N=!0}function Iv(i,e,n){for(var r=arguments.length>2,o=0;o<e.length;o++)n=r?e[o].call(i,n):e[o].call(i);return r?n:void 0}function qv(i){return typeof i=="symbol"?i:"".concat(i)}function Fv(i,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(i,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function Hv(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)}function ut(i,e,n,r){function o(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function h(y){try{p(r.next(y))}catch(S){u(S)}}function f(y){try{p(r.throw(y))}catch(S){u(S)}}function p(y){y.done?l(y.value):o(y.value).then(h,f)}p((r=r.apply(i,e||[])).next())})}function $v(i,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,o,l,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=h(0),u.throw=h(1),u.return=h(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(p){return function(y){return f([p,y])}}function f(p){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(r=1,o&&(l=p[0]&2?o.return:p[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,p[1])).done)return l;switch(o=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(i,n)}catch(y){p=[6,y],o=0}finally{r=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var id=Object.create?(function(i,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(i,r,o)}):(function(i,e,n,r){r===void 0&&(r=n),i[r]=e[n]});function Vv(i,e){for(var n in i)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&id(e,i,n)}function Kf(i){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&i[e],r=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fp(i,e){var n=typeof Symbol=="function"&&i[Symbol.iterator];if(!n)return i;var r=n.call(i),o,l=[],u;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)l.push(o.value)}catch(h){u={error:h}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return l}function Gv(){for(var i=[],e=0;e<arguments.length;e++)i=i.concat(Fp(arguments[e]));return i}function Yv(){for(var i=0,e=0,n=arguments.length;e<n;e++)i+=arguments[e].length;for(var r=Array(i),o=0,e=0;e<n;e++)for(var l=arguments[e],u=0,h=l.length;u<h;u++,o++)r[o]=l[u];return r}function Wv(i,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,l;r<o;r++)(l||!(r in e))&&(l||(l=Array.prototype.slice.call(e,0,r)),l[r]=e[r]);return i.concat(l||Array.prototype.slice.call(e))}function _u(i){return this instanceof _u?(this.v=i,this):new _u(i)}function Kv(i,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(i,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(w){return function(C){return Promise.resolve(C).then(w,S)}}function h(w,C){r[w]&&(o[w]=function(L){return new Promise(function(T,k){l.push([w,L,T,k])>1||f(w,L)})},C&&(o[w]=C(o[w])))}function f(w,C){try{p(r[w](C))}catch(L){N(l[0][3],L)}}function p(w){w.value instanceof _u?Promise.resolve(w.value.v).then(y,S):N(l[0][2],w)}function y(w){f("next",w)}function S(w){f("throw",w)}function N(w,C){w(C),l.shift(),l.length&&f(l[0][0],l[0][1])}}function Jv(i){var e,n;return e={},r("next"),r("throw",function(o){throw o}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(o,l){e[o]=i[o]?function(u){return(n=!n)?{value:_u(i[o](u)),done:!1}:l?l(u):u}:l}}function Xv(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],n;return e?e.call(i):(i=typeof Kf=="function"?Kf(i):i[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(l){n[l]=i[l]&&function(u){return new Promise(function(h,f){u=i[l](u),o(h,f,u.done,u.value)})}}function o(l,u,h,f){Promise.resolve(f).then(function(p){l({value:p,done:h})},u)}}function Zv(i,e){return Object.defineProperty?Object.defineProperty(i,"raw",{value:e}):i.raw=e,i}var mw=Object.create?(function(i,e){Object.defineProperty(i,"default",{enumerable:!0,value:e})}):function(i,e){i.default=e},dp=function(i){return dp=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},dp(i)};function Qv(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var n=dp(i),r=0;r<n.length;r++)n[r]!=="default"&&id(e,i,n[r]);return mw(e,i),e}function e5(i){return i&&i.__esModule?i:{default:i}}function t5(i,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?i!==e||!r:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(i):r?r.value:e.get(i)}function n5(i,e,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?i!==e||!o:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(i,n):o?o.value=n:e.set(i,n),n}function a5(i,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof i=="function"?e===i:i.has(e)}function r5(i,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(o=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(l){return Promise.reject(l)}}),i.stack.push({value:e,dispose:r,async:n})}else n&&i.stack.push({async:!0});return e}var gw=typeof SuppressedError=="function"?SuppressedError:function(i,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=i,r.suppressed=e,r};function i5(i){function e(l){i.error=i.hasError?new gw(l,i.error,"An error was suppressed during disposal."):l,i.hasError=!0}var n,r=0;function o(){for(;n=i.stack.pop();)try{if(!n.async&&r===1)return r=0,i.stack.push(n),Promise.resolve().then(o);if(n.dispose){var l=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(l).then(o,function(u){return e(u),o()})}else r|=1}catch(u){e(u)}if(r===1)return i.hasError?Promise.reject(i.error):Promise.resolve();if(i.hasError)throw i.error}return o()}function s5(i,e){return typeof i=="string"&&/^\.\.?\//.test(i)?i.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,o,l,u){return r?e?".jsx":".js":o&&(!l||!u)?n:o+l+"."+u.toLowerCase()+"js"}):i}const vw={__extends:Pv,__assign:Wf,__rest:Nu,__decorate:Bv,__param:Uv,__esDecorate:zv,__runInitializers:Iv,__propKey:qv,__setFunctionName:Fv,__metadata:Hv,__awaiter:ut,__generator:$v,__createBinding:id,__exportStar:Vv,__values:Kf,__read:Fp,__spread:Gv,__spreadArrays:Yv,__spreadArray:Wv,__await:_u,__asyncGenerator:Kv,__asyncDelegator:Jv,__asyncValues:Xv,__makeTemplateObject:Zv,__importStar:Qv,__importDefault:e5,__classPrivateFieldGet:t5,__classPrivateFieldSet:n5,__classPrivateFieldIn:a5,__addDisposableResource:r5,__disposeResources:i5,__rewriteRelativeImportExtension:s5},yw=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:r5,get __assign(){return Wf},__asyncDelegator:Jv,__asyncGenerator:Kv,__asyncValues:Xv,__await:_u,__awaiter:ut,__classPrivateFieldGet:t5,__classPrivateFieldIn:a5,__classPrivateFieldSet:n5,__createBinding:id,__decorate:Bv,__disposeResources:i5,__esDecorate:zv,__exportStar:Vv,__extends:Pv,__generator:$v,__importDefault:e5,__importStar:Qv,__makeTemplateObject:Zv,__metadata:Hv,__param:Uv,__propKey:qv,__read:Fp,__rest:Nu,__rewriteRelativeImportExtension:s5,__runInitializers:Iv,__setFunctionName:Fv,__spread:Gv,__spreadArray:Wv,__spreadArrays:Yv,__values:Kf,default:vw},Symbol.toStringTag,{value:"Module"})),bw=i=>i?(...e)=>i(...e):(...e)=>fetch(...e);class Hp extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Rg extends Hp{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Dg extends Hp{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Mg extends Hp{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var pp;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(pp||(pp={}));class ww{constructor(e,{headers:n={},customFetch:r,region:o=pp.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=bw(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ut(this,arguments,void 0,function*(n,r={}){var o;try{const{headers:l,method:u,body:h,signal:f}=r;let p={},{region:y}=r;y||(y=this.region);const S=new URL(`${this.url}/${n}`);y&&y!=="any"&&(p["x-region"]=y,S.searchParams.set("forceFunctionRegion",y));let N;h&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob!="undefined"&&h instanceof Blob||h instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",N=h):typeof h=="string"?(p["Content-Type"]="text/plain",N=h):typeof FormData!="undefined"&&h instanceof FormData?N=h:(p["Content-Type"]="application/json",N=JSON.stringify(h)):N=h;const w=yield this.fetch(S.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:N,signal:f}).catch(k=>{throw k.name==="AbortError"?k:new Rg(k)}),C=w.headers.get("x-relay-error");if(C&&C==="true")throw new Dg(w);if(!w.ok)throw new Mg(w);let L=((o=w.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),T;return L==="application/json"?T=yield w.json():L==="application/octet-stream"||L==="application/pdf"?T=yield w.blob():L==="text/event-stream"?T=w:L==="multipart/form-data"?T=yield w.formData():T=yield w.text(),{data:T,error:null,response:w}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new Rg(l)}:{data:null,error:l,response:l instanceof Mg||l instanceof Dg?l.context:void 0}}})}}var dr={};const Au=aw(yw);var _f={},Sf={},Nf={},Af={},jf={},Ef={},Pg;function o5(){if(Pg)return Ef;Pg=1,Object.defineProperty(Ef,"__esModule",{value:!0});class i extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Ef.default=i,Ef}var Bg;function l5(){if(Bg)return jf;Bg=1,Object.defineProperty(jf,"__esModule",{value:!0});const e=Au.__importDefault(o5());class n{constructor(o){var l,u;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(l=o.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=o.signal,this.isMaybeSingle=(u=o.isMaybeSingle)!==null&&u!==void 0?u:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=new Headers(this.headers),this.headers.set(o,l),this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let h=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(f=>fe(this,null,function*(){var p,y,S,N;let w=null,C=null,L=null,T=f.status,k=f.statusText;if(f.ok){if(this.method!=="HEAD"){const J=yield f.text();J===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?C=J:C=JSON.parse(J))}const M=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),z=(S=f.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");M&&z&&z.length>1&&(L=parseInt(z[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(C)&&(C.length>1?(w={code:"PGRST116",details:`Results contain ${C.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},C=null,L=null,T=406,k="Not Acceptable"):C.length===1?C=C[0]:C=null)}else{const M=yield f.text();try{w=JSON.parse(M),Array.isArray(w)&&f.status===404&&(C=[],w=null,T=200,k="OK")}catch(z){f.status===404&&M===""?(T=204,k="No Content"):w={message:M}}if(w&&this.isMaybeSingle&&(!((N=w==null?void 0:w.details)===null||N===void 0)&&N.includes("0 rows"))&&(w=null,T=200,k="OK"),w&&this.shouldThrowOnError)throw new e.default(w)}return{error:w,data:C,count:L,status:T,statusText:k}}));return this.shouldThrowOnError||(h=h.catch(f=>{var p,y,S;return{error:{message:`${(p=f==null?void 0:f.name)!==null&&p!==void 0?p:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(y=f==null?void 0:f.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(S=f==null?void 0:f.code)!==null&&S!==void 0?S:""}`},data:null,count:null,status:0,statusText:""}})),h.then(o,l)}returns(){return this}overrideTypes(){return this}}return jf.default=n,jf}var Ug;function c5(){if(Ug)return Af;Ug=1,Object.defineProperty(Af,"__esModule",{value:!0});const e=Au.__importDefault(l5());class n extends e.default{select(o){let l=!1;const u=(o!=null?o:"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:l=!0,nullsFirst:u,foreignTable:h,referencedTable:f=h}={}){const p=f?`${f}.order`:"order",y=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${y?`${y},`:""}${o}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:l,referencedTable:u=l}={}){const h=typeof u=="undefined"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${o}`),this}range(o,l,{foreignTable:u,referencedTable:h=u}={}){const f=typeof h=="undefined"?"offset":`${h}.offset`,p=typeof h=="undefined"?"limit":`${h}.limit`;return this.url.searchParams.set(f,`${o}`),this.url.searchParams.set(p,`${l-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:l=!1,settings:u=!1,buffers:h=!1,wal:f=!1,format:p="text"}={}){var y;const S=[o?"analyze":null,l?"verbose":null,u?"settings":null,h?"buffers":null,f?"wal":null].filter(Boolean).join("|"),N=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${N}"; options=${S};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Af.default=n,Af}var zg;function $p(){if(zg)return Nf;zg=1,Object.defineProperty(Nf,"__esModule",{value:!0});const e=Au.__importDefault(c5()),n=new RegExp("[,()]");class r extends e.default{eq(l,u){return this.url.searchParams.append(l,`eq.${u}`),this}neq(l,u){return this.url.searchParams.append(l,`neq.${u}`),this}gt(l,u){return this.url.searchParams.append(l,`gt.${u}`),this}gte(l,u){return this.url.searchParams.append(l,`gte.${u}`),this}lt(l,u){return this.url.searchParams.append(l,`lt.${u}`),this}lte(l,u){return this.url.searchParams.append(l,`lte.${u}`),this}like(l,u){return this.url.searchParams.append(l,`like.${u}`),this}likeAllOf(l,u){return this.url.searchParams.append(l,`like(all).{${u.join(",")}}`),this}likeAnyOf(l,u){return this.url.searchParams.append(l,`like(any).{${u.join(",")}}`),this}ilike(l,u){return this.url.searchParams.append(l,`ilike.${u}`),this}ilikeAllOf(l,u){return this.url.searchParams.append(l,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(l,u){return this.url.searchParams.append(l,`ilike(any).{${u.join(",")}}`),this}is(l,u){return this.url.searchParams.append(l,`is.${u}`),this}in(l,u){const h=Array.from(new Set(u)).map(f=>typeof f=="string"&&n.test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(l,`in.(${h})`),this}contains(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cs.{${u.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(u)}`),this}containedBy(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cd.{${u.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(u)}`),this}rangeGt(l,u){return this.url.searchParams.append(l,`sr.${u}`),this}rangeGte(l,u){return this.url.searchParams.append(l,`nxl.${u}`),this}rangeLt(l,u){return this.url.searchParams.append(l,`sl.${u}`),this}rangeLte(l,u){return this.url.searchParams.append(l,`nxr.${u}`),this}rangeAdjacent(l,u){return this.url.searchParams.append(l,`adj.${u}`),this}overlaps(l,u){return typeof u=="string"?this.url.searchParams.append(l,`ov.${u}`):this.url.searchParams.append(l,`ov.{${u.join(",")}}`),this}textSearch(l,u,{config:h,type:f}={}){let p="";f==="plain"?p="pl":f==="phrase"?p="ph":f==="websearch"&&(p="w");const y=h===void 0?"":`(${h})`;return this.url.searchParams.append(l,`${p}fts${y}.${u}`),this}match(l){return Object.entries(l).forEach(([u,h])=>{this.url.searchParams.append(u,`eq.${h}`)}),this}not(l,u,h){return this.url.searchParams.append(l,`not.${u}.${h}`),this}or(l,{foreignTable:u,referencedTable:h=u}={}){const f=h?`${h}.or`:"or";return this.url.searchParams.append(f,`(${l})`),this}filter(l,u,h){return this.url.searchParams.append(l,`${u}.${h}`),this}}return Nf.default=r,Nf}var Ig;function u5(){if(Ig)return Sf;Ig=1,Object.defineProperty(Sf,"__esModule",{value:!0});const e=Au.__importDefault($p());class n{constructor(o,{headers:l={},schema:u,fetch:h}){this.url=o,this.headers=new Headers(l),this.schema=u,this.fetch=h}select(o,l){const{head:u=!1,count:h}=l!=null?l:{},f=u?"HEAD":"GET";let p=!1;const y=(o!=null?o:"*").split("").map(S=>/\s/.test(S)&&!p?"":(S==='"'&&(p=!p),S)).join("");return this.url.searchParams.set("select",y),h&&this.headers.append("Prefer",`count=${h}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:l,defaultToNull:u=!0}={}){var h;const f="POST";if(l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const p=o.reduce((y,S)=>y.concat(Object.keys(S)),[]);if(p.length>0){const y=[...new Set(p)].map(S=>`"${S}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(o,{onConflict:l,ignoreDuplicates:u=!1,count:h,defaultToNull:f=!0}={}){var p;const y="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),h&&this.headers.append("Prefer",`count=${h}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const S=o.reduce((N,w)=>N.concat(Object.keys(w)),[]);if(S.length>0){const N=[...new Set(S)].map(w=>`"${w}"`);this.url.searchParams.set("columns",N.join(","))}}return new e.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(o,{count:l}={}){var u;const h="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:o}={}){var l;const u="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return Sf.default=n,Sf}var qg;function xw(){if(qg)return _f;qg=1,Object.defineProperty(_f,"__esModule",{value:!0});const i=Au,e=i.__importDefault(u5()),n=i.__importDefault($p());class r{constructor(l,{headers:u={},schema:h,fetch:f}={}){this.url=l,this.headers=new Headers(u),this.schemaName=h,this.fetch=f}from(l){const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new r(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:h=!1,get:f=!1,count:p}={}){var y;let S;const N=new URL(`${this.url}/rpc/${l}`);let w;h||f?(S=h?"HEAD":"GET",Object.entries(u).filter(([L,T])=>T!==void 0).map(([L,T])=>[L,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([L,T])=>{N.searchParams.append(L,T)})):(S="POST",w=u);const C=new Headers(this.headers);return p&&C.set("Prefer",`count=${p}`),new n.default({method:S,url:N,headers:C,schema:this.schemaName,body:w,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return _f.default=r,_f}var Fg;function _w(){if(Fg)return dr;Fg=1,Object.defineProperty(dr,"__esModule",{value:!0}),dr.PostgrestError=dr.PostgrestBuilder=dr.PostgrestTransformBuilder=dr.PostgrestFilterBuilder=dr.PostgrestQueryBuilder=dr.PostgrestClient=void 0;const i=Au,e=i.__importDefault(xw());dr.PostgrestClient=e.default;const n=i.__importDefault(u5());dr.PostgrestQueryBuilder=n.default;const r=i.__importDefault($p());dr.PostgrestFilterBuilder=r.default;const o=i.__importDefault(c5());dr.PostgrestTransformBuilder=o.default;const l=i.__importDefault(l5());dr.PostgrestBuilder=l.default;const u=i.__importDefault(o5());return dr.PostgrestError=u.default,dr.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:u.default},dr}var h5=_w();const f5=Ip(h5),Sw=nw({__proto__:null,default:f5},[h5]),{PostgrestClient:Nw,PostgrestQueryBuilder:_N,PostgrestFilterBuilder:SN,PostgrestTransformBuilder:NN,PostgrestBuilder:AN,PostgrestError:jN}=f5||Sw;class Aw{static detectEnvironment(){var e;if(typeof WebSocket!="undefined")return{type:"native",constructor:WebSocket};if(typeof globalThis!="undefined"&&typeof globalThis.WebSocket!="undefined")return{type:"native",constructor:globalThis.WebSocket};if(typeof global!="undefined"&&typeof global.WebSocket!="undefined")return{type:"native",constructor:global.WebSocket};if(typeof globalThis!="undefined"&&typeof globalThis.WebSocketPair!="undefined"&&typeof globalThis.WebSocket=="undefined")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis!="undefined"&&globalThis.EdgeRuntime||typeof navigator!="undefined"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process!="undefined"){const n=process.versions;if(n&&n.node){const r=n.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket!="undefined"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch(e){return!1}}}const jw="2.80.0",Ew=`realtime-js/${jw}`,Cw="1.0.0",mp=1e4,Lw=1e3,kw=100;var dh;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(dh||(dh={}));var $a;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})($a||($a={}));var ms;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(ms||(ms={}));var gp;(function(i){i.websocket="websocket"})(gp||(gp={}));var Ql;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Ql||(Ql={}));class Tw{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const o=n.getUint8(1),l=n.getUint8(2);let u=this.HEADER_LENGTH+2;const h=r.decode(e.slice(u,u+o));u=u+o;const f=r.decode(e.slice(u,u+l));u=u+l;const p=JSON.parse(r.decode(e.slice(u,e.byteLength)));return{ref:null,topic:h,event:f,payload:p}}}class d5{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Fn;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Fn||(Fn={}));const Hg=(i,e,n={})=>{var r;const o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=Ow(u,i,e,o),l),{}):{}},Ow=(i,e,n,r)=>{const o=e.find(h=>h.name===i),l=o==null?void 0:o.type,u=n[i];return l&&!r.includes(l)?p5(l,u):vp(u)},p5=(i,e)=>{if(i.charAt(0)==="_"){const n=i.slice(1,i.length);return Pw(e,n)}switch(i){case Fn.bool:return Rw(e);case Fn.float4:case Fn.float8:case Fn.int2:case Fn.int4:case Fn.int8:case Fn.numeric:case Fn.oid:return Dw(e);case Fn.json:case Fn.jsonb:return Mw(e);case Fn.timestamp:return Bw(e);case Fn.abstime:case Fn.date:case Fn.daterange:case Fn.int4range:case Fn.int8range:case Fn.money:case Fn.reltime:case Fn.text:case Fn.time:case Fn.timestamptz:case Fn.timetz:case Fn.tsrange:case Fn.tstzrange:return vp(e);default:return vp(e)}},vp=i=>i,Rw=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},Dw=i=>{if(typeof i=="string"){const e=parseFloat(i);if(!Number.isNaN(e))return e}return i},Mw=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(e){return console.log(`JSON parse error: ${e}`),i}return i},Pw=(i,e)=>{if(typeof i!="string")return i;const n=i.length-1,r=i[n];if(i[0]==="{"&&r==="}"){let l;const u=i.slice(1,n);try{l=JSON.parse("["+u+"]")}catch(h){l=u?u.split(","):[]}return l.map(h=>p5(e,h))}return i},Bw=i=>typeof i=="string"?i.replace(" ","T"):i,m5=i=>{const e=new URL(i);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class k0{constructor(e,n,r={},o=mp){this.channel=e,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var $g;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})($g||($g={}));class ph{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:l,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ph.syncState(this.state,o,l,u),this.pendingDiffs.forEach(f=>{this.state=ph.syncDiff(this.state,f,l,u)}),this.pendingDiffs=[],h()}),this.channel._on(r.diff,{},o=>{const{onJoin:l,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=ph.syncDiff(this.state,o,l,u),h())}),this.onJoin((o,l,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:u})}),this.onLeave((o,l,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,o){const l=this.cloneDeep(e),u=this.transformState(n),h={},f={};return this.map(l,(p,y)=>{u[p]||(f[p]=y)}),this.map(u,(p,y)=>{const S=l[p];if(S){const N=y.map(T=>T.presence_ref),w=S.map(T=>T.presence_ref),C=y.filter(T=>w.indexOf(T.presence_ref)<0),L=S.filter(T=>N.indexOf(T.presence_ref)<0);C.length>0&&(h[p]=C),L.length>0&&(f[p]=L)}else h[p]=y}),this.syncDiff(l,{joins:h,leaves:f},r,o)}static syncDiff(e,n,r,o){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(l,(h,f)=>{var p;const y=(p=e[h])!==null&&p!==void 0?p:[];if(e[h]=this.cloneDeep(f),y.length>0){const S=e[h].map(w=>w.presence_ref),N=y.filter(w=>S.indexOf(w.presence_ref)<0);e[h].unshift(...N)}r(h,y,f)}),this.map(u,(h,f)=>{let p=e[h];if(!p)return;const y=f.map(S=>S.presence_ref);p=p.filter(S=>y.indexOf(S.presence_ref)<0),e[h]=p,o(h,p,f),p.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const o=e[r];return"metas"in o?n[r]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[r]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Vg;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Vg||(Vg={}));var mh;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(mh||(mh={}));var Ao;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Ao||(Ao={}));class Vp{constructor(e,n={config:{}},r){var o,l;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=$a.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new k0(this,ms.join,this.params,this.timeout),this.rejoinTimer=new d5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=$a.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=$a.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=$a.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=$a.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=$a.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ms.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new ph(this),this.broadcastEndpointURL=m5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==$a.closed){const{config:{broadcast:u,presence:h,private:f}}=this.params,p=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(w=>w.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[mh.PRESENCE]&&this.bindings[mh.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,S={},N={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:y}),postgres_changes:p,private:f};this.socket.accessTokenValue&&(S.access_token=this.socket.accessTokenValue),this._onError(w=>e==null?void 0:e(Ao.CHANNEL_ERROR,w)),this._onClose(()=>e==null?void 0:e(Ao.CLOSED)),this.updateJoinPayload(Object.assign({config:N},S)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",C=>fe(this,[C],function*({postgres_changes:w}){var L;if(this.socket.setAuth(),w===void 0){e==null||e(Ao.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,k=(L=T==null?void 0:T.length)!==null&&L!==void 0?L:0,G=[];for(let M=0;M<k;M++){const z=T[M],{filter:{event:J,schema:ce,table:ne,filter:X}}=z,F=w&&w[M];if(F&&F.event===J&&F.schema===ce&&F.table===ne&&F.filter===X)G.push(Object.assign(Object.assign({},z),{id:F.id}));else{this.unsubscribe(),this.state=$a.errored,e==null||e(Ao.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=G,e&&e(Ao.SUBSCRIBED);return}})).receive("error",w=>{this.state=$a.errored,e==null||e(Ao.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ao.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return fe(this,arguments,function*(e,n={}){return yield this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)})}untrack(){return fe(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,n,r){return this.state===$a.joined&&e===mh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}httpSend(o,l){return fe(this,arguments,function*(e,n,r={}){var u;const h=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const f={method:"POST",headers:{Authorization:h,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},p=yield this._fetchWithTimeout(this.broadcastEndpointURL,f,(u=r.timeout)!==null&&u!==void 0?u:this.timeout);if(p.status===202)return{success:!0};let y=p.statusText;try{const S=yield p.json();y=S.error||S.message||y}catch(S){}return Promise.reject(new Error(y))})}send(r){return fe(this,arguments,function*(e,n={}){var o,l;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:h}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:h,private:this.private}]})};try{const y=yield this._fetchWithTimeout(this.broadcastEndpointURL,p,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return yield(l=y.body)===null||l===void 0?void 0:l.cancel(),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var h,f,p;const y=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(f=(h=this.params)===null||h===void 0?void 0:h.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),y.receive("ok",()=>u("ok")),y.receive("error",()=>u("error")),y.receive("timeout",()=>u("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=$a.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ms.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new k0(this,ms.leave,{},e),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=$a.closed,this.bindings={}}_fetchWithTimeout(e,n,r){return fe(this,null,function*(){const o=new AbortController,l=setTimeout(()=>o.abort(),r),u=yield this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(l),u})}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new k0(this,e,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>kw){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var o,l;const u=e.toLocaleLowerCase(),{close:h,error:f,leave:p,join:y}=ms;if(r&&[h,f,p,y].indexOf(u)>=0&&r!==this._joinRef())return;let N=this._onMessage(u,n,r);if(n&&!N)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var C,L,T;return((C=w.filter)===null||C===void 0?void 0:C.event)==="*"||((T=(L=w.filter)===null||L===void 0?void 0:L.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===u}).map(w=>w.callback(N,r)):(l=this.bindings[u])===null||l===void 0||l.filter(w=>{var C,L,T,k,G,M;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in w){const z=w.id,J=(C=w.filter)===null||C===void 0?void 0:C.event;return z&&((L=n.ids)===null||L===void 0?void 0:L.includes(z))&&(J==="*"||(J==null?void 0:J.toLocaleLowerCase())===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const z=(G=(k=w==null?void 0:w.filter)===null||k===void 0?void 0:k.event)===null||G===void 0?void 0:G.toLocaleLowerCase();return z==="*"||z===((M=n==null?void 0:n.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===u}).map(w=>{if(typeof N=="object"&&"ids"in N){const C=N.data,{schema:L,table:T,commit_timestamp:k,type:G,errors:M}=C;N=Object.assign(Object.assign({},{schema:L,table:T,commit_timestamp:k,eventType:G,new:{},old:{},errors:M}),this._getPayloadRecords(C))}w.callback(N,r)})}_isClosed(){return this.state===$a.closed}_isJoined(){return this.state===$a.joined}_isJoining(){return this.state===$a.joining}_isLeaving(){return this.state===$a.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const o=e.toLocaleLowerCase(),l={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===r&&Vp.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ms.close,{},e)}_onError(e){this._on(ms.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=$a.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Hg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Hg(e.columns,e.old_record)),n}}const T0=()=>{},Cf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Uw=[1e3,2e3,5e3,1e4],zw=1e4,Iw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class qw{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=mp,this.transport=null,this.heartbeatIntervalMs=Cf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=T0,this.ref=0,this.reconnectTimer=null,this.logger=T0,this.conn=null,this.sendBuffer=[],this.serializer=new Tw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${gp.websocket}`,this.httpEndpoint=m5(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Aw.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Cw}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n!=null?n:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(e){return fe(this,null,function*(){const n=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return fe(this,null,function*(){const e=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case dh.connecting:return Ql.Connecting;case dh.open:return Ql.Open;case dh.closing:return Ql.Closing;default:return Ql.Closed}}isConnected(){return this.connectionState()===Ql.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===r);if(o)return o;{const l=new Vp(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:r,payload:o,ref:l}=e,u=()=>{this.encode(e,h=>{var f;(f=this.conn)===null||f===void 0||f.send(h)})};this.log("push",`${n} ${r} (${l})`,o),this.isConnected()?u():this.sendBuffer.push(u)}setAuth(e=null){return fe(this,null,function*(){this._authPromise=this._performAuth(e);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return fe(this,null,function*(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Lw,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Cf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:o,payload:l,ref:u}=n,h=u?`(${u})`:"",f=l.status||"";this.log("receive",`${f} ${r} ${o} ${h}`.trim(),l),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(o,l,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ms.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${r}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Iw],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}_performAuth(e=null){return fe(this,null,function*(){let n;e?n=e:this.accessToken?n=yield this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const o={access_token:n,version:Ew};n&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(ms.access_token,{access_token:n})}))})}_waitForAuthIfNeeded(){return fe(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new d5(()=>fe(this,null,function*(){setTimeout(()=>fe(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),Cf.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(e){var n,r,o,l,u,h,f,p,y;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:mp,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:Cf.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=e==null?void 0:e.heartbeatCallback)!==null&&h!==void 0?h:T0,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e==null?void 0:e.reconnectAfterMs)!==null&&f!==void 0?f:(S=>Uw[S-1]||zw),this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:((S,N)=>N(JSON.stringify(S))),this.decode=(y=e==null?void 0:e.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window!="undefined"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Gp extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ua(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class Fw extends Gp{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class yp extends Gp{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const Yp=i=>i?(...e)=>i(...e):(...e)=>fetch(...e),Hw=()=>Response,bp=i=>{if(Array.isArray(i))return i.map(n=>bp(n));if(typeof i=="function"||i!==Object(i))return i;const e={};return Object.entries(i).forEach(([n,r])=>{const o=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=bp(r)}),e},$w=i=>{if(typeof i!="object"||i===null)return!1;const e=Object.getPrototypeOf(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},O0=i=>{var e;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(e=i.error)===null||e===void 0?void 0:e.message)||JSON.stringify(i)},Vw=(i,e,n)=>ut(void 0,void 0,void 0,function*(){const r=yield Hw();i instanceof r&&!(n!=null&&n.noResolveJson)?i.json().then(o=>{const l=i.status||500,u=(o==null?void 0:o.statusCode)||l+"";e(new Fw(O0(o),l,u))}).catch(o=>{e(new yp(O0(o),o))}):e(new yp(O0(i),i))}),Gw=(i,e,n,r)=>{const o={method:i,headers:(e==null?void 0:e.headers)||{}};return i==="GET"||!r?o:($w(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,e!=null&&e.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),n))};function jh(i,e,n,r,o,l){return ut(this,void 0,void 0,function*(){return new Promise((u,h)=>{i(n,Gw(e,r,o,l)).then(f=>{if(!f.ok)throw f;return r!=null&&r.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>Vw(f,h,r))})})}function bh(i,e,n,r){return ut(this,void 0,void 0,function*(){return jh(i,"GET",e,n,r)})}function ps(i,e,n,r,o){return ut(this,void 0,void 0,function*(){return jh(i,"POST",e,r,o,n)})}function wp(i,e,n,r,o){return ut(this,void 0,void 0,function*(){return jh(i,"PUT",e,r,o,n)})}function Yw(i,e,n,r){return ut(this,void 0,void 0,function*(){return jh(i,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Wp(i,e,n,r,o){return ut(this,void 0,void 0,function*(){return jh(i,"DELETE",e,r,o,n)})}class Ww{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return ut(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ua(e))return{data:null,error:e};throw e}})}}var g5;class Kw{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[g5]="BlobDownloadBuilder",this.promise=null}asStream(){return new Ww(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ut(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ua(e))return{data:null,error:e};throw e}})}}g5=Symbol.toStringTag;const Jw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Xw{constructor(e,n={},r,o){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Yp(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,o){return ut(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},Gg),o);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob!="undefined"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),f&&l.append("metadata",this.encodeMetadata(f)),l.append("",r)):typeof FormData!="undefined"&&r instanceof FormData?(l=r,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),f&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(f))):(l=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,f&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(f))),(typeof ReadableStream!="undefined"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),o!=null&&o.headers&&(h=Object.assign(Object.assign({},h),o.headers));const p=this._removeEmptyFolders(n),y=this._getFinalPath(p),S=yield(e=="PUT"?wp:ps)(this.fetch,`${this.url}/object/${y}`,l,Object.assign({headers:h},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:S.Id,fullPath:S.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ua(l))return{data:null,error:l};throw l}})}upload(e,n,r){return ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,o){return ut(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",n);try{let f;const p=Object.assign({upsert:Gg.upsert},o),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob!="undefined"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",p.cacheControl),f.append("",r)):typeof FormData!="undefined"&&r instanceof FormData?(f=r,f.append("cacheControl",p.cacheControl)):(f=r,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType);const S=yield wp(this.fetch,h.toString(),f,{headers:y});return{data:{path:l,fullPath:S.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(ua(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,n){return ut(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const l=yield ps(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),u=new URL(this.url+l.url),h=u.searchParams.get("token");if(!h)throw new Gp("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:h},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ua(r))return{data:null,error:r};throw r}})}update(e,n,r){return ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ut(this,void 0,void 0,function*(){try{return{data:yield ps(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ua(o))return{data:null,error:o};throw o}})}copy(e,n,r){return ut(this,void 0,void 0,function*(){try{return{data:{path:(yield ps(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ua(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,r){return ut(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),l=yield ps(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ua(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,r){return ut(this,void 0,void 0,function*(){try{const o=yield ps(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ua(o))return{data:null,error:o};throw o}})}download(e,n){const o=typeof(n==null?void 0:n.transform)!="undefined"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),u=l?`?${l}`:"",h=this._getFinalPath(e),f=()=>bh(this.fetch,`${this.url}/${o}/${h}${u}`,{headers:this.headers,noResolveJson:!0});return new Kw(f,this.shouldThrowOnError)}info(e){return ut(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield bh(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:bp(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ua(r))return{data:null,error:r};throw r}})}exists(e){return ut(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Yw(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ua(r)&&r instanceof yp){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),o=[],l=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&o.push(l);const h=typeof(n==null?void 0:n.transform)!="undefined"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&o.push(f);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${p}`)}}}remove(e){return ut(this,void 0,void 0,function*(){try{return{data:yield Wp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ua(n))return{data:null,error:n};throw n}})}list(e,n,r){return ut(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},Jw),n),{prefix:e||""});return{data:yield ps(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ua(o))return{data:null,error:o};throw o}})}listV2(e,n){return ut(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield ps(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ua(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer!="undefined"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const v5="2.80.0",y5={"X-Client-Info":`storage-js/${v5}`};class Zw{constructor(e,n={},r,o){this.shouldThrowOnError=!1;const l=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},y5),n),this.fetch=Yp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ut(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield bh(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ua(n))return{data:null,error:n};throw n}})}getBucket(e){return ut(this,void 0,void 0,function*(){try{return{data:yield bh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ua(n))return{data:null,error:n};throw n}})}createBucket(e){return ut(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield ps(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ua(o))return{data:null,error:o};throw o}})}updateBucket(e,n){return ut(this,void 0,void 0,function*(){try{return{data:yield wp(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ua(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ut(this,void 0,void 0,function*(){try{return{data:yield ps(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ua(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ut(this,void 0,void 0,function*(){try{return{data:yield Wp(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ua(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class Qw{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},y5),n),this.fetch=Yp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ut(this,void 0,void 0,function*(){try{return{data:yield ps(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ua(n))return{data:null,error:n};throw n}})}listBuckets(e){return ut(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),o=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield bh(this.fetch,o,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ua(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ut(this,void 0,void 0,function*(){try{return{data:yield Wp(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ua(n))return{data:null,error:n};throw n}})}}const Kp={"X-Client-Info":`storage-js/${v5}`,"Content-Type":"application/json"};class b5 extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function pi(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}class R0 extends b5{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ex extends b5{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var Yg;(function(i){i.InternalError="InternalError",i.S3VectorConflictException="S3VectorConflictException",i.S3VectorNotFoundException="S3VectorNotFoundException",i.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",i.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",i.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Yg||(Yg={}));const Jp=i=>i?(...e)=>i(...e):(...e)=>fetch(...e),tx=i=>{if(typeof i!="object"||i===null)return!1;const e=Object.getPrototypeOf(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Wg=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),nx=(i,e,n)=>ut(void 0,void 0,void 0,function*(){if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!(n!=null&&n.noResolveJson)){const o=i.status||500,l=i;if(typeof l.json=="function")l.json().then(u=>{const h=(u==null?void 0:u.statusCode)||(u==null?void 0:u.code)||o+"";e(new R0(Wg(u),o,h))}).catch(()=>{const u=o+"",h=l.statusText||`HTTP ${o} error`;e(new R0(h,o,u))});else{const u=o+"",h=l.statusText||`HTTP ${o} error`;e(new R0(h,o,u))}}else e(new ex(Wg(i),i))}),ax=(i,e,n,r)=>{const o={method:i,headers:(e==null?void 0:e.headers)||{}};return r?(tx(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),n)):o};function rx(i,e,n,r,o,l){return ut(this,void 0,void 0,function*(){return new Promise((u,h)=>{i(n,ax(e,r,o,l)).then(f=>{if(!f.ok)throw f;if(r!=null&&r.noResolveJson)return f;const p=f.headers.get("content-type");return!p||!p.includes("application/json")?{}:f.json()}).then(f=>u(f)).catch(f=>nx(f,h,r))})})}function mi(i,e,n,r,o){return ut(this,void 0,void 0,function*(){return rx(i,"POST",e,r,o,n)})}class ix{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Kp),n),this.fetch=Jp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ut(this,void 0,void 0,function*(){try{return{data:(yield mi(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pi(n))return{data:null,error:n};throw n}})}getIndex(e,n){return ut(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pi(r))return{data:null,error:r};throw r}})}listIndexes(e){return ut(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pi(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return ut(this,void 0,void 0,function*(){try{return{data:(yield mi(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pi(r))return{data:null,error:r};throw r}})}}class sx{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Kp),n),this.fetch=Jp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ut(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield mi(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pi(n))return{data:null,error:n};throw n}})}getVectors(e){return ut(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pi(n))return{data:null,error:n};throw n}})}listVectors(e){return ut(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield mi(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pi(n))return{data:null,error:n};throw n}})}queryVectors(e){return ut(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pi(n))return{data:null,error:n};throw n}})}deleteVectors(e){return ut(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield mi(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pi(n))return{data:null,error:n};throw n}})}}class ox{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Kp),n),this.fetch=Jp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ut(this,void 0,void 0,function*(){try{return{data:(yield mi(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pi(n))return{data:null,error:n};throw n}})}getBucket(e){return ut(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pi(n))return{data:null,error:n};throw n}})}listBuckets(){return ut(this,arguments,void 0,function*(e={}){try{return{data:yield mi(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pi(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ut(this,void 0,void 0,function*(){try{return{data:(yield mi(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pi(n))return{data:null,error:n};throw n}})}}class lx extends ox{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new cx(this.url,this.headers,e,this.fetch)}}class cx extends ix{constructor(e,n,r,o){super(e,n,o),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ut(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ut(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ut(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ut(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new ux(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class ux extends sx{constructor(e,n,r,o,l){super(e,n,l),this.vectorBucketName=r,this.indexName=o}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ut(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ut(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ut(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ut(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ut(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class hx extends Zw{constructor(e,n={},r,o){super(e,n,r,o)}from(e){return new Xw(this.url,this.headers,e,this.fetch)}get vectors(){return new lx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Qw(this.url+"/iceberg",this.headers,this.fetch)}}const fx="2.80.0";let fh="";typeof Deno!="undefined"?fh="deno":typeof document!="undefined"?fh="web":typeof navigator!="undefined"&&navigator.product==="ReactNative"?fh="react-native":fh="node";const dx={"X-Client-Info":`supabase-js-${fh}/${fx}`},px={headers:dx},mx={schema:"public"},gx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},vx={},yx=i=>i?(...e)=>i(...e):(...e)=>fetch(...e),bx=()=>Headers,wx=(i,e,n)=>{const r=yx(n),o=bx();return(l,u)=>fe(null,null,function*(){var h;const f=(h=yield e())!==null&&h!==void 0?h:i;let p=new o(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",i),p.has("Authorization")||p.set("Authorization",`Bearer ${f}`),r(l,Object.assign(Object.assign({},u),{headers:p}))})};function xx(i){return i.endsWith("/")?i:i+"/"}function _x(i,e){var n,r;const{db:o,auth:l,realtime:u,global:h}=i,{db:f,auth:p,realtime:y,global:S}=e,N={db:Object.assign(Object.assign({},f),o),auth:Object.assign(Object.assign({},p),l),realtime:Object.assign(Object.assign({},y),u),storage:{},global:Object.assign(Object.assign(Object.assign({},S),h),{headers:Object.assign(Object.assign({},(n=S==null?void 0:S.headers)!==null&&n!==void 0?n:{}),(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>fe(null,null,function*(){return""})};return i.accessToken?N.accessToken=i.accessToken:delete N.accessToken,N}function Sx(i){const e=i==null?void 0:i.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(xx(e))}catch(n){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const w5="2.80.0",cu=30*1e3,xp=3,D0=xp*cu,Nx="http://localhost:9999",Ax="supabase.auth.token",jx={"X-Client-Info":`gotrue-js/${w5}`},_p="X-Supabase-Api-Version",x5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ex=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Cx=600*1e3;class wh extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function vt(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class Lx extends wh{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function kx(i){return vt(i)&&i.name==="AuthApiError"}class ec extends wh{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class gl extends wh{constructor(e,n,r,o){super(e,r,o),this.name=n,this.status=r}}class fs extends gl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Tx(i){return vt(i)&&i.name==="AuthSessionMissingError"}class tu extends gl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Lf extends gl{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class kf extends gl{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ox(i){return vt(i)&&i.name==="AuthImplicitGrantRedirectError"}class Kg extends gl{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Sp extends gl{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function M0(i){return vt(i)&&i.name==="AuthRetryableFetchError"}class Jg extends gl{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Np extends gl{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Jf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xg=` 	
\r=`.split(""),Rx=(()=>{const i=new Array(128);for(let e=0;e<i.length;e+=1)i[e]=-1;for(let e=0;e<Xg.length;e+=1)i[Xg[e].charCodeAt(0)]=-2;for(let e=0;e<Jf.length;e+=1)i[Jf[e].charCodeAt(0)]=e;return i})();function Zg(i,e,n){if(i!==null)for(e.queue=e.queue<<8|i,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Jf[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Jf[r]),e.queuedBits-=6}}function _5(i,e,n){const r=Rx[i];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function Qg(i){const e=[],n=u=>{e.push(String.fromCodePoint(u))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=u=>{Px(u,r,n)};for(let u=0;u<i.length;u+=1)_5(i.charCodeAt(u),o,l);return e.join("")}function Dx(i,e){if(i<=127){e(i);return}else if(i<=2047){e(192|i>>6),e(128|i&63);return}else if(i<=65535){e(224|i>>12),e(128|i>>6&63),e(128|i&63);return}else if(i<=1114111){e(240|i>>18),e(128|i>>12&63),e(128|i>>6&63),e(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function Mx(i,e){for(let n=0;n<i.length;n+=1){let r=i.charCodeAt(n);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(i.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}Dx(r,e)}}function Px(i,e,n){if(e.utf8seq===0){if(i<=127){n(i);return}for(let r=1;r<6;r+=1)if((i>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=i&31;else if(e.utf8seq===3)e.codepoint=i&15;else if(e.utf8seq===4)e.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|i&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function pu(i){const e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<i.length;o+=1)_5(i.charCodeAt(o),n,r);return new Uint8Array(e)}function Bx(i){const e=[];return Mx(i,n=>e.push(n)),new Uint8Array(e)}function nc(i){const e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};return i.forEach(o=>Zg(o,n,r)),Zg(null,n,r),e.join("")}function Ux(i){return Math.round(Date.now()/1e3)+i}function zx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const e=Math.random()*16|0;return(i=="x"?e:e&3|8).toString(16)})}const yr=()=>typeof window!="undefined"&&typeof document!="undefined",Kl={tested:!1,writable:!1},S5=()=>{if(!yr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch(e){return!1}if(Kl.tested)return Kl.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Kl.tested=!0,Kl.writable=!0}catch(e){Kl.tested=!0,Kl.writable=!1}return Kl.writable};function Ix(i){const e={},n=new URL(i);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch(r){}return n.searchParams.forEach((r,o)=>{e[o]=r}),e}const N5=i=>i?(...e)=>i(...e):(...e)=>fetch(...e),qx=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",uu=(i,e,n)=>fe(null,null,function*(){yield i.setItem(e,JSON.stringify(n))}),Jl=(i,e)=>fe(null,null,function*(){const n=yield i.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}}),cl=(i,e)=>fe(null,null,function*(){yield i.removeItem(e)});class sd{constructor(){this.promise=new sd.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}sd.promiseConstructor=Promise;function P0(i){const e=i.split(".");if(e.length!==3)throw new Np("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Ex.test(e[r]))throw new Np("JWT not in base64url format");return{header:JSON.parse(Qg(e[0])),payload:JSON.parse(Qg(e[1])),signature:pu(e[2]),raw:{header:e[0],payload:e[1]}}}function Fx(i){return fe(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),i)})})}function Hx(i,e){return new Promise((r,o)=>{fe(null,null,function*(){for(let l=0;l<1/0;l++)try{const u=yield i(l);if(!e(l,null,u)){r(u);return}}catch(u){if(!e(l,u)){o(u);return}}})})}function $x(i){return("0"+i.toString(16)).substr(-2)}function Vx(){const e=new Uint32Array(56);if(typeof crypto=="undefined"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let o="";for(let l=0;l<56;l++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,$x).join("")}function Gx(i){return fe(this,null,function*(){const n=new TextEncoder().encode(i),r=yield crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(l=>String.fromCharCode(l)).join("")})}function Yx(i){return fe(this,null,function*(){if(!(typeof crypto!="undefined"&&typeof crypto.subtle!="undefined"&&typeof TextEncoder!="undefined"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const n=yield Gx(i);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function nu(i,e,n=!1){return fe(this,null,function*(){const r=Vx();let o=r;n&&(o+="/PASSWORD_RECOVERY"),yield uu(i,`${e}-code-verifier`,o);const l=yield Yx(r);return[l,r===l?"plain":"s256"]})}const Wx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Kx(i){const e=i.headers.get(_p);if(!e||!e.match(Wx))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch(n){return null}}function Jx(i){if(!i)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(i<=e)throw new Error("JWT has expired")}function Xx(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Zx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function au(i){if(!Zx.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function B0(){const i={};return new Proxy(i,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Qx(i,e){return new Proxy(i,{get:(n,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,o)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,o)}})}function e2(i){return JSON.parse(JSON.stringify(i))}const Xl=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),e_=[502,503,504];function t2(i){return fe(this,null,function*(){var e;if(!qx(i))throw new Sp(Xl(i),0);if(e_.includes(i.status))throw new Sp(Xl(i),i.status);let n;try{n=yield i.json()}catch(l){throw new ec(Xl(l),l)}let r;const o=Kx(i);if(o&&o.getTime()>=x5["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Jg(Xl(n),i.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new fs}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new Jg(Xl(n),i.status,n.weak_password.reasons);throw new Lx(Xl(n),i.status||500,r)})}const t_=(i,e,n,r)=>{const o={method:i,headers:(e==null?void 0:e.headers)||{}};return i==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};function Tt(i,e,n,r){return fe(this,null,function*(){var o;const l=Object.assign({},r==null?void 0:r.headers);l[_p]||(l[_p]=x5["2024-01-01"].name),r!=null&&r.jwt&&(l.Authorization=`Bearer ${r.jwt}`);const u=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(u.redirect_to=r.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=yield n_(i,e,n+h,{headers:l,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(f):{data:Object.assign({},f),error:null}})}function n_(i,e,n,r,o,l){return fe(this,null,function*(){const u=t_(e,r,o,l);let h;try{h=yield i(n,Object.assign({},u))}catch(f){throw console.error(f),new Sp(Xl(f),0)}if(h.ok||(yield t2(h)),r!=null&&r.noResolveJson)return h;try{return yield h.json()}catch(f){yield t2(f)}})}function ds(i){var e;let n=null;i_(i)&&(n=Object.assign({},i),i.expires_at||(n.expires_at=Ux(i.expires_in)));const r=(e=i.user)!==null&&e!==void 0?e:i;return{data:{session:n,user:r},error:null}}function n2(i){const e=ds(i);return!e.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=i.weak_password),e}function dl(i){var e;return{data:{user:(e=i.user)!==null&&e!==void 0?e:i},error:null}}function a_(i){return{data:i,error:null}}function r_(i){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:l}=i,u=Nu(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:l},f=Object.assign({},u);return{data:{properties:h,user:f},error:null}}function a2(i){return i}function i_(i){return i.access_token&&i.refresh_token&&i.expires_in}const U0=["global","local","others"];class s_{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=N5(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(r){return fe(this,arguments,function*(e,n=U0[0]){if(U0.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${U0.join(", ")}`);try{return yield Tt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(o){if(vt(o))return{data:null,error:o};throw o}})}inviteUserByEmail(r){return fe(this,arguments,function*(e,n={}){try{return yield Tt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:dl})}catch(o){if(vt(o))return{data:{user:null},error:o};throw o}})}generateLink(e){return fe(this,null,function*(){try{const{options:n}=e,r=Nu(e,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),yield Tt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:r_,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(vt(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(e){return fe(this,null,function*(){try{return yield Tt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:dl})}catch(n){if(vt(n))return{data:{user:null},error:n};throw n}})}listUsers(e){return fe(this,null,function*(){var n,r,o,l,u,h,f;try{const p={nextPage:null,lastPage:0,total:0},y=yield Tt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:a2});if(y.error)throw y.error;const S=yield y.json(),N=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(f=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(C=>{const L=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(C.split(";")[1].split("=")[1]);p[`${T}Page`]=L}),p.total=parseInt(N)),{data:Object.assign(Object.assign({},S),p),error:null}}catch(p){if(vt(p))return{data:{users:[]},error:p};throw p}})}getUserById(e){return fe(this,null,function*(){au(e);try{return yield Tt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:dl})}catch(n){if(vt(n))return{data:{user:null},error:n};throw n}})}updateUserById(e,n){return fe(this,null,function*(){au(e);try{return yield Tt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:dl})}catch(r){if(vt(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,n=!1){return fe(this,null,function*(){au(e);try{return yield Tt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:dl})}catch(r){if(vt(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return fe(this,null,function*(){au(e.userId);try{const{data:n,error:r}=yield Tt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}_deleteFactor(e){return fe(this,null,function*(){au(e.userId),au(e.id);try{return{data:yield Tt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}_listOAuthClients(e){return fe(this,null,function*(){var n,r,o,l,u,h,f;try{const p={nextPage:null,lastPage:0,total:0},y=yield Tt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:a2});if(y.error)throw y.error;const S=yield y.json(),N=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(f=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(C=>{const L=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(C.split(";")[1].split("=")[1]);p[`${T}Page`]=L}),p.total=parseInt(N)),{data:Object.assign(Object.assign({},S),p),error:null}}catch(p){if(vt(p))return{data:{clients:[]},error:p};throw p}})}_createOAuthClient(e){return fe(this,null,function*(){try{return yield Tt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(vt(n))return{data:null,error:n};throw n}})}_getOAuthClient(e){return fe(this,null,function*(){try{return yield Tt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(vt(n))return{data:null,error:n};throw n}})}_updateOAuthClient(e,n){return fe(this,null,function*(){try{return yield Tt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(vt(r))return{data:null,error:r};throw r}})}_deleteOAuthClient(e){return fe(this,null,function*(){try{return yield Tt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}_regenerateOAuthClientSecret(e){return fe(this,null,function*(){try{return yield Tt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(vt(n))return{data:null,error:n};throw n}})}}function r2(i={}){return{getItem:e=>i[e]||null,setItem:(e,n)=>{i[e]=n},removeItem:e=>{delete i[e]}}}const ru={debug:!!(globalThis&&S5()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class A5 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class o_ extends A5{}function l_(i,e,n){return fe(this,null,function*(){ru.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ru.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(i,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},o=>fe(null,null,function*(){if(o){ru.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,o.name);try{return yield n()}finally{ru.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,o.name)}}else{if(e===0)throw ru.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new o_(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(ru.debug)try{const l=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield n()}})))})}function c_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(i){typeof self!="undefined"&&(self.globalThis=self)}}function j5(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function u_(i){return parseInt(i,16)}function h_(i){const e=new TextEncoder().encode(i);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function f_(i){var e;const{chainId:n,domain:r,expirationTime:o,issuedAt:l=new Date,nonce:u,notBefore:h,requestId:f,resources:p,scheme:y,uri:S,version:N}=i;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!S)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(N!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${N}`);if(!((e=i.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const w=j5(i.address),C=y?`${y}://${r}`:r,L=i.statement?`${i.statement}
`:"",T=`${C} wants you to sign in with your Ethereum account:
${w}

${L}`;let k=`URI: ${S}
Version: ${N}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(o&&(k+=`
Expiration Time: ${o.toISOString()}`),h&&(k+=`
Not Before: ${h.toISOString()}`),f&&(k+=`
Request ID: ${f}`),p){let G=`
Resources:`;for(const M of p){if(!M||typeof M!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);G+=`
- ${M}`}k+=G}return`${T}
${k}`}class Ta extends Error{constructor({message:e,code:n,cause:r,name:o}){var l;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(l=o!=null?o:r instanceof Error?r.name:void 0)!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class Xf extends Ta{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function d_({error:i,options:e}){var n,r,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ta({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ta({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(e.mediation==="conditional"&&((r=l.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ta({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Ta({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new Ta({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new Ta({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return l.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new Ta({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new Ta({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const u=window.location.hostname;if(E5(u)){if(l.rp.id!==u)return new Ta({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Ta({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new Ta({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new Ta({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Ta({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function p_({error:i,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ta({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new Ta({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const r=window.location.hostname;if(E5(r)){if(n.rpId!==r)return new Ta({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Ta({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new Ta({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Ta({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class m_{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const g_=new m_;function v_(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential!="undefined"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:e,user:n,excludeCredentials:r}=i,o=Nu(i,["challenge","user","excludeCredentials"]),l=pu(e).buffer,u=Object.assign(Object.assign({},n),{id:pu(n.id).buffer}),h=Object.assign(Object.assign({},o),{challenge:l,user:u});if(r&&r.length>0){h.excludeCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const p=r[f];h.excludeCredentials[f]=Object.assign(Object.assign({},p),{id:pu(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return h}function y_(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential!="undefined"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:e,allowCredentials:n}=i,r=Nu(i,["challenge","allowCredentials"]),o=pu(e).buffer,l=Object.assign(Object.assign({},r),{challenge:o});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const h=n[u];l.allowCredentials[u]=Object.assign(Object.assign({},h),{id:pu(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function b_(i){var e;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i;return{id:i.id,rawId:i.id,response:{attestationObject:nc(new Uint8Array(i.response.attestationObject)),clientDataJSON:nc(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function w_(i){var e;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i,r=i.getClientExtensionResults(),o=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:nc(new Uint8Array(o.authenticatorData)),clientDataJSON:nc(new Uint8Array(o.clientDataJSON)),signature:nc(new Uint8Array(o.signature)),userHandle:o.userHandle?nc(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function E5(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function i2(){var i,e;return!!(yr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator==null?void 0:navigator.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}function x_(i){return fe(this,null,function*(){try{const e=yield navigator.credentials.create(i);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Xf("Browser returned unexpected credential type",e)}:{data:null,error:new Xf("Empty credential response",e)}}catch(e){return{data:null,error:d_({error:e,options:i})}}})}function __(i){return fe(this,null,function*(){try{const e=yield navigator.credentials.get(i);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Xf("Browser returned unexpected credential type",e)}:{data:null,error:new Xf("Empty credential response",e)}}catch(e){return{data:null,error:p_({error:e,options:i})}}})}const S_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},N_={userVerification:"preferred",hints:["security-key"]};function Zf(...i){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(const o of i)if(o)for(const l in o){const u=o[l];if(u!==void 0)if(Array.isArray(u))r[l]=u;else if(n(u))r[l]=u;else if(e(u)){const h=r[l];e(h)?r[l]=Zf(h,u):r[l]=Zf(u)}else r[l]=u}return r}function A_(i,e){return Zf(S_,i,e||{})}function j_(i,e){return Zf(N_,i,e||{})}class E_{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(e){return fe(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))})}_challenge(u,h){return fe(this,arguments,function*({factorId:e,webauthn:n,friendlyName:r,signal:o},l){try{const{data:f,error:p}=yield this.client.mfa.challenge({factorId:e,webauthn:n});if(!f)return{data:null,error:p};const y=o!=null?o:g_.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:S}=f.webauthn.credential_options.publicKey;S.name||(S.name=`${S.id}:${r}`),S.displayName||(S.displayName=S.name)}switch(f.webauthn.type){case"create":{const S=A_(f.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:N,error:w}=yield x_({publicKey:S,signal:y});return N?{data:{factorId:e,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:N}},error:null}:{data:null,error:w}}case"request":{const S=j_(f.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:N,error:w}=yield __(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:S,signal:y}));return N?{data:{factorId:e,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:N}},error:null}:{data:null,error:w}}}}catch(f){return vt(f)?{data:null,error:f}:{data:null,error:new ec("Unexpected error in challenge",f)}}})}_verify(o){return fe(this,arguments,function*({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})})}_authenticate(u,h){return fe(this,arguments,function*({factorId:e,webauthn:{rpId:n=typeof window!="undefined"?window.location.hostname:void 0,rpOrigins:r=typeof window!="undefined"?[window.location.origin]:void 0,signal:o}},l){if(!n)return{data:null,error:new wh("rpId is required for WebAuthn authentication")};try{if(!i2())return{data:null,error:new ec("Browser does not support WebAuthn",null)};const{data:f,error:p}=yield this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:o},{request:l});if(!f)return{data:null,error:p};const{webauthn:y}=f;return this._verify({factorId:e,challengeId:f.challengeId,webauthn:{type:y.type,rpId:n,rpOrigins:r,credential_response:y.credential_response}})}catch(f){return vt(f)?{data:null,error:f}:{data:null,error:new ec("Unexpected error in authenticate",f)}}})}_register(u,h){return fe(this,arguments,function*({friendlyName:e,rpId:n=typeof window!="undefined"?window.location.hostname:void 0,rpOrigins:r=typeof window!="undefined"?[window.location.origin]:void 0,signal:o},l){if(!n)return{data:null,error:new wh("rpId is required for WebAuthn registration")};try{if(!i2())return{data:null,error:new ec("Browser does not support WebAuthn",null)};const{data:f,error:p}=yield this._enroll({friendlyName:e});if(!f)return yield this.client.mfa.listFactors().then(N=>{var w;return(w=N.data)===null||w===void 0?void 0:w.all.find(C=>C.factor_type==="webauthn"&&C.friendly_name===e&&C.status!=="unverified")}).then(N=>N?this.client.mfa.unenroll({factorId:N==null?void 0:N.id}):void 0),{data:null,error:p};const{data:y,error:S}=yield this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:o},{create:l});return y?this._verify({factorId:f.id,challengeId:y.challengeId,webauthn:{rpId:n,rpOrigins:r,type:y.webauthn.type,credential_response:y.webauthn.credential_response}}):{data:null,error:S}}catch(f){return vt(f)?{data:null,error:f}:{data:null,error:new ec("Unexpected error in register",f)}}})}}c_();const C_={url:Nx,storageKey:Ax,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:jx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};function s2(i,e,n){return fe(this,null,function*(){return yield n()})}const iu={};class xh{get jwks(){var e,n;return(n=(e=iu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){iu[this.storageKey]=Object.assign(Object.assign({},iu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=iu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){iu[this.storageKey]=Object.assign(Object.assign({},iu[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},C_),e);if(this.storageKey=l.storageKey,this.instanceID=(n=xh.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,xh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&yr()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new s_({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=N5(l.fetch),this.lock=l.lock||s2,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:yr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=l_:this.lock=s2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new E_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:S5()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=r2(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=r2(this.memoryStorage)),yr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",u=>fe(this,null,function*(){this._debug("received broadcast notification from other tab or client",u),yield this._notifyAllSubscribers(u.data.event,u.data.session,!1)}))}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${w5}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}initialize(){return fe(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=fe(this,null,function*(){return yield this._acquireLock(-1,()=>fe(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return fe(this,null,function*(){var e;try{let n={},r="none";if(yr()&&(n=Ix(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":(yield this._isPKCECallback(n))&&(r="pkce")),yr()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:l}=yield this._getSessionFromURL(n,r);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),Ox(l)){const f=(e=l.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:l}}return yield this._removeSession(),{error:l}}const{session:u,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),yield this._saveSession(u),setTimeout(()=>fe(this,null,function*(){h==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",u):yield this._notifyAllSubscribers("SIGNED_IN",u)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(n){return vt(n)?this._returnResult({error:n}):this._returnResult({error:new ec("Unexpected error during initialization",n)})}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return fe(this,null,function*(){var n,r,o;try{const l=yield Tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:ds}),{data:u,error:h}=l;if(h||!u)return this._returnResult({data:{user:null,session:null},error:h});const f=u.session,p=u.user;return u.session&&(yield this._saveSession(u.session),yield this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(l){if(vt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}signUp(e){return fe(this,null,function*(){var n,r,o;try{let l;if("email"in e){const{email:y,password:S,options:N}=e;let w=null,C=null;this.flowType==="pkce"&&([w,C]=yield nu(this.storage,this.storageKey)),l=yield Tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:N==null?void 0:N.emailRedirectTo,body:{email:y,password:S,data:(n=N==null?void 0:N.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:N==null?void 0:N.captchaToken},code_challenge:w,code_challenge_method:C},xform:ds})}else if("phone"in e){const{phone:y,password:S,options:N}=e;l=yield Tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:S,data:(r=N==null?void 0:N.data)!==null&&r!==void 0?r:{},channel:(o=N==null?void 0:N.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:N==null?void 0:N.captchaToken}},xform:ds})}else throw new Lf("You must provide either an email or phone number and a password");const{data:u,error:h}=l;if(h||!u)return this._returnResult({data:{user:null,session:null},error:h});const f=u.session,p=u.user;return u.session&&(yield this._saveSession(u.session),yield this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(l){if(vt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}signInWithPassword(e){return fe(this,null,function*(){try{let n;if("email"in e){const{email:l,password:u,options:h}=e;n=yield Tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:n2})}else if("phone"in e){const{phone:l,password:u,options:h}=e;n=yield Tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:n2})}else throw new Lf("You must provide either an email or phone number and a password");const{data:r,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!r||!r.session||!r.user){const l=new tu;return this._returnResult({data:{user:null,session:null},error:l})}return r.session&&(yield this._saveSession(r.session),yield this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(n){if(vt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}signInWithOAuth(e){return fe(this,null,function*(){var n,r,o,l;return yield this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})})}exchangeCodeForSession(e){return fe(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>fe(this,null,function*(){return this._exchangeCodeForSession(e)}))})}signInWithWeb3(e){return fe(this,null,function*(){const{chain:n}=e;switch(n){case"ethereum":return yield this.signInWithEthereum(e);case"solana":return yield this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}})}signInWithEthereum(e){return fe(this,null,function*(){var n,r,o,l,u,h,f,p,y,S,N;let w,C;if("message"in e)w=e.message,C=e.signature;else{const{chain:L,wallet:T,statement:k,options:G}=e;let M;if(yr())if(typeof T=="object")M=T;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")M=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(G!=null&&G.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=T}const z=new URL((n=G==null?void 0:G.url)!==null&&n!==void 0?n:window.location.href),J=yield M.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!J||J.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ce=j5(J[0]);let ne=(r=G==null?void 0:G.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!ne){const F=yield M.request({method:"eth_chainId"});ne=u_(F)}const X={domain:z.host,address:ce,statement:k,uri:z.href,version:"1",chainId:ne,nonce:(o=G==null?void 0:G.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(l=G==null?void 0:G.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(h=G==null?void 0:G.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(f=G==null?void 0:G.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(p=G==null?void 0:G.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(y=G==null?void 0:G.signInWithEthereum)===null||y===void 0?void 0:y.resources};w=f_(X),C=yield M.request({method:"personal_sign",params:[h_(w),ce]})}try{const{data:L,error:T}=yield Tt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:C},!((S=e.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(N=e.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:ds});if(T)throw T;if(!L||!L.session||!L.user){const k=new tu;return this._returnResult({data:{user:null,session:null},error:k})}return L.session&&(yield this._saveSession(L.session),yield this._notifyAllSubscribers("SIGNED_IN",L.session)),this._returnResult({data:Object.assign({},L),error:T})}catch(L){if(vt(L))return this._returnResult({data:{user:null,session:null},error:L});throw L}})}signInWithSolana(e){return fe(this,null,function*(){var n,r,o,l,u,h,f,p,y,S,N,w;let C,L;if("message"in e)C=e.message,L=e.signature;else{const{chain:T,wallet:k,statement:G,options:M}=e;let z;if(yr())if(typeof k=="object")z=k;else{const ce=window;if("solana"in ce&&typeof ce.solana=="object"&&("signIn"in ce.solana&&typeof ce.solana.signIn=="function"||"signMessage"in ce.solana&&typeof ce.solana.signMessage=="function"))z=ce.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(M!=null&&M.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=k}const J=new URL((n=M==null?void 0:M.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in z&&z.signIn){const ce=yield z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M==null?void 0:M.signInWithSolana),{version:"1",domain:J.host,uri:J.href}),G?{statement:G}:null));let ne;if(Array.isArray(ce)&&ce[0]&&typeof ce[0]=="object")ne=ce[0];else if(ce&&typeof ce=="object"&&"signedMessage"in ce&&"signature"in ce)ne=ce;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ne&&"signature"in ne&&(typeof ne.signedMessage=="string"||ne.signedMessage instanceof Uint8Array)&&ne.signature instanceof Uint8Array)C=typeof ne.signedMessage=="string"?ne.signedMessage:new TextDecoder().decode(ne.signedMessage),L=ne.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${J.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...G?["",G,""]:[""],"Version: 1",`URI: ${J.href}`,`Issued At: ${(o=(r=M==null?void 0:M.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=M==null?void 0:M.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((u=M==null?void 0:M.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((h=M==null?void 0:M.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((f=M==null?void 0:M.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((p=M==null?void 0:M.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((S=(y=M==null?void 0:M.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||S===void 0)&&S.length?["Resources",...M.signInWithSolana.resources.map(ne=>`- ${ne}`)]:[]].join(`
`);const ce=yield z.signMessage(new TextEncoder().encode(C),"utf8");if(!ce||!(ce instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");L=ce}}try{const{data:T,error:k}=yield Tt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:nc(L)},!((N=e.options)===null||N===void 0)&&N.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:ds});if(k)throw k;if(!T||!T.session||!T.user){const G=new tu;return this._returnResult({data:{user:null,session:null},error:G})}return T.session&&(yield this._saveSession(T.session),yield this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:k})}catch(T){if(vt(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}})}_exchangeCodeForSession(e){return fe(this,null,function*(){const n=yield Jl(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(n!=null?n:"").split("/");try{const{data:l,error:u}=yield Tt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ds});if(yield cl(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const h=new tu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o!=null?o:null}),error:u})}catch(l){if(vt(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}})}signInWithIdToken(e){return fe(this,null,function*(){try{const{options:n,provider:r,token:o,access_token:l,nonce:u}=e,h=yield Tt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ds}),{data:f,error:p}=h;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f||!f.session||!f.user){const y=new tu;return this._returnResult({data:{user:null,session:null},error:y})}return f.session&&(yield this._saveSession(f.session),yield this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:p})}catch(n){if(vt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}signInWithOtp(e){return fe(this,null,function*(){var n,r,o,l,u;try{if("email"in e){const{email:h,options:f}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=yield nu(this.storage,this.storageKey));const{error:S}=yield Tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(r=f==null?void 0:f.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:S})}if("phone"in e){const{phone:h,options:f}=e,{data:p,error:y}=yield Tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=f==null?void 0:f.data)!==null&&o!==void 0?o:{},create_user:(l=f==null?void 0:f.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(u=f==null?void 0:f.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:y})}throw new Lf("You must provide either an email or phone number.")}catch(h){if(vt(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}})}verifyOtp(e){return fe(this,null,function*(){var n,r;try{let o,l;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:u,error:h}=yield Tt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:ds});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,p=u.user;return f!=null&&f.access_token&&(yield this._saveSession(f),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(o){if(vt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}signInWithSSO(e){return fe(this,null,function*(){var n,r,o;try{let l=null,u=null;this.flowType==="pkce"&&([l,u]=yield nu(this.storage,this.storageKey));const h=yield Tt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:a_});return this._returnResult(h)}catch(l){if(vt(l))return this._returnResult({data:null,error:l});throw l}})}reauthenticate(){return fe(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>fe(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return fe(this,null,function*(){try{return yield this._useSession(e=>fe(this,null,function*(){const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new fs;const{error:o}=yield Tt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})}))}catch(e){if(vt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}})}resend(e){return fe(this,null,function*(){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:o,options:l}=e,{error:u}=yield Tt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:r,type:o,options:l}=e,{data:u,error:h}=yield Tt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h})}throw new Lf("You must provide either an email or phone number and a type")}catch(n){if(vt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}getSession(){return fe(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>fe(this,null,function*(){return this._useSession(n=>fe(this,null,function*(){return n}))}))})}_acquireLock(e,n){return fe(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=fe(this,null,function*(){return yield r,yield n()});return this.pendingInLock.push(fe(this,null,function*(){try{yield o}catch(l){}})),o}return yield this.lock(`lock:${this.storageKey}`,e,()=>fe(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push(fe(this,null,function*(){try{yield r}catch(o){}})),yield r;this.pendingInLock.length;){const o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return fe(this,null,function*(){this._debug("#_useSession","begin");try{const n=yield this.__loadSession();return yield e(n)}finally{this._debug("#_useSession","end")}})}__loadSession(){return fe(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=yield Jl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<D0:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const u=yield Jl(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=B0()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=Qx(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=yield this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}})}getUser(e){return fe(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>fe(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return fe(this,null,function*(){try{return e?yield Tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:dl}):yield this._useSession(n=>fe(this,null,function*(){var r,o,l;const{data:u,error:h}=n;if(h)throw h;return!(!((r=u.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new fs}:yield Tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:dl})}))}catch(n){if(vt(n))return Tx(n)&&(yield this._removeSession(),yield cl(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}})}updateUser(r){return fe(this,arguments,function*(e,n={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>fe(this,null,function*(){return yield this._updateUser(e,n)}))})}_updateUser(r){return fe(this,arguments,function*(e,n={}){try{return yield this._useSession(o=>fe(this,null,function*(){const{data:l,error:u}=o;if(u)throw u;if(!l.session)throw new fs;const h=l.session;let f=null,p=null;this.flowType==="pkce"&&e.email!=null&&([f,p]=yield nu(this.storage,this.storageKey));const{data:y,error:S}=yield Tt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:p}),jwt:h.access_token,xform:dl});if(S)throw S;return h.user=y.user,yield this._saveSession(h),yield this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})}))}catch(o){if(vt(o))return this._returnResult({data:{user:null},error:o});throw o}})}setSession(e){return fe(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>fe(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return fe(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new fs;const n=Date.now()/1e3;let r=n,o=!0,l=null;const{payload:u}=P0(e.access_token);if(u.exp&&(r=u.exp,o=r<=n),o){const{data:h,error:f}=yield this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:f}=yield this._getUser(e.access_token);if(f)throw f;l={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:r-n,expires_at:r},yield this._saveSession(l),yield this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(vt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}})}refreshSession(e){return fe(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>fe(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return fe(this,null,function*(){try{return yield this._useSession(n=>fe(this,null,function*(){var r;if(!e){const{data:u,error:h}=n;if(h)throw h;e=(r=u.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new fs;const{data:o,error:l}=yield this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})}))}catch(n){if(vt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}_getSessionFromURL(e,n){return fe(this,null,function*(){try{if(!yr())throw new kf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new kf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Kg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new kf("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Kg("No code detected.");const{data:G,error:M}=yield this._exchangeCodeForSession(e.code);if(M)throw M;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:G.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:l,refresh_token:u,expires_in:h,expires_at:f,token_type:p}=e;if(!l||!h||!u||!p)throw new kf("No session defined in URL");const y=Math.round(Date.now()/1e3),S=parseInt(h);let N=y+S;f&&(N=parseInt(f));const w=N-y;w*1e3<=cu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${S}s`);const C=N-S;y-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,N,y):y-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,N,y);const{data:L,error:T}=yield this._getUser(l);if(T)throw T;const k={provider_token:r,provider_refresh_token:o,access_token:l,expires_in:S,expires_at:N,refresh_token:u,token_type:p,user:L.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:e.type},error:null})}catch(r){if(vt(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return fe(this,null,function*(){const n=yield Jl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)})}signOut(){return fe(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>fe(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return fe(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(n=>fe(this,null,function*(){var r;const{data:o,error:l}=n;if(l)return this._returnResult({error:l});const u=(r=o.session)===null||r===void 0?void 0:r.access_token;if(u){const{error:h}=yield this.admin.signOut(u,e);if(h&&!(kx(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return e!=="others"&&(yield this._removeSession(),yield cl(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})}))})}onAuthStateChange(e){const n=zx(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),fe(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>fe(this,null,function*(){this._emitInitialSession(n)}))}),{data:{subscription:r}}}_emitInitialSession(e){return fe(this,null,function*(){return yield this._useSession(n=>fe(this,null,function*(){var r,o;try{const{data:{session:l},error:u}=n;if(u)throw u;yield(r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",l),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){yield(o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}}))})}resetPasswordForEmail(r){return fe(this,arguments,function*(e,n={}){let o=null,l=null;this.flowType==="pkce"&&([o,l]=yield nu(this.storage,this.storageKey,!0));try{return yield Tt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(vt(u))return this._returnResult({data:null,error:u});throw u}})}getUserIdentities(){return fe(this,null,function*(){var e;try{const{data:n,error:r}=yield this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(vt(n))return this._returnResult({data:null,error:n});throw n}})}linkIdentity(e){return fe(this,null,function*(){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)})}linkIdentityOAuth(e){return fe(this,null,function*(){var n;try{const{data:r,error:o}=yield this._useSession(l=>fe(this,null,function*(){var u,h,f,p,y;const{data:S,error:N}=l;if(N)throw N;const w=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return yield Tt(this.fetch,"GET",w,{headers:this.headers,jwt:(y=(p=S.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})}));if(o)throw o;return yr()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(vt(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}})}linkIdentityIdToken(e){return fe(this,null,function*(){return yield this._useSession(n=>fe(this,null,function*(){var r;try{const{error:o,data:{session:l}}=n;if(o)throw o;const{options:u,provider:h,token:f,access_token:p,nonce:y}=e,S=yield Tt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=l==null?void 0:l.access_token)!==null&&r!==void 0?r:void 0,body:{provider:h,id_token:f,access_token:p,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:ds}),{data:N,error:w}=S;return w?this._returnResult({data:{user:null,session:null},error:w}):!N||!N.session||!N.user?this._returnResult({data:{user:null,session:null},error:new tu}):(N.session&&(yield this._saveSession(N.session),yield this._notifyAllSubscribers("USER_UPDATED",N.session)),this._returnResult({data:N,error:w}))}catch(o){if(vt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}))})}unlinkIdentity(e){return fe(this,null,function*(){try{return yield this._useSession(n=>fe(this,null,function*(){var r,o;const{data:l,error:u}=n;if(u)throw u;return yield Tt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})}))}catch(n){if(vt(n))return this._returnResult({data:null,error:n});throw n}})}_refreshAccessToken(e){return fe(this,null,function*(){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return yield Hx(o=>fe(this,null,function*(){return o>0&&(yield Fx(200*Math.pow(2,o-1))),this._debug(n,"refreshing attempt",o),yield Tt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ds})}),(o,l)=>{const u=200*Math.pow(2,o);return l&&M0(l)&&Date.now()+u-r<cu})}catch(r){if(this._debug(n,"error",r),vt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,n){return fe(this,null,function*(){const r=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),yr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}})}_recoverAndRefresh(){return fe(this,null,function*(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=yield Jl(this.storage,this.storageKey);if(o&&this.userStorage){let u=yield Jl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},yield uu(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:B0()}else if(o&&!o.user&&!o.user){const u=yield Jl(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(o.user=u.user,yield cl(this.storage,this.storageKey+"-user"),yield uu(this.storage,this.storageKey,o)):o.user=B0()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&(yield this._removeSession());return}const l=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<D0;if(this._debug(r,`session has${l?"":" not"} expired with margin of ${D0}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=yield this._callRefreshToken(o.refresh_token);u&&(console.error(u),M0(u)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",u),yield this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=yield this._getUser(o.access_token);!h&&(u!=null&&u.user)?(o.user=u.user,yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(r,"error getting user data, skipping SIGNED_IN notification",u)}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}})}_callRefreshToken(e){return fe(this,null,function*(){var n,r;if(!e)throw new fs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new sd;const{data:l,error:u}=yield this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new fs;yield this._saveSession(l.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={data:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(o,"error",l),vt(l)){const u={data:null,error:l};return M0(l)||(yield this._removeSession()),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(e,n,r=!0){return fe(this,null,function*(){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(h=>fe(this,null,function*(){try{yield h.callback(e,n)}catch(f){l.push(f)}}));if(yield Promise.all(u),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(o,"end")}})}_saveSession(e){return fe(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&(yield uu(this.userStorage,this.storageKey+"-user",{user:n.user}));const o=Object.assign({},n);delete o.user;const l=e2(o);yield uu(this.storage,this.storageKey,l)}else{const o=e2(n);yield uu(this.storage,this.storageKey,o)}})}_removeSession(){return fe(this,null,function*(){this._debug("#_removeSession()"),yield cl(this.storage,this.storageKey),yield cl(this.storage,this.storageKey+"-code-verifier"),yield cl(this.storage,this.storageKey+"-user"),this.userStorage&&(yield cl(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&yr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}_startAutoRefresh(){return fe(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),cu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno!="undefined"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>fe(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return fe(this,null,function*(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return fe(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return fe(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return fe(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>fe(this,null,function*(){try{const e=Date.now();try{return yield this._useSession(n=>fe(this,null,function*(){const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-e)/cu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${cu}ms, refresh threshold is ${xp} ticks`),o<=xp&&(yield this._callRefreshToken(r.refresh_token))}))}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof A5)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return fe(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!yr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>fe(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return fe(this,null,function*(){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>fe(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,n,r){return fe(this,null,function*(){const o=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[l,u]=yield nu(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(h.toString())}if(r!=null&&r.queryParams){const l=new URLSearchParams(r.queryParams);o.push(l.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${o.join("&")}`})}_unenroll(e){return fe(this,null,function*(){try{return yield this._useSession(n=>fe(this,null,function*(){var r;const{data:o,error:l}=n;return l?this._returnResult({data:null,error:l}):yield Tt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})}))}catch(n){if(vt(n))return this._returnResult({data:null,error:n});throw n}})}_enroll(e){return fe(this,null,function*(){try{return yield this._useSession(n=>fe(this,null,function*(){var r,o;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:p}=yield Tt(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&f.type==="totp"&&(!((o=f==null?void 0:f.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))}))}catch(n){if(vt(n))return this._returnResult({data:null,error:n});throw n}})}_verify(e){return fe(this,null,function*(){return this._acquireLock(-1,()=>fe(this,null,function*(){try{return yield this._useSession(n=>fe(this,null,function*(){var r;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?b_(e.webauthn.credential_response):w_(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:f}=yield Tt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:f}))}))}catch(n){if(vt(n))return this._returnResult({data:null,error:n});throw n}}))})}_challenge(e){return fe(this,null,function*(){return this._acquireLock(-1,()=>fe(this,null,function*(){try{return yield this._useSession(n=>fe(this,null,function*(){var r;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=yield Tt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});if(u.error)return u;const{data:h}=u;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:v_(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:y_(h.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(n){if(vt(n))return this._returnResult({data:null,error:n});throw n}}))})}_challengeAndVerify(e){return fe(this,null,function*(){const{data:n,error:r}=yield this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):yield this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})})}_listFactors(){return fe(this,null,function*(){var e;const{data:{user:n},error:r}=yield this.getUser();if(r)return{data:null,error:r};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}})}_getAuthenticatorAssuranceLevel(){return fe(this,null,function*(){var e,n;const{data:{session:r},error:o}=yield this.getSession();if(o)return this._returnResult({data:null,error:o});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=P0(r.access_token);let u=null;l.aal&&(u=l.aal);let h=u;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(h="aal2");const p=l.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:p},error:null}})}_getAuthorizationDetails(e){return fe(this,null,function*(){try{return yield this._useSession(n=>fe(this,null,function*(){const{data:{session:r},error:o}=n;return o?this._returnResult({data:null,error:o}):r?yield Tt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new fs})}))}catch(n){if(vt(n))return this._returnResult({data:null,error:n});throw n}})}_approveAuthorization(e,n){return fe(this,null,function*(){try{return yield this._useSession(r=>fe(this,null,function*(){const{data:{session:o},error:l}=r;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new fs});const u=yield Tt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&yr()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u}))}catch(r){if(vt(r))return this._returnResult({data:null,error:r});throw r}})}_denyAuthorization(e,n){return fe(this,null,function*(){try{return yield this._useSession(r=>fe(this,null,function*(){const{data:{session:o},error:l}=r;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new fs});const u=yield Tt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&yr()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u}))}catch(r){if(vt(r))return this._returnResult({data:null,error:r});throw r}})}fetchJwk(r){return fe(this,arguments,function*(e,n={keys:[]}){let o=n.keys.find(f=>f.kid===e);if(o)return o;const l=Date.now();if(o=this.jwks.keys.find(f=>f.kid===e),o&&this.jwks_cached_at+Cx>l)return o;const{data:u,error:h}=yield Tt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,o=u.keys.find(f=>f.kid===e),!o)?null:o})}getClaims(r){return fe(this,arguments,function*(e,n={}){try{let o=e;if(!o){const{data:C,error:L}=yield this.getSession();if(L||!C.session)return this._returnResult({data:null,error:L});o=C.session.access_token}const{header:l,payload:u,signature:h,raw:{header:f,payload:p}}=P0(o);n!=null&&n.allowExpired||Jx(u.exp);const y=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(l.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!y){const{error:C}=yield this.getUser(o);if(C)throw C;return{data:{claims:u,header:l,signature:h},error:null}}const S=Xx(l.alg),N=yield crypto.subtle.importKey("jwk",y,S,!0,["verify"]);if(!(yield crypto.subtle.verify(S,N,h,Bx(`${f}.${p}`))))throw new Np("Invalid JWT signature");return{data:{claims:u,header:l,signature:h},error:null}}catch(o){if(vt(o))return this._returnResult({data:null,error:o});throw o}})}}xh.nextInstanceID={};const L_=xh;class k_ extends L_{constructor(e){super(e)}}class T_{constructor(e,n,r){var o,l,u;this.supabaseUrl=e,this.supabaseKey=n;const h=Sx(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const f=`sb-${h.hostname.split(".")[0]}-auth-token`,p={db:mx,realtime:vx,auth:Object.assign(Object.assign({},gx),{storageKey:f}),global:px},y=_x(r!=null?r:{},p);this.storageKey=(o=y.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=y.global.headers)!==null&&l!==void 0?l:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(S,N)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(N)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=y.auth)!==null&&u!==void 0?u:{},this.headers,y.global.fetch),this.fetch=wx(n,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new Nw(new URL("rest/v1",h).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new hx(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new ww(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return fe(this,null,function*(){var e,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:l,storageKey:u,flowType:h,lock:f,debug:p,throwOnError:y},S,N){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new k_({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),S),storageKey:u,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:l,flowType:h,lock:f,debug:p,throwOnError:y,fetch:N,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new qw(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const C5=(i,e,n)=>new T_(i,e,n);function O_(){if(typeof window!="undefined"||typeof process=="undefined")return!1;const i=process.version;if(i==null)return!1;const e=i.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}O_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const L5="https://uljakqvlrtajbpislunr.supabase.co",R_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVsamFrcXZscnRhamJwaXNsdW5yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI0OTg0NDIsImV4cCI6MjA3ODA3NDQ0Mn0.pARpx76EyUoj69G2dbVDGlgeW3XTO2viMRnbReyGkeU",D_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVsamFrcXZscnRhamJwaXNsdW5yIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MjQ5ODQ0MiwiZXhwIjoyMDc4MDc0NDQyfQ.bCV4Rd0jqD_W9mg5WaG1cFFEgTvfkea9Dgm_kqxR_RI",jt=C5(L5,R_,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},global:{headers:{"x-client-info":"supabase-js-web"}},db:{schema:"public"},realtime:{params:{eventsPerSecond:10}}}),dn=C5(L5,D_,{auth:{autoRefreshToken:!1,persistSession:!1,storageKey:"supabase-admin-auth",storage:{getItem:()=>null,setItem:()=>{},removeItem:()=>{}}},global:{headers:{"x-client-info":"supabase-admin-js"}}}),k5=Te.createContext(void 0),M_=({children:i})=>{const[e,n]=Te.useState(null),[r,o]=Te.useState(null),[l,u]=Te.useState(!0),[h,f]=Te.useState(null),p=Te.useRef(null),y=Te.useRef(null),S=300*1e3;Te.useEffect(()=>{fe(null,null,function*(){var J,ce,ne;try{const{data:{session:X},error:F}=yield jt.auth.getSession();if(F){console.error("Erro ao buscar sesso:",F),yield jt.auth.signOut(),n(null),o(null),u(!1);return}n((J=X==null?void 0:X.user)!=null?J:null),p.current=(ne=(ce=X==null?void 0:X.user)==null?void 0:ce.id)!=null?ne:null,X!=null&&X.user&&(yield w(X.user.id))===!1&&(console.warn("Perfil no encontrado, fazendo logout..."),yield jt.auth.signOut(),n(null),o(null))}catch(X){console.error("Erro inesperado ao inicializar sesso:",X),yield jt.auth.signOut(),n(null),o(null)}finally{u(!1)}});const{data:z}=jt.auth.onAuthStateChange((J,ce)=>fe(null,null,function*(){var ne,X,F,de;if(console.log(" Auth state changed:",J),J==="TOKEN_REFRESHED"||J==="USER_UPDATED"){console.log(`${J} - mantendo perfil atual`);return}if(J==="INITIAL_SESSION"){console.log(" INITIAL_SESSION detectado (ignorando - j tratado)");return}if(J==="SIGNED_OUT"){console.log(" SIGNED_OUT - limpando estado"),n(null),o(null);return}if(J==="SIGNED_IN"){const D=(ne=ce==null?void 0:ce.user)==null?void 0:ne.id,H=p.current;if(D===H){console.log(" SIGNED_IN ignorado - mesmo usurio j logado");return}console.log(" SIGNED_IN - novo login detectado, carregando perfil"),n((X=ce==null?void 0:ce.user)!=null?X:null),p.current=(de=(F=ce==null?void 0:ce.user)==null?void 0:F.id)!=null?de:null,ce!=null&&ce.user?yield w(ce.user.id):o(null)}}));return()=>{z.subscription.unsubscribe()}},[]);const N=()=>f(null),w=(M,z=!1)=>fe(null,null,function*(){try{console.log(" Buscando perfil para userId:",M,z?"(FORANDO REFRESH COM BYPASS DE CACHE)":""),z&&(yield new Promise(ne=>setTimeout(ne,100)));const{data:J,error:ce}=yield jt.from("user_profiles").select("*, company:companies(*)").eq("id",M).maybeSingle();return ce?(console.error(" Erro ao buscar perfil:",ce.message,ce),o(null),!1):J?(console.log(" Perfil carregado:",{id:J.id,full_name:J.full_name,email:J.email,force_password_change:J.force_password_change,timestamp:new Date().toISOString()}),o(J),!0):(console.error(" Perfil no encontrado para o usurio:",M),o(null),!1)}catch(J){return console.error(" Erro inesperado ao buscar perfil:",J),o(null),!1}}),C=(M,z)=>fe(null,null,function*(){console.log(" [AuthContext] signIn chamado para:",M),u(!0),f(null);try{console.log(" [AuthContext] Enviando credenciais para Supabase...");const{error:J}=yield jt.auth.signInWithPassword({email:M.trim(),password:z});return console.log(" [AuthContext] Resposta do Supabase:",{error:J}),J?(console.error(" [AuthContext] Erro no login:",J.message),u(!1),J.message.includes("Invalid login credentials")?(console.log(" [AuthContext] Retornando: Email ou senha incorretos"),f("Email ou senha incorretos"),"Email ou senha incorretos"):J.message.includes("Email not confirmed")?(console.log(" [AuthContext] Retornando: Email no confirmado"),f("Por favor, confirme seu email antes de fazer login"),"Por favor, confirme seu email antes de fazer login"):(console.log(" [AuthContext] Retornando erro original:",J.message),f(J.message),J.message)):(console.log(" [AuthContext] Login bem-sucedido, retornando null"),u(!1),null)}catch(J){return console.error(" [AuthContext] Erro inesperado no login:",J),u(!1),f("Erro inesperado ao fazer login. Tente novamente."),"Erro inesperado ao fazer login. Tente novamente."}}),L=()=>fe(null,null,function*(){try{console.log(" [Auth] Iniciando logout..."),n(null),p.current=null,o(null),f(null);const M=jt.auth.signOut(),z=new Promise(J=>setTimeout(()=>{console.log(" [Auth] Timeout no logout do Supabase (ignorando)"),J(null)},2e3));yield Promise.race([M,z]),console.log(" [Auth] Logout concludo");try{if(typeof window!="undefined"){const J="/portal-chamados/";window.location.href=J}}catch(J){console.warn("No foi possvel redirecionar automaticamente:",J)}}catch(M){console.error(" [Auth] Erro ao fazer logout (ignorando):",M),n(null),p.current=null,o(null)}}),T=()=>{y.current&&(window.clearTimeout(y.current),y.current=null)},k=()=>{T(),e&&(y.current=window.setTimeout(()=>fe(null,null,function*(){try{console.log(" Inatividade detectada  efetuando logout automtico"),yield L()}catch(M){console.error("Erro no logout por inatividade:",M)}}),S))};Te.useEffect(()=>{if(!e){T();return}const M=["mousemove","mousedown","keydown","touchstart","scroll","click"],z=()=>{k()};for(const ce of M)window.addEventListener(ce,z,{passive:!0});const J=()=>{try{console.log(" beforeunload - tentando logout rpido"),jt.auth.signOut()}catch(ce){}};return window.addEventListener("beforeunload",J),k(),()=>{T();for(const ce of M)window.removeEventListener(ce,z);window.removeEventListener("beforeunload",J)}},[e]);const G=()=>fe(null,null,function*(){if(e!=null&&e.id){console.log(" Atualizando perfil manualmente...");const M=yield w(e.id,!0);console.log(M?" Perfil atualizado com sucesso no contexto":" Falha ao atualizar perfil no contexto")}});return m.jsx(k5.Provider,{value:{user:e,profile:r,loading:l,signIn:C,signOut:L,refreshProfile:G,authError:h,clearAuthError:N},children:i})},ys=()=>{const i=Te.useContext(k5);if(!i)throw new Error("useAuth must be used within an AuthProvider");return i};const P_=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),B_=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),o2=i=>{const e=B_(i);return e.charAt(0).toUpperCase()+e.slice(1)},T5=(...i)=>i.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),U_=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var z_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const I_=Te.forwardRef((p,f)=>{var y=p,{color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:l,iconNode:u}=y,h=Wl(y,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return Te.createElement("svg",kt(kt($t(kt({ref:f},z_),{width:e,height:e,stroke:i,strokeWidth:r?Number(n)*24/Number(e):n,className:T5("lucide",o)}),!l&&!U_(h)&&{"aria-hidden":"true"}),h),[...u.map(([S,N])=>Te.createElement(S,N)),...Array.isArray(l)?l:[l]])});const sn=(i,e)=>{const n=Te.forwardRef((u,l)=>{var h=u,{className:r}=h,o=Wl(h,["className"]);return Te.createElement(I_,kt({ref:l,iconNode:e,className:T5(`lucide-${P_(o2(i))}`,`lucide-${i}`,r)},o))});return n.displayName=o2(i),n};const q_=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],gs=sn("arrow-left",q_);const F_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],H_=sn("arrow-right",F_);const $_=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],rc=sn("building-2",$_);const V_=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],l2=sn("calendar",V_);const G_=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Y_=sn("chart-column",G_);const W_=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],c2=sn("check",W_);const K_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],sc=sn("circle-alert",K_);const J_=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ac=sn("circle-check-big",J_);const X_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Z_=sn("circle-plus",X_);const Q_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],O5=sn("circle-user",Q_);const e3=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],mu=sn("eye-off",e3);const t3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gu=sn("eye",t3);const n3=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],a3=sn("file-down",n3);const r3=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],If=sn("file-text",r3);const i3=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],u2=sn("funnel",i3);const s3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],o3=sn("image",s3);const l3=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ra=sn("loader-circle",l3);const c3=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],R5=sn("log-in",c3);const u3=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Xp=sn("mail",u3);const h3=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],f3=sn("map-pin",h3);const d3=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],h2=sn("message-circle",d3);const p3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Zp=sn("pen",p3);const m3=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],D5=sn("phone",m3);const g3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],od=sn("plus",g3);const v3=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],y3=sn("save",v3);const b3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],_h=sn("search",b3);const w3=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],x3=sn("send",w3);const _3=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],M5=sn("settings",_3);const S3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],P5=sn("shield-check",S3);const N3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ld=sn("trash-2",N3);const A3=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],j3=sn("upload",A3);const E3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Qp=sn("user",E3);const C3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],B5=sn("users",C3);const L3=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Sh=sn("wrench",L3);const k3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Su=sn("x",k3),pn=o=>{var l=o,{id:i,label:e,icon:n}=l,r=Wl(l,["id","label","icon"]);var u,h;return m.jsxs("div",{children:[m.jsx("label",{htmlFor:i,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),m.jsxs("div",{className:"relative",children:[n&&m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Og.isValidElement(n)?Og.cloneElement(n,{className:`${(h=(u=n.props)==null?void 0:u.className)!=null?h:""} h-5 w-5 text-gray-400`}):null}),m.jsx("input",kt({id:i,className:`w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 ${n?"pl-10":""}`},r))]})]})},Oa=l=>{var u=l,{children:i,variant:e="primary",isLoading:n=!1,disabled:r}=u,o=Wl(u,["children","variant","isLoading","disabled"]);return m.jsx("button",$t(kt({className:`w-full flex justify-center items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white
      ${e==="primary"?"bg-blue-600 hover:bg-blue-700":"bg-gray-600 hover:bg-gray-700"}
      ${r||n?"opacity-50 cursor-not-allowed":""}
      focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,disabled:r||n},o),{children:n?m.jsx(Ra,{className:"animate-spin h-5 w-5"}):i}))},T3=()=>{const[i,e]=Te.useState(""),[n,r]=Te.useState(""),[o,l]=Te.useState(!1),[u,h]=Te.useState(0),[f,p]=Te.useState("Portal de Chamados"),[y,S]=Te.useState(null),{signIn:N,authError:w,clearAuthError:C}=ys();Te.useEffect(()=>{fe(null,null,function*(){const{data:k}=yield jt.from("system_settings").select("setting_key, setting_value").in("setting_key",["portal_name","logo_url"]);if(k){const G=k.find(z=>z.setting_key==="portal_name"),M=k.find(z=>z.setting_key==="logo_url");G!=null&&G.setting_value&&p(G.setting_value),M!=null&&M.setting_value&&S(M.setting_value)}})},[]),Te.useEffect(()=>(console.log(" [Login] mount"),()=>console.log(" [Login] unmount")),[]);const L=T=>fe(null,null,function*(){T.preventDefault(),console.trace(" [Login] trace: iniciando signIn"),l(!0),console.log(" [Login] Tentando fazer login com:",i);try{const k=yield N(i,n);console.log(" [Login] Resposta do signIn:",k),k?(console.log(" [Login] Erro retornado pelo signIn:",k),h(G=>G+1),l(!1)):(console.log(" [Login] Login bem-sucedido!"),setTimeout(()=>l(!1),500))}catch(k){console.error(" [Login] Erro ao fazer login:",k),l(!1)}});return m.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:m.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-xl p-8",children:[m.jsx("div",{className:"flex justify-center mb-6",children:y?m.jsx("img",{src:y,alt:"Logo",className:"h-20 w-auto object-contain"}):m.jsx(P5,{className:"h-16 w-16 text-blue-600"})}),m.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-4",children:f}),m.jsx("p",{className:"text-center text-gray-600 mb-6",children:"Acesse para abrir e gerenciar seus chamados."}),m.jsxs("form",{onSubmit:L,className:"space-y-4",children:[m.jsx(pn,{id:"email",label:"E-mail",type:"email",icon:m.jsx(Xp,{}),value:i,onChange:T=>e(T.target.value),required:!0,autoComplete:"email"}),m.jsx(pn,{id:"password",label:"Senha",type:"password",icon:m.jsx(Qp,{}),value:n,onChange:T=>r(T.target.value),required:!0,autoComplete:"current-password"}),w&&m.jsxs("div",{role:"alert","aria-live":"assertive",className:`rounded-lg p-4 flex items-start space-x-3 ${w!=null&&w.includes("sucesso")?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[w!=null&&w.includes("sucesso")?m.jsx(ac,{className:"h-5 w-5 text-green-600 flex-shrink-0 mt-0.5"}):m.jsx(sc,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:`text-sm font-medium ${w!=null&&w.includes("sucesso")?"text-green-800":"text-red-800"}`,children:w!=null&&w.includes("sucesso")?"Sucesso!":"Erro no login"}),m.jsx("p",{className:`text-sm mt-1 ${w!=null&&w.includes("sucesso")?"text-green-700":"text-red-700"}`,children:w})]}),m.jsx("div",{className:"flex-shrink-0",children:m.jsx("button",{type:"button",onClick:()=>{C==null||C(),h(0)},"aria-label":"Fechar mensagem",className:"p-1 rounded hover:bg-gray-100",children:m.jsx(Su,{className:"h-4 w-4 text-gray-500"})})})]},u),m.jsx("div",{className:"pt-2 space-y-2",children:m.jsxs(Oa,{type:"submit",isLoading:o,children:[m.jsx(R5,{className:"h-5 w-5 mr-2"}),"Entrar"]})})]})]})})},z0=({setPage:i,onViewTicket:e})=>{const{profile:n}=ys(),[r,o]=Te.useState([]),[l,u]=Te.useState(!0),[h,f]=Te.useState(null),[p,y]=Te.useState(null),S=(C,L)=>fe(null,null,function*(){if(L.stopPropagation(),(n==null?void 0:n.role)!=="admin"){alert(" Apenas administradores podem deletar chamados!");return}if(confirm(`Tem certeza que deseja deletar o chamado #${C}?

Esta ao no pode ser desfeita.`)){y(C);try{const k=dn||jt,{error:G}=yield k.from("tickets").delete().eq("id",C);if(G)throw G;o(r.filter(M=>M.id!==C)),alert(" Chamado deletado com sucesso!")}catch(k){console.error(" Erro ao deletar chamado:",k),alert(` Erro ao deletar chamado: ${k instanceof Error?k.message:"Erro desconhecido"}`)}finally{y(null)}}});Te.useEffect(()=>{fe(null,null,function*(){console.log(" [Dashboard] Iniciando fetchTickets..."),u(!0),f(null);try{console.log(" [Dashboard] Tentando buscar tickets com supabaseAdmin...");const L=dn&&(n==null?void 0:n.role)==="admin"?dn:jt;console.log(" [Dashboard] Usando client:",dn&&(n==null?void 0:n.role)==="admin"?"ADMIN":"NORMAL");const T=L.from("tickets").select("*").order("created_at",{ascending:!1}),k=new Promise((J,ce)=>setTimeout(()=>ce(new Error(" Timeout: A consulta de tickets demorou mais de 20 segundos, recarregue a pgina!")),2e4)),{data:G,error:M}=yield Promise.race([T,k]);if(console.log(" [Dashboard] Resultado da query tickets:",{success:!M,count:G==null?void 0:G.length,error:M}),M){console.error(" [Dashboard] Erro ao buscar chamados:",M.message),f(M.message),u(!1);return}if(console.log(" [Dashboard] Tickets encontrados:",G==null?void 0:G.length),!G||G.length===0){console.log(" [Dashboard] Nenhum ticket encontrado, exibindo tela vazia"),o([]),u(!1);return}console.log(" [Dashboard] Buscando detalhes dos tickets...");const z=yield Promise.all(G.map(J=>fe(null,null,function*(){console.log(` [Dashboard] Buscando dados para ticket #${J.id}`);const{data:ce,error:ne}=yield L.from("user_profiles").select("id, full_name, email").eq("id",J.client_id).maybeSingle();ne&&console.error(" [Dashboard] Erro ao buscar cliente:",ne);const{data:X,error:F}=yield L.from("companies").select("id, name, cnpj").eq("id",J.company_id).maybeSingle();return F&&console.error(" [Dashboard] Erro ao buscar empresa:",F),$t(kt({},J),{client:ce,company:X})})));console.log(" [Dashboard] Tickets com detalhes completos:",z.length),o(z)}catch(L){console.error(" [Dashboard] Erro inesperado:",L),f(L instanceof Error?L.message:"Erro inesperado ao carregar chamados")}finally{console.log(" [Dashboard] fetchTickets finalizado, setLoading(false)"),u(!1)}})},[]);const N=C=>{switch(C){case"aberto":return"bg-green-100 text-green-800";case"em_atendimento":return"bg-blue-100 text-blue-800";case"aguardando_cliente":return"bg-yellow-100 text-yellow-800";case"fechado":return"bg-gray-100 text-gray-800";case"cancelado":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},w=()=>l?m.jsxs("div",{className:"flex justify-center items-center p-10 bg-white rounded-lg shadow-md",children:[m.jsx(Ra,{className:"h-8 w-8 animate-spin text-blue-600"}),m.jsx("p",{className:"ml-3 text-gray-600",children:"Buscando chamados..."})]}):h?m.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md",role:"alert",children:[m.jsx("strong",{className:"font-bold",children:"Erro ao carregar chamados!"}),m.jsxs("span",{className:"block sm:inline",children:[" ",h]})]}):r.length===0?m.jsxs("div",{className:"text-center p-10 bg-white rounded-lg shadow-md",children:[m.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Nenhum chamado encontrado"}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Parece que voc ainda no abriu nenhum chamado. Clique no boto acima para comear."})]}):m.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:m.jsx("ul",{role:"list",className:"divide-y divide-gray-200",children:r.map(C=>(console.log(` Renderizando ticket #${C.id}:`,{client:C.client,company:C.company,hasClient:!!C.client,hasCompany:!!C.company}),m.jsx("li",{className:"p-4 hover:bg-gray-50 transition-colors",children:m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-sm font-medium ${N(C.status)} capitalize`,children:C.status.replace("_"," ")})}),m.jsxs("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>e(C.id),children:[m.jsxs("p",{className:"text-sm font-medium text-blue-600 truncate",children:["Chamado #",C.id," - ",C.equipment_manufacturer," ",C.equipment_model]}),m.jsxs("p",{className:"text-sm text-gray-500 truncate",children:["Local: ",C.internal_location]}),C.client&&m.jsxs("p",{className:"text-sm text-gray-600 truncate mt-1",children:["Usurio: ",C.client.full_name]}),C.company&&m.jsxs("p",{className:"text-xs text-gray-500 truncate",children:["Empresa: ",C.company.name]})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:"text-sm text-gray-700",children:new Date(C.created_at).toLocaleDateString("pt-BR")}),m.jsx("p",{className:"text-sm text-gray-500",children:new Date(C.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[(n==null?void 0:n.role)==="admin"&&m.jsx("button",{onClick:L=>S(C.id,L),disabled:p===C.id,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Deletar chamado",children:p===C.id?m.jsx(Ra,{className:"h-5 w-5 animate-spin"}):m.jsx(ld,{className:"h-5 w-5"})}),m.jsx("button",{onClick:()=>e(C.id),className:"p-2 text-gray-400 hover:bg-gray-100 rounded-lg transition-colors",title:"Ver detalhes",children:m.jsx(H_,{className:"h-5 w-5"})})]})]})},C.id)))})});return m.jsxs("div",{className:"p-6 md:p-10",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Meus Chamados"}),m.jsxs("p",{className:"text-lg text-gray-600",children:["Bem-vindo, ",n==null?void 0:n.full_name,"!"]})]}),m.jsxs(Oa,{onClick:()=>i("new-ticket"),className:"w-auto",children:[m.jsx(Z_,{className:"h-5 w-5 mr-2"}),"Abrir Novo Chamado"]})]}),w()]})};class O3{constructor(){yn(this,"supabaseUrl");yn(this,"supabaseAnonKey");yn(this,"edgeFunctionUrl");this.supabaseUrl="https://uljakqvlrtajbpislunr.supabase.co",this.supabaseAnonKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVsamFrcXZscnRhamJwaXNsdW5yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI0OTg0NDIsImV4cCI6MjA3ODA3NDQ0Mn0.pARpx76EyUoj69G2dbVDGlgeW3XTO2viMRnbReyGkeU",this.edgeFunctionUrl=`${this.supabaseUrl}/functions/v1/send-email-gmail`,(!this.supabaseUrl||!this.supabaseAnonKey)&&console.warn(" Variveis Supabase no configuradas.")}sendEmail(e){return fe(this,null,function*(){try{const n=Array.isArray(e.to)?e.to:[e.to];for(let r=0;r<n.length;r++){const o=n[r];r>0&&(yield new Promise(h=>setTimeout(h,1e3))),console.log(` Enviando email para: ${o}`);const l=yield fetch(this.edgeFunctionUrl,{method:"POST",headers:{Authorization:`Bearer ${this.supabaseAnonKey}`,"Content-Type":"application/json"},body:JSON.stringify({to:o,subject:e.subject,html:e.html})}),u=yield l.json();if(!l.ok){if(console.error(` Erro ao enviar email para ${o}:`,u),l.status===429){console.warn(` Rate limit atingido para ${o}. Aguardando 3 segundos...`),yield new Promise(h=>setTimeout(h,3e3));continue}return!1}console.log(` Email enviado com sucesso para ${o}:`,u)}return!0}catch(n){return console.error(" Erro na chamada da Edge Function:",n),!1}})}getEmailTemplate(e){return`
            <!DOCTYPE html>
            <html lang="pt-BR">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <style>
                    body {
                        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
                        line-height: 1.6;
                        color: #333;
                        max-width: 600px;
                        margin: 0 auto;
                        padding: 0;
                        background-color: #f4f4f4;
                    }
                    .email-container {
                        background-color: white;
                        margin: 20px;
                        border-radius: 8px;
                        overflow: hidden;
                        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                    }
                    .header {
                        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                        color: white;
                        padding: 40px 30px;
                        text-align: center;
                    }
                    .header h1 {
                        margin: 0;
                        font-size: 28px;
                        font-weight: 600;
                    }
                    .header p {
                        margin: 10px 0 0 0;
                        font-size: 16px;
                        opacity: 0.9;
                    }
                    .content {
                        padding: 30px;
                    }
                    .info-box {
                        background: #f9fafb;
                        padding: 20px;
                        border-left: 4px solid #667eea;
                        margin: 20px 0;
                        border-radius: 4px;
                    }
                    .info-row {
                        margin: 12px 0;
                        display: flex;
                        flex-wrap: wrap;
                    }
                    .info-label {
                        font-weight: 600;
                        min-width: 150px;
                        color: #667eea;
                        margin-bottom: 4px;
                    }
                    .info-value {
                        color: #333;
                        flex: 1;
                    }
                    .problem-box {
                        background: white;
                        padding: 20px;
                        border: 2px solid #e5e7eb;
                        border-radius: 6px;
                        margin: 20px 0;
                    }
                    .problem-box h3 {
                        margin: 0 0 10px 0;
                        color: #667eea;
                        font-size: 16px;
                    }
                    .problem-box p {
                        margin: 0;
                        line-height: 1.6;
                    }
                    .footer {
                        text-align: center;
                        padding: 20px 30px;
                        background: #f9fafb;
                        color: #6b7280;
                        font-size: 13px;
                        border-top: 1px solid #e5e7eb;
                    }
                    .footer p {
                        margin: 5px 0;
                    }
                    @media only screen and (max-width: 600px) {
                        .email-container {
                            margin: 0;
                            border-radius: 0;
                        }
                        .header {
                            padding: 30px 20px;
                        }
                        .content {
                            padding: 20px;
                        }
                        .info-row {
                            flex-direction: column;
                        }
                        .info-label {
                            margin-bottom: 5px;
                        }
                    }
                </style>
            </head>
            <body>
                <div class="email-container">
                    ${e}
                </div>
            </body>
            </html>
        `}sendTicketCreatedNotification(r){return fe(this,arguments,function*(e,n=[]){const o=`
            <div class="header">
                <h1> Chamado Criado com Sucesso</h1>
                <p>Chamado #${e.ticketId}</p>
            </div>
            <div class="content">
                <p>Ol <strong>${e.clientName}</strong>,</p>
                <p>Seu chamado foi registrado com sucesso no sistema. Nossa equipe j foi notificada e em breve entrar em contato.</p>
                
                <div class="info-box">
                    <div class="info-row">
                        <span class="info-label">Nmero do Chamado:</span>
                        <span class="info-value"><strong>#${e.ticketId}</strong></span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Empresa:</span>
                        <span class="info-value">${e.companyName}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Equipamento:</span>
                        <span class="info-value">${e.equipmentInfo}</span>
                    </div>
                    ${e.serialNumber?`<div class="info-row">
                        <span class="info-label">Nmero de Srie:</span>
                        <span class="info-value">${e.serialNumber}</span>
                    </div>`:""}
                    <div class="info-row">
                        <span class="info-label">Localizao:</span>
                        <span class="info-value">${e.internalLocation}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Endereo:</span>
                        <span class="info-value">${e.fullAddress}</span>
                    </div>
                </div>

                <div class="problem-box">
                    <h3> Descrio do Problema</h3>
                    <p>${e.problemDescription}</p>
                </div>

                <div class="info-box" style="background: #ecfdf5; border-left-color: #10b981;">
                    <p style="margin: 0; color: #047857;">
                        <strong> Responsvel Local Notificado</strong><br>
                        ${e.contactName} (${e.contactEmail})
                    </p>
                </div>

                <p style="margin-top: 30px; color: #6b7280;">
                    <strong>Prximos passos:</strong>
                </p>
                <ul style="color: #6b7280; margin: 10px 0;">
                    <li>Nossa equipe analisar o chamado</li>
                    <li>Voc receber atualizaes por email</li>
                    <li>Em caso de dvidas, responda este email</li>
                </ul>
            </div>
            <div class="footer">
                <p><strong>Portal de Chamados</strong></p>
                <p>Esta  uma mensagem automtica. Guarde este email para referncia futura.</p>
                <p> ${new Date().getFullYear()} Todos os direitos reservados.</p>
            </div>
        `,l=`
            <div class="header">
                <h1> Novo Chamado Registrado</h1>
                <p>Chamado #${e.ticketId} - ${e.companyName}</p>
            </div>
            <div class="content">
                <p>Ol <strong>${e.contactName}</strong>,</p>
                <p>Voc foi indicado como responsvel local para acompanhamento de um novo chamado tcnico:</p>
                
                <div class="info-box">
                    <div class="info-row">
                        <span class="info-label">Nmero do Chamado:</span>
                        <span class="info-value"><strong>#${e.ticketId}</strong></span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Aberto por:</span>
                        <span class="info-value">${e.clientName}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Empresa:</span>
                        <span class="info-value">${e.companyName}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Equipamento:</span>
                        <span class="info-value">${e.equipmentInfo}</span>
                    </div>
                    ${e.serialNumber?`<div class="info-row">
                        <span class="info-label">Nmero de Srie:</span>
                        <span class="info-value">${e.serialNumber}</span>
                    </div>`:""}
                    <div class="info-row">
                        <span class="info-label">Localizao Interna:</span>
                        <span class="info-value">${e.internalLocation}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Endereo Completo:</span>
                        <span class="info-value">${e.fullAddress}</span>
                    </div>
                </div>

                <div class="problem-box">
                    <h3> Descrio do Problema</h3>
                    <p>${e.problemDescription}</p>
                </div>

                <div class="info-box" style="background: #fef3c7; border-left-color: #f59e0b;">
                    <p style="margin: 0; color: #92400e;">
                        <strong> Sua Responsabilidade</strong><br>
                        Como responsvel local, voc poder ser contatado por nossa equipe tcnica para:<br>
                         Fornecer acesso ao local<br>
                         Acompanhar o atendimento<br>
                         Validar a soluo do problema
                    </p>
                </div>

                <div class="info-box">
                    <p style="margin: 0 0 10px 0;"><strong> Dados do Requisitante:</strong></p>
                    <div class="info-row">
                        <span class="info-label">Nome:</span>
                        <span class="info-value">${e.clientName}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Email:</span>
                        <span class="info-value">${e.clientEmail}</span>
                    </div>
                    ${e.clientPhone?`<div class="info-row">
                        <span class="info-label">Telefone:</span>
                        <span class="info-value">${e.clientPhone}</span>
                    </div>`:""}
                </div>

                <p style="margin-top: 20px;">
                    <strong>Seus dados de contato registrados:</strong><br>
                     Email: ${e.contactEmail}<br>
                     Telefone: ${e.contactPhone}
                </p>
            </div>
            <div class="footer">
                <p><strong>Portal de Chamados</strong></p>
                <p>Esta  uma mensagem automtica. Em caso de dvidas, entre em contato com ${e.clientName}.</p>
                <p> ${new Date().getFullYear()} Todos os direitos reservados.</p>
            </div>
        `,u=`
            <div class="header">
                <h1> Novo Chamado Registrado</h1>
                <p>Chamado #${e.ticketId} - Requer Ateno</p>
            </div>
            <div class="content">
                <p>Ol <strong>Administrador</strong>,</p>
                <p>Um novo chamado foi registrado no sistema e aguarda atendimento:</p>
                
                <div class="info-box" style="background: #fef3c7; border-left-color: #f59e0b;">
                    <div class="info-row">
                        <span class="info-label"> Nmero do Chamado:</span>
                        <span class="info-value"><strong style="font-size: 18px;">#${e.ticketId}</strong></span>
                    </div>
                    <div class="info-row">
                        <span class="info-label"> Cliente:</span>
                        <span class="info-value">${e.clientName} (${e.clientEmail})</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label"> Empresa:</span>
                        <span class="info-value">${e.companyName}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label"> Equipamento:</span>
                        <span class="info-value">${e.equipmentInfo}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label"> Localizao Interna:</span>
                        <span class="info-value">${e.internalLocation}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label"> Endereo:</span>
                        <span class="info-value">${e.fullAddress}</span>
                    </div>
                </div>

                <div class="problem-box">
                    <h3> Descrio do Problema</h3>
                    <p>${e.problemDescription}</p>
                </div>

                <div class="info-box">
                    <p style="margin: 0 0 10px 0;"><strong> Responsvel Local no Cliente:</strong></p>
                    <div class="info-row">
                        <span class="info-label">Nome:</span>
                        <span class="info-value">${e.contactName}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Email:</span>
                        <span class="info-value">${e.contactEmail}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Telefone:</span>
                        <span class="info-value">${e.contactPhone}</span>
                    </div>
                </div>

                <div class="info-box" style="background: #dbeafe; border-left-color: #3b82f6;">
                    <p style="margin: 0; color: #1e40af;">
                        <strong> Ao Necessria:</strong><br>
                         Revisar o chamado no sistema<br>
                         Atribuir um tcnico responsvel<br>
                         Definir prioridade de atendimento<br>
                         Entrar em contato se necessrio
                    </p>
                </div>

                <p style="margin-top: 30px; text-align: center;">
                    <a href="${typeof window!="undefined"?window.location.origin:""}" 
                       style="display: inline-block; padding: 12px 30px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; text-decoration: none; border-radius: 6px; font-weight: 600;">
                        Acessar Portal de Chamados
                    </a>
                </p>
            </div>
            <div class="footer">
                <p><strong>Portal de Chamados - Notificao Administrativa</strong></p>
                <p>Esta  uma mensagem automtica enviada apenas para administradores.</p>
                <p> ${new Date().getFullYear()} Todos os direitos reservados.</p>
            </div>
        `;console.log(` Enviando email de confirmao para o cliente (${e.clientEmail})...`);const h=yield this.sendEmail({to:e.clientEmail,subject:` Chamado #${e.ticketId} Criado - ${e.companyName}`,html:this.getEmailTemplate(o)});console.log(` Enviando email para o responsvel local (${e.contactEmail})...`);const f=yield this.sendEmail({to:e.contactEmail,subject:` Novo Chamado #${e.ticketId} - Voc  o Responsvel Local - ${e.companyName}`,html:this.getEmailTemplate(l)});let p=!0;return n&&n.length>0&&(console.log(` Enviando notificao para ${n.length} administrador(es)...`),p=yield this.sendEmail({to:n,subject:` NOVO Chamado #${e.ticketId} Aberto - Ao Necessria - ${e.companyName}`,html:this.getEmailTemplate(u)})),console.log(" Emails enviados com sucesso (cliente + responsvel + admins)"),h&&f&&p})}sendCommentNotification(e){return fe(this,null,function*(){const n=`
            <div class="header">
                <h1> Novo Comentrio no Chamado</h1>
                <p>Chamado #${e.ticketId}</p>
            </div>
            <div class="content">
                <p>Ol <strong>${e.recipientName}</strong>,</p>
                <p>H uma nova atualizao no chamado #${e.ticketId}:</p>
                
                <div class="info-box">
                    <div class="info-row">
                        <span class="info-label">Chamado:</span>
                        <span class="info-value"><strong>#${e.ticketId}</strong></span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Empresa:</span>
                        <span class="info-value">${e.companyName}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Comentado por:</span>
                        <span class="info-value">${e.commentAuthor}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Data:</span>
                        <span class="info-value">${new Date().toLocaleString("pt-BR")}</span>
                    </div>
                </div>

                <div class="problem-box">
                    <h3> Comentrio</h3>
                    <p>${e.commentText}</p>
                </div>

                <div class="info-box" style="background: #dbeafe; border-left-color: #3b82f6;">
                    <p style="margin: 0; color: #1e40af;">
                         <strong>Dica:</strong> Acesse o portal para visualizar o chamado completo e responder ao comentrio.
                    </p>
                </div>
            </div>
            <div class="footer">
                <p><strong>Portal de Chamados - Notificao de Atualizao</strong></p>
                <p>Esta  uma mensagem automtica. No responda este email.</p>
                <p> ${new Date().getFullYear()} Todos os direitos reservados.</p>
            </div>
        `;return this.sendEmail({to:e.recipientEmail,subject:` Novo Comentrio no Chamado #${e.ticketId} - ${e.companyName}`,html:this.getEmailTemplate(n)})})}}const Ap=new O3,qf=l=>{var u=l,{id:i,label:e,minLength:n,value:r}=u,o=Wl(u,["id","label","minLength","value"]);const h=(r||"").length,f=n&&h>0&&h<n,p=n&&h>=n;return m.jsxs("div",{children:[m.jsx("label",{htmlFor:i,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),m.jsx("textarea",kt({id:i,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:r},o)),n&&m.jsxs("p",{className:`text-xs mt-1 ${f?"text-red-500":p?"text-green-600":"text-gray-500"}`,children:[h," / ",n," caracteres mnimos"]})]})},R3=({ticketId:i,setPage:e})=>{const{profile:n}=ys(),[r,o]=Te.useState(null),[l,u]=Te.useState(!0),[h,f]=Te.useState(null),[p,y]=Te.useState(!1),[S,N]=Te.useState([]),[w,C]=Te.useState(!1),[L,T]=Te.useState(""),[k,G]=Te.useState(!1),[M,z]=Te.useState(!1);Te.useEffect(()=>{const F=()=>fe(null,null,function*(){u(!0),f(null);const{data:D,error:H}=yield jt.from("tickets").select("*").eq("id",i).single();H?(console.error("Erro ao buscar chamado:",H),f(H.message)):o(D),u(!1)}),de=()=>fe(null,null,function*(){C(!0);const{data:D,error:H}=yield jt.from("ticket_comments").select(`
                    *,
                    user:user_profiles(id, full_name, email, role)
                `).eq("ticket_id",i).order("created_at",{ascending:!0});H?console.error("Erro ao buscar comentrios:",H):(console.log(" Comentrios carregados:",D),N(D||[])),C(!1)});F(),de()},[i]);const J=()=>fe(null,null,function*(){if(!L.trim()||!n)return;z(!0);const F={ticket_id:i,user_id:n.id,comment:L.trim(),is_internal:k&&(n.role==="admin"||n.role==="tecnico")},{data:de,error:D}=yield jt.from("ticket_comments").insert([F]).select(`
                *,
                user:user_profiles(id, full_name, email, role)
            `).single();if(D)console.error("Erro ao adicionar comentrio:",D),alert(`Erro ao adicionar comentrio: ${D.message}`);else if(console.log(" Comentrio adicionado:",de),console.log(" Dados do usurio no comentrio:",de==null?void 0:de.user),N(H=>[...H,de]),T(""),G(!1),!F.is_internal&&r)try{const{data:H}=yield jt.from("user_profiles").select("full_name, email").eq("id",r.client_id).single(),{data:ie}=yield jt.from("companies").select("name").eq("id",r.company_id).single();if(H&&ie&&(n.id!==r.client_id&&(yield Ap.sendCommentNotification({ticketId:i,commentAuthor:n.full_name,commentText:L.trim(),recipientName:H.full_name,recipientEmail:H.email,companyName:ie.name})),n.role==="cliente")){const{data:ae}=yield jt.from("user_profiles").select("email").eq("role","admin"),ue=(ae==null?void 0:ae.map(W=>W.email))||[];ue.length>0&&(yield Ap.sendCommentNotification({ticketId:i,commentAuthor:n.full_name,commentText:L.trim(),recipientName:"Administrador",recipientEmail:ue[0],companyName:ie.name}))}}catch(H){console.error("Erro ao enviar email de notificao:",H)}z(!1)}),ce=()=>fe(null,null,function*(){if(!r||r.status==="fechado"||!window.confirm("Tem certeza que deseja finalizar este chamado?"))return;y(!0),f(null);const{error:de}=yield jt.from("tickets").update({status:"fechado",closed_at:new Date().toISOString()}).eq("id",i);de?f(`Erro ao finalizar chamado: ${de.message}`):(o(D=>D?$t(kt({},D),{status:"fechado",closed_at:new Date().toISOString()}):null),alert("Chamado finalizado com sucesso!")),y(!1)}),ne=F=>{switch(F){case"aberto":return"bg-green-100 text-green-800";case"em_atendimento":return"bg-blue-100 text-blue-800";case"aguardando_cliente":return"bg-yellow-100 text-yellow-800";case"fechado":return"bg-gray-100 text-gray-800";case"cancelado":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},X=F=>{switch(F){case"aberto":return"Aberto";case"em_atendimento":return"Em Atendimento";case"aguardando_cliente":return"Aguardando Cliente";case"fechado":return"Fechado";case"cancelado":return"Cancelado";default:return F}};return l?m.jsx("div",{className:"p-6 md:p-10 max-w-5xl mx-auto",children:m.jsxs("div",{className:"flex justify-center items-center p-10 bg-white rounded-lg shadow-md",children:[m.jsx(Ra,{className:"h-8 w-8 animate-spin text-blue-600"}),m.jsx("p",{className:"ml-3 text-gray-600",children:"Carregando chamado..."})]})}):h||!r?m.jsxs("div",{className:"p-6 md:p-10 max-w-5xl mx-auto",children:[m.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md",role:"alert",children:[m.jsx("strong",{className:"font-bold",children:"Erro ao carregar chamado!"}),m.jsxs("span",{className:"block sm:inline",children:[" ",h||"Chamado no encontrado"]})]}),m.jsxs(Oa,{onClick:()=>e("dashboard"),variant:"secondary",className:"mt-4",children:[m.jsx(gs,{className:"h-4 w-4 mr-2"}),"Voltar para Dashboard"]})]}):m.jsxs("div",{className:"p-6 md:p-10 max-w-5xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{children:[m.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Chamado #",r.id]}),m.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Aberto em ",new Date(r.created_at).toLocaleDateString("pt-BR")," s ",new Date(r.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]}),m.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[m.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-semibold shadow-sm ${ne(r.status)}`,children:X(r.status)}),(n==null?void 0:n.role)==="admin"&&r.status!=="fechado"&&r.status!=="cancelado"&&m.jsx("div",{className:"relative group",children:m.jsxs("button",{onClick:ce,disabled:p,className:`
                                    relative inline-flex items-center justify-center px-8 py-3.5 
                                    font-semibold text-white rounded-lg overflow-hidden
                                    transition-all duration-300 ease-out
                                    ${p?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-emerald-500 via-green-500 to-teal-500 hover:from-emerald-600 hover:via-green-600 hover:to-teal-600 shadow-lg hover:shadow-xl hover:scale-105 active:scale-95"}
                                `,title:"Finalizar este chamado",children:[!p&&m.jsx("span",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white to-transparent opacity-20 animate-shimmer"}),m.jsx("span",{className:"relative flex items-center gap-2",children:p?m.jsxs(m.Fragment,{children:[m.jsx(Ra,{className:"h-5 w-5 animate-spin"}),m.jsx("span",{children:"Finalizando..."})]}):m.jsxs(m.Fragment,{children:[m.jsx(ac,{className:"h-5 w-5"}),m.jsx("span",{children:"Finalizar Chamado"})]})})]})}),m.jsxs(Oa,{onClick:()=>e("dashboard"),variant:"secondary",className:"shadow-sm hover:shadow transition-shadow",children:[m.jsx(gs,{className:"h-4 w-4 mr-2"}),"Voltar"]}),m.jsx("style",{children:`
                    @keyframes shimmer {
                        0% { transform: translateX(-100%); }
                        100% { transform: translateX(100%); }
                    }
                    .animate-shimmer {
                        animation: shimmer 2.5s infinite;
                    }
                `})]})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx(Sh,{className:"h-6 w-6 text-blue-600 mr-2"}),m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Equipamento"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Fabricante"}),m.jsx("p",{className:"text-lg font-medium text-gray-900",children:r.equipment_manufacturer})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Modelo"}),m.jsx("p",{className:"text-lg font-medium text-gray-900",children:r.equipment_model})]}),r.application_type&&m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Tipo de Aplicao"}),m.jsx("p",{className:"text-lg font-medium text-gray-900",children:r.application_type})]}),r.internal_location&&m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Local Interno"}),m.jsx("p",{className:"text-lg font-medium text-gray-900",children:r.internal_location})]})]})]}),r.form_data&&m.jsxs(m.Fragment,{children:[r.form_data.problem_description&&m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx(If,{className:"h-6 w-6 text-blue-600 mr-2"}),m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Descrio do Problema"})]}),m.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:r.form_data.problem_description})]}),r.form_data.card_type&&m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx(If,{className:"h-6 w-6 text-blue-600 mr-2"}),m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Tecnologia Utilizada"})]}),m.jsx("p",{className:"text-lg font-medium text-gray-900",children:r.form_data.card_type})]}),r.form_data.previous_procedures&&m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx(If,{className:"h-6 w-6 text-blue-600 mr-2"}),m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Procedimentos J Executados"})]}),m.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:r.form_data.previous_procedures})]}),r.form_data.full_address&&m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx(f3,{className:"h-6 w-6 text-blue-600 mr-2"}),m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Endereo para Atendimento"})]}),m.jsx("p",{className:"text-gray-700",children:r.form_data.full_address}),r.form_data.address_cep&&m.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["CEP: ",r.form_data.address_cep]})]}),r.form_data.integration_needed&&m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx(rc,{className:"h-6 w-6 text-blue-600 mr-2"}),m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Necessidade de Integrao"})]}),m.jsx("p",{className:"text-green-700 font-medium mb-2",children:" Integrao necessria"}),r.form_data.integration_requirements&&m.jsxs("div",{className:"mt-3",children:[m.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Exigncias:"}),m.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:r.form_data.integration_requirements})]})]}),r.form_data.contact_name&&m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx(Qp,{className:"h-6 w-6 text-blue-600 mr-2"}),m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Responsvel pelo Acompanhamento"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Nome"}),m.jsx("p",{className:"text-lg font-medium text-gray-900",children:r.form_data.contact_name})]}),r.form_data.contact_email&&m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"E-mail"}),m.jsxs("div",{className:"flex items-center",children:[m.jsx(Xp,{className:"h-4 w-4 text-gray-500 mr-2"}),m.jsx("a",{href:`mailto:${r.form_data.contact_email}`,className:"text-blue-600 hover:underline",children:r.form_data.contact_email})]})]}),r.form_data.contact_phone&&m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Telefone"}),m.jsxs("div",{className:"flex items-center",children:[m.jsx(D5,{className:"h-4 w-4 text-gray-500 mr-2"}),m.jsx("a",{href:`tel:${r.form_data.contact_phone}`,className:"text-blue-600 hover:underline",children:r.form_data.contact_phone})]})]})]})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx(h2,{className:"h-6 w-6 text-blue-600 mr-2"}),m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Comentrios"})]}),w?m.jsx("div",{className:"flex justify-center items-center py-8",children:m.jsx(Ra,{className:"h-8 w-8 text-blue-600 animate-spin"})}):S.length===0?m.jsxs("div",{className:"text-center py-8 text-gray-500",children:[m.jsx(h2,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),m.jsx("p",{children:"Nenhum comentrio ainda"}),m.jsx("p",{className:"text-sm",children:"Seja o primeiro a comentar"})]}):m.jsx("div",{className:"space-y-4 mb-6",children:S.map(F=>{var de,D,H;return m.jsxs("div",{className:`border rounded-lg p-4 ${F.is_internal?"bg-yellow-50 border-yellow-300":"bg-gray-50 border-gray-200"}`,children:[m.jsxs("div",{className:"flex items-start justify-between mb-2",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white font-semibold",children:((D=(de=F.user)==null?void 0:de.full_name)==null?void 0:D.charAt(0).toUpperCase())||"?"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-gray-900",children:((H=F.user)==null?void 0:H.full_name)||"Usurio"}),m.jsx("p",{className:"text-xs text-gray-500",children:new Date(F.created_at).toLocaleString("pt-BR")})]})]}),F.is_internal&&m.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-200 text-yellow-800",children:" Interno"})]}),m.jsx("p",{className:"text-gray-700 whitespace-pre-wrap ml-10",children:F.comment})]},F.id)})}),r.status!=="fechado"&&r.status!=="cancelado"&&m.jsx("div",{className:"border-t pt-4",children:m.jsxs("div",{className:"space-y-3",children:[m.jsx(qf,{label:"Novo comentrio",value:L,onChange:F=>T(F.target.value),placeholder:"Adicione um comentrio...",rows:3,className:"w-full"}),(n==null?void 0:n.role)!=="cliente"&&m.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[m.jsx("input",{type:"checkbox",checked:k,onChange:F=>G(F.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),m.jsx("span",{className:"flex items-center gap-1",children:" Comentrio interno (visvel apenas para administradores e tcnicos)"})]}),m.jsx("div",{className:"flex justify-end",children:m.jsxs("button",{onClick:J,disabled:M||!L.trim(),className:`
                                            relative inline-flex items-center justify-center px-6 py-3
                                            font-semibold text-white rounded-lg overflow-hidden
                                            transition-all duration-300 ease-out
                                            ${M||!L.trim()?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-500 via-purple-500 to-indigo-600 hover:from-blue-600 hover:via-purple-600 hover:to-indigo-700 shadow-lg hover:shadow-xl hover:scale-105 active:scale-95"}
                                        `,children:[!M&&L.trim()&&m.jsx("span",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white to-transparent opacity-20 animate-shimmer"}),m.jsx("span",{className:"relative flex items-center gap-2",children:M?m.jsxs(m.Fragment,{children:[m.jsx(Ra,{className:"h-5 w-5 animate-spin"}),m.jsx("span",{children:"Enviando..."})]}):m.jsxs(m.Fragment,{children:[m.jsx(x3,{className:"h-5 w-5"}),m.jsx("span",{children:"Enviar Comentrio"})]})})]})})]})})]}),m.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:m.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx(l2,{className:"h-4 w-4 mr-2"}),m.jsxs("span",{children:["Criado em: ",new Date(r.created_at).toLocaleString("pt-BR")]})]}),r.closed_at&&m.jsxs("div",{className:"flex items-center",children:[m.jsx(l2,{className:"h-4 w-4 mr-2"}),m.jsxs("span",{children:["Fechado em: ",new Date(r.closed_at).toLocaleString("pt-BR")]})]})]})})]})]})},Bi=o=>{var l=o,{id:i,label:e,children:n}=l,r=Wl(l,["id","label","children"]);return m.jsxs("div",{children:[m.jsx("label",{htmlFor:i,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),m.jsx("select",$t(kt({id:i,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},r),{children:n}))]})},D3="modulepreload",M3=function(i){return"/portal-chamados/"+i},f2={},I0=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){let f=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));o=f(n.map(p=>{if(p=M3(p),p in f2)return;f2[p]=!0;const y=p.endsWith(".css"),S=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${S}`))return;const N=document.createElement("link");if(N.rel=y?"stylesheet":D3,y||(N.as="script"),N.crossOrigin="",N.href=p,h&&N.setAttribute("nonce",h),document.head.appendChild(N),y)return new Promise((w,C)=>{N.addEventListener("load",w),N.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return o.then(u=>{for(const h of u||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})};function Cn(i){"@babel/helpers - typeof";return Cn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cn(i)}var vs=Uint8Array,gi=Uint16Array,em=Int32Array,tm=new vs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),nm=new vs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),d2=new vs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),U5=function(i,e){for(var n=new gi(31),r=0;r<31;++r)n[r]=e+=1<<i[r-1];for(var o=new em(n[30]),r=1;r<30;++r)for(var l=n[r];l<n[r+1];++l)o[l]=l-n[r]<<5|r;return{b:n,r:o}},z5=U5(tm,2),P3=z5.b,jp=z5.r;P3[28]=258,jp[258]=28;var B3=U5(nm,0),p2=B3.r,Ep=new gi(32768);for(var Kn=0;Kn<32768;++Kn){var ul=(Kn&43690)>>1|(Kn&21845)<<1;ul=(ul&52428)>>2|(ul&13107)<<2,ul=(ul&61680)>>4|(ul&3855)<<4,Ep[Kn]=((ul&65280)>>8|(ul&255)<<8)>>1}var gh=(function(i,e,n){for(var r=i.length,o=0,l=new gi(e);o<r;++o)i[o]&&++l[i[o]-1];var u=new gi(e);for(o=1;o<e;++o)u[o]=u[o-1]+l[o-1]<<1;var h;if(n){h=new gi(1<<e);var f=15-e;for(o=0;o<r;++o)if(i[o])for(var p=o<<4|i[o],y=e-i[o],S=u[i[o]-1]++<<y,N=S|(1<<y)-1;S<=N;++S)h[Ep[S]>>f]=p}else for(h=new gi(r),o=0;o<r;++o)i[o]&&(h[o]=Ep[u[i[o]-1]++]>>15-i[o]);return h}),oc=new vs(288);for(var Kn=0;Kn<144;++Kn)oc[Kn]=8;for(var Kn=144;Kn<256;++Kn)oc[Kn]=9;for(var Kn=256;Kn<280;++Kn)oc[Kn]=7;for(var Kn=280;Kn<288;++Kn)oc[Kn]=8;var Qf=new vs(32);for(var Kn=0;Kn<32;++Kn)Qf[Kn]=5;var U3=gh(oc,9,0),z3=gh(Qf,5,0),I5=function(i){return(i+7)/8|0},I3=function(i,e,n){return(n==null||n>i.length)&&(n=i.length),new vs(i.subarray(e,n))},So=function(i,e,n){n<<=e&7;var r=e/8|0;i[r]|=n,i[r+1]|=n>>8},uh=function(i,e,n){n<<=e&7;var r=e/8|0;i[r]|=n,i[r+1]|=n>>8,i[r+2]|=n>>16},q0=function(i,e){for(var n=[],r=0;r<i.length;++r)i[r]&&n.push({s:r,f:i[r]});var o=n.length,l=n.slice();if(!o)return{t:F5,l:0};if(o==1){var u=new vs(n[0].s+1);return u[n[0].s]=1,{t:u,l:1}}n.sort(function(J,ce){return J.f-ce.f}),n.push({s:-1,f:25001});var h=n[0],f=n[1],p=0,y=1,S=2;for(n[0]={s:-1,f:h.f+f.f,l:h,r:f};y!=o-1;)h=n[n[p].f<n[S].f?p++:S++],f=n[p!=y&&n[p].f<n[S].f?p++:S++],n[y++]={s:-1,f:h.f+f.f,l:h,r:f};for(var N=l[0].s,r=1;r<o;++r)l[r].s>N&&(N=l[r].s);var w=new gi(N+1),C=Cp(n[y-1],w,0);if(C>e){var r=0,L=0,T=C-e,k=1<<T;for(l.sort(function(ce,ne){return w[ne.s]-w[ce.s]||ce.f-ne.f});r<o;++r){var G=l[r].s;if(w[G]>e)L+=k-(1<<C-w[G]),w[G]=e;else break}for(L>>=T;L>0;){var M=l[r].s;w[M]<e?L-=1<<e-w[M]++-1:++r}for(;r>=0&&L;--r){var z=l[r].s;w[z]==e&&(--w[z],++L)}C=e}return{t:new vs(w),l:C}},Cp=function(i,e,n){return i.s==-1?Math.max(Cp(i.l,e,n+1),Cp(i.r,e,n+1)):e[i.s]=n},m2=function(i){for(var e=i.length;e&&!i[--e];);for(var n=new gi(++e),r=0,o=i[0],l=1,u=function(f){n[r++]=f},h=1;h<=e;++h)if(i[h]==o&&h!=e)++l;else{if(!o&&l>2){for(;l>138;l-=138)u(32754);l>2&&(u(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(u(o),--l;l>6;l-=6)u(8304);l>2&&(u(l-3<<5|8208),l=0)}for(;l--;)u(o);l=1,o=i[h]}return{c:n.subarray(0,r),n:e}},hh=function(i,e){for(var n=0,r=0;r<e.length;++r)n+=i[r]*e[r];return n},q5=function(i,e,n){var r=n.length,o=I5(e+2);i[o]=r&255,i[o+1]=r>>8,i[o+2]=i[o]^255,i[o+3]=i[o+1]^255;for(var l=0;l<r;++l)i[o+l+4]=n[l];return(o+4+r)*8},g2=function(i,e,n,r,o,l,u,h,f,p,y){So(e,y++,n),++o[256];for(var S=q0(o,15),N=S.t,w=S.l,C=q0(l,15),L=C.t,T=C.l,k=m2(N),G=k.c,M=k.n,z=m2(L),J=z.c,ce=z.n,ne=new gi(19),X=0;X<G.length;++X)++ne[G[X]&31];for(var X=0;X<J.length;++X)++ne[J[X]&31];for(var F=q0(ne,7),de=F.t,D=F.l,H=19;H>4&&!de[d2[H-1]];--H);var ie=p+5<<3,ae=hh(o,oc)+hh(l,Qf)+u,ue=hh(o,N)+hh(l,L)+u+14+3*H+hh(ne,de)+2*ne[16]+3*ne[17]+7*ne[18];if(f>=0&&ie<=ae&&ie<=ue)return q5(e,y,i.subarray(f,f+p));var W,se,le,re;if(So(e,y,1+(ue<ae)),y+=2,ue<ae){W=gh(N,w,0),se=N,le=gh(L,T,0),re=L;var Le=gh(de,D,0);So(e,y,M-257),So(e,y+5,ce-1),So(e,y+10,H-4),y+=14;for(var X=0;X<H;++X)So(e,y+3*X,de[d2[X]]);y+=3*H;for(var V=[G,J],A=0;A<2;++A)for(var B=V[A],X=0;X<B.length;++X){var q=B[X]&31;So(e,y,Le[q]),y+=de[q],q>15&&(So(e,y,B[X]>>5&127),y+=B[X]>>12)}}else W=U3,se=oc,le=z3,re=Qf;for(var X=0;X<h;++X){var te=r[X];if(te>255){var q=te>>18&31;uh(e,y,W[q+257]),y+=se[q+257],q>7&&(So(e,y,te>>23&31),y+=tm[q]);var oe=te&31;uh(e,y,le[oe]),y+=re[oe],oe>3&&(uh(e,y,te>>5&8191),y+=nm[oe])}else uh(e,y,W[te]),y+=se[te]}return uh(e,y,W[256]),y+se[256]},q3=new em([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F5=new vs(0),F3=function(i,e,n,r,o,l){var u=l.z||i.length,h=new vs(r+u+5*(1+Math.ceil(u/7e3))+o),f=h.subarray(r,h.length-o),p=l.l,y=(l.r||0)&7;if(e){y&&(f[0]=l.r>>3);for(var S=q3[e-1],N=S>>13,w=S&8191,C=(1<<n)-1,L=l.p||new gi(32768),T=l.h||new gi(C+1),k=Math.ceil(n/3),G=2*k,M=function(ge){return(i[ge]^i[ge+1]<<k^i[ge+2]<<G)&C},z=new em(25e3),J=new gi(288),ce=new gi(32),ne=0,X=0,F=l.i||0,de=0,D=l.w||0,H=0;F+2<u;++F){var ie=M(F),ae=F&32767,ue=T[ie];if(L[ae]=ue,T[ie]=ae,D<=F){var W=u-F;if((ne>7e3||de>24576)&&(W>423||!p)){y=g2(i,f,0,z,J,ce,X,de,H,F-H,y),de=ne=X=0,H=F;for(var se=0;se<286;++se)J[se]=0;for(var se=0;se<30;++se)ce[se]=0}var le=2,re=0,Le=w,V=ae-ue&32767;if(W>2&&ie==M(F-V))for(var A=Math.min(N,W)-1,B=Math.min(32767,F),q=Math.min(258,W);V<=B&&--Le&&ae!=ue;){if(i[F+le]==i[F+le-V]){for(var te=0;te<q&&i[F+te]==i[F+te-V];++te);if(te>le){if(le=te,re=V,te>A)break;for(var oe=Math.min(V,te-2),be=0,se=0;se<oe;++se){var Ae=F-V+se&32767,Ne=L[Ae],Pe=Ae-Ne&32767;Pe>be&&(be=Pe,ue=Ae)}}}ae=ue,ue=L[ae],V+=ae-ue&32767}if(re){z[de++]=268435456|jp[le]<<18|p2[re];var $e=jp[le]&31,Ke=p2[re]&31;X+=tm[$e]+nm[Ke],++J[257+$e],++ce[Ke],D=F+le,++ne}else z[de++]=i[F],++J[i[F]]}}for(F=Math.max(F,D);F<u;++F)z[de++]=i[F],++J[i[F]];y=g2(i,f,p,z,J,ce,X,de,H,F-H,y),p||(l.r=y&7|f[y/8|0]<<3,y-=7,l.h=T,l.p=L,l.i=F,l.w=D)}else{for(var F=l.w||0;F<u+p;F+=65535){var Je=F+65535;Je>=u&&(f[y/8|0]=p,Je=u),y=q5(f,y+1,i.subarray(F,Je))}l.i=u}return I3(h,0,r+I5(y)+o)},H5=function(){var i=1,e=0;return{p:function(n){for(var r=i,o=e,l=n.length|0,u=0;u!=l;){for(var h=Math.min(u+2655,l);u<h;++u)o+=r+=n[u];r=(r&65535)+15*(r>>16),o=(o&65535)+15*(o>>16)}i=r,e=o},d:function(){return i%=65521,e%=65521,(i&255)<<24|(i&65280)<<8|(e&255)<<8|e>>8}}},H3=function(i,e,n,r,o){if(!o&&(o={l:1},e.dictionary)){var l=e.dictionary.subarray(-32768),u=new vs(l.length+i.length);u.set(l),u.set(i,l.length),i=u,o.w=l.length}return F3(i,e.level==null?6:e.level,e.mem==null?o.l?Math.ceil(Math.max(8,Math.min(13,Math.log(i.length)))*1.5):20:12+e.mem,n,r,o)},$5=function(i,e,n){for(;n;++e)i[e]=n,n>>>=8},$3=function(i,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(i[0]=120,i[1]=r<<6|(e.dictionary&&32),i[1]|=31-(i[0]<<8|i[1])%31,e.dictionary){var o=H5();o.p(e.dictionary),$5(i,2,o.d())}};function Lp(i,e){e||(e={});var n=H5();n.p(i);var r=H3(i,e,e.dictionary?6:2,4);return $3(r,e),$5(r,r.length-4,n.d()),r}var V3=typeof TextDecoder!="undefined"&&new TextDecoder,G3=0;try{V3.decode(F5,{stream:!0}),G3=1}catch(i){}function Y3(i){if(Array.isArray(i))return i}function W3(i,e){var n=i==null?null:typeof Symbol!="undefined"&&i[Symbol.iterator]||i["@@iterator"];if(n!=null){var r,o,l,u,h=[],f=!0,p=!1;try{if(l=(n=n.call(i)).next,e!==0)for(;!(f=(r=l.call(n)).done)&&(h.push(r.value),h.length!==e);f=!0);}catch(y){p=!0,o=y}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(p)throw o}}return h}}function v2(i,e){(e==null||e>i.length)&&(e=i.length);for(var n=0,r=Array(e);n<e;n++)r[n]=i[n];return r}function K3(i,e){if(i){if(typeof i=="string")return v2(i,e);var n={}.toString.call(i).slice(8,-1);return n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set"?Array.from(i):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v2(i,e):void 0}}function J3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y2(i,e){return Y3(i)||W3(i,e)||K3(i,e)||J3()}function b2(i,e="utf8"){return new TextDecoder(e).decode(i)}const X3=new TextEncoder;function Z3(i){return X3.encode(i)}const Q3=1024*8,e4=(()=>{const i=new Uint8Array(4),e=new Uint32Array(i.buffer);return!((e[0]=1)&i[0])})(),F0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class am{constructor(e=Q3,n={}){yn(this,"buffer");yn(this,"byteLength");yn(this,"byteOffset");yn(this,"length");yn(this,"offset");yn(this,"lastWrittenByte");yn(this,"littleEndian");yn(this,"_data");yn(this,"_mark");yn(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const o=n.offset?n.offset>>>0:0,l=e.byteLength-o;let u=o;(ArrayBuffer.isView(e)||e instanceof am)&&(e.byteLength!==e.buffer.byteLength&&(u=e.byteOffset+o),e=e.buffer),r?this.lastWrittenByte=l:this.lastWrittenByte=0,this.buffer=e,this.length=l,this.byteLength=l,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,l),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,o=new Uint8Array(r);o.set(new Uint8Array(this.buffer)),this.buffer=o.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=F0[n].BYTES_PER_ELEMENT*e,o=this.byteOffset+this.offset,l=this.buffer.slice(o,o+r);if(this.littleEndian===e4&&n!=="uint8"&&n!=="int8"){const h=new Uint8Array(this.buffer.slice(o,o+r));h.reverse();const f=new F0[n](h.buffer);return this.offset+=r,f.reverse(),f}const u=new F0[n](l);return this.offset+=r,u}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return b2(this.readBytes(e))}decodeText(e=1,n="utf8"){return b2(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(Z3(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function ju(i){let e=i.length;for(;--e>=0;)i[e]=0}const t4=3,n4=258,V5=29,a4=256,r4=a4+1+V5,G5=30,i4=512,s4=new Array((r4+2)*2);ju(s4);const o4=new Array(G5*2);ju(o4);const l4=new Array(i4);ju(l4);const c4=new Array(n4-t4+1);ju(c4);const u4=new Array(V5);ju(u4);const h4=new Array(G5);ju(h4);const f4=(i,e,n,r)=>{let o=i&65535|0,l=i>>>16&65535|0,u=0;for(;n!==0;){u=n>2e3?2e3:n,n-=u;do o=o+e[r++]|0,l=l+o|0;while(--u);o%=65521,l%=65521}return o|l<<16|0};var kp=f4;const d4=()=>{let i,e=[];for(var n=0;n<256;n++){i=n;for(var r=0;r<8;r++)i=i&1?3988292384^i>>>1:i>>>1;e[n]=i}return e},p4=new Uint32Array(d4()),m4=(i,e,n,r)=>{const o=p4,l=r+n;i^=-1;for(let u=r;u<l;u++)i=i>>>8^o[(i^e[u])&255];return i^-1};var Fs=m4,Tp={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Y5={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const g4=(i,e)=>Object.prototype.hasOwnProperty.call(i,e);var v4=function(i){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)g4(n,r)&&(i[r]=n[r])}}return i},y4=i=>{let e=0;for(let r=0,o=i.length;r<o;r++)e+=i[r].length;const n=new Uint8Array(e);for(let r=0,o=0,l=i.length;r<l;r++){let u=i[r];n.set(u,o),o+=u.length}return n},W5={assign:v4,flattenChunks:y4};let K5=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(i){K5=!1}const Nh=new Uint8Array(256);for(let i=0;i<256;i++)Nh[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;Nh[254]=Nh[254]=1;var b4=i=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(i);let e,n,r,o,l,u=i.length,h=0;for(o=0;o<u;o++)n=i.charCodeAt(o),(n&64512)===55296&&o+1<u&&(r=i.charCodeAt(o+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),o++)),h+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(h),l=0,o=0;l<h;o++)n=i.charCodeAt(o),(n&64512)===55296&&o+1<u&&(r=i.charCodeAt(o+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),o++)),n<128?e[l++]=n:n<2048?(e[l++]=192|n>>>6,e[l++]=128|n&63):n<65536?(e[l++]=224|n>>>12,e[l++]=128|n>>>6&63,e[l++]=128|n&63):(e[l++]=240|n>>>18,e[l++]=128|n>>>12&63,e[l++]=128|n>>>6&63,e[l++]=128|n&63);return e};const w4=(i,e)=>{if(e<65534&&i.subarray&&K5)return String.fromCharCode.apply(null,i.length===e?i:i.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(i[r]);return n};var x4=(i,e)=>{const n=e||i.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(i.subarray(0,e));let r,o;const l=new Array(n*2);for(o=0,r=0;r<n;){let u=i[r++];if(u<128){l[o++]=u;continue}let h=Nh[u];if(h>4){l[o++]=65533,r+=h-1;continue}for(u&=h===2?31:h===3?15:7;h>1&&r<n;)u=u<<6|i[r++]&63,h--;if(h>1){l[o++]=65533;continue}u<65536?l[o++]=u:(u-=65536,l[o++]=55296|u>>10&1023,l[o++]=56320|u&1023)}return w4(l,o)},_4=(i,e)=>{e=e||i.length,e>i.length&&(e=i.length);let n=e-1;for(;n>=0&&(i[n]&192)===128;)n--;return n<0||n===0?e:n+Nh[i[n]]>e?n:e},Op={string2buf:b4,buf2string:x4,utf8border:_4};function S4(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var N4=S4;const Tf=16209,A4=16191;var j4=function(e,n){let r,o,l,u,h,f,p,y,S,N,w,C,L,T,k,G,M,z,J,ce,ne,X,F,de;const D=e.state;r=e.next_in,F=e.input,o=r+(e.avail_in-5),l=e.next_out,de=e.output,u=l-(n-e.avail_out),h=l+(e.avail_out-257),f=D.dmax,p=D.wsize,y=D.whave,S=D.wnext,N=D.window,w=D.hold,C=D.bits,L=D.lencode,T=D.distcode,k=(1<<D.lenbits)-1,G=(1<<D.distbits)-1;e:do{C<15&&(w+=F[r++]<<C,C+=8,w+=F[r++]<<C,C+=8),M=L[w&k];t:for(;;){if(z=M>>>24,w>>>=z,C-=z,z=M>>>16&255,z===0)de[l++]=M&65535;else if(z&16){J=M&65535,z&=15,z&&(C<z&&(w+=F[r++]<<C,C+=8),J+=w&(1<<z)-1,w>>>=z,C-=z),C<15&&(w+=F[r++]<<C,C+=8,w+=F[r++]<<C,C+=8),M=T[w&G];n:for(;;){if(z=M>>>24,w>>>=z,C-=z,z=M>>>16&255,z&16){if(ce=M&65535,z&=15,C<z&&(w+=F[r++]<<C,C+=8,C<z&&(w+=F[r++]<<C,C+=8)),ce+=w&(1<<z)-1,ce>f){e.msg="invalid distance too far back",D.mode=Tf;break e}if(w>>>=z,C-=z,z=l-u,ce>z){if(z=ce-z,z>y&&D.sane){e.msg="invalid distance too far back",D.mode=Tf;break e}if(ne=0,X=N,S===0){if(ne+=p-z,z<J){J-=z;do de[l++]=N[ne++];while(--z);ne=l-ce,X=de}}else if(S<z){if(ne+=p+S-z,z-=S,z<J){J-=z;do de[l++]=N[ne++];while(--z);if(ne=0,S<J){z=S,J-=z;do de[l++]=N[ne++];while(--z);ne=l-ce,X=de}}}else if(ne+=S-z,z<J){J-=z;do de[l++]=N[ne++];while(--z);ne=l-ce,X=de}for(;J>2;)de[l++]=X[ne++],de[l++]=X[ne++],de[l++]=X[ne++],J-=3;J&&(de[l++]=X[ne++],J>1&&(de[l++]=X[ne++]))}else{ne=l-ce;do de[l++]=de[ne++],de[l++]=de[ne++],de[l++]=de[ne++],J-=3;while(J>2);J&&(de[l++]=de[ne++],J>1&&(de[l++]=de[ne++]))}}else if((z&64)===0){M=T[(M&65535)+(w&(1<<z)-1)];continue n}else{e.msg="invalid distance code",D.mode=Tf;break e}break}}else if((z&64)===0){M=L[(M&65535)+(w&(1<<z)-1)];continue t}else if(z&32){D.mode=A4;break e}else{e.msg="invalid literal/length code",D.mode=Tf;break e}break}}while(r<o&&l<h);J=C>>3,r-=J,C-=J<<3,w&=(1<<C)-1,e.next_in=r,e.next_out=l,e.avail_in=r<o?5+(o-r):5-(r-o),e.avail_out=l<h?257+(h-l):257-(l-h),D.hold=w,D.bits=C};const su=15,w2=852,x2=592,_2=0,H0=1,S2=2,E4=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),C4=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),L4=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),k4=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),T4=(i,e,n,r,o,l,u,h)=>{const f=h.bits;let p=0,y=0,S=0,N=0,w=0,C=0,L=0,T=0,k=0,G=0,M,z,J,ce,ne,X=null,F;const de=new Uint16Array(su+1),D=new Uint16Array(su+1);let H=null,ie,ae,ue;for(p=0;p<=su;p++)de[p]=0;for(y=0;y<r;y++)de[e[n+y]]++;for(w=f,N=su;N>=1&&de[N]===0;N--);if(w>N&&(w=N),N===0)return o[l++]=1<<24|64<<16|0,o[l++]=1<<24|64<<16|0,h.bits=1,0;for(S=1;S<N&&de[S]===0;S++);for(w<S&&(w=S),T=1,p=1;p<=su;p++)if(T<<=1,T-=de[p],T<0)return-1;if(T>0&&(i===_2||N!==1))return-1;for(D[1]=0,p=1;p<su;p++)D[p+1]=D[p]+de[p];for(y=0;y<r;y++)e[n+y]!==0&&(u[D[e[n+y]]++]=y);if(i===_2?(X=H=u,F=20):i===H0?(X=E4,H=C4,F=257):(X=L4,H=k4,F=0),G=0,y=0,p=S,ne=l,C=w,L=0,J=-1,k=1<<w,ce=k-1,i===H0&&k>w2||i===S2&&k>x2)return 1;for(;;){ie=p-L,u[y]+1<F?(ae=0,ue=u[y]):u[y]>=F?(ae=H[u[y]-F],ue=X[u[y]-F]):(ae=96,ue=0),M=1<<p-L,z=1<<C,S=z;do z-=M,o[ne+(G>>L)+z]=ie<<24|ae<<16|ue|0;while(z!==0);for(M=1<<p-1;G&M;)M>>=1;if(M!==0?(G&=M-1,G+=M):G=0,y++,--de[p]===0){if(p===N)break;p=e[n+u[y]]}if(p>w&&(G&ce)!==J){for(L===0&&(L=w),ne+=S,C=p-L,T=1<<C;C+L<N&&(T-=de[C+L],!(T<=0));)C++,T<<=1;if(k+=1<<C,i===H0&&k>w2||i===S2&&k>x2)return 1;J=G&ce,o[J]=w<<24|C<<16|ne-l|0}}return G!==0&&(o[ne+G]=p-L<<24|64<<16|0),h.bits=w,0};var vh=T4;const O4=0,J5=1,X5=2,{Z_FINISH:N2,Z_BLOCK:R4,Z_TREES:Of,Z_OK:lc,Z_STREAM_END:D4,Z_NEED_DICT:M4,Z_STREAM_ERROR:Ui,Z_DATA_ERROR:Z5,Z_MEM_ERROR:Q5,Z_BUF_ERROR:P4,Z_DEFLATED:A2}=Y5,cd=16180,j2=16181,E2=16182,C2=16183,L2=16184,k2=16185,T2=16186,O2=16187,R2=16188,D2=16189,ed=16190,No=16191,$0=16192,M2=16193,V0=16194,P2=16195,B2=16196,U2=16197,z2=16198,Rf=16199,Df=16200,I2=16201,q2=16202,F2=16203,H2=16204,$2=16205,G0=16206,V2=16207,G2=16208,na=16209,ey=16210,ty=16211,B4=852,U4=592,z4=15,I4=z4,Y2=i=>(i>>>24&255)+(i>>>8&65280)+((i&65280)<<8)+((i&255)<<24);function q4(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const cc=i=>{if(!i)return 1;const e=i.state;return!e||e.strm!==i||e.mode<cd||e.mode>ty?1:0},ny=i=>{if(cc(i))return Ui;const e=i.state;return i.total_in=i.total_out=e.total=0,i.msg="",e.wrap&&(i.adler=e.wrap&1),e.mode=cd,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(B4),e.distcode=e.distdyn=new Int32Array(U4),e.sane=1,e.back=-1,lc},ay=i=>{if(cc(i))return Ui;const e=i.state;return e.wsize=0,e.whave=0,e.wnext=0,ny(i)},ry=(i,e)=>{let n;if(cc(i))return Ui;const r=i.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ui:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,ay(i))},iy=(i,e)=>{if(!i)return Ui;const n=new q4;i.state=n,n.strm=i,n.window=null,n.mode=cd;const r=ry(i,e);return r!==lc&&(i.state=null),r},F4=i=>iy(i,I4);let W2=!0,Y0,W0;const H4=i=>{if(W2){Y0=new Int32Array(512),W0=new Int32Array(32);let e=0;for(;e<144;)i.lens[e++]=8;for(;e<256;)i.lens[e++]=9;for(;e<280;)i.lens[e++]=7;for(;e<288;)i.lens[e++]=8;for(vh(J5,i.lens,0,288,Y0,0,i.work,{bits:9}),e=0;e<32;)i.lens[e++]=5;vh(X5,i.lens,0,32,W0,0,i.work,{bits:5}),W2=!1}i.lencode=Y0,i.lenbits=9,i.distcode=W0,i.distbits=5},sy=(i,e,n,r)=>{let o;const l=i.state;return l.window===null&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new Uint8Array(l.wsize)),r>=l.wsize?(l.window.set(e.subarray(n-l.wsize,n),0),l.wnext=0,l.whave=l.wsize):(o=l.wsize-l.wnext,o>r&&(o=r),l.window.set(e.subarray(n-r,n-r+o),l.wnext),r-=o,r?(l.window.set(e.subarray(n-r,n),0),l.wnext=r,l.whave=l.wsize):(l.wnext+=o,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=o))),0},$4=(i,e)=>{let n,r,o,l,u,h,f,p,y,S,N,w,C,L,T=0,k,G,M,z,J,ce,ne,X;const F=new Uint8Array(4);let de,D;const H=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(cc(i)||!i.output||!i.input&&i.avail_in!==0)return Ui;n=i.state,n.mode===No&&(n.mode=$0),u=i.next_out,o=i.output,f=i.avail_out,l=i.next_in,r=i.input,h=i.avail_in,p=n.hold,y=n.bits,S=h,N=f,X=lc;e:for(;;)switch(n.mode){case cd:if(n.wrap===0){n.mode=$0;break}for(;y<16;){if(h===0)break e;h--,p+=r[l++]<<y,y+=8}if(n.wrap&2&&p===35615){n.wbits===0&&(n.wbits=15),n.check=0,F[0]=p&255,F[1]=p>>>8&255,n.check=Fs(n.check,F,2,0),p=0,y=0,n.mode=j2;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((p&255)<<8)+(p>>8))%31){i.msg="incorrect header check",n.mode=na;break}if((p&15)!==A2){i.msg="unknown compression method",n.mode=na;break}if(p>>>=4,y-=4,ne=(p&15)+8,n.wbits===0&&(n.wbits=ne),ne>15||ne>n.wbits){i.msg="invalid window size",n.mode=na;break}n.dmax=1<<n.wbits,n.flags=0,i.adler=n.check=1,n.mode=p&512?D2:No,p=0,y=0;break;case j2:for(;y<16;){if(h===0)break e;h--,p+=r[l++]<<y,y+=8}if(n.flags=p,(n.flags&255)!==A2){i.msg="unknown compression method",n.mode=na;break}if(n.flags&57344){i.msg="unknown header flags set",n.mode=na;break}n.head&&(n.head.text=p>>8&1),n.flags&512&&n.wrap&4&&(F[0]=p&255,F[1]=p>>>8&255,n.check=Fs(n.check,F,2,0)),p=0,y=0,n.mode=E2;case E2:for(;y<32;){if(h===0)break e;h--,p+=r[l++]<<y,y+=8}n.head&&(n.head.time=p),n.flags&512&&n.wrap&4&&(F[0]=p&255,F[1]=p>>>8&255,F[2]=p>>>16&255,F[3]=p>>>24&255,n.check=Fs(n.check,F,4,0)),p=0,y=0,n.mode=C2;case C2:for(;y<16;){if(h===0)break e;h--,p+=r[l++]<<y,y+=8}n.head&&(n.head.xflags=p&255,n.head.os=p>>8),n.flags&512&&n.wrap&4&&(F[0]=p&255,F[1]=p>>>8&255,n.check=Fs(n.check,F,2,0)),p=0,y=0,n.mode=L2;case L2:if(n.flags&1024){for(;y<16;){if(h===0)break e;h--,p+=r[l++]<<y,y+=8}n.length=p,n.head&&(n.head.extra_len=p),n.flags&512&&n.wrap&4&&(F[0]=p&255,F[1]=p>>>8&255,n.check=Fs(n.check,F,2,0)),p=0,y=0}else n.head&&(n.head.extra=null);n.mode=k2;case k2:if(n.flags&1024&&(w=n.length,w>h&&(w=h),w&&(n.head&&(ne=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(l,l+w),ne)),n.flags&512&&n.wrap&4&&(n.check=Fs(n.check,r,w,l)),h-=w,l+=w,n.length-=w),n.length))break e;n.length=0,n.mode=T2;case T2:if(n.flags&2048){if(h===0)break e;w=0;do ne=r[l+w++],n.head&&ne&&n.length<65536&&(n.head.name+=String.fromCharCode(ne));while(ne&&w<h);if(n.flags&512&&n.wrap&4&&(n.check=Fs(n.check,r,w,l)),h-=w,l+=w,ne)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=O2;case O2:if(n.flags&4096){if(h===0)break e;w=0;do ne=r[l+w++],n.head&&ne&&n.length<65536&&(n.head.comment+=String.fromCharCode(ne));while(ne&&w<h);if(n.flags&512&&n.wrap&4&&(n.check=Fs(n.check,r,w,l)),h-=w,l+=w,ne)break e}else n.head&&(n.head.comment=null);n.mode=R2;case R2:if(n.flags&512){for(;y<16;){if(h===0)break e;h--,p+=r[l++]<<y,y+=8}if(n.wrap&4&&p!==(n.check&65535)){i.msg="header crc mismatch",n.mode=na;break}p=0,y=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),i.adler=n.check=0,n.mode=No;break;case D2:for(;y<32;){if(h===0)break e;h--,p+=r[l++]<<y,y+=8}i.adler=n.check=Y2(p),p=0,y=0,n.mode=ed;case ed:if(n.havedict===0)return i.next_out=u,i.avail_out=f,i.next_in=l,i.avail_in=h,n.hold=p,n.bits=y,M4;i.adler=n.check=1,n.mode=No;case No:if(e===R4||e===Of)break e;case $0:if(n.last){p>>>=y&7,y-=y&7,n.mode=G0;break}for(;y<3;){if(h===0)break e;h--,p+=r[l++]<<y,y+=8}switch(n.last=p&1,p>>>=1,y-=1,p&3){case 0:n.mode=M2;break;case 1:if(H4(n),n.mode=Rf,e===Of){p>>>=2,y-=2;break e}break;case 2:n.mode=B2;break;case 3:i.msg="invalid block type",n.mode=na}p>>>=2,y-=2;break;case M2:for(p>>>=y&7,y-=y&7;y<32;){if(h===0)break e;h--,p+=r[l++]<<y,y+=8}if((p&65535)!==(p>>>16^65535)){i.msg="invalid stored block lengths",n.mode=na;break}if(n.length=p&65535,p=0,y=0,n.mode=V0,e===Of)break e;case V0:n.mode=P2;case P2:if(w=n.length,w){if(w>h&&(w=h),w>f&&(w=f),w===0)break e;o.set(r.subarray(l,l+w),u),h-=w,l+=w,f-=w,u+=w,n.length-=w;break}n.mode=No;break;case B2:for(;y<14;){if(h===0)break e;h--,p+=r[l++]<<y,y+=8}if(n.nlen=(p&31)+257,p>>>=5,y-=5,n.ndist=(p&31)+1,p>>>=5,y-=5,n.ncode=(p&15)+4,p>>>=4,y-=4,n.nlen>286||n.ndist>30){i.msg="too many length or distance symbols",n.mode=na;break}n.have=0,n.mode=U2;case U2:for(;n.have<n.ncode;){for(;y<3;){if(h===0)break e;h--,p+=r[l++]<<y,y+=8}n.lens[H[n.have++]]=p&7,p>>>=3,y-=3}for(;n.have<19;)n.lens[H[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,de={bits:n.lenbits},X=vh(O4,n.lens,0,19,n.lencode,0,n.work,de),n.lenbits=de.bits,X){i.msg="invalid code lengths set",n.mode=na;break}n.have=0,n.mode=z2;case z2:for(;n.have<n.nlen+n.ndist;){for(;T=n.lencode[p&(1<<n.lenbits)-1],k=T>>>24,G=T>>>16&255,M=T&65535,!(k<=y);){if(h===0)break e;h--,p+=r[l++]<<y,y+=8}if(M<16)p>>>=k,y-=k,n.lens[n.have++]=M;else{if(M===16){for(D=k+2;y<D;){if(h===0)break e;h--,p+=r[l++]<<y,y+=8}if(p>>>=k,y-=k,n.have===0){i.msg="invalid bit length repeat",n.mode=na;break}ne=n.lens[n.have-1],w=3+(p&3),p>>>=2,y-=2}else if(M===17){for(D=k+3;y<D;){if(h===0)break e;h--,p+=r[l++]<<y,y+=8}p>>>=k,y-=k,ne=0,w=3+(p&7),p>>>=3,y-=3}else{for(D=k+7;y<D;){if(h===0)break e;h--,p+=r[l++]<<y,y+=8}p>>>=k,y-=k,ne=0,w=11+(p&127),p>>>=7,y-=7}if(n.have+w>n.nlen+n.ndist){i.msg="invalid bit length repeat",n.mode=na;break}for(;w--;)n.lens[n.have++]=ne}}if(n.mode===na)break;if(n.lens[256]===0){i.msg="invalid code -- missing end-of-block",n.mode=na;break}if(n.lenbits=9,de={bits:n.lenbits},X=vh(J5,n.lens,0,n.nlen,n.lencode,0,n.work,de),n.lenbits=de.bits,X){i.msg="invalid literal/lengths set",n.mode=na;break}if(n.distbits=6,n.distcode=n.distdyn,de={bits:n.distbits},X=vh(X5,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,de),n.distbits=de.bits,X){i.msg="invalid distances set",n.mode=na;break}if(n.mode=Rf,e===Of)break e;case Rf:n.mode=Df;case Df:if(h>=6&&f>=258){i.next_out=u,i.avail_out=f,i.next_in=l,i.avail_in=h,n.hold=p,n.bits=y,j4(i,N),u=i.next_out,o=i.output,f=i.avail_out,l=i.next_in,r=i.input,h=i.avail_in,p=n.hold,y=n.bits,n.mode===No&&(n.back=-1);break}for(n.back=0;T=n.lencode[p&(1<<n.lenbits)-1],k=T>>>24,G=T>>>16&255,M=T&65535,!(k<=y);){if(h===0)break e;h--,p+=r[l++]<<y,y+=8}if(G&&(G&240)===0){for(z=k,J=G,ce=M;T=n.lencode[ce+((p&(1<<z+J)-1)>>z)],k=T>>>24,G=T>>>16&255,M=T&65535,!(z+k<=y);){if(h===0)break e;h--,p+=r[l++]<<y,y+=8}p>>>=z,y-=z,n.back+=z}if(p>>>=k,y-=k,n.back+=k,n.length=M,G===0){n.mode=$2;break}if(G&32){n.back=-1,n.mode=No;break}if(G&64){i.msg="invalid literal/length code",n.mode=na;break}n.extra=G&15,n.mode=I2;case I2:if(n.extra){for(D=n.extra;y<D;){if(h===0)break e;h--,p+=r[l++]<<y,y+=8}n.length+=p&(1<<n.extra)-1,p>>>=n.extra,y-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=q2;case q2:for(;T=n.distcode[p&(1<<n.distbits)-1],k=T>>>24,G=T>>>16&255,M=T&65535,!(k<=y);){if(h===0)break e;h--,p+=r[l++]<<y,y+=8}if((G&240)===0){for(z=k,J=G,ce=M;T=n.distcode[ce+((p&(1<<z+J)-1)>>z)],k=T>>>24,G=T>>>16&255,M=T&65535,!(z+k<=y);){if(h===0)break e;h--,p+=r[l++]<<y,y+=8}p>>>=z,y-=z,n.back+=z}if(p>>>=k,y-=k,n.back+=k,G&64){i.msg="invalid distance code",n.mode=na;break}n.offset=M,n.extra=G&15,n.mode=F2;case F2:if(n.extra){for(D=n.extra;y<D;){if(h===0)break e;h--,p+=r[l++]<<y,y+=8}n.offset+=p&(1<<n.extra)-1,p>>>=n.extra,y-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){i.msg="invalid distance too far back",n.mode=na;break}n.mode=H2;case H2:if(f===0)break e;if(w=N-f,n.offset>w){if(w=n.offset-w,w>n.whave&&n.sane){i.msg="invalid distance too far back",n.mode=na;break}w>n.wnext?(w-=n.wnext,C=n.wsize-w):C=n.wnext-w,w>n.length&&(w=n.length),L=n.window}else L=o,C=u-n.offset,w=n.length;w>f&&(w=f),f-=w,n.length-=w;do o[u++]=L[C++];while(--w);n.length===0&&(n.mode=Df);break;case $2:if(f===0)break e;o[u++]=n.length,f--,n.mode=Df;break;case G0:if(n.wrap){for(;y<32;){if(h===0)break e;h--,p|=r[l++]<<y,y+=8}if(N-=f,i.total_out+=N,n.total+=N,n.wrap&4&&N&&(i.adler=n.check=n.flags?Fs(n.check,o,N,u-N):kp(n.check,o,N,u-N)),N=f,n.wrap&4&&(n.flags?p:Y2(p))!==n.check){i.msg="incorrect data check",n.mode=na;break}p=0,y=0}n.mode=V2;case V2:if(n.wrap&&n.flags){for(;y<32;){if(h===0)break e;h--,p+=r[l++]<<y,y+=8}if(n.wrap&4&&p!==(n.total&4294967295)){i.msg="incorrect length check",n.mode=na;break}p=0,y=0}n.mode=G2;case G2:X=D4;break e;case na:X=Z5;break e;case ey:return Q5;case ty:default:return Ui}return i.next_out=u,i.avail_out=f,i.next_in=l,i.avail_in=h,n.hold=p,n.bits=y,(n.wsize||N!==i.avail_out&&n.mode<na&&(n.mode<G0||e!==N2))&&sy(i,i.output,i.next_out,N-i.avail_out),S-=i.avail_in,N-=i.avail_out,i.total_in+=S,i.total_out+=N,n.total+=N,n.wrap&4&&N&&(i.adler=n.check=n.flags?Fs(n.check,o,N,i.next_out-N):kp(n.check,o,N,i.next_out-N)),i.data_type=n.bits+(n.last?64:0)+(n.mode===No?128:0)+(n.mode===Rf||n.mode===V0?256:0),(S===0&&N===0||e===N2)&&X===lc&&(X=P4),X},V4=i=>{if(cc(i))return Ui;let e=i.state;return e.window&&(e.window=null),i.state=null,lc},G4=(i,e)=>{if(cc(i))return Ui;const n=i.state;return(n.wrap&2)===0?Ui:(n.head=e,e.done=!1,lc)},Y4=(i,e)=>{const n=e.length;let r,o,l;return cc(i)||(r=i.state,r.wrap!==0&&r.mode!==ed)?Ui:r.mode===ed&&(o=1,o=kp(o,e,n,0),o!==r.check)?Z5:(l=sy(i,e,n,n),l?(r.mode=ey,Q5):(r.havedict=1,lc))};var W4=ay,K4=ry,J4=ny,X4=F4,Z4=iy,Q4=$4,e6=V4,t6=G4,n6=Y4,a6="pako inflate (from Nodeca project)",jo={inflateReset:W4,inflateReset2:K4,inflateResetKeep:J4,inflateInit:X4,inflateInit2:Z4,inflate:Q4,inflateEnd:e6,inflateGetHeader:t6,inflateSetDictionary:n6,inflateInfo:a6};function r6(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var i6=r6;const oy=Object.prototype.toString,{Z_NO_FLUSH:s6,Z_FINISH:o6,Z_OK:Ah,Z_STREAM_END:K0,Z_NEED_DICT:J0,Z_STREAM_ERROR:l6,Z_DATA_ERROR:K2,Z_MEM_ERROR:c6}=Y5;function Eh(i){this.options=W5.assign({chunkSize:1024*64,windowBits:15,to:""},i||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(i&&i.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new N4,this.strm.avail_out=0;let n=jo.inflateInit2(this.strm,e.windowBits);if(n!==Ah)throw new Error(Tp[n]);if(this.header=new i6,jo.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Op.string2buf(e.dictionary):oy.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=jo.inflateSetDictionary(this.strm,e.dictionary),n!==Ah)))throw new Error(Tp[n])}Eh.prototype.push=function(i,e){const n=this.strm,r=this.options.chunkSize,o=this.options.dictionary;let l,u,h;if(this.ended)return!1;for(e===~~e?u=e:u=e===!0?o6:s6,oy.call(i)==="[object ArrayBuffer]"?n.input=new Uint8Array(i):n.input=i,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),l=jo.inflate(n,u),l===J0&&o&&(l=jo.inflateSetDictionary(n,o),l===Ah?l=jo.inflate(n,u):l===K2&&(l=J0));n.avail_in>0&&l===K0&&n.state.wrap>0&&i[n.next_in]!==0;)jo.inflateReset(n),l=jo.inflate(n,u);switch(l){case l6:case K2:case J0:case c6:return this.onEnd(l),this.ended=!0,!1}if(h=n.avail_out,n.next_out&&(n.avail_out===0||l===K0))if(this.options.to==="string"){let f=Op.utf8border(n.output,n.next_out),p=n.next_out-f,y=Op.buf2string(n.output,f);n.next_out=p,n.avail_out=r-p,p&&n.output.set(n.output.subarray(f,f+p),0),this.onData(y)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(l===Ah&&h===0)){if(l===K0)return l=jo.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Eh.prototype.onData=function(i){this.chunks.push(i)};Eh.prototype.onEnd=function(i){i===Ah&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=W5.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};function u6(i,e){const n=new Eh(e);if(n.push(i),n.err)throw n.msg||Tp[n.err];return n.result}var h6=Eh,f6=u6,d6={Inflate:h6,inflate:f6};const{Inflate:p6,inflate:m6}=d6;var J2=p6,g6=m6;const ly=[];for(let i=0;i<256;i++){let e=i;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;ly[i]=e}const X2=4294967295;function v6(i,e,n){let r=i;for(let o=0;o<n;o++)r=ly[(r^e[o])&255]^r>>>8;return r}function y6(i,e){return(v6(X2,i,e)^X2)>>>0}function Z2(i,e,n){const r=i.readUint32(),o=y6(new Uint8Array(i.buffer,i.byteOffset+i.offset-e-4,e),e);if(o!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${o}`)}function cy(i,e,n){for(let r=0;r<n;r++)e[r]=i[r]}function uy(i,e,n,r){let o=0;for(;o<r;o++)e[o]=i[o];for(;o<n;o++)e[o]=i[o]+e[o-r]&255}function hy(i,e,n,r){let o=0;if(n.length===0)for(;o<r;o++)e[o]=i[o];else for(;o<r;o++)e[o]=i[o]+n[o]&255}function fy(i,e,n,r,o){let l=0;if(n.length===0){for(;l<o;l++)e[l]=i[l];for(;l<r;l++)e[l]=i[l]+(e[l-o]>>1)&255}else{for(;l<o;l++)e[l]=i[l]+(n[l]>>1)&255;for(;l<r;l++)e[l]=i[l]+(e[l-o]+n[l]>>1)&255}}function dy(i,e,n,r,o){let l=0;if(n.length===0){for(;l<o;l++)e[l]=i[l];for(;l<r;l++)e[l]=i[l]+e[l-o]&255}else{for(;l<o;l++)e[l]=i[l]+n[l]&255;for(;l<r;l++)e[l]=i[l]+b6(e[l-o],n[l],n[l-o])&255}}function b6(i,e,n){const r=i+e-n,o=Math.abs(r-i),l=Math.abs(r-e),u=Math.abs(r-n);return o<=l&&o<=u?i:l<=u?e:n}function w6(i,e,n,r,o,l){switch(i){case 0:cy(e,n,o);break;case 1:uy(e,n,o,l);break;case 2:hy(e,n,r,o);break;case 3:fy(e,n,r,o,l);break;case 4:dy(e,n,r,o,l);break;default:throw new Error(`Unsupported filter: ${i}`)}}const x6=new Uint16Array([255]),_6=new Uint8Array(x6.buffer),S6=_6[0]===255;function N6(i){const{data:e,width:n,height:r,channels:o,depth:l}=i,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],h=Math.ceil(l/8)*o,f=new Uint8Array(r*n*h);let p=0;for(let y=0;y<7;y++){const S=u[y],N=Math.ceil((n-S.x)/S.xStep),w=Math.ceil((r-S.y)/S.yStep);if(N<=0||w<=0)continue;const C=N*h,L=new Uint8Array(C);for(let T=0;T<w;T++){const k=e[p++],G=e.subarray(p,p+C);p+=C;const M=new Uint8Array(C);w6(k,G,M,L,C,h),L.set(M);for(let z=0;z<N;z++){const J=S.x+z*S.xStep,ce=S.y+T*S.yStep;if(!(J>=n||ce>=r))for(let ne=0;ne<h;ne++)f[(ce*n+J)*h+ne]=M[z*h+ne]}}}if(l===16){const y=new Uint16Array(f.buffer);if(S6)for(let S=0;S<y.length;S++)y[S]=A6(y[S]);return y}else return f}function A6(i){return(i&255)<<8|i>>8&255}const j6=new Uint16Array([255]),E6=new Uint8Array(j6.buffer),C6=E6[0]===255,L6=new Uint8Array(0);function Q2(i){const{data:e,width:n,height:r,channels:o,depth:l}=i,u=Math.ceil(l/8)*o,h=Math.ceil(l/8*o*n),f=new Uint8Array(r*h);let p=L6,y=0,S,N;for(let w=0;w<r;w++){switch(S=e.subarray(y+1,y+1+h),N=f.subarray(w*h,(w+1)*h),e[y]){case 0:cy(S,N,h);break;case 1:uy(S,N,h,u);break;case 2:hy(S,N,p,h);break;case 3:fy(S,N,p,h,u);break;case 4:dy(S,N,p,h,u);break;default:throw new Error(`Unsupported filter: ${e[y]}`)}p=N,y+=h+1}if(l===16){const w=new Uint16Array(f.buffer);if(C6)for(let C=0;C<w.length;C++)w[C]=k6(w[C]);return w}else return f}function k6(i){return(i&255)<<8|i>>8&255}const Ff=Uint8Array.of(137,80,78,71,13,10,26,10);function ev(i){if(!T6(i.readBytes(Ff.length)))throw new Error("wrong PNG signature")}function T6(i){if(i.length<Ff.length)return!1;for(let e=0;e<Ff.length;e++)if(i[e]!==Ff[e])return!1;return!0}const O6="tEXt",R6=0,py=new TextDecoder("latin1");function D6(i){if(P6(i),i.length===0||i.length>79)throw new Error("keyword length must be between 1 and 79")}const M6=/^[\u0000-\u00FF]*$/;function P6(i){if(!M6.test(i))throw new Error("invalid latin1 text")}function B6(i,e,n){const r=my(e);i[r]=U6(e,n-r.length-1)}function my(i){for(i.mark();i.readByte()!==R6;);const e=i.offset;i.reset();const n=py.decode(i.readBytes(e-i.offset-1));return i.skip(1),D6(n),n}function U6(i,e){return py.decode(i.readBytes(e))}const di={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},X0={UNKNOWN:-1,DEFLATE:0},tv={UNKNOWN:-1,ADAPTIVE:0},Z0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Mf={NONE:0,BACKGROUND:1,PREVIOUS:2},Q0={SOURCE:0,OVER:1};class z6 extends am{constructor(n,r={}){super(n);yn(this,"_checkCrc");yn(this,"_inflator");yn(this,"_png");yn(this,"_apng");yn(this,"_end");yn(this,"_hasPalette");yn(this,"_palette");yn(this,"_hasTransparency");yn(this,"_transparency");yn(this,"_compressionMethod");yn(this,"_filterMethod");yn(this,"_interlaceMethod");yn(this,"_colorType");yn(this,"_isAnimated");yn(this,"_numberOfFrames");yn(this,"_numberOfPlays");yn(this,"_frames");yn(this,"_writingDataChunks");const{checkCrc:o=!1}=r;this._checkCrc=o,this._inflator=new J2,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=X0.UNKNOWN,this._filterMethod=tv.UNKNOWN,this._interlaceMethod=Z0.UNKNOWN,this._colorType=di.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(ev(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(ev(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const o=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case O6:B6(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-o!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Z2(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const o=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=o+n;break}if(this.offset-o!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Z2(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=I6(this.readUint8());const r=this.readUint8();this._colorType=r;let o;switch(r){case di.GREYSCALE:o=1;break;case di.TRUECOLOUR:o=3;break;case di.INDEXED_COLOUR:o=1;break;case di.GREYSCALE_ALPHA:o=2;break;case di.TRUECOLOUR_ALPHA:o=4;break;case di.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=o,this._compressionMethod=this.readUint8(),this._compressionMethod!==X0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const o=[];this._palette=o;for(let l=0;l<r;l++)o.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,o=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,o,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,o=this.offset+this.byteOffset;if(o+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,o,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case di.GREYSCALE:case di.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case di.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const o=this.readByte();this._palette[r].push(o)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case di.UNKNOWN:case di.GREYSCALE_ALPHA:case di.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=my(this),o=this.readUint8();if(o!==X0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${o}`);const l=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:g6(l)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),o=this.readByte();this._png.resolution={x:n,y:r,unit:o}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},o=this._frames.at(n);if(o){if(o.data=Q2({data:o.data,width:o.width,height:o.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||o.xOffset===0&&o.yOffset===0&&o.width===this._png.width&&o.height===this._png.height)r.data=o.data;else{const l=this._apng.frames.at(n-1);this.disposeFrame(o,l,r),this.addFrameDataToCanvas(r,o)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,o){switch(n.disposeOp){case Mf.NONE:break;case Mf.BACKGROUND:for(let l=0;l<this._png.height;l++)for(let u=0;u<this._png.width;u++){const h=(l*n.width+u)*this._png.channels;for(let f=0;f<this._png.channels;f++)o.data[h+f]=0}break;case Mf.PREVIOUS:o.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const o=1<<this._png.depth,l=(u,h)=>{const f=((u+r.yOffset)*this._png.width+r.xOffset+h)*this._png.channels,p=(u*r.width+h)*this._png.channels;return{index:f,frameIndex:p}};switch(r.blendOp){case Q0.SOURCE:for(let u=0;u<r.height;u++)for(let h=0;h<r.width;h++){const{index:f,frameIndex:p}=l(u,h);for(let y=0;y<this._png.channels;y++)n.data[f+y]=r.data[p+y]}break;case Q0.OVER:for(let u=0;u<r.height;u++)for(let h=0;h<r.width;h++){const{index:f,frameIndex:p}=l(u,h);for(let y=0;y<this._png.channels;y++){const S=r.data[p+this._png.channels-1]/o,N=y%(this._png.channels-1)===0?1:r.data[p+y],w=Math.floor(S*N+(1-S)*n.data[f+y]);n.data[f+y]+=w}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==tv.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Z0.NO_INTERLACE)this._png.data=Q2({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Z0.ADAM7)this._png.data=N6({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Mf.NONE,blendOp:Q0.SOURCE,data:n}),this._inflator=new J2,this._writingDataChunks=!1}}function I6(i){if(i!==1&&i!==2&&i!==4&&i!==8&&i!==16)throw new Error(`invalid bit depth: ${i}`);return i}var nv;(function(i){i[i.UNKNOWN=0]="UNKNOWN",i[i.METRE=1]="METRE"})(nv||(nv={}));function q6(i,e){return new z6(i,e).decode()}var Dt=(function(){return typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this})();function ep(){Dt.console&&typeof Dt.console.log=="function"&&Dt.console.log.apply(Dt.console,arguments)}var zn={log:ep,warn:function(i){Dt.console&&(typeof Dt.console.warn=="function"?Dt.console.warn.apply(Dt.console,arguments):ep.call(null,arguments))},error:function(i){Dt.console&&(typeof Dt.console.error=="function"?Dt.console.error.apply(Dt.console,arguments):ep(i))}};function tp(i,e,n){var r=new XMLHttpRequest;r.open("GET",i),r.responseType="blob",r.onload=function(){Zl(r.response,e,n)},r.onerror=function(){zn.error("could not download file")},r.send()}function av(i){var e=new XMLHttpRequest;e.open("HEAD",i,!1);try{e.send()}catch(n){}return e.status>=200&&e.status<=299}function Pf(i){try{i.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(e)}}var Zl=Dt.saveAs||((typeof window=="undefined"?"undefined":Cn(window))!=="object"||window!==Dt?function(){}:typeof HTMLAnchorElement!="undefined"&&"download"in HTMLAnchorElement.prototype?function(i,e,n){var r=Dt.URL||Dt.webkitURL,o=document.createElement("a");e=e||i.name||"download",o.download=e,o.rel="noopener",typeof i=="string"?(o.href=i,o.origin!==location.origin?av(o.href)?tp(i,e,n):Pf(o,o.target="_blank"):Pf(o)):(o.href=r.createObjectURL(i),setTimeout(function(){r.revokeObjectURL(o.href)},4e4),setTimeout(function(){Pf(o)},0))}:"msSaveOrOpenBlob"in navigator?function(i,e,n){if(e=e||i.name||"download",typeof i=="string")if(av(i))tp(i,e,n);else{var r=document.createElement("a");r.href=i,r.target="_blank",setTimeout(function(){Pf(r)})}else navigator.msSaveOrOpenBlob((function(o,l){return l===void 0?l={autoBom:!1}:Cn(l)!=="object"&&(zn.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o})(i,n),e)}:function(i,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof i=="string")return tp(i,e,n);var o=i.type==="application/octet-stream",l=/constructor/i.test(Dt.HTMLElement)||Dt.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||o&&l)&&(typeof FileReader=="undefined"?"undefined":Cn(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var y=h.result;y=u?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=y:location=y,r=null},h.readAsDataURL(i)}else{var f=Dt.URL||Dt.webkitURL,p=f.createObjectURL(i);r?r.location=p:location.href=p,r=null,setTimeout(function(){f.revokeObjectURL(p)},4e4)}});function gy(i){var e;i=i||"",this.ok=!1,i.charAt(0)=="#"&&(i=i.substr(1,6)),i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[i=(i=i.replace(/ /g,"")).toLowerCase()]||i;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],r=0;r<n.length;r++){var o=n[r].re,l=n[r].process,u=o.exec(i);u&&(e=l(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),f=this.g.toString(16),p=this.b.toString(16);return h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),p.length==1&&(p="0"+p),"#"+h+f+p}}var Hf=Dt.atob.bind(Dt),rv=Dt.btoa.bind(Dt);function np(i,e){var n=i[0],r=i[1],o=i[2],l=i[3];n=pr(n,r,o,l,e[0],7,-680876936),l=pr(l,n,r,o,e[1],12,-389564586),o=pr(o,l,n,r,e[2],17,606105819),r=pr(r,o,l,n,e[3],22,-1044525330),n=pr(n,r,o,l,e[4],7,-176418897),l=pr(l,n,r,o,e[5],12,1200080426),o=pr(o,l,n,r,e[6],17,-1473231341),r=pr(r,o,l,n,e[7],22,-45705983),n=pr(n,r,o,l,e[8],7,1770035416),l=pr(l,n,r,o,e[9],12,-1958414417),o=pr(o,l,n,r,e[10],17,-42063),r=pr(r,o,l,n,e[11],22,-1990404162),n=pr(n,r,o,l,e[12],7,1804603682),l=pr(l,n,r,o,e[13],12,-40341101),o=pr(o,l,n,r,e[14],17,-1502002290),n=mr(n,r=pr(r,o,l,n,e[15],22,1236535329),o,l,e[1],5,-165796510),l=mr(l,n,r,o,e[6],9,-1069501632),o=mr(o,l,n,r,e[11],14,643717713),r=mr(r,o,l,n,e[0],20,-373897302),n=mr(n,r,o,l,e[5],5,-701558691),l=mr(l,n,r,o,e[10],9,38016083),o=mr(o,l,n,r,e[15],14,-660478335),r=mr(r,o,l,n,e[4],20,-405537848),n=mr(n,r,o,l,e[9],5,568446438),l=mr(l,n,r,o,e[14],9,-1019803690),o=mr(o,l,n,r,e[3],14,-187363961),r=mr(r,o,l,n,e[8],20,1163531501),n=mr(n,r,o,l,e[13],5,-1444681467),l=mr(l,n,r,o,e[2],9,-51403784),o=mr(o,l,n,r,e[7],14,1735328473),n=gr(n,r=mr(r,o,l,n,e[12],20,-1926607734),o,l,e[5],4,-378558),l=gr(l,n,r,o,e[8],11,-2022574463),o=gr(o,l,n,r,e[11],16,1839030562),r=gr(r,o,l,n,e[14],23,-35309556),n=gr(n,r,o,l,e[1],4,-1530992060),l=gr(l,n,r,o,e[4],11,1272893353),o=gr(o,l,n,r,e[7],16,-155497632),r=gr(r,o,l,n,e[10],23,-1094730640),n=gr(n,r,o,l,e[13],4,681279174),l=gr(l,n,r,o,e[0],11,-358537222),o=gr(o,l,n,r,e[3],16,-722521979),r=gr(r,o,l,n,e[6],23,76029189),n=gr(n,r,o,l,e[9],4,-640364487),l=gr(l,n,r,o,e[12],11,-421815835),o=gr(o,l,n,r,e[15],16,530742520),n=vr(n,r=gr(r,o,l,n,e[2],23,-995338651),o,l,e[0],6,-198630844),l=vr(l,n,r,o,e[7],10,1126891415),o=vr(o,l,n,r,e[14],15,-1416354905),r=vr(r,o,l,n,e[5],21,-57434055),n=vr(n,r,o,l,e[12],6,1700485571),l=vr(l,n,r,o,e[3],10,-1894986606),o=vr(o,l,n,r,e[10],15,-1051523),r=vr(r,o,l,n,e[1],21,-2054922799),n=vr(n,r,o,l,e[8],6,1873313359),l=vr(l,n,r,o,e[15],10,-30611744),o=vr(o,l,n,r,e[6],15,-1560198380),r=vr(r,o,l,n,e[13],21,1309151649),n=vr(n,r,o,l,e[4],6,-145523070),l=vr(l,n,r,o,e[11],10,-1120210379),o=vr(o,l,n,r,e[2],15,718787259),r=vr(r,o,l,n,e[9],21,-343485551),i[0]=pl(n,i[0]),i[1]=pl(r,i[1]),i[2]=pl(o,i[2]),i[3]=pl(l,i[3])}function ud(i,e,n,r,o,l){return e=pl(pl(e,i),pl(r,l)),pl(e<<o|e>>>32-o,n)}function pr(i,e,n,r,o,l,u){return ud(e&n|~e&r,i,e,o,l,u)}function mr(i,e,n,r,o,l,u){return ud(e&r|n&~r,i,e,o,l,u)}function gr(i,e,n,r,o,l,u){return ud(e^n^r,i,e,o,l,u)}function vr(i,e,n,r,o,l,u){return ud(n^(e|~r),i,e,o,l,u)}function vy(i){var e,n=i.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=i.length;e+=64)np(r,F6(i.substring(e-64,e)));i=i.substring(e-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<i.length;e++)o[e>>2]|=i.charCodeAt(e)<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),e>55)for(np(r,o),e=0;e<16;e++)o[e]=0;return o[14]=8*n,np(r,o),r}function F6(i){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=i.charCodeAt(e)+(i.charCodeAt(e+1)<<8)+(i.charCodeAt(e+2)<<16)+(i.charCodeAt(e+3)<<24);return n}var iv="0123456789abcdef".split("");function H6(i){for(var e="",n=0;n<4;n++)e+=iv[i>>8*n+4&15]+iv[i>>8*n&15];return e}function $6(i){return String.fromCharCode(255&i,(65280&i)>>8,(16711680&i)>>16,(4278190080&i)>>24)}function Rp(i){return vy(i).map($6).join("")}var V6=(function(i){for(var e=0;e<i.length;e++)i[e]=H6(i[e]);return i.join("")})(vy("hello"))!="5d41402abc4b2a76b9719d911017c592";function pl(i,e){if(V6){var n=(65535&i)+(65535&e);return(i>>16)+(e>>16)+(n>>16)<<16|65535&n}return i+e&4294967295}function Dp(i,e){var n,r,o,l;if(i!==n){for(var u=(o=i,l=1+(256/i.length|0),new Array(l+1).join(o)),h=[],f=0;f<256;f++)h[f]=f;var p=0;for(f=0;f<256;f++){var y=h[f];p=(p+y+u.charCodeAt(f))%256,h[f]=h[p],h[p]=y}n=i,r=h}else h=r;var S=e.length,N=0,w=0,C="";for(f=0;f<S;f++)w=(w+(y=h[N=(N+1)%256]))%256,h[N]=h[w],h[w]=y,u=h[(h[N]+h[w])%256],C+=String.fromCharCode(e.charCodeAt(f)^u);return C}var sv={print:4,modify:8,copy:16,"annot-forms":32};function hu(i,e,n,r){this.v=1,this.r=2;var o=192;i.forEach(function(h){if(sv.perm!==void 0)throw new Error("Invalid permission: "+h);o+=sv[h]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var l=(e+this.padding).substr(0,32),u=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(l,u),this.P=-(1+(255^o)),this.encryptionKey=Rp(l+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Dp(this.encryptionKey,this.padding)}function fu(i){if(/[^\u0000-\u00ff]/.test(i))throw new Error("Invalid PDF Name Object: "+i+", Only accept ASCII characters.");for(var e="",n=i.length,r=0;r<n;r++){var o=i.charCodeAt(r);e+=o<33||o===35||o===37||o===40||o===41||o===47||o===60||o===62||o===91||o===93||o===123||o===125||o>126?"#"+("0"+o.toString(16)).slice(-2):i[r]}return e}function ov(i){if(Cn(i)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,o){if(o=o||!1,typeof n!="string"||typeof r!="function"||typeof o!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var l=Math.random().toString(35);return e[n][l]=[r,!!o],l},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),o=[];for(var l in e[n]){var u=e[n][l];try{u[0].apply(i,r)}catch(h){Dt.console&&zn.error("jsPDF PubSub Error",h.message,h)}u[1]&&o.push(l)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function td(i){if(!(this instanceof td))return new td(i);var e="opacity,stroke-opacity".split(",");for(var n in i)i.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=i[n]);this.id="",this.objectNumber=-1}function yy(i,e){this.gState=i,this.matrix=e,this.id="",this.objectNumber=-1}function tc(i,e,n,r,o){if(!(this instanceof tc))return new tc(i,e,n,r,o);this.type=i==="axial"?2:3,this.coords=e,this.colors=n,yy.call(this,r,o)}function du(i,e,n,r,o){if(!(this instanceof du))return new du(i,e,n,r,o);this.boundingBox=i,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,yy.call(this,r,o)}function ht(i){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],o=arguments[2],l=arguments[3],u=[],h=1,f=16,p="S",y=null;Cn(i=i||{})==="object"&&(n=i.orientation,r=i.unit||r,o=i.format||o,l=i.compress||i.compressPdf||l,(y=i.encryption||null)!==null&&(y.userPassword=y.userPassword||"",y.ownerPassword=y.ownerPassword||"",y.userPermissions=y.userPermissions||[]),h=typeof i.userUnit=="number"?Math.abs(i.userUnit):1,i.precision!==void 0&&(e=i.precision),i.floatPrecision!==void 0&&(f=i.floatPrecision),p=i.defaultPathOperation||"S"),u=i.filters||(l===!0?["FlateEncode"]:u),r=r||"mm",n=(""+(n||"P")).toLowerCase();var S=i.putOnlyUsedFonts||!1,N={},w={internal:{},__private__:{}};w.__private__.PubSub=ov;var C="1.3",L=w.__private__.getPdfVersion=function(){return C};w.__private__.setPdfVersion=function(x){C=x};var T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return T};var k=w.__private__.getPageFormat=function(x){return T[x]};o=o||"a4";var G="compat",M="advanced",z=G;function J(){this.saveGraphicsState(),K(new mt(Et,0,0,-Et,0,Ki()*Et).toString()+" cm"),this.setFontSize(this.getFontSize()/Et),p="n",z=M}function ce(){this.restoreGraphicsState(),p="S",z=G}var ne=w.__private__.combineFontStyleAndFontWeight=function(x,O){if(x=="bold"&&O=="normal"||x=="bold"&&O==400||x=="normal"&&O=="italic"||x=="bold"&&O=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return O&&(x=O==400||O==="normal"?x==="italic"?"italic":"normal":O!=700&&O!=="bold"||x!=="normal"?(O==700?"bold":O)+""+x:"bold"),x};w.advancedAPI=function(x){var O=z===G;return O&&J.call(this),typeof x!="function"||(x(this),O&&ce.call(this)),this},w.compatAPI=function(x){var O=z===M;return O&&ce.call(this),typeof x!="function"||(x(this),O&&J.call(this)),this},w.isAdvancedAPI=function(){return z===M};var X,F=function(x){if(z!==M)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},de=w.roundToPrecision=w.__private__.roundToPrecision=function(x,O){var ee=e||O;if(isNaN(x)||isNaN(ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(ee).replace(/0+$/,"")};X=w.hpf=w.__private__.hpf=typeof f=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return de(x,f)}:f==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return de(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return de(x,16)};var D=w.f2=w.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return de(x,2)},H=w.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return de(x,3)},ie=w.scale=w.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return z===G?x*Et:z===M?x:void 0},ae=function(x){return ie((function(O){return z===G?Ki()-O:z===M?O:void 0})(x))};w.__private__.setPrecision=w.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(e=parseInt(x,10))};var ue,W="00000000000000000000000000000000",se=w.__private__.getFileId=function(){return W},le=w.__private__.setFileId=function(x){return W=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():W.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),y!==null&&(ra=new hu(y.userPermissions,y.userPassword,y.ownerPassword,W)),W};w.setFileId=function(x){return le(x),this},w.getFileId=function(){return se()};var re=w.__private__.convertDateToPDFDate=function(x){var O=x.getTimezoneOffset(),ee=O<0?"+":"-",pe=Math.floor(Math.abs(O/60)),we=Math.abs(O%60),Be=[ee,q(pe),"'",q(we),"'"].join("");return["D:",x.getFullYear(),q(x.getMonth()+1),q(x.getDate()),q(x.getHours()),q(x.getMinutes()),q(x.getSeconds()),Be].join("")},Le=w.__private__.convertPDFDateToDate=function(x){var O=parseInt(x.substr(2,4),10),ee=parseInt(x.substr(6,2),10)-1,pe=parseInt(x.substr(8,2),10),we=parseInt(x.substr(10,2),10),Be=parseInt(x.substr(12,2),10),He=parseInt(x.substr(14,2),10);return new Date(O,ee,pe,we,Be,He,0)},V=w.__private__.setCreationDate=function(x){var O;if(x===void 0&&(x=new Date),x instanceof Date)O=re(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");O=x}return ue=O},A=w.__private__.getCreationDate=function(x){var O=ue;return x==="jsDate"&&(O=Le(ue)),O};w.setCreationDate=function(x){return V(x),this},w.getCreationDate=function(x){return A(x)};var B,q=w.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},te=w.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},oe=0,be=[],Ae=[],Ne=0,Pe=[],$e=[],Ke=!1,Je=Ae;w.__private__.setCustomOutputDestination=function(x){Ke=!0,Je=x};var ge=function(x){Ke||(Je=x)};w.__private__.resetCustomOutputDestination=function(){Ke=!1,Je=Ae};var K=w.__private__.out=function(x){return x=x.toString(),Ne+=x.length+1,Je.push(x),Je},Ge=w.__private__.write=function(x){return K(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},et=w.__private__.getArrayBuffer=function(x){for(var O=x.length,ee=new ArrayBuffer(O),pe=new Uint8Array(ee);O--;)pe[O]=x.charCodeAt(O);return ee},at=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return at};var Fe=i.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(x){return Fe=z===M?x/Et:x,this};var tt,We=w.__private__.getFontSize=w.getFontSize=function(){return z===G?Fe:Fe*Et},Lt=i.R2L||!1;w.__private__.setR2L=w.setR2L=function(x){return Lt=x,this},w.__private__.getR2L=w.getR2L=function(){return Lt};var pt,Bt=w.__private__.setZoomMode=function(x){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))tt=x;else if(isNaN(x)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');tt=x}else tt=parseInt(x,10)};w.__private__.getZoomMode=function(){return tt};var Ut,Mt=w.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');pt=x};w.__private__.getPageMode=function(){return pt};var bn=w.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');Ut=x};w.__private__.getLayoutMode=function(){return Ut},w.__private__.setDisplayMode=w.setDisplayMode=function(x,O,ee){return Bt(x),bn(O),Mt(ee),this};var Ot={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(x){if(Object.keys(Ot).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ot[x]},w.__private__.getDocumentProperties=function(){return Ot},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(x){for(var O in Ot)Ot.hasOwnProperty(O)&&x[O]&&(Ot[O]=x[O]);return this},w.__private__.setDocumentProperty=function(x,O){if(Object.keys(Ot).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ot[x]=O};var ft,Et,dt,Ln,Kt,Xe={},xt={},Vt=[],_t={},Jt={},zt={},In={},Jn=null,mn=0,wt=[],nn=new ov(w),Xr=i.hotfixes||[],Va={},vi={},Tr=[],mt=function x(O,ee,pe,we,Be,He){if(!(this instanceof x))return new x(O,ee,pe,we,Be,He);isNaN(O)&&(O=1),isNaN(ee)&&(ee=0),isNaN(pe)&&(pe=0),isNaN(we)&&(we=1),isNaN(Be)&&(Be=0),isNaN(He)&&(He=0),this._matrix=[O,ee,pe,we,Be,He]};Object.defineProperty(mt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(mt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(mt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(mt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(mt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(mt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(mt.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(mt.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(mt.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(mt.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(mt.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(mt.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(mt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(mt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(mt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(mt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),mt.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(X).join(x)},mt.prototype.multiply=function(x){var O=x.sx*this.sx+x.shy*this.shx,ee=x.sx*this.shy+x.shy*this.sy,pe=x.shx*this.sx+x.sy*this.shx,we=x.shx*this.shy+x.sy*this.sy,Be=x.tx*this.sx+x.ty*this.shx+this.tx,He=x.tx*this.shy+x.ty*this.sy+this.ty;return new mt(O,ee,pe,we,Be,He)},mt.prototype.decompose=function(){var x=this.sx,O=this.shy,ee=this.shx,pe=this.sy,we=this.tx,Be=this.ty,He=Math.sqrt(x*x+O*O),rt=(x/=He)*ee+(O/=He)*pe;ee-=x*rt,pe-=O*rt;var lt=Math.sqrt(ee*ee+pe*pe);return rt/=lt,x*(pe/=lt)<O*(ee/=lt)&&(x=-x,O=-O,rt=-rt,He=-He),{scale:new mt(He,0,0,lt,0,0),translate:new mt(1,0,0,1,we,Be),rotate:new mt(x,O,-O,x,0,0),skew:new mt(1,0,rt,1,0,0)}},mt.prototype.toString=function(x){return this.join(" ")},mt.prototype.inversed=function(){var x=this.sx,O=this.shy,ee=this.shx,pe=this.sy,we=this.tx,Be=this.ty,He=1/(x*pe-O*ee),rt=pe*He,lt=-O*He,Ct=-ee*He,Pt=x*He;return new mt(rt,lt,Ct,Pt,-rt*we-Ct*Be,-lt*we-Pt*Be)},mt.prototype.applyToPoint=function(x){var O=x.x*this.sx+x.y*this.shx+this.tx,ee=x.x*this.shy+x.y*this.sy+this.ty;return new _i(O,ee)},mt.prototype.applyToRectangle=function(x){var O=this.applyToPoint(x),ee=this.applyToPoint(new _i(x.x+x.w,x.y+x.h));return new Gi(O.x,O.y,ee.x-O.x,ee.y-O.y)},mt.prototype.clone=function(){var x=this.sx,O=this.shy,ee=this.shx,pe=this.sy,we=this.tx,Be=this.ty;return new mt(x,O,ee,pe,we,Be)},w.Matrix=mt;var zi=w.matrixMult=function(x,O){return O.multiply(x)},yi=new mt(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=yi;var br=function(x,O){if(!Jt[x]){var ee=(O instanceof tc?"Sh":"P")+(Object.keys(_t).length+1).toString(10);O.id=ee,Jt[x]=ee,_t[ee]=O,nn.publish("addPattern",O)}};w.ShadingPattern=tc,w.TilingPattern=du,w.addShadingPattern=function(x,O){return F("addShadingPattern()"),br(x,O),this},w.beginTilingPattern=function(x){F("beginTilingPattern()"),Qs(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},w.endTilingPattern=function(x,O){F("endTilingPattern()"),O.stream=$e[B].join(`
`),br(x,O),nn.publish("endTilingPattern",O),Tr.pop().restore()};var wr,qn=w.__private__.newObject=function(){var x=ha();return ja(x,!0),x},ha=w.__private__.newObjectDeferred=function(){return oe++,be[oe]=function(){return Ne},oe},ja=function(x,O){return O=typeof O=="boolean"&&O,be[x]=Ne,O&&K(x+" 0 obj"),x},xs=w.__private__.newAdditionalObject=function(){var x={objId:ha(),content:""};return Pe.push(x),x},tr=ha(),Nn=ha(),Hn=w.__private__.decodeColorString=function(x){var O=x.split(" ");if(O.length!==2||O[1]!=="g"&&O[1]!=="G")O.length!==5||O[4]!=="k"&&O[4]!=="K"||(O=[(1-O[0])*(1-O[3]),(1-O[1])*(1-O[3]),(1-O[2])*(1-O[3]),"r"]);else{var ee=parseFloat(O[0]);O=[ee,ee,ee,"r"]}for(var pe="#",we=0;we<3;we++)pe+=("0"+Math.floor(255*parseFloat(O[we])).toString(16)).slice(-2);return pe},Ga=w.__private__.encodeColorString=function(x){var O;typeof x=="string"&&(x={ch1:x});var ee=x.ch1,pe=x.ch2,we=x.ch3,Be=x.ch4,He=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ee=="string"&&ee.charAt(0)!=="#"){var rt=new gy(ee);if(rt.ok)ee=rt.toHex();else if(!/^\d*\.?\d*$/.test(ee))throw new Error('Invalid color "'+ee+'" passed to jsPDF.encodeColorString.')}if(typeof ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ee)&&(ee="#"+ee[1]+ee[1]+ee[2]+ee[2]+ee[3]+ee[3]),typeof ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ee)){var lt=parseInt(ee.substr(1),16);ee=lt>>16&255,pe=lt>>8&255,we=255&lt}if(pe===void 0||Be===void 0&&ee===pe&&pe===we)O=typeof ee=="string"?ee+" "+He[0]:x.precision===2?D(ee/255)+" "+He[0]:H(ee/255)+" "+He[0];else if(Be===void 0||Cn(Be)==="object"){if(Be&&!isNaN(Be.a)&&Be.a===0)return["1.","1.","1.",He[1]].join(" ");O=typeof ee=="string"?[ee,pe,we,He[1]].join(" "):x.precision===2?[D(ee/255),D(pe/255),D(we/255),He[1]].join(" "):[H(ee/255),H(pe/255),H(we/255),He[1]].join(" ")}else O=typeof ee=="string"?[ee,pe,we,Be,He[2]].join(" "):x.precision===2?[D(ee),D(pe),D(we),D(Be),He[2]].join(" "):[H(ee),H(pe),H(we),H(Be),He[2]].join(" ");return O},xr=w.__private__.getFilters=function(){return u},Or=w.__private__.putStream=function(x){var O=(x=x||{}).data||"",ee=x.filters||xr(),pe=x.alreadyAppliedFilters||[],we=x.addLength1||!1,Be=O.length,He=x.objectId,rt=function(wa){return wa};if(y!==null&&He===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");y!==null&&(rt=ra.encryptor(He,0));var lt={};ee===!0&&(ee=["FlateEncode"]);var Ct=x.additionalKeyValues||[],Pt=(lt=ht.API.processDataByFilters!==void 0?ht.API.processDataByFilters(O,ee):{data:O,reverseChain:[]}).reverseChain+(Array.isArray(pe)?pe.join(" "):pe.toString());if(lt.data.length!==0&&(Ct.push({key:"Length",value:lt.data.length}),we===!0&&Ct.push({key:"Length1",value:Be})),Pt.length!=0)if(Pt.split("/").length-1==1)Ct.push({key:"Filter",value:Pt});else{Ct.push({key:"Filter",value:"["+Pt+"]"});for(var un=0;un<Ct.length;un+=1)if(Ct[un].key==="DecodeParms"){for(var $n=[],ia=0;ia<lt.reverseChain.split("/").length-1;ia+=1)$n.push("null");$n.push(Ct[un].value),Ct[un].value="["+$n.join(" ")+"]"}}K("<<");for(var kn=0;kn<Ct.length;kn++)K("/"+Ct[kn].key+" "+Ct[kn].value);K(">>"),lt.data.length!==0&&(K("stream"),K(rt(lt.data)),K("endstream"))},Gs=w.__private__.putPage=function(x){var O=x.number,ee=x.data,pe=x.objId,we=x.contentsObjId;ja(pe,!0),K("<</Type /Page"),K("/Parent "+x.rootDictionaryObjId+" 0 R"),K("/Resources "+x.resourceDictionaryObjId+" 0 R"),K("/MediaBox ["+parseFloat(X(x.mediaBox.bottomLeftX))+" "+parseFloat(X(x.mediaBox.bottomLeftY))+" "+X(x.mediaBox.topRightX)+" "+X(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&K("/CropBox ["+X(x.cropBox.bottomLeftX)+" "+X(x.cropBox.bottomLeftY)+" "+X(x.cropBox.topRightX)+" "+X(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&K("/BleedBox ["+X(x.bleedBox.bottomLeftX)+" "+X(x.bleedBox.bottomLeftY)+" "+X(x.bleedBox.topRightX)+" "+X(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&K("/TrimBox ["+X(x.trimBox.bottomLeftX)+" "+X(x.trimBox.bottomLeftY)+" "+X(x.trimBox.topRightX)+" "+X(x.trimBox.topRightY)+"]"),x.artBox!==null&&K("/ArtBox ["+X(x.artBox.bottomLeftX)+" "+X(x.artBox.bottomLeftY)+" "+X(x.artBox.topRightX)+" "+X(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&K("/UserUnit "+x.userUnit),nn.publish("putPage",{objId:pe,pageContext:wt[O],pageNumber:O,page:ee}),K("/Contents "+we+" 0 R"),K(">>"),K("endobj");var Be=ee.join(`
`);return z===M&&(Be+=`
Q`),ja(we,!0),Or({data:Be,filters:xr(),objectId:we}),K("endobj"),pe},Zr=w.__private__.putPages=function(){var x,O,ee=[];for(x=1;x<=mn;x++)wt[x].objId=ha(),wt[x].contentsObjId=ha();for(x=1;x<=mn;x++)ee.push(Gs({number:x,data:$e[x],objId:wt[x].objId,contentsObjId:wt[x].contentsObjId,mediaBox:wt[x].mediaBox,cropBox:wt[x].cropBox,bleedBox:wt[x].bleedBox,trimBox:wt[x].trimBox,artBox:wt[x].artBox,userUnit:wt[x].userUnit,rootDictionaryObjId:tr,resourceDictionaryObjId:Nn}));ja(tr,!0),K("<</Type /Pages");var pe="/Kids [";for(O=0;O<mn;O++)pe+=ee[O]+" 0 R ";K(pe+"]"),K("/Count "+mn),K(">>"),K("endobj"),nn.publish("postPutPages")},Qr=function(x){nn.publish("putFont",{font:x,out:K,newObject:qn,putStream:Or}),x.isAlreadyPutted!==!0&&(x.objectNumber=qn(),K("<<"),K("/Type /Font"),K("/BaseFont /"+fu(x.postScriptName)),K("/Subtype /Type1"),typeof x.encoding=="string"&&K("/Encoding /"+x.encoding),K("/FirstChar 32"),K("/LastChar 255"),K(">>"),K("endobj"))},_s=function(x){x.objectNumber=qn();var O=[];O.push({key:"Type",value:"/XObject"}),O.push({key:"Subtype",value:"/Form"}),O.push({key:"BBox",value:"["+[X(x.x),X(x.y),X(x.x+x.width),X(x.y+x.height)].join(" ")+"]"}),O.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var ee=x.pages[1].join(`
`);Or({data:ee,additionalKeyValues:O,objectId:x.objectNumber}),K("endobj")},ei=function(x,O){O||(O=21);var ee=qn(),pe=(function(He,rt){var lt,Ct=[],Pt=1/(rt-1);for(lt=0;lt<1;lt+=Pt)Ct.push(lt);if(Ct.push(1),He[0].offset!=0){var un={offset:0,color:He[0].color};He.unshift(un)}if(He[He.length-1].offset!=1){var $n={offset:1,color:He[He.length-1].color};He.push($n)}for(var ia="",kn=0,wa=0;wa<Ct.length;wa++){for(lt=Ct[wa];lt>He[kn+1].offset;)kn++;var fa=He[kn].offset,Ma=(lt-fa)/(He[kn+1].offset-fa),Dr=He[kn].color,cr=He[kn+1].color;ia+=te(Math.round((1-Ma)*Dr[0]+Ma*cr[0]).toString(16))+te(Math.round((1-Ma)*Dr[1]+Ma*cr[1]).toString(16))+te(Math.round((1-Ma)*Dr[2]+Ma*cr[2]).toString(16))}return ia.trim()})(x.colors,O),we=[];we.push({key:"FunctionType",value:"0"}),we.push({key:"Domain",value:"[0.0 1.0]"}),we.push({key:"Size",value:"["+O+"]"}),we.push({key:"BitsPerSample",value:"8"}),we.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),we.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Or({data:pe,additionalKeyValues:we,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ee}),K("endobj"),x.objectNumber=qn(),K("<< /ShadingType "+x.type),K("/ColorSpace /DeviceRGB");var Be="/Coords ["+X(parseFloat(x.coords[0]))+" "+X(parseFloat(x.coords[1]))+" ";x.type===2?Be+=X(parseFloat(x.coords[2]))+" "+X(parseFloat(x.coords[3])):Be+=X(parseFloat(x.coords[2]))+" "+X(parseFloat(x.coords[3]))+" "+X(parseFloat(x.coords[4]))+" "+X(parseFloat(x.coords[5])),K(Be+="]"),x.matrix&&K("/Matrix ["+x.matrix.toString()+"]"),K("/Function "+ee+" 0 R"),K("/Extend [true true]"),K(">>"),K("endobj")},ti=function(x,O){var ee=ha(),pe=qn();O.push({resourcesOid:ee,objectOid:pe}),x.objectNumber=pe;var we=[];we.push({key:"Type",value:"/Pattern"}),we.push({key:"PatternType",value:"1"}),we.push({key:"PaintType",value:"1"}),we.push({key:"TilingType",value:"1"}),we.push({key:"BBox",value:"["+x.boundingBox.map(X).join(" ")+"]"}),we.push({key:"XStep",value:X(x.xStep)}),we.push({key:"YStep",value:X(x.yStep)}),we.push({key:"Resources",value:ee+" 0 R"}),x.matrix&&we.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),Or({data:x.stream,additionalKeyValues:we,objectId:x.objectNumber}),K("endobj")},Ys=function(x){for(var O in x.objectNumber=qn(),K("<<"),x)switch(O){case"opacity":K("/ca "+D(x[O]));break;case"stroke-opacity":K("/CA "+D(x[O]))}K(">>"),K("endobj")},bi=function(x){ja(x.resourcesOid,!0),K("<<"),K("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var O in K("/Font <<"),Xe)Xe.hasOwnProperty(O)&&(S===!1||S===!0&&N.hasOwnProperty(O))&&K("/"+O+" "+Xe[O].objectNumber+" 0 R");K(">>")})(),(function(){if(Object.keys(_t).length>0){for(var O in K("/Shading <<"),_t)_t.hasOwnProperty(O)&&_t[O]instanceof tc&&_t[O].objectNumber>=0&&K("/"+O+" "+_t[O].objectNumber+" 0 R");nn.publish("putShadingPatternDict"),K(">>")}})(),(function(O){if(Object.keys(_t).length>0){for(var ee in K("/Pattern <<"),_t)_t.hasOwnProperty(ee)&&_t[ee]instanceof w.TilingPattern&&_t[ee].objectNumber>=0&&_t[ee].objectNumber<O&&K("/"+ee+" "+_t[ee].objectNumber+" 0 R");nn.publish("putTilingPatternDict"),K(">>")}})(x.objectOid),(function(){if(Object.keys(zt).length>0){var O;for(O in K("/ExtGState <<"),zt)zt.hasOwnProperty(O)&&zt[O].objectNumber>=0&&K("/"+O+" "+zt[O].objectNumber+" 0 R");nn.publish("putGStateDict"),K(">>")}})(),(function(){for(var O in K("/XObject <<"),Va)Va.hasOwnProperty(O)&&Va[O].objectNumber>=0&&K("/"+O+" "+Va[O].objectNumber+" 0 R");nn.publish("putXobjectDict"),K(">>")})(),K(">>"),K("endobj")},aa=function(x){xt[x.fontName]=xt[x.fontName]||{},xt[x.fontName][x.fontStyle]=x.id},vl=function(x,O,ee,pe,we){var Be={id:"F"+(Object.keys(Xe).length+1).toString(10),postScriptName:x,fontName:O,fontStyle:ee,encoding:pe,isStandardFont:we||!1,metadata:{}};return nn.publish("addFont",{font:Be,instance:this}),Xe[Be.id]=Be,aa(Be),Be.id},_r=w.__private__.pdfEscape=w.pdfEscape=function(x,O){return(function(ee,pe){var we,Be,He,rt,lt,Ct,Pt,un,$n;if(He=(pe=pe||{}).sourceEncoding||"Unicode",lt=pe.outputEncoding,(pe.autoencode||lt)&&Xe[ft].metadata&&Xe[ft].metadata[He]&&Xe[ft].metadata[He].encoding&&(rt=Xe[ft].metadata[He].encoding,!lt&&Xe[ft].encoding&&(lt=Xe[ft].encoding),!lt&&rt.codePages&&(lt=rt.codePages[0]),typeof lt=="string"&&(lt=rt[lt]),lt)){for(Pt=!1,Ct=[],we=0,Be=ee.length;we<Be;we++)(un=lt[ee.charCodeAt(we)])?Ct.push(String.fromCharCode(un)):Ct.push(ee[we]),Ct[we].charCodeAt(0)>>8&&(Pt=!0);ee=Ct.join("")}for(we=ee.length;Pt===void 0&&we!==0;)ee.charCodeAt(we-1)>>8&&(Pt=!0),we--;if(!Pt)return ee;for(Ct=pe.noBOM?[]:[254,255],we=0,Be=ee.length;we<Be;we++){if(($n=(un=ee.charCodeAt(we))>>8)>>8)throw new Error("Character at position "+we+" of string '"+ee+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ct.push($n),Ct.push(un-($n<<8))}return String.fromCharCode.apply(void 0,Ct)})(x,O).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ni=w.__private__.beginPage=function(x){$e[++mn]=[],wt[mn]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},bl(mn),ge($e[B])},Ii=function(x,O){var ee,pe,we;switch(n=O||n,typeof x=="string"&&(ee=k(x.toLowerCase()),Array.isArray(ee)&&(pe=ee[0],we=ee[1])),Array.isArray(x)&&(pe=x[0]*Et,we=x[1]*Et),isNaN(pe)&&(pe=o[0],we=o[1]),(pe>14400||we>14400)&&(zn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pe=Math.min(14400,pe),we=Math.min(14400,we)),o=[pe,we],n.substr(0,1)){case"l":we>pe&&(o=[we,pe]);break;case"p":pe>we&&(o=[we,pe])}ni(o),Ss(Ks),K(Ar),To!==0&&K(To+" J"),Ea!==0&&K(Ea+" j"),nn.publish("addPage",{pageNumber:mn})},yl=function(x){x>0&&x<=mn&&($e.splice(x,1),wt.splice(x,1),mn--,B>mn&&(B=mn),this.setPage(B))},bl=function(x){x>0&&x<=mn&&(B=x)},wl=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return $e.length-1},hc=function(x,O,ee){var pe,we=void 0;return ee=ee||{},x=x!==void 0?x:Xe[ft].fontName,O=O!==void 0?O:Xe[ft].fontStyle,pe=x.toLowerCase(),xt[pe]!==void 0&&xt[pe][O]!==void 0?we=xt[pe][O]:xt[x]!==void 0&&xt[x][O]!==void 0?we=xt[x][O]:ee.disableWarning===!1&&zn.warn("Unable to look up font label for font '"+x+"', '"+O+"'. Refer to getFontList() for available fonts."),we||ee.noFallback||(we=xt.times[O])==null&&(we=xt.times.normal),we},qi=w.__private__.putInfo=function(){var x=qn(),O=function(pe){return pe};for(var ee in y!==null&&(O=ra.encryptor(x,0)),K("<<"),K("/Producer ("+_r(O("jsPDF "+ht.version))+")"),Ot)Ot.hasOwnProperty(ee)&&Ot[ee]&&K("/"+ee.substr(0,1).toUpperCase()+ee.substr(1)+" ("+_r(O(Ot[ee]))+")");K("/CreationDate ("+_r(O(ue))+")"),K(">>"),K("endobj")},Lo=w.__private__.putCatalog=function(x){var O=(x=x||{}).rootDictionaryObjId||tr;switch(qn(),K("<<"),K("/Type /Catalog"),K("/Pages "+O+" 0 R"),tt||(tt="fullwidth"),tt){case"fullwidth":K("/OpenAction [3 0 R /FitH null]");break;case"fullheight":K("/OpenAction [3 0 R /FitV null]");break;case"fullpage":K("/OpenAction [3 0 R /Fit]");break;case"original":K("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ee=""+tt;ee.substr(ee.length-1)==="%"&&(tt=parseInt(tt)/100),typeof tt=="number"&&K("/OpenAction [3 0 R /XYZ null null "+D(tt)+"]")}switch(Ut||(Ut="continuous"),Ut){case"continuous":K("/PageLayout /OneColumn");break;case"single":K("/PageLayout /SinglePage");break;case"two":case"twoleft":K("/PageLayout /TwoColumnLeft");break;case"tworight":K("/PageLayout /TwoColumnRight")}pt&&K("/PageMode /"+pt),nn.publish("putCatalog"),K(">>"),K("endobj")},Sn=w.__private__.putTrailer=function(){K("trailer"),K("<<"),K("/Size "+(oe+1)),K("/Root "+oe+" 0 R"),K("/Info "+(oe-1)+" 0 R"),y!==null&&K("/Encrypt "+ra.oid+" 0 R"),K("/ID [ <"+W+"> <"+W+"> ]"),K(">>")},nr=w.__private__.putHeader=function(){K("%PDF-"+C),K("%")},xl=w.__private__.putXRef=function(){var x="0000000000";K("xref"),K("0 "+(oe+1)),K("0000000000 65535 f ");for(var O=1;O<=oe;O++)typeof be[O]=="function"?K((x+be[O]()).slice(-10)+" 00000 n "):be[O]!==void 0?K((x+be[O]).slice(-10)+" 00000 n "):K("0000000000 00000 n ")},Fi=w.__private__.buildDocument=function(){var x;oe=0,Ne=0,Ae=[],be=[],Pe=[],tr=ha(),Nn=ha(),ge(Ae),nn.publish("buildDocument"),nr(),Zr(),(function(){nn.publish("putAdditionalObjects");for(var ee=0;ee<Pe.length;ee++){var pe=Pe[ee];ja(pe.objId,!0),K(pe.content),K("endobj")}nn.publish("postPutAdditionalObjects")})(),x=[],(function(){for(var ee in Xe)Xe.hasOwnProperty(ee)&&(S===!1||S===!0&&N.hasOwnProperty(ee))&&Qr(Xe[ee])})(),(function(){var ee;for(ee in zt)zt.hasOwnProperty(ee)&&Ys(zt[ee])})(),(function(){for(var ee in Va)Va.hasOwnProperty(ee)&&_s(Va[ee])})(),(function(ee){var pe;for(pe in _t)_t.hasOwnProperty(pe)&&(_t[pe]instanceof tc?ei(_t[pe]):_t[pe]instanceof du&&ti(_t[pe],ee))})(x),nn.publish("putResources"),x.forEach(bi),bi({resourcesOid:Nn,objectOid:Number.MAX_SAFE_INTEGER}),nn.publish("postPutResources"),y!==null&&(ra.oid=qn(),K("<<"),K("/Filter /Standard"),K("/V "+ra.v),K("/R "+ra.r),K("/U <"+ra.toHexString(ra.U)+">"),K("/O <"+ra.toHexString(ra.O)+">"),K("/P "+ra.P),K(">>"),K("endobj")),qi(),Lo();var O=Ne;return xl(),Sn(),K("startxref"),K(""+O),K("%%EOF"),ge($e[B]),Ae.join(`
`)},Hi=w.__private__.getBlob=function(x){return new Blob([et(x)],{type:"application/pdf"})},Rr=w.output=w.__private__.output=(wr=function(x,O){switch(typeof(O=O||{})=="string"?O={filename:O}:O.filename=O.filename||"generated.pdf",x){case void 0:return Fi();case"save":w.save(O.filename);break;case"arraybuffer":return et(Fi());case"blob":return Hi(Fi());case"bloburi":case"bloburl":if(Dt.URL!==void 0&&typeof Dt.URL.createObjectURL=="function")return Dt.URL&&Dt.URL.createObjectURL(Hi(Fi()))||void 0;zn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ee="",pe=Fi();try{ee=rv(pe)}catch(ia){ee=rv(unescape(encodeURIComponent(pe)))}return"data:application/pdf;filename="+O.filename+";base64,"+ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Dt)==="[object Window]"){var we="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';O.pdfObjectUrl&&(we=O.pdfObjectUrl,Be="");var He='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+we+'"'+Be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(O)+");<\/script></body></html>",rt=Dt.open();return rt!==null&&rt.document.write(He),rt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Dt)==="[object Window]"){var lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(O.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+O.filename+'" width="500px" height="400px" /></body></html>',Ct=Dt.open();if(Ct!==null){Ct.document.write(lt);var Pt=this;Ct.document.documentElement.querySelector("#pdfViewer").onload=function(){Ct.document.title=O.filename,Ct.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Pt.output("bloburl"))}}return Ct}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Dt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var un='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",O)+'"></iframe></body></html>',$n=Dt.open();if($n!==null&&($n.document.write(un),$n.document.title=O.filename),$n||typeof safari=="undefined")return $n;break;case"datauri":case"dataurl":return Dt.document.location.href=this.output("datauristring",O);default:return null}},wr.foo=function(){try{return wr.apply(this,arguments)}catch(ee){var x=ee.stack||"";~x.indexOf(" at ")&&(x=x.split(" at ")[1]);var O="Error in function "+x.split(`
`)[0].split("<")[0]+": "+ee.message;if(!Dt.console)throw new Error(O);Dt.console.error(O,ee),Dt.alert&&alert(O)}},wr.foo.bar=wr,wr.foo),wi=function(x){return Array.isArray(Xr)===!0&&Xr.indexOf(x)>-1};switch(r){case"pt":Et=1;break;case"mm":Et=72/25.4;break;case"cm":Et=72/2.54;break;case"in":Et=72;break;case"px":Et=wi("px_scaling")==1?.75:96/72;break;case"pc":case"em":Et=12;break;case"ex":Et=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Et=r}var ra=null;V(),le();var Ya=w.__private__.getPageInfo=w.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:wt[x].objId,pageNumber:x,pageContext:wt[x]}},_l=w.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var O in wt)if(wt[O].objId===x)break;return Ya(O)},fc=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:wt[B].objId,pageNumber:B,pageContext:wt[B]}};w.addPage=function(){return Ii.apply(this,arguments),this},w.setPage=function(){return bl.apply(this,arguments),ge.call(this,$e[B]),this},w.insertPage=function(x){return this.addPage(),this.movePage(B,x),this},w.movePage=function(x,O){var ee,pe;if(x>O){ee=$e[x],pe=wt[x];for(var we=x;we>O;we--)$e[we]=$e[we-1],wt[we]=wt[we-1];$e[O]=ee,wt[O]=pe,this.setPage(O)}else if(x<O){ee=$e[x],pe=wt[x];for(var Be=x;Be<O;Be++)$e[Be]=$e[Be+1],wt[Be]=wt[Be+1];$e[O]=ee,wt[O]=pe,this.setPage(O)}return this},w.deletePage=function(){return yl.apply(this,arguments),this},w.__private__.text=w.text=function(x,O,ee,pe,we){var Be,He,rt,lt,Ct,Pt,un,$n,ia,kn=(pe=pe||{}).scope||this;if(typeof x=="number"&&typeof O=="number"&&(typeof ee=="string"||Array.isArray(ee))){var wa=ee;ee=O,O=x,x=wa}if(arguments[3]instanceof mt==0?(rt=arguments[4],lt=arguments[5],Cn(un=arguments[3])==="object"&&un!==null||(typeof rt=="string"&&(lt=rt,rt=null),typeof un=="string"&&(lt=un,un=null),typeof un=="number"&&(rt=un,un=null),pe={flags:un,angle:rt,align:lt})):(F("The transform parameter of text() with a Matrix value"),ia=we),isNaN(O)||isNaN(ee)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return kn;var fa,Ma="",Dr=typeof pe.lineHeightFactor=="number"?pe.lineHeightFactor:$i,cr=kn.internal.scaleFactor;function wc(hn){return hn=hn.split("	").join(Array(pe.TabLen||9).join(" ")),_r(hn,un)}function Ro(hn){for(var an,Tn=hn.concat(),oa=[],Ti=Tn.length;Ti--;)typeof(an=Tn.shift())=="string"?oa.push(an):Array.isArray(hn)&&(an.length===1||an[1]===void 0&&an[2]===void 0)?oa.push(an[0]):oa.push([an[0],an[1],an[2]]);return oa}function to(hn,an){var Tn;if(typeof hn=="string")Tn=an(hn)[0];else if(Array.isArray(hn)){for(var oa,Ti,li=hn.concat(),ro=[],Rl=li.length;Rl--;)typeof(oa=li.shift())=="string"?ro.push(an(oa)[0]):Array.isArray(oa)&&typeof oa[0]=="string"&&(Ti=an(oa[0],oa[1],oa[2]),ro.push([Ti[0],Ti[1],Ti[2]]));Tn=ro}return Tn}var Ni=!1,ii=!0;if(typeof x=="string")Ni=!0;else if(Array.isArray(x)){var no=x.concat();He=[];for(var As,Pa=no.length;Pa--;)(typeof(As=no.shift())!="string"||Array.isArray(As)&&typeof As[0]!="string")&&(ii=!1);Ni=ii}if(Ni===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var js=Fe/kn.internal.scaleFactor,Es=js*(Dr-1);switch(pe.baseline){case"bottom":ee-=Es;break;case"top":ee+=js-Es;break;case"hanging":ee+=js-2*Es;break;case"middle":ee+=js/2-Es}if((Pt=pe.maxWidth||0)>0&&(typeof x=="string"?x=kn.splitTextToSize(x,Pt):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(hn,an){return hn.concat(kn.splitTextToSize(an,Pt))},[]))),Be={text:x,x:O,y:ee,options:pe,mutex:{pdfEscape:_r,activeFontKey:ft,fonts:Xe,activeFontSize:Fe}},nn.publish("preProcessText",Be),x=Be.text,rt=(pe=Be.options).angle,ia instanceof mt==0&&rt&&typeof rt=="number"){rt*=Math.PI/180,pe.rotationDirection===0&&(rt=-rt),z===M&&(rt=-rt);var Do=Math.cos(rt),Ai=Math.sin(rt);ia=new mt(Do,Ai,-Ai,Do,0,0)}else rt&&rt instanceof mt&&(ia=rt);z!==M||ia||(ia=yi),(Ct=pe.charSpace||Vi)!==void 0&&(Ma+=X(ie(Ct))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),($n=pe.horizontalScale)!==void 0&&(Ma+=X(100*$n)+` Tz
`),pe.lang;var Xn=-1,Ji=pe.renderingMode!==void 0?pe.renderingMode:pe.stroke,Mo=kn.internal.getCurrentPageInfo().pageContext;switch(Ji){case 0:case!1:case"fill":Xn=0;break;case 1:case!0:case"stroke":Xn=1;break;case 2:case"fillThenStroke":Xn=2;break;case 3:case"invisible":Xn=3;break;case 4:case"fillAndAddForClipping":Xn=4;break;case 5:case"strokeAndAddPathForClipping":Xn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Xn=6;break;case 7:case"addToPathForClipping":Xn=7}var Tl=Mo.usedRenderingMode!==void 0?Mo.usedRenderingMode:-1;Xn!==-1?Ma+=Xn+` Tr
`:Tl!==-1&&(Ma+=`0 Tr
`),Xn!==-1&&(Mo.usedRenderingMode=Xn),lt=pe.align||"left";var Er,si=Fe*Dr,Xi=kn.internal.pageSize.getWidth(),Ol=Xe[ft];Ct=pe.charSpace||Vi,Pt=pe.maxWidth||0,un=Object.assign({autoencode:!0,noBOM:!0},pe.flags);var oi=[],Cs=function(hn){return kn.getStringUnitWidth(hn,{font:Ol,charSpace:Ct,fontSize:Fe,doKerning:!1})*Fe/cr};if(Object.prototype.toString.call(x)==="[object Array]"){var ur;He=Ro(x),lt!=="left"&&(Er=He.map(Cs));var rr,ji=0;if(lt==="right"){O-=Er[0],x=[],Pa=He.length;for(var Ei=0;Ei<Pa;Ei++)Ei===0?(rr=Nr(O),ur=Da(ee)):(rr=ie(ji-Er[Ei]),ur=-si),x.push([He[Ei],rr,ur]),ji=Er[Ei]}else if(lt==="center"){O-=Er[0]/2,x=[],Pa=He.length;for(var Zi=0;Zi<Pa;Zi++)Zi===0?(rr=Nr(O),ur=Da(ee)):(rr=ie((ji-Er[Zi])/2),ur=-si),x.push([He[Zi],rr,ur]),ji=Er[Zi]}else if(lt==="left"){x=[],Pa=He.length;for(var Po=0;Po<Pa;Po++)x.push(He[Po])}else if(lt==="justify"&&Ol.encoding==="Identity-H"){x=[],Pa=He.length,Pt=Pt!==0?Pt:Xi;for(var Bo=0,sa=0;sa<Pa;sa++)if(ur=sa===0?Da(ee):-si,rr=sa===0?Nr(O):Bo,sa<Pa-1){var xc=ie((Pt-Er[sa])/(He[sa].split(" ").length-1)),Ci=He[sa].split(" ");x.push([Ci[0]+" ",rr,ur]),Bo=0;for(var Li=1;Li<Ci.length;Li++){var Ba=(Cs(Ci[Li-1]+" "+Ci[Li])-Cs(Ci[Li]))*cr+xc;Li==Ci.length-1?x.push([Ci[Li],Ba,0]):x.push([Ci[Li]+" ",Ba,0]),Bo-=Ba}}else x.push([He[sa],rr,ur]);x.push(["",Bo,0])}else{if(lt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],Pa=He.length,Pt=Pt!==0?Pt:Xi,sa=0;sa<Pa;sa++){ur=sa===0?Da(ee):-si,rr=sa===0?Nr(O):0;var Qi=He[sa].split(" ").length-1,Uo=Qi>0?(Pt-Er[sa])/Qi:0;sa<Pa-1?oi.push(X(ie(Uo))):oi.push(0),x.push([He[sa],rr,ur])}}}(typeof pe.R2L=="boolean"?pe.R2L:Lt)===!0&&(x=to(x,function(hn,an,Tn){return[hn.split("").reverse().join(""),an,Tn]})),Be={text:x,x:O,y:ee,options:pe,mutex:{pdfEscape:_r,activeFontKey:ft,fonts:Xe,activeFontSize:Fe}},nn.publish("postProcessText",Be),x=Be.text,fa=Be.mutex.isHex||!1;var zo=Xe[ft].encoding;zo!=="WinAnsiEncoding"&&zo!=="StandardEncoding"||(x=to(x,function(hn,an,Tn){return[wc(hn),an,Tn]})),He=Ro(x),x=[];for(var es,ts,ki,ao=Array.isArray(He[0])?1:0,Cr="",ns=function(hn,an,Tn){var oa="";return Tn instanceof mt?(Tn=typeof pe.angle=="number"?zi(Tn,new mt(1,0,0,1,hn,an)):zi(new mt(1,0,0,1,hn,an),Tn),z===M&&(Tn=zi(new mt(1,0,0,-1,0,0),Tn)),oa=Tn.join(" ")+` Tm
`):oa=X(hn)+" "+X(an)+` Td
`,oa},Wa=0;Wa<He.length;Wa++){switch(Cr="",ao){case 1:ki=(fa?"<":"(")+He[Wa][0]+(fa?">":")"),es=parseFloat(He[Wa][1]),ts=parseFloat(He[Wa][2]);break;case 0:ki=(fa?"<":"(")+He[Wa]+(fa?">":")"),es=Nr(O),ts=Da(ee)}oi!==void 0&&oi[Wa]!==void 0&&(Cr=oi[Wa]+` Tw
`),Wa===0?x.push(Cr+ns(es,ts,ia)+ki):ao===0?x.push(Cr+ki):ao===1&&x.push(Cr+ns(es,ts,ia)+ki)}x=ao===0?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var Mr=`BT
/`;return Mr+=ft+" "+Fe+` Tf
`,Mr+=X(Fe*Dr)+` TL
`,Mr+=xi+`
`,Mr+=Ma,Mr+=x,K(Mr+="ET"),N[ft]=!0,kn};var Sl=w.__private__.clip=w.clip=function(x){return K(x==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return Sl("evenodd")},w.__private__.discardPath=w.discardPath=function(){return K("n"),this};var ar=w.__private__.isValidStyle=function(x){var O=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(O=!0),O};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(x){return ar(x)&&(p=x),this};var Nl=w.__private__.getStyle=w.getStyle=function(x){var O=p;switch(x){case"D":case"S":O="S";break;case"F":O="f";break;case"FD":case"DF":O="B";break;case"f":case"f*":case"B":case"B*":O=x}return O},Al=w.close=function(){return K("h"),this};w.stroke=function(){return K("S"),this},w.fill=function(x){return Sr("f",x),this},w.fillEvenOdd=function(x){return Sr("f*",x),this},w.fillStroke=function(x){return Sr("B",x),this},w.fillStrokeEvenOdd=function(x){return Sr("B*",x),this};var Sr=function(x,O){Cn(O)==="object"?pc(O,x):K(x)},jl=function(x){x===null||z===M&&x===void 0||(x=Nl(x),K(x))};function dc(x,O,ee,pe,we){var Be=new du(O||this.boundingBox,ee||this.xStep,pe||this.yStep,this.gState,we||this.matrix);Be.stream=this.stream;var He=x+"$$"+this.cloneIndex+++"$$";return br(He,Be),Be}var pc=function(x,O){var ee=Jt[x.key],pe=_t[ee];if(pe instanceof tc)K("q"),K(El(O)),pe.gState&&w.setGState(pe.gState),K(x.matrix.toString()+" cm"),K("/"+ee+" sh"),K("Q");else if(pe instanceof du){var we=new mt(1,0,0,-1,0,Ki());x.matrix&&(we=we.multiply(x.matrix||yi),ee=dc.call(pe,x.key,x.boundingBox,x.xStep,x.yStep,we).id),K("q"),K("/Pattern cs"),K("/"+ee+" scn"),pe.gState&&w.setGState(pe.gState),K(O),K("Q")}},El=function(x){switch(x){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Cl=w.moveTo=function(x,O){return K(X(ie(x))+" "+X(ae(O))+" m"),this},Ws=w.lineTo=function(x,O){return K(X(ie(x))+" "+X(ae(O))+" l"),this},ai=w.curveTo=function(x,O,ee,pe,we,Be){return K([X(ie(x)),X(ae(O)),X(ie(ee)),X(ae(pe)),X(ie(we)),X(ae(Be)),"c"].join(" ")),this};w.__private__.line=w.line=function(x,O,ee,pe,we){if(isNaN(x)||isNaN(O)||isNaN(ee)||isNaN(pe)||!ar(we))throw new Error("Invalid arguments passed to jsPDF.line");return z===G?this.lines([[ee-x,pe-O]],x,O,[1,1],we||"S"):this.lines([[ee-x,pe-O]],x,O,[1,1]).stroke()},w.__private__.lines=w.lines=function(x,O,ee,pe,we,Be){var He,rt,lt,Ct,Pt,un,$n,ia,kn,wa,fa,Ma;if(typeof x=="number"&&(Ma=ee,ee=O,O=x,x=Ma),pe=pe||[1,1],Be=Be||!1,isNaN(O)||isNaN(ee)||!Array.isArray(x)||!Array.isArray(pe)||!ar(we)||typeof Be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Cl(O,ee),He=pe[0],rt=pe[1],Ct=x.length,wa=O,fa=ee,lt=0;lt<Ct;lt++)(Pt=x[lt]).length===2?(wa=Pt[0]*He+wa,fa=Pt[1]*rt+fa,Ws(wa,fa)):(un=Pt[0]*He+wa,$n=Pt[1]*rt+fa,ia=Pt[2]*He+wa,kn=Pt[3]*rt+fa,wa=Pt[4]*He+wa,fa=Pt[5]*rt+fa,ai(un,$n,ia,kn,wa,fa));return Be&&Al(),jl(we),this},w.path=function(x){for(var O=0;O<x.length;O++){var ee=x[O],pe=ee.c;switch(ee.op){case"m":Cl(pe[0],pe[1]);break;case"l":Ws(pe[0],pe[1]);break;case"c":ai.apply(this,pe);break;case"h":Al()}}return this},w.__private__.rect=w.rect=function(x,O,ee,pe,we){if(isNaN(x)||isNaN(O)||isNaN(ee)||isNaN(pe)||!ar(we))throw new Error("Invalid arguments passed to jsPDF.rect");return z===G&&(pe=-pe),K([X(ie(x)),X(ae(O)),X(ie(ee)),X(ie(pe)),"re"].join(" ")),jl(we),this},w.__private__.triangle=w.triangle=function(x,O,ee,pe,we,Be,He){if(isNaN(x)||isNaN(O)||isNaN(ee)||isNaN(pe)||isNaN(we)||isNaN(Be)||!ar(He))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ee-x,pe-O],[we-ee,Be-pe],[x-we,O-Be]],x,O,[1,1],He,!0),this},w.__private__.roundedRect=w.roundedRect=function(x,O,ee,pe,we,Be,He){if(isNaN(x)||isNaN(O)||isNaN(ee)||isNaN(pe)||isNaN(we)||isNaN(Be)||!ar(He))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var rt=4/3*(Math.SQRT2-1);return we=Math.min(we,.5*ee),Be=Math.min(Be,.5*pe),this.lines([[ee-2*we,0],[we*rt,0,we,Be-Be*rt,we,Be],[0,pe-2*Be],[0,Be*rt,-we*rt,Be,-we,Be],[2*we-ee,0],[-we*rt,0,-we,-Be*rt,-we,-Be],[0,2*Be-pe],[0,-Be*rt,we*rt,-Be,we,-Be]],x+we,O,[1,1],He,!0),this},w.__private__.ellipse=w.ellipse=function(x,O,ee,pe,we){if(isNaN(x)||isNaN(O)||isNaN(ee)||isNaN(pe)||!ar(we))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Be=4/3*(Math.SQRT2-1)*ee,He=4/3*(Math.SQRT2-1)*pe;return Cl(x+ee,O),ai(x+ee,O-He,x+Be,O-pe,x,O-pe),ai(x-Be,O-pe,x-ee,O-He,x-ee,O),ai(x-ee,O+He,x-Be,O+pe,x,O+pe),ai(x+Be,O+pe,x+ee,O+He,x+ee,O),jl(we),this},w.__private__.circle=w.circle=function(x,O,ee,pe){if(isNaN(x)||isNaN(O)||isNaN(ee)||!ar(pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,O,ee,ee,pe)},w.setFont=function(x,O,ee){return ee&&(O=ne(O,ee)),ft=hc(x,O,{disableWarning:!1}),this};var ri=w.__private__.getFont=w.getFont=function(){return Xe[hc.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var x,O,ee={};for(x in xt)if(xt.hasOwnProperty(x))for(O in ee[x]=[],xt[x])xt[x].hasOwnProperty(O)&&ee[x].push(O);return ee},w.addFont=function(x,O,ee,pe,we){var Be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Be.indexOf(arguments[3])!==-1?we=arguments[3]:arguments[3]&&Be.indexOf(arguments[3])==-1&&(ee=ne(ee,pe)),vl.call(this,x,O,ee,we=we||"Identity-H")};var $i,Ks=i.lineWidth||.200025,St=w.__private__.getLineWidth=w.getLineWidth=function(){return Ks},Ss=w.__private__.setLineWidth=w.setLineWidth=function(x){return Ks=x,K(X(ie(x))+" w"),this};w.__private__.setLineDash=ht.API.setLineDash=ht.API.setLineDashPattern=function(x,O){if(x=x||[],O=O||0,isNaN(O)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(ee){return X(ie(ee))}).join(" "),O=X(ie(O)),K("["+x+"] "+O+" d"),this};var mc=w.__private__.getLineHeight=w.getLineHeight=function(){return Fe*$i};w.__private__.getLineHeight=w.getLineHeight=function(){return Fe*$i};var Ll=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&($i=x),this},gc=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return $i};Ll(i.lineHeight);var Nr=w.__private__.getHorizontalCoordinate=function(x){return ie(x)},Da=w.__private__.getVerticalCoordinate=function(x){return z===M?x:wt[B].mediaBox.topRightY-wt[B].mediaBox.bottomLeftY-ie(x)},kl=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(x){return X(Nr(x))},Js=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(x){return X(Da(x))},Ar=i.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return Hn(Ar)},w.__private__.setStrokeColor=w.setDrawColor=function(x,O,ee,pe){return Ar=Ga({ch1:x,ch2:O,ch3:ee,ch4:pe,pdfColorType:"draw",precision:2}),K(Ar),this};var Xs=i.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return Hn(Xs)},w.__private__.setFillColor=w.setFillColor=function(x,O,ee,pe){return Xs=Ga({ch1:x,ch2:O,ch3:ee,ch4:pe,pdfColorType:"fill",precision:2}),K(Xs),this};var xi=i.textColor||"0 g",Zs=w.__private__.getTextColor=w.getTextColor=function(){return Hn(xi)};w.__private__.setTextColor=w.setTextColor=function(x,O,ee,pe){return xi=Ga({ch1:x,ch2:O,ch3:ee,ch4:pe,pdfColorType:"text",precision:3}),this};var Vi=i.charSpace,ko=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat(Vi||0)};w.__private__.setCharSpace=w.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Vi=x,this};var To=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(x){var O=w.CapJoinStyles[x];if(O===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return To=O,K(O+" J"),this};var Ea=0;w.__private__.setLineJoin=w.setLineJoin=function(x){var O=w.CapJoinStyles[x];if(O===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ea=O,K(O+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return K(X(ie(x))+" M"),this},w.GState=td,w.setGState=function(x){(x=typeof x=="string"?zt[In[x]]:jr(null,x)).equals(Jn)||(K("/"+x.id+" gs"),Jn=x)};var jr=function(x,O){if(!x||!In[x]){var ee=!1;for(var pe in zt)if(zt.hasOwnProperty(pe)&&zt[pe].equals(O)){ee=!0;break}if(ee)O=zt[pe];else{var we="GS"+(Object.keys(zt).length+1).toString(10);zt[we]=O,O.id=we}return x&&(In[x]=O.id),nn.publish("addGState",O),O}};w.addGState=function(x,O){return jr(x,O),this},w.saveGraphicsState=function(){return K("q"),Vt.push({key:ft,size:Fe,color:xi}),this},w.restoreGraphicsState=function(){K("Q");var x=Vt.pop();return ft=x.key,Fe=x.size,xi=x.color,Jn=null,this},w.setCurrentTransformationMatrix=function(x){return K(x.toString()+" cm"),this},w.comment=function(x){return K("#"+x),this};var _i=function(x,O){var ee=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ee},set:function(Be){isNaN(Be)||(ee=parseFloat(Be))}});var pe=O||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pe},set:function(Be){isNaN(Be)||(pe=parseFloat(Be))}});var we="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return we},set:function(Be){we=Be.toString()}}),this},Gi=function(x,O,ee,pe){_i.call(this,x,O),this.type="rect";var we=ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return we},set:function(He){isNaN(He)||(we=parseFloat(He))}});var Be=pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Be},set:function(He){isNaN(He)||(Be=parseFloat(He))}}),this},Oo=function(){this.page=mn,this.currentPage=B,this.pages=$e.slice(0),this.pagesContext=wt.slice(0),this.x=dt,this.y=Ln,this.matrix=Kt,this.width=Ns(B),this.height=Si(B),this.outputDestination=Je,this.id="",this.objectNumber=-1};Oo.prototype.restore=function(){mn=this.page,B=this.currentPage,wt=this.pagesContext,$e=this.pages,dt=this.x,Ln=this.y,Kt=this.matrix,eo(B,this.width),Wi(B,this.height),Je=this.outputDestination};var Qs=function(x,O,ee,pe,we){Tr.push(new Oo),mn=B=0,$e=[],dt=x,Ln=O,Kt=we,ni([ee,pe])};for(var Yi in w.beginFormObject=function(x,O,ee,pe,we){return Qs(x,O,ee,pe,we),this},w.endFormObject=function(x){return(function(O){if(vi[O])Tr.pop().restore();else{var ee=new Oo,pe="Xo"+(Object.keys(Va).length+1).toString(10);ee.id=pe,vi[O]=pe,Va[pe]=ee,nn.publish("addFormObject",ee),Tr.pop().restore()}})(x),this},w.doFormObject=function(x,O){var ee=Va[vi[x]];return K("q"),K(O.toString()+" cm"),K("/"+ee.id+" Do"),K("Q"),this},w.getFormObject=function(x){var O=Va[vi[x]];return{x:O.x,y:O.y,width:O.width,height:O.height,matrix:O.matrix}},w.save=function(x,O){return x=x||"generated.pdf",(O=O||{}).returnPromise=O.returnPromise||!1,O.returnPromise===!1?(Zl(Hi(Fi()),x),typeof Zl.unload=="function"&&Dt.setTimeout&&setTimeout(Zl.unload,911),this):new Promise(function(ee,pe){try{var we=Zl(Hi(Fi()),x);typeof Zl.unload=="function"&&Dt.setTimeout&&setTimeout(Zl.unload,911),ee(we)}catch(Be){pe(Be.message)}})},ht.API)ht.API.hasOwnProperty(Yi)&&(Yi==="events"&&ht.API.events.length?(function(x,O){var ee,pe,we;for(we=O.length-1;we!==-1;we--)ee=O[we][0],pe=O[we][1],x.subscribe.apply(x,[ee].concat(typeof pe=="function"?[pe]:pe))})(nn,ht.API.events):w[Yi]=ht.API[Yi]);function Ns(x){return wt[x].mediaBox.topRightX-wt[x].mediaBox.bottomLeftX}function eo(x,O){wt[x].mediaBox.topRightX=O+wt[x].mediaBox.bottomLeftX}function Si(x){return wt[x].mediaBox.topRightY-wt[x].mediaBox.bottomLeftY}function Wi(x,O){wt[x].mediaBox.topRightY=O+wt[x].mediaBox.bottomLeftY}var vc=w.getPageWidth=function(x){return Ns(x=x||B)/Et},yc=w.setPageWidth=function(x,O){eo(x,O*Et)},Ki=w.getPageHeight=function(x){return Si(x=x||B)/Et},bc=w.setPageHeight=function(x,O){Wi(x,O*Et)};return w.internal={pdfEscape:_r,getStyle:Nl,getFont:ri,getFontSize:We,getCharSpace:ko,getTextColor:Zs,getLineHeight:mc,getLineHeightFactor:gc,getLineWidth:St,write:Ge,getHorizontalCoordinate:Nr,getVerticalCoordinate:Da,getCoordinateString:kl,getVerticalCoordinateString:Js,collections:{},newObject:qn,newAdditionalObject:xs,newObjectDeferred:ha,newObjectDeferredBegin:ja,getFilters:xr,putStream:Or,events:nn,scaleFactor:Et,pageSize:{getWidth:function(){return vc(B)},setWidth:function(x){yc(B,x)},getHeight:function(){return Ki(B)},setHeight:function(x){bc(B,x)}},encryptionOptions:y,encryption:ra,getEncryptor:function(x){return y!==null?ra.encryptor(x,0):function(O){return O}},output:Rr,getNumberOfPages:wl,pages:$e,out:K,f2:D,f3:H,getPageInfo:Ya,getPageInfoByObjId:_l,getCurrentPageInfo:fc,getPDFVersion:L,Point:_i,Rectangle:Gi,Matrix:mt,hasHotfix:wi},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return vc(B)},set:function(x){yc(B,x)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return Ki(B)},set:function(x){bc(B,x)},enumerable:!0,configurable:!0}),function(x){for(var O=0,ee=at.length;O<ee;O++){var pe=vl.call(this,x[O][0],x[O][1],x[O][2],at[O][3],!0);S===!1&&(N[pe]=!0);var we=x[O][0].split("-");aa({id:pe,fontName:we[0],fontStyle:we[1]||""})}nn.publish("addFonts",{fonts:Xe,dictionary:xt})}.call(w,at),ft="F1",Ii(o,n),nn.publish("initialized"),w}hu.prototype.lsbFirstWord=function(i){return String.fromCharCode(255&i,i>>8&255,i>>16&255,i>>24&255)},hu.prototype.toHexString=function(i){return i.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},hu.prototype.hexToBytes=function(i){for(var e=[],n=0;n<i.length;n+=2)e.push(String.fromCharCode(parseInt(i.substr(n,2),16)));return e.join("")},hu.prototype.processOwnerPassword=function(i,e){return Dp(Rp(e).substr(0,5),i)},hu.prototype.encryptor=function(i,e){var n=Rp(this.encryptionKey+String.fromCharCode(255&i,i>>8&255,i>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Dp(n,r)}},td.prototype.equals=function(i){var e,n="id,objectNumber,equals";if(!i||Cn(i)!==Cn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!i.hasOwnProperty(e)||this[e]!==i[e])return!1;r++}for(e in i)i.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},ht.API={events:[]},ht.version="3.0.3";var ba=ht.API,rm=1,uc=function(i){return i.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ou=function(i){return i.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ft=function(i){return i.toFixed(2)},hl=function(i){return i.toFixed(5)};ba.__acroform__={};var Jr=function(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i},lv=function(i){return i*rm},Hs=function(i){var e=new wy,n=ot.internal.getHeight(i)||0,r=ot.internal.getWidth(i)||0;return e.BBox=[0,0,Number(Ft(r)),Number(Ft(n))],e},G6=ba.__acroform__.setBit=function(i,e){if(i=i||0,e=e||0,isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return i|1<<e},Y6=ba.__acroform__.clearBit=function(i,e){if(i=i||0,e=e||0,isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return i&~(1<<e)},W6=ba.__acroform__.getBit=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return i&1<<e?1:0},Sa=ba.__acroform__.getBitForPdf=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return W6(i,e-1)},Na=ba.__acroform__.setBitForPdf=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G6(i,e-1)},Aa=ba.__acroform__.clearBitForPdf=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y6(i,e-1)},K6=ba.__acroform__.calculateCoordinates=function(i,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,o=i[0],l=i[1],u=i[2],h=i[3],f={};return f.lowerLeft_X=n(o)||0,f.lowerLeft_Y=r(l+h)||0,f.upperRight_X=n(o+u)||0,f.upperRight_Y=r(l)||0,[Number(Ft(f.lowerLeft_X)),Number(Ft(f.lowerLeft_Y)),Number(Ft(f.upperRight_X)),Number(Ft(f.upperRight_Y))]},J6=function(i){if(i.appearanceStreamContent)return i.appearanceStreamContent;if(i.V||i.DV){var e=[],n=i._V||i.DV,r=Mp(i,n),o=i.scope.internal.getFont(i.fontName,i.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(i.scope.__private__.encodeColorString(i.color)),e.push("/"+o+" "+Ft(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var l=Hs(i);return l.scope=i.scope,l.stream=e.join(`
`),l}},Mp=function(i,e){var n=i.fontSize===0?i.maxFontSize:i.fontSize,r={text:"",fontSize:""},o=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");o=i.multiline?o.map(function(D){return D.split(`
`)}):o.map(function(D){return[D]});var l=n,u=ot.internal.getHeight(i)||0;u=u<0?-u:u;var h=ot.internal.getWidth(i)||0;h=h<0?-h:h;var f=function(D,H,ie){if(D+1<o.length){var ae=H+" "+o[D+1][0];return Bf(ae,i,ie).width<=h-4}return!1};l++;e:for(;l>0;){e="",l--;var p,y,S=Bf("3",i,l).height,N=i.multiline?u-l:(u-S)/2,w=N+=2,C=0,L=0,T=0;if(l<=0){e=`(...) Tj
`,e+="% Width of Text: "+Bf(e,i,l=12).width+", FieldWidth:"+h+`
`;break}for(var k="",G=0,M=0;M<o.length;M++)if(o.hasOwnProperty(M)){var z=!1;if(o[M].length!==1&&T!==o[M].length-1){if((S+2)*(G+2)+2>u)continue e;k+=o[M][T],z=!0,L=M,M--}else{k=(k+=o[M][T]+" ").substr(k.length-1)==" "?k.substr(0,k.length-1):k;var J=parseInt(M),ce=f(J,k,l),ne=M>=o.length-1;if(ce&&!ne){k+=" ",T=0;continue}if(ce||ne){if(ne)L=J;else if(i.multiline&&(S+2)*(G+2)+2>u)continue e}else{if(!i.multiline||(S+2)*(G+2)+2>u)continue e;L=J}}for(var X="",F=C;F<=L;F++){var de=o[F];if(i.multiline){if(F===L){X+=de[T]+" ",T=(T+1)%de.length;continue}if(F===C){X+=de[de.length-1]+" ";continue}}X+=de[0]+" "}switch(X=X.substr(X.length-1)==" "?X.substr(0,X.length-1):X,y=Bf(X,i,l).width,i.textAlign){case"right":p=h-y-2;break;case"center":p=(h-y)/2;break;default:p=2}e+=Ft(p)+" "+Ft(w)+` Td
`,e+="("+uc(X)+`) Tj
`,e+=-Ft(p)+` 0 Td
`,w=-(l+2),y=0,C=z?L:L+1,G++,k=""}break}return r.text=e,r.fontSize=l,r},Bf=function(i,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),o=e.scope.getStringUnitWidth(i,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:o}},X6={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Z6=function(i,e){var n={type:"reference",object:i};e.internal.getPageInfo(i.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(i.page).pageContext.annotations.push(n)},Q6=function(i,e){if(e.scope=i,i.internal!==void 0&&(i.internal.acroformPlugin===void 0||i.internal.acroformPlugin.isInitialized===!1)){if(bs.FieldNum=0,i.internal.acroformPlugin=JSON.parse(JSON.stringify(X6)),i.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");rm=i.internal.scaleFactor,i.internal.acroformPlugin.acroFormDictionaryRoot=new xy,i.internal.acroformPlugin.acroFormDictionaryRoot.scope=i,i.internal.acroformPlugin.acroFormDictionaryRoot._eventID=i.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(i)}),i.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var o in r)if(r.hasOwnProperty(o)){var l=r[o];l.objId=void 0,l.hasAnnotation&&Z6(l,n)}})(i)}),i.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(i)}),i.internal.events.subscribe("postPutPages",function(n){(function(r,o){var l=!r;for(var u in r||(o.internal.newObjectDeferredBegin(o.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),o.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||o.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(u)){var h=r[u],f=[],p=h.Rect;if(h.Rect&&(h.Rect=K6(h.Rect,o)),o.internal.newObjectDeferredBegin(h.objId,!0),h.DA=ot.createDefaultAppearanceStream(h),Cn(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(f=h.getKeyValueListForStream()),h.Rect=p,h.hasAppearanceStream&&!h.appearanceStreamContent){var y=J6(h);f.push({key:"AP",value:"<</N "+y+">>"}),o.internal.acroformPlugin.xForms.push(y)}if(h.appearanceStreamContent){var S="";for(var N in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(N)){var w=h.appearanceStreamContent[N];if(S+="/"+N+" ",S+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var u in w)if(w.hasOwnProperty(u)){var C=w[u];typeof C=="function"&&(C=C.call(o,h)),S+="/"+u+" "+C+" ",o.internal.acroformPlugin.xForms.indexOf(C)>=0||o.internal.acroformPlugin.xForms.push(C)}}else typeof(C=w)=="function"&&(C=C.call(o,h)),S+="/"+u+" "+C,o.internal.acroformPlugin.xForms.indexOf(C)>=0||o.internal.acroformPlugin.xForms.push(C);S+=">>"}f.push({key:"AP",value:`<<
`+S+">>"})}o.internal.putStream({additionalKeyValues:f,objectId:h.objId}),o.internal.out("endobj")}l&&(function(L,T){for(var k in L)if(L.hasOwnProperty(k)){var G=k,M=L[k];T.internal.newObjectDeferredBegin(M.objId,!0),Cn(M)==="object"&&typeof M.putStream=="function"&&M.putStream(),delete L[G]}})(o.internal.acroformPlugin.xForms,o)})(n,i)}),i.internal.acroformPlugin.isInitialized=!0}},by=ba.__acroform__.arrayToPdfArray=function(i,e,n){var r=function(u){return u};if(Array.isArray(i)){for(var o="[",l=0;l<i.length;l++)switch(l!==0&&(o+=" "),Cn(i[l])){case"boolean":case"number":case"object":o+=i[l].toString();break;case"string":i[l].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),o+="("+uc(r(i[l].toString()))+")"):o+=i[l].toString()}return o+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},ap=function(i,e,n){var r=function(o){return o};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(i=i||"").toString(),"("+uc(r(i))+")"},$s=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(i){this._objId=i}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};$s.prototype.toString=function(){return this.objId+" 0 R"},$s.prototype.putStream=function(){var i=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:i,objectId:this.objId}),this.scope.internal.out("endobj")},$s.prototype.getKeyValueListForStream=function(){var i=[],e=Object.getOwnPropertyNames(this).filter(function(l){return l!="content"&&l!="appearanceStreamContent"&&l!="scope"&&l!="objId"&&l.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],o=this[r];o&&(Array.isArray(o)?i.push({key:r,value:by(o,this.objId,this.scope)}):o instanceof $s?(o.scope=this.scope,i.push({key:r,value:o.objId+" 0 R"})):typeof o!="function"&&i.push({key:r,value:o}))}return i};var wy=function(){$s.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var i,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){i=n.trim()},get:function(){return i||null}})};Jr(wy,$s);var xy=function(){$s.call(this);var i,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(i){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+uc(n(i))+")"}},set:function(n){i=n}})};Jr(xy,$s);var bs=function i(){$s.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute F supplied.');e=k}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Sa(e,3)},set:function(k){k?this.F=Na(e,3):this.F=Aa(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute Ff supplied.');n=k}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(k){r=k!==void 0?k:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(k){r[0]=k}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(k){r[1]=k}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(k){r[2]=k}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(k){r[3]=k}});var o="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return o},set:function(k){switch(k){case"/Btn":case"/Tx":case"/Ch":case"/Sig":o=k;break;default:throw new Error('Invalid value "'+k+'" for attribute FT supplied.')}}});var l=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!l||l.length<1){if(this instanceof nd)return;l="FieldObject"+i.FieldNum++}var k=function(G){return G};return this.scope&&(k=this.scope.internal.getEncryptor(this.objId)),"("+uc(k(l))+")"},set:function(k){l=k.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return l},set:function(k){l=k}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(k){u=k}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(k){h=k}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(k){f=k}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/rm:p},set:function(k){p=k}});var y="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return y},set:function(k){y=k}});var S="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!S||this instanceof nd||this instanceof ic))return ap(S,this.objId,this.scope)},set:function(k){k=k.toString(),S=k}});var N=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(N)return this instanceof er==0?ap(N,this.objId,this.scope):N},set:function(k){k=k.toString(),N=this instanceof er==0?k.substr(0,1)==="("?ou(k.substr(1,k.length-2)):ou(k):k}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof er==1?ou(N.substr(1,N.length-1)):N},set:function(k){k=k.toString(),N=this instanceof er==1?"/"+k:k}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(k){this.V=k}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof er==0?ap(w,this.objId,this.scope):w},set:function(k){k=k.toString(),w=this instanceof er==0?k.substr(0,1)==="("?ou(k.substr(1,k.length-2)):ou(k):k}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof er==1?ou(w.substr(1,w.length-1)):w},set:function(k){k=k.toString(),w=this instanceof er==1?"/"+k:k}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var C,L=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return L},set:function(k){k=!!k,L=k}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(C)return C},set:function(k){C=k}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,1)},set:function(k){k?this.Ff=Na(this.Ff,1):this.Ff=Aa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,2)},set:function(k){k?this.Ff=Na(this.Ff,2):this.Ff=Aa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,3)},set:function(k){k?this.Ff=Na(this.Ff,3):this.Ff=Aa(this.Ff,3)}});var T=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(T!==null)return T},set:function(k){if([0,1,2].indexOf(k)===-1)throw new Error('Invalid value "'+k+'" for attribute Q supplied.');T=k}}),Object.defineProperty(this,"textAlign",{get:function(){var k;switch(T){case 0:default:k="left";break;case 1:k="center";break;case 2:k="right"}return k},configurable:!0,enumerable:!0,set:function(k){switch(k){case"right":case 2:T=2;break;case"center":case 1:T=1;break;default:T=0}}})};Jr(bs,$s);var vu=function(){bs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var i=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return i},set:function(n){i=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return i},set:function(n){i=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return by(e,this.objId,this.scope)},set:function(n){var r,o;o=[],typeof(r=n)=="string"&&(o=(function(l,u,h){h||(h=1);for(var f,p=[];f=u.exec(l);)p.push(f[h]);return p})(r,/\((.*?)\)/g)),e=o}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,18)},set:function(n){n?this.Ff=Na(this.Ff,18):this.Ff=Aa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Na(this.Ff,19):this.Ff=Aa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,20)},set:function(n){n?(this.Ff=Na(this.Ff,20),e.sort()):this.Ff=Aa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,22)},set:function(n){n?this.Ff=Na(this.Ff,22):this.Ff=Aa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,23)},set:function(n){n?this.Ff=Na(this.Ff,23):this.Ff=Aa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,27)},set:function(n){n?this.Ff=Na(this.Ff,27):this.Ff=Aa(this.Ff,27)}}),this.hasAppearanceStream=!1};Jr(vu,bs);var yu=function(){vu.call(this),this.fontName="helvetica",this.combo=!1};Jr(yu,vu);var bu=function(){yu.call(this),this.combo=!0};Jr(bu,yu);var $f=function(){bu.call(this),this.edit=!0};Jr($f,bu);var er=function(){bs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,15)},set:function(n){n?this.Ff=Na(this.Ff,15):this.Ff=Aa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,16)},set:function(n){n?this.Ff=Na(this.Ff,16):this.Ff=Aa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,17)},set:function(n){n?this.Ff=Na(this.Ff,17):this.Ff=Aa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,26)},set:function(n){n?this.Ff=Na(this.Ff,26):this.Ff=Aa(this.Ff,26)}});var i,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(l){return l};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,o=[];for(r in o.push("<<"),e)o.push("/"+r+" ("+uc(n(e[r]))+")");return o.push(">>"),o.join(`
`)}},set:function(n){Cn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(n){i=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(n){i="/"+n}})};Jr(er,bs);var Vf=function(){er.call(this),this.pushButton=!0};Jr(Vf,er);var wu=function(){er.call(this),this.radio=!0,this.pushButton=!1;var i=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){i=e!==void 0?e:[]}})};Jr(wu,er);var nd=function(){var i,e;bs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return i},set:function(o){i=o}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(o){e=o}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var o=function(h){return h};this.scope&&(o=this.scope.internal.getEncryptor(this.objId));var l,u=[];for(l in u.push("<<"),r)u.push("/"+l+" ("+uc(o(r[l]))+")");return u.push(">>"),u.join(`
`)},set:function(o){Cn(o)==="object"&&(r=o)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(o){typeof o=="string"&&(r.CA=o)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(o){n=o}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(o){n="/"+o}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ot.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Jr(nd,bs),wu.prototype.setAppearance=function(i){if(!("createAppearanceStream"in i)||!("getCA"in i))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=i.createAppearanceStream(n.optionName),n.caption=i.getCA()}},wu.prototype.createOption=function(i){var e=new nd;return e.Parent=this,e.optionName=i,this.Kids.push(e),eS.call(this.scope,e),e};var Gf=function(){er.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ot.CheckBox.createAppearanceStream()};Jr(Gf,er);var ic=function(){bs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,13)},set:function(e){e?this.Ff=Na(this.Ff,13):this.Ff=Aa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,21)},set:function(e){e?this.Ff=Na(this.Ff,21):this.Ff=Aa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,23)},set:function(e){e?this.Ff=Na(this.Ff,23):this.Ff=Aa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,24)},set:function(e){e?this.Ff=Na(this.Ff,24):this.Ff=Aa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,25)},set:function(e){e?this.Ff=Na(this.Ff,25):this.Ff=Aa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,26)},set:function(e){e?this.Ff=Na(this.Ff,26):this.Ff=Aa(this.Ff,26)}});var i=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){Number.isInteger(e)&&(i=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Jr(ic,bs);var Yf=function(){ic.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,14)},set:function(i){i?this.Ff=Na(this.Ff,14):this.Ff=Aa(this.Ff,14)}}),this.password=!0};Jr(Yf,ic);var ot={CheckBox:{createAppearanceStream:function(){return{N:{On:ot.CheckBox.YesNormal},D:{On:ot.CheckBox.YesPushDown,Off:ot.CheckBox.OffPushDown}}},YesPushDown:function(i){var e=Hs(i);e.scope=i.scope;var n=[],r=i.scope.internal.getFont(i.fontName,i.fontStyle).id,o=i.scope.__private__.encodeColorString(i.color),l=Mp(i,i.caption);return n.push("0.749023 g"),n.push("0 0 "+Ft(ot.internal.getWidth(i))+" "+Ft(ot.internal.getHeight(i))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Ft(l.fontSize)+" Tf "+o),n.push("BT"),n.push(l.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(i){var e=Hs(i);e.scope=i.scope;var n=i.scope.internal.getFont(i.fontName,i.fontStyle).id,r=i.scope.__private__.encodeColorString(i.color),o=[],l=ot.internal.getHeight(i),u=ot.internal.getWidth(i),h=Mp(i,i.caption);return o.push("1 g"),o.push("0 0 "+Ft(u)+" "+Ft(l)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+Ft(u-1)+" "+Ft(l-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+n+" "+Ft(h.fontSize)+" Tf "+r),o.push(h.text),o.push("ET"),o.push("Q"),e.stream=o.join(`
`),e},OffPushDown:function(i){var e=Hs(i);e.scope=i.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ft(ot.internal.getWidth(i))+" "+Ft(ot.internal.getHeight(i))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(i){var e={D:{Off:ot.RadioButton.Circle.OffPushDown},N:{}};return e.N[i]=ot.RadioButton.Circle.YesNormal,e.D[i]=ot.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(i){var e=Hs(i);e.scope=i.scope;var n=[],r=ot.internal.getWidth(i)<=ot.internal.getHeight(i)?ot.internal.getWidth(i)/4:ot.internal.getHeight(i)/4;r=Number((.9*r).toFixed(5));var o=ot.internal.Bezier_C,l=Number((r*o).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+hl(ot.internal.getWidth(i)/2)+" "+hl(ot.internal.getHeight(i)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),n.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),n.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),n.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(i){var e=Hs(i);e.scope=i.scope;var n=[],r=ot.internal.getWidth(i)<=ot.internal.getHeight(i)?ot.internal.getWidth(i)/4:ot.internal.getHeight(i)/4;r=Number((.9*r).toFixed(5));var o=Number((2*r).toFixed(5)),l=Number((o*ot.internal.Bezier_C).toFixed(5)),u=Number((r*ot.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+hl(ot.internal.getWidth(i)/2)+" "+hl(ot.internal.getHeight(i)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+l+" "+l+" "+o+" 0 "+o+" c"),n.push("-"+l+" "+o+" -"+o+" "+l+" -"+o+" 0 c"),n.push("-"+o+" -"+l+" -"+l+" -"+o+" 0 -"+o+" c"),n.push(l+" -"+o+" "+o+" -"+l+" "+o+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+hl(ot.internal.getWidth(i)/2)+" "+hl(ot.internal.getHeight(i)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+u+" "+u+" "+r+" 0 "+r+" c"),n.push("-"+u+" "+r+" -"+r+" "+u+" -"+r+" 0 c"),n.push("-"+r+" -"+u+" -"+u+" -"+r+" 0 -"+r+" c"),n.push(u+" -"+r+" "+r+" -"+u+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(i){var e=Hs(i);e.scope=i.scope;var n=[],r=ot.internal.getWidth(i)<=ot.internal.getHeight(i)?ot.internal.getWidth(i)/4:ot.internal.getHeight(i)/4;r=Number((.9*r).toFixed(5));var o=Number((2*r).toFixed(5)),l=Number((o*ot.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+hl(ot.internal.getWidth(i)/2)+" "+hl(ot.internal.getHeight(i)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+l+" "+l+" "+o+" 0 "+o+" c"),n.push("-"+l+" "+o+" -"+o+" "+l+" -"+o+" 0 c"),n.push("-"+o+" -"+l+" -"+l+" -"+o+" 0 -"+o+" c"),n.push(l+" -"+o+" "+o+" -"+l+" "+o+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(i){var e={D:{Off:ot.RadioButton.Cross.OffPushDown},N:{}};return e.N[i]=ot.RadioButton.Cross.YesNormal,e.D[i]=ot.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(i){var e=Hs(i);e.scope=i.scope;var n=[],r=ot.internal.calculateCross(i);return n.push("q"),n.push("1 1 "+Ft(ot.internal.getWidth(i)-2)+" "+Ft(ot.internal.getHeight(i)-2)+" re"),n.push("W"),n.push("n"),n.push(Ft(r.x1.x)+" "+Ft(r.x1.y)+" m"),n.push(Ft(r.x2.x)+" "+Ft(r.x2.y)+" l"),n.push(Ft(r.x4.x)+" "+Ft(r.x4.y)+" m"),n.push(Ft(r.x3.x)+" "+Ft(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(i){var e=Hs(i);e.scope=i.scope;var n=ot.internal.calculateCross(i),r=[];return r.push("0.749023 g"),r.push("0 0 "+Ft(ot.internal.getWidth(i))+" "+Ft(ot.internal.getHeight(i))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Ft(ot.internal.getWidth(i)-2)+" "+Ft(ot.internal.getHeight(i)-2)+" re"),r.push("W"),r.push("n"),r.push(Ft(n.x1.x)+" "+Ft(n.x1.y)+" m"),r.push(Ft(n.x2.x)+" "+Ft(n.x2.y)+" l"),r.push(Ft(n.x4.x)+" "+Ft(n.x4.y)+" m"),r.push(Ft(n.x3.x)+" "+Ft(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(i){var e=Hs(i);e.scope=i.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ft(ot.internal.getWidth(i))+" "+Ft(ot.internal.getHeight(i))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(i){var e=i.scope.internal.getFont(i.fontName,i.fontStyle).id,n=i.scope.__private__.encodeColorString(i.color);return"/"+e+" "+i.fontSize+" Tf "+n}};ot.internal={Bezier_C:.551915024494,calculateCross:function(i){var e=ot.internal.getWidth(i),n=ot.internal.getHeight(i),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},ot.internal.getWidth=function(i){var e=0;return Cn(i)==="object"&&(e=lv(i.Rect[2])),e},ot.internal.getHeight=function(i){var e=0;return Cn(i)==="object"&&(e=lv(i.Rect[3])),e};var eS=ba.addField=function(i){if(Q6(this,i),!(i instanceof bs))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=i).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),i.page=i.scope.internal.getCurrentPageInfo().pageNumber,this};ba.AcroFormChoiceField=vu,ba.AcroFormListBox=yu,ba.AcroFormComboBox=bu,ba.AcroFormEditBox=$f,ba.AcroFormButton=er,ba.AcroFormPushButton=Vf,ba.AcroFormRadioButton=wu,ba.AcroFormCheckBox=Gf,ba.AcroFormTextField=ic,ba.AcroFormPasswordField=Yf,ba.AcroFormAppearance=ot,ba.AcroForm={ChoiceField:vu,ListBox:yu,ComboBox:bu,EditBox:$f,Button:er,PushButton:Vf,RadioButton:wu,CheckBox:Gf,TextField:ic,PasswordField:Yf,Appearance:ot},ht.AcroForm={ChoiceField:vu,ListBox:yu,ComboBox:bu,EditBox:$f,Button:er,PushButton:Vf,RadioButton:wu,CheckBox:Gf,TextField:ic,PasswordField:Yf,Appearance:ot};ht.AcroForm;function _y(i){return i.reduce(function(e,n,r){return e[n]=r,e},{})}(function(i){var e="addImage_";i.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},o=i.__addimage__.getImageFileTypeByImageData=function(D,H){var ie,ae,ue,W,se,le=n;if((H=H||n)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(ce(D))for(se in r)for(ue=r[se],ie=0;ie<ue.length;ie+=1){for(W=!0,ae=0;ae<ue[ie].length;ae+=1)if(ue[ie][ae]!==void 0&&ue[ie][ae]!==D[ae]){W=!1;break}if(W===!0){le=se;break}}else for(se in r)for(ue=r[se],ie=0;ie<ue.length;ie+=1){for(W=!0,ae=0;ae<ue[ie].length;ae+=1)if(ue[ie][ae]!==void 0&&ue[ie][ae]!==D.charCodeAt(ae)){W=!1;break}if(W===!0){le=se;break}}return le===n&&H!==n&&(le=H),le},l=function D(H){for(var ie=this.internal.write,ae=this.internal.putStream,ue=(0,this.internal.getFilters)();ue.indexOf("FlateEncode")!==-1;)ue.splice(ue.indexOf("FlateEncode"),1);H.objectId=this.internal.newObject();var W=[];if(W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Image"}),W.push({key:"Width",value:H.width}),W.push({key:"Height",value:H.height}),H.colorSpace===k.INDEXED?W.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(H.palette.length/3-1)+" "+("sMask"in H&&H.sMask!==void 0?H.objectId+2:H.objectId+1)+" 0 R]"}):(W.push({key:"ColorSpace",value:"/"+H.colorSpace}),H.colorSpace===k.DEVICE_CMYK&&W.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),W.push({key:"BitsPerComponent",value:H.bitsPerComponent}),"decodeParameters"in H&&H.decodeParameters!==void 0&&W.push({key:"DecodeParms",value:"<<"+H.decodeParameters+">>"}),"transparency"in H&&Array.isArray(H.transparency)&&H.transparency.length>0){for(var se="",le=0,re=H.transparency.length;le<re;le++)se+=H.transparency[le]+" "+H.transparency[le]+" ";W.push({key:"Mask",value:"["+se+"]"})}H.sMask!==void 0&&W.push({key:"SMask",value:H.objectId+1+" 0 R"});var Le=H.filter!==void 0?["/"+H.filter]:void 0;if(ae({data:H.data,additionalKeyValues:W,alreadyAppliedFilters:Le,objectId:H.objectId}),ie("endobj"),"sMask"in H&&H.sMask!==void 0){var V,A=(V=H.sMaskBitsPerComponent)!==null&&V!==void 0?V:H.bitsPerComponent,B={width:H.width,height:H.height,colorSpace:"DeviceGray",bitsPerComponent:A,data:H.sMask};"filter"in H&&(B.decodeParameters="/Predictor ".concat(H.predictor," /Colors 1 /BitsPerComponent ").concat(A," /Columns ").concat(H.width),B.filter=H.filter),D.call(this,B)}if(H.colorSpace===k.INDEXED){var q=this.internal.newObject();ae({data:X(new Uint8Array(H.palette)),objectId:q}),ie("endobj")}},u=function(){var D=this.internal.collections[e+"images"];for(var H in D)l.call(this,D[H])},h=function(){var D,H=this.internal.collections[e+"images"],ie=this.internal.write;for(var ae in H)ie("/I"+(D=H[ae]).index,D.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",h))},p=function(){var D=this.internal.collections[e+"images"];return f.call(this),D},y=function(){return Object.keys(this.internal.collections[e+"images"]).length},S=function(D){return typeof i["process"+D.toUpperCase()]=="function"},N=function(D){return Cn(D)==="object"&&D.nodeType===1},w=function(D,H){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var ie=""+D.getAttribute("src");if(ie.indexOf("data:image/")===0)return Hf(unescape(ie).split("base64,").pop());var ae=i.loadFile(ie,!0);if(ae!==void 0)return ae}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var ue;switch(H){case"PNG":ue="image/png";break;case"WEBP":ue="image/webp";break;default:ue="image/jpeg"}return Hf(D.toDataURL(ue,1).split("base64,").pop())}},C=function(D){var H=this.internal.collections[e+"images"];if(H){for(var ie in H)if(D===H[ie].alias)return H[ie]}},L=function(D,H,ie){return D||H||(D=-96,H=-96),D<0&&(D=-1*ie.width*72/D/this.internal.scaleFactor),H<0&&(H=-1*ie.height*72/H/this.internal.scaleFactor),D===0&&(D=H*ie.width/ie.height),H===0&&(H=D*ie.height/ie.width),[D,H]},T=function(D,H,ie,ae,ue,W){var se=L.call(this,ie,ae,ue),le=this.internal.getCoordinateString,re=this.internal.getVerticalCoordinateString,Le=p.call(this);if(ie=se[0],ae=se[1],Le[ue.index]=ue,W){W*=Math.PI/180;var V=Math.cos(W),A=Math.sin(W),B=function(te){return te.toFixed(4)},q=[B(V),B(A),B(-1*A),B(V),0,0,"cm"]}this.internal.write("q"),W?(this.internal.write([1,"0","0",1,le(D),re(H+ae),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([le(ie),"0","0",le(ae),"0","0","cm"].join(" "))):this.internal.write([le(ie),"0","0",le(ae),le(D),re(H+ae),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ue.index+" Do"),this.internal.write("Q")},k=i.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};i.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var G=i.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},M=i.__addimage__.sHashCode=function(D){var H,ie,ae=0;if(typeof D=="string")for(ie=D.length,H=0;H<ie;H++)ae=(ae<<5)-ae+D.charCodeAt(H),ae|=0;else if(ce(D))for(ie=D.byteLength/2,H=0;H<ie;H++)ae=(ae<<5)-ae+D[H],ae|=0;return ae},z=i.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var H=!0;return D.length===0&&(H=!1),D.length%4!=0&&(H=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(H=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(H=!1),H},J=i.__addimage__.extractImageFromDataUrl=function(D){if(D==null||!(D=D.trim()).startsWith("data:"))return null;var H=D.indexOf(",");return H<0?null:D.substring(0,H).trim().endsWith("base64")?D.substring(H+1):null};i.__addimage__.isArrayBuffer=function(D){return D instanceof ArrayBuffer};var ce=i.__addimage__.isArrayBufferView=function(D){return D instanceof Int8Array||D instanceof Uint8Array||D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array},ne=i.__addimage__.binaryStringToUint8Array=function(D){for(var H=D.length,ie=new Uint8Array(H),ae=0;ae<H;ae++)ie[ae]=D.charCodeAt(ae);return ie},X=i.__addimage__.arrayBufferToBinaryString=function(D){for(var H="",ie=ce(D)?D:new Uint8Array(D),ae=0;ae<ie.length;ae+=8192)H+=String.fromCharCode.apply(null,ie.subarray(ae,ae+8192));return H};i.addImage=function(){var D,H,ie,ae,ue,W,se,le,re;if(typeof arguments[1]=="number"?(H=n,ie=arguments[1],ae=arguments[2],ue=arguments[3],W=arguments[4],se=arguments[5],le=arguments[6],re=arguments[7]):(H=arguments[1],ie=arguments[2],ae=arguments[3],ue=arguments[4],W=arguments[5],se=arguments[6],le=arguments[7],re=arguments[8]),Cn(D=arguments[0])==="object"&&!N(D)&&"imageData"in D){var Le=D;D=Le.imageData,H=Le.format||H||n,ie=Le.x||ie||0,ae=Le.y||ae||0,ue=Le.w||Le.width||ue,W=Le.h||Le.height||W,se=Le.alias||se,le=Le.compression||le,re=Le.rotation||Le.angle||re}var V=this.internal.getFilters();if(le===void 0&&V.indexOf("FlateEncode")!==-1&&(le="SLOW"),isNaN(ie)||isNaN(ae))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var A=F.call(this,D,H,se,le);return T.call(this,ie,ae,ue,W,A,re),this};var F=function(D,H,ie,ae){var ue,W,se;if(typeof D=="string"&&o(D)===n){D=unescape(D);var le=de(D,!1);(le!==""||(le=i.loadFile(D,!0))!==void 0)&&(D=le)}if(N(D)&&(D=w(D,H)),H=o(D,H),!S(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(((se=ie)==null||se.length===0)&&(ie=(function(re){return typeof re=="string"||ce(re)?M(re):ce(re.data)?M(re.data):null})(D)),(ue=C.call(this,ie))||(D instanceof Uint8Array||H==="RGBA"||(W=D,D=ne(D)),ue=this["process"+H.toUpperCase()](D,y.call(this),ie,(function(re){return re&&typeof re=="string"&&(re=re.toUpperCase()),re in i.image_compression?re:G.NONE})(ae),W)),!ue)throw new Error("An unknown error occurred whilst processing the image.");return ue},de=i.__addimage__.convertBase64ToBinaryString=function(D,H){H=typeof H!="boolean"||H;var ie,ae="";if(typeof D=="string"){var ue;ie=(ue=J(D))!==null&&ue!==void 0?ue:D;try{ae=Hf(ie)}catch(W){if(H)throw z(ie)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+W.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ae};i.getImageProperties=function(D){var H,ie,ae="";if(N(D)&&(D=w(D)),typeof D=="string"&&o(D)===n&&((ae=de(D,!1))===""&&(ae=i.loadFile(D)||""),D=ae),ie=o(D),!S(ie))throw new Error("addImage does not support files of type '"+ie+"', please ensure that a plugin for '"+ie+"' support is added.");if(D instanceof Uint8Array||(D=ne(D)),!(H=this["process"+ie.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return H.fileType=ie,H}})(ht.API),(function(i){var e=function(n){if(n!==void 0&&n!="")return!0};ht.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),i.events.push(["putPage",function(n){for(var r,o,l,u=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(n.objId),p=n.pageContext.annotations,y=!1,S=0;S<p.length&&!y;S++)switch((r=p[S]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(y=!0);break;case"reference":case"text":case"freetext":y=!0}if(y!=0){this.internal.write("/Annots [");for(var N=0;N<p.length;N++){r=p[N];var w=this.internal.pdfEscape,C=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var L=this.internal.newAdditionalObject(),T=this.internal.newAdditionalObject(),k=this.internal.getEncryptor(L.objId),G=r.title||"Note";l="<</Type /Annot /Subtype /Text "+(o="/Rect ["+u(r.bounds.x)+" "+h(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w)+" "+h(r.bounds.y)+"] ")+"/Contents ("+w(k(r.contents))+")",l+=" /Popup "+T.objId+" 0 R",l+=" /P "+f.objId+" 0 R",l+=" /T ("+w(k(G))+") >>",L.content=l;var M=L.objId+" 0 R";l="<</Type /Annot /Subtype /Popup "+(o="/Rect ["+u(r.bounds.x+30)+" "+h(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w+30)+" "+h(r.bounds.y)+"] ")+" /Parent "+M,r.open&&(l+=" /Open true"),l+=" >>",T.content=l,this.internal.write(L.objId,"0 R",T.objId,"0 R");break;case"freetext":o="/Rect ["+u(r.bounds.x)+" "+h(r.bounds.y)+" "+u(r.bounds.x+r.bounds.w)+" "+h(r.bounds.y+r.bounds.h)+"] ";var z=r.color||"#000000";l="<</Type /Annot /Subtype /FreeText "+o+"/Contents ("+w(C(r.contents))+")",l+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+z+")",l+=" /Border [0 0 0]",l+=" >>",this.internal.write(l);break;case"link":if(r.options.name){var J=this.annotations._nameMap[r.options.name];r.options.pageNumber=J.page,r.options.top=J.y}else r.options.top||(r.options.top=0);if(o="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",l="",r.options.url)l="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /A <</S /URI /URI ("+w(C(r.options.url))+") >>";else if(r.options.pageNumber)switch(l="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":l+=" /Fit]";break;case"FitH":l+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,l+=" /FitV "+r.options.left+"]";break;default:var ce=h(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),l+=" /XYZ "+r.options.left+" "+ce+" "+r.options.zoom+"]"}l!=""&&(l+=" >>",this.internal.write(l))}}this.internal.write("]")}}]),i.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},i.link=function(n,r,o,l,u){var h=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:f(n),y:p(r),w:f(n+o),h:p(r+l)},options:u,type:"link"})},i.textWithLink=function(n,r,o,l){var u,h,f=this.getTextWidth(n),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(l.maxWidth!==void 0){h=l.maxWidth;var y=this.splitTextToSize(n,h).length;u=Math.ceil(p*y)}else h=f,u=p;return this.text(n,r,o,l),o+=.2*p,l.align==="center"&&(r-=f/2),l.align==="right"&&(r-=f),this.link(r,o-p,h,u,l),f},i.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(ht.API),(function(i){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},o=[1570,1571,1573,1575];i.__arabicParser__={};var l=i.__arabicParser__.isInArabicSubstitutionA=function(L){return e[L.charCodeAt(0)]!==void 0},u=i.__arabicParser__.isArabicLetter=function(L){return typeof L=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(L)},h=i.__arabicParser__.isArabicEndLetter=function(L){return u(L)&&l(L)&&e[L.charCodeAt(0)].length<=2},f=i.__arabicParser__.isArabicAlfLetter=function(L){return u(L)&&o.indexOf(L.charCodeAt(0))>=0};i.__arabicParser__.arabicLetterHasIsolatedForm=function(L){return u(L)&&l(L)&&e[L.charCodeAt(0)].length>=1};var p=i.__arabicParser__.arabicLetterHasFinalForm=function(L){return u(L)&&l(L)&&e[L.charCodeAt(0)].length>=2};i.__arabicParser__.arabicLetterHasInitialForm=function(L){return u(L)&&l(L)&&e[L.charCodeAt(0)].length>=3};var y=i.__arabicParser__.arabicLetterHasMedialForm=function(L){return u(L)&&l(L)&&e[L.charCodeAt(0)].length==4},S=i.__arabicParser__.resolveLigatures=function(L){var T=0,k=n,G="",M=0;for(T=0;T<L.length;T+=1)k[L.charCodeAt(T)]!==void 0?(M++,typeof(k=k[L.charCodeAt(T)])=="number"&&(G+=String.fromCharCode(k),k=n,M=0),T===L.length-1&&(k=n,G+=L.charAt(T-(M-1)),T-=M-1,M=0)):(k=n,G+=L.charAt(T-M),T-=M,M=0);return G};i.__arabicParser__.isArabicDiacritic=function(L){return L!==void 0&&r[L.charCodeAt(0)]!==void 0};var N=i.__arabicParser__.getCorrectForm=function(L,T,k){return u(L)?l(L)===!1?-1:!p(L)||!u(T)&&!u(k)||!u(k)&&h(T)||h(L)&&!u(T)||h(L)&&f(T)||h(L)&&h(T)?0:y(L)&&u(T)&&!h(T)&&u(k)&&p(k)?3:h(L)||!u(k)?1:2:-1},w=function(L){var T=0,k=0,G=0,M="",z="",J="",ce=(L=L||"").split("\\s+"),ne=[];for(T=0;T<ce.length;T+=1){for(ne.push(""),k=0;k<ce[T].length;k+=1)M=ce[T][k],z=ce[T][k-1],J=ce[T][k+1],u(M)?(G=N(M,z,J),ne[T]+=G!==-1?String.fromCharCode(e[M.charCodeAt(0)][G]):M):ne[T]+=M;ne[T]=S(ne[T])}return ne.join(" ")},C=i.__arabicParser__.processArabic=i.processArabic=function(){var L,T=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,k=[];if(Array.isArray(T)){var G=0;for(k=[],G=0;G<T.length;G+=1)Array.isArray(T[G])?k.push([w(T[G][0]),T[G][1],T[G][2]]):k.push([w(T[G])]);L=k}else L=w(T);return typeof arguments[0]=="string"?L:(arguments[0].text=L,arguments[0])};i.events.push(["preProcessText",C])})(ht.API),ht.API.autoPrint=function(i){var e;return(i=i||{}).variant=i.variant||"non-conform",i.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(i){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(h){n=h}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(h){r=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var o=300;Object.defineProperty(this,"height",{get:function(){return o},set:function(h){o=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=o+1)}});var l=[];Object.defineProperty(this,"childNodes",{get:function(){return l},set:function(h){l=h}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(h){u=h}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var o;if((n=n||"2d")!=="2d")return null;for(o in r)this.pdf.context2d.hasOwnProperty(o)&&(this.pdf.context2d[o]=r[o]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},i.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(ht.API),(function(i){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),o.call(this))},o=function(){this.internal.__cell__.lastCell=new l,this.internal.__cell__.pages=1},l=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(L){f=L}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(L){p=L}});var y=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return y},set:function(L){y=L}});var S=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return S},set:function(L){S=L}});var N=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return N},set:function(L){N=L}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(L){w=L}});var C=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return C},set:function(L){C=L}}),this};l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},l.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},i.setHeaderFunction=function(f){return r.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},i.getTextDimensions=function(f,p){r.call(this);var y=(p=p||{}).fontSize||this.getFontSize(),S=p.font||this.getFont(),N=p.scaleFactor||this.internal.scaleFactor,w=0,C=0,L=0,T=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var k=p.maxWidth;k>0?typeof f=="string"?f=this.splitTextToSize(f,k):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(M,z){return M.concat(T.splitTextToSize(z,k))},[])):f=Array.isArray(f)?f:[f];for(var G=0;G<f.length;G++)w<(L=this.getStringUnitWidth(f[G],{font:S})*y)&&(w=L);return w!==0&&(C=f.length),{w:w/=N,h:Math.max((C*y*this.getLineHeightFactor()-y*(this.getLineHeightFactor()-1))/N,0)}},i.cellAddPage=function(){r.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new l(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=i.cell=function(){var f;f=arguments[0]instanceof l?arguments[0]:new l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var p=this.internal.__cell__.lastCell,y=this.internal.__cell__.padding,S=this.internal.__cell__.margins||e,N=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===f.lineNumber?(f.x=(p.x||0)+(p.width||0),f.y=p.y||0):p.y+p.height+f.height+S.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=S.top,w&&N&&(this.printHeaderRow(f.lineNumber,!0),f.y+=N[0].height)):f.y=p.y+p.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,n===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-y,f.y+y,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+y,{align:"center",baseline:"top",maxWidth:f.width-y-y}):this.text(f.text,f.x+y,f.y+y,{align:"left",baseline:"top",maxWidth:f.width-y-y})),this.internal.__cell__.lastCell=f,this};i.table=function(f,p,y,S,N){if(r.call(this),!y)throw new Error("No data for PDF table.");var w,C,L,T,k=[],G=[],M=[],z={},J={},ce=[],ne=[],X=(N=N||{}).autoSize||!1,F=N.printHeaders!==!1,de=N.css&&N.css["font-size"]!==void 0?16*N.css["font-size"]:N.fontSize||12,D=N.margins||Object.assign({width:this.getPageWidth()},e),H=typeof N.padding=="number"?N.padding:3,ie=N.headerBackgroundColor||"#c8c8c8",ae=N.headerTextColor||"#000";if(o.call(this),this.internal.__cell__.printHeaders=F,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=de,this.internal.__cell__.padding=H,this.internal.__cell__.headerBackgroundColor=ie,this.internal.__cell__.headerTextColor=ae,this.setFontSize(de),S==null)G=k=Object.keys(y[0]),M=k.map(function(){return"left"});else if(Array.isArray(S)&&Cn(S[0])==="object")for(k=S.map(function(Le){return Le.name}),G=S.map(function(Le){return Le.prompt||Le.name||""}),M=S.map(function(Le){return Le.align||"left"}),w=0;w<S.length;w+=1)J[S[w].name]=.7499990551181103*S[w].width;else Array.isArray(S)&&typeof S[0]=="string"&&(G=k=S,M=k.map(function(){return"left"}));if(X||Array.isArray(S)&&typeof S[0]=="string")for(w=0;w<k.length;w+=1){for(z[T=k[w]]=y.map(function(Le){return Le[T]}),this.setFont(void 0,"bold"),ce.push(this.getTextDimensions(G[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),C=z[T],this.setFont(void 0,"normal"),L=0;L<C.length;L+=1)ce.push(this.getTextDimensions(C[L],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);J[T]=Math.max.apply(null,ce)+H+H,ce=[]}if(F){var ue={};for(w=0;w<k.length;w+=1)ue[k[w]]={},ue[k[w]].text=G[w],ue[k[w]].align=M[w];var W=h.call(this,ue,J);ne=k.map(function(Le){return new l(f,p,J[Le],W,ue[Le].text,void 0,ue[Le].align)}),this.setTableHeaderRow(ne),this.printHeaderRow(1,!1)}var se=S.reduce(function(Le,V){return Le[V.name]=V.align,Le},{});for(w=0;w<y.length;w+=1){"rowStart"in N&&N.rowStart instanceof Function&&N.rowStart({row:w,data:y[w]},this);var le=h.call(this,y[w],J);for(L=0;L<k.length;L+=1){var re=y[w][k[L]];"cellStart"in N&&N.cellStart instanceof Function&&N.cellStart({row:w,col:L,data:re},this),u.call(this,new l(f,p,J[k[L]],le,re,w+2,se[k[L]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=p,this};var h=function(f,p){var y=this.internal.__cell__.padding,S=this.internal.__cell__.table_font_size,N=this.internal.scaleFactor;return Object.keys(f).map(function(w){var C=f[w];return this.splitTextToSize(C.hasOwnProperty("text")?C.text:C,p[w]-y-y)},this).map(function(w){return this.getLineHeightFactor()*w.length*S/N+y+y},this).reduce(function(w,C){return Math.max(w,C)},0)};i.setTableHeaderRow=function(f){r.call(this),this.internal.__cell__.tableHeaderRow=f},i.printHeaderRow=function(f,p){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var y;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var S=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new l(S[0],S[1],S[2],S[3],void 0,-1)}this.setFont(void 0,"bold");for(var N=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){y=this.internal.__cell__.tableHeaderRow[w].clone(),p&&(y.y=this.internal.__cell__.margins.top||0,N.push(y)),y.lineNumber=f;var C=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,y),this.setTextColor(C)}N.length>0&&this.setTableHeaderRow(N),this.setFont(void 0,"normal"),n=!1}})(ht.API);var Sy={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Ny=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Pp=_y(Ny),Ay=[100,200,300,400,500,600,700,800,900],tS=_y(Ay);function rp(i){var e=i.family.replace(/"|'/g,"").toLowerCase(),n=(function(l){return Sy[l=l||"normal"]?l:"normal"})(i.style),r=(function(l){return l?typeof l=="number"?l>=100&&l<=900&&l%100==0?l:400:/^\d00$/.test(l)?parseInt(l):l==="bold"?700:400:400})(i.weight),o=(function(l){return typeof Pp[l=l||"normal"]=="number"?l:"normal"})(i.stretch);return{family:e,style:n,weight:r,stretch:o,src:i.src||[],ref:i.ref||{name:e,style:[o,n,r].join(" ")}}}function cv(i,e,n,r){var o;for(o=n;o>=0&&o<e.length;o+=r)if(i[e[o]])return i[e[o]];for(o=n;o>=0&&o<e.length;o-=r)if(i[e[o]])return i[e[o]]}var nS={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},uv={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function hv(i){return[i.stretch,i.style,i.weight,i.family].join(" ")}function fv(i){return i.trimLeft()}function aS(i,e){for(var n=0;n<i.length;){if(i.charAt(n)===e)return[i.substring(0,n),i.substring(n+1)];n+=1}return null}function rS(i){var e=i.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],i.substring(e[0].length)]}var Uf,dv,pv,lu,zf,mv,gv,vv,ip=["times"];function yv(i,e,n,r,o){var l=4,u=wv;switch(o){case ht.API.image_compression.FAST:l=1,u=bv;break;case ht.API.image_compression.MEDIUM:l=6,u=xv;break;case ht.API.image_compression.SLOW:l=9,u=_v}i=(function(f,p,y,S){for(var N,w=f.length/p,C=new Uint8Array(f.length+w),L=[iS,bv,wv,xv,_v],T=0;T<w;T+=1){var k=T*p,G=f.subarray(k,k+p);if(S)C.set(S(G,y,N),k+T);else{for(var M=L.length,z=[],J=0;J<M;J+=1)z[J]=L[J](G,y,N);var ce=oS(z.concat());C.set(z[ce],k+T)}N=G}return C})(i,e,Math.ceil(n*r/8),u);var h=Lp(i,{level:l});return ht.API.__addimage__.arrayBufferToBinaryString(h)}function iS(i){var e=Array.apply([],i);return e.unshift(0),e}function bv(i,e){var n=i.length,r=[];r[0]=1;for(var o=0;o<n;o+=1){var l=i[o-e]||0;r[o+1]=i[o]-l+256&255}return r}function wv(i,e,n){var r=i.length,o=[];o[0]=2;for(var l=0;l<r;l+=1){var u=n&&n[l]||0;o[l+1]=i[l]-u+256&255}return o}function xv(i,e,n){var r=i.length,o=[];o[0]=3;for(var l=0;l<r;l+=1){var u=i[l-e]||0,h=n&&n[l]||0;o[l+1]=i[l]+256-(u+h>>>1)&255}return o}function _v(i,e,n){var r=i.length,o=[];o[0]=4;for(var l=0;l<r;l+=1){var u=sS(i[l-e]||0,n&&n[l]||0,n&&n[l-e]||0);o[l+1]=i[l]-u+256&255}return o}function sS(i,e,n){if(i===e&&e===n)return i;var r=Math.abs(e-n),o=Math.abs(i-n),l=Math.abs(i+e-n-n);return r<=o&&r<=l?i:o<=l?e:n}function oS(i){var e=i.map(function(n){return n.reduce(function(r,o){return r+Math.abs(o)},0)});return e.indexOf(Math.min.apply(null,e))}function sp(i,e,n){var r=e*n,o=Math.floor(r/8),l=16-(r-8*o+n),u=(1<<n)-1;return jy(i,o)>>l&u}function Sv(i,e,n,r){var o=n*r,l=Math.floor(o/8),u=16-(o-8*l+r),h=(1<<r)-1,f=(e&h)<<u;(function(p,y,S){if(y+1<p.byteLength)p.setUint16(y,S,!1);else{var N=S>>8&255;p.setUint8(y,N)}})(i,l,jy(i,l)&~(h<<u)&65535|f)}function jy(i,e){return e+1<i.byteLength?i.getUint16(e,!1):i.getUint8(e)<<8}function lS(i){var e=0;if(i[e++]!==71||i[e++]!==73||i[e++]!==70||i[e++]!==56||(i[e++]+1&253)!=56||i[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=i[e++]|i[e++]<<8,r=i[e++]|i[e++]<<8,o=i[e++],l=o>>7,u=1<<1+(7&o);i[e++],i[e++];var h=null,f=null;l&&(h=e,f=u,e+=3*u);var p=!0,y=[],S=0,N=null,w=0,C=null;for(this.width=n,this.height=r;p&&e<i.length;)switch(i[e++]){case 33:switch(i[e++]){case 255:if(i[e]!==11||i[e+1]==78&&i[e+2]==69&&i[e+3]==84&&i[e+4]==83&&i[e+5]==67&&i[e+6]==65&&i[e+7]==80&&i[e+8]==69&&i[e+9]==50&&i[e+10]==46&&i[e+11]==48&&i[e+12]==3&&i[e+13]==1&&i[e+16]==0)e+=14,C=i[e++]|i[e++]<<8,e++;else for(e+=12;;){if(!((D=i[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;case 249:if(i[e++]!==4||i[e+4]!==0)throw new Error("Invalid graphics extension block.");var L=i[e++];S=i[e++]|i[e++]<<8,N=i[e++],1&L||(N=null),w=L>>2&7,e++;break;case 254:for(;;){if(!((D=i[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;default:throw new Error("Unknown graphic control label: 0x"+i[e-1].toString(16))}break;case 44:var T=i[e++]|i[e++]<<8,k=i[e++]|i[e++]<<8,G=i[e++]|i[e++]<<8,M=i[e++]|i[e++]<<8,z=i[e++],J=z>>6&1,ce=1<<1+(7&z),ne=h,X=f,F=!1;z>>7&&(F=!0,ne=e,X=ce,e+=3*ce);var de=e;for(e++;;){var D;if(!((D=i[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}y.push({x:T,y:k,width:G,height:M,has_local_palette:F,palette_offset:ne,palette_size:X,data_offset:de,data_length:e-de,transparent_index:N,interlaced:!!J,delay:S,disposal:w});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+i[e-1].toString(16))}this.numFrames=function(){return y.length},this.loopCount=function(){return C},this.frameInfo=function(H){if(H<0||H>=y.length)throw new Error("Frame index out of range.");return y[H]},this.decodeAndBlitFrameBGRA=function(H,ie){var ae=this.frameInfo(H),ue=ae.width*ae.height,W=new Uint8Array(ue);Nv(i,ae.data_offset,W,ue);var se=ae.palette_offset,le=ae.transparent_index;le===null&&(le=256);var re=ae.width,Le=n-re,V=re,A=4*(ae.y*n+ae.x),B=4*((ae.y+ae.height)*n+ae.x),q=A,te=4*Le;ae.interlaced===!0&&(te+=4*n*7);for(var oe=8,be=0,Ae=W.length;be<Ae;++be){var Ne=W[be];if(V===0&&(V=re,(q+=te)>=B&&(te=4*Le+4*n*(oe-1),q=A+(re+Le)*(oe<<1),oe>>=1)),Ne===le)q+=4;else{var Pe=i[se+3*Ne],$e=i[se+3*Ne+1],Ke=i[se+3*Ne+2];ie[q++]=Ke,ie[q++]=$e,ie[q++]=Pe,ie[q++]=255}--V}},this.decodeAndBlitFrameRGBA=function(H,ie){var ae=this.frameInfo(H),ue=ae.width*ae.height,W=new Uint8Array(ue);Nv(i,ae.data_offset,W,ue);var se=ae.palette_offset,le=ae.transparent_index;le===null&&(le=256);var re=ae.width,Le=n-re,V=re,A=4*(ae.y*n+ae.x),B=4*((ae.y+ae.height)*n+ae.x),q=A,te=4*Le;ae.interlaced===!0&&(te+=4*n*7);for(var oe=8,be=0,Ae=W.length;be<Ae;++be){var Ne=W[be];if(V===0&&(V=re,(q+=te)>=B&&(te=4*Le+4*n*(oe-1),q=A+(re+Le)*(oe<<1),oe>>=1)),Ne===le)q+=4;else{var Pe=i[se+3*Ne],$e=i[se+3*Ne+1],Ke=i[se+3*Ne+2];ie[q++]=Pe,ie[q++]=$e,ie[q++]=Ke,ie[q++]=255}--V}}}function Nv(i,e,n,r){for(var o=i[e++],l=1<<o,u=l+1,h=u+1,f=o+1,p=(1<<f)-1,y=0,S=0,N=0,w=i[e++],C=new Int32Array(4096),L=null;;){for(;y<16&&w!==0;)S|=i[e++]<<y,y+=8,w===1?w=i[e++]:--w;if(y<f)break;var T=S&p;if(S>>=f,y-=f,T!==l){if(T===u)break;for(var k=T<h?T:L,G=0,M=k;M>l;)M=C[M]>>8,++G;var z=M;if(N+G+(k!==T?1:0)>r)return void zn.log("Warning, gif stream longer than expected.");n[N++]=z;var J=N+=G;for(k!==T&&(n[N++]=z),M=k;G--;)M=C[M],n[--J]=255&M,M>>=8;L!==null&&h<4096&&(C[h++]=L<<8|z,h>=p+1&&f<12&&(++f,p=p<<1|1)),L=T}else h=u+1,p=(1<<(f=o+1))-1,L=null}return N!==r&&zn.log("Warning, gif stream shorter than expected."),n}function op(i){var e,n,r,o,l,u=Math.floor,h=new Array(64),f=new Array(64),p=new Array(64),y=new Array(64),S=new Array(65535),N=new Array(65535),w=new Array(64),C=new Array(64),L=[],T=0,k=7,G=new Array(64),M=new Array(64),z=new Array(64),J=new Array(256),ce=new Array(2048),ne=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],X=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],de=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],H=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ie=[0,1,2,3,4,5,6,7,8,9,10,11],ae=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ue=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function W(A,B){for(var q=0,te=0,oe=new Array,be=1;be<=16;be++){for(var Ae=1;Ae<=A[be];Ae++)oe[B[te]]=[],oe[B[te]][0]=q,oe[B[te]][1]=be,te++,q++;q*=2}return oe}function se(A){for(var B=A[0],q=A[1]-1;q>=0;)B&1<<q&&(T|=1<<k),q--,--k<0&&(T==255?(le(255),le(0)):le(T),k=7,T=0)}function le(A){L.push(A)}function re(A){le(A>>8&255),le(255&A)}function Le(A,B,q,te,oe){for(var be,Ae=oe[0],Ne=oe[240],Pe=(function(Fe,tt){var We,Lt,pt,Bt,Ut,Mt,bn,Ot,ft,Et,dt=0;for(ft=0;ft<8;++ft){We=Fe[dt],Lt=Fe[dt+1],pt=Fe[dt+2],Bt=Fe[dt+3],Ut=Fe[dt+4],Mt=Fe[dt+5],bn=Fe[dt+6];var Ln=We+(Ot=Fe[dt+7]),Kt=We-Ot,Xe=Lt+bn,xt=Lt-bn,Vt=pt+Mt,_t=pt-Mt,Jt=Bt+Ut,zt=Bt-Ut,In=Ln+Jt,Jn=Ln-Jt,mn=Xe+Vt,wt=Xe-Vt;Fe[dt]=In+mn,Fe[dt+4]=In-mn;var nn=.707106781*(wt+Jn);Fe[dt+2]=Jn+nn,Fe[dt+6]=Jn-nn;var Xr=.382683433*((In=zt+_t)-(wt=xt+Kt)),Va=.5411961*In+Xr,vi=1.306562965*wt+Xr,Tr=.707106781*(mn=_t+xt),mt=Kt+Tr,zi=Kt-Tr;Fe[dt+5]=zi+Va,Fe[dt+3]=zi-Va,Fe[dt+1]=mt+vi,Fe[dt+7]=mt-vi,dt+=8}for(dt=0,ft=0;ft<8;++ft){We=Fe[dt],Lt=Fe[dt+8],pt=Fe[dt+16],Bt=Fe[dt+24],Ut=Fe[dt+32],Mt=Fe[dt+40],bn=Fe[dt+48];var yi=We+(Ot=Fe[dt+56]),br=We-Ot,wr=Lt+bn,qn=Lt-bn,ha=pt+Mt,ja=pt-Mt,xs=Bt+Ut,tr=Bt-Ut,Nn=yi+xs,Hn=yi-xs,Ga=wr+ha,xr=wr-ha;Fe[dt]=Nn+Ga,Fe[dt+32]=Nn-Ga;var Or=.707106781*(xr+Hn);Fe[dt+16]=Hn+Or,Fe[dt+48]=Hn-Or;var Gs=.382683433*((Nn=tr+ja)-(xr=qn+br)),Zr=.5411961*Nn+Gs,Qr=1.306562965*xr+Gs,_s=.707106781*(Ga=ja+qn),ei=br+_s,ti=br-_s;Fe[dt+40]=ti+Zr,Fe[dt+24]=ti-Zr,Fe[dt+8]=ei+Qr,Fe[dt+56]=ei-Qr,dt++}for(ft=0;ft<64;++ft)Et=Fe[ft]*tt[ft],w[ft]=Et>0?Et+.5|0:Et-.5|0;return w})(A,B),$e=0;$e<64;++$e)C[ne[$e]]=Pe[$e];var Ke=C[0]-q;q=C[0],Ke==0?se(te[0]):(se(te[N[be=32767+Ke]]),se(S[be]));for(var Je=63;Je>0&&C[Je]==0;)Je--;if(Je==0)return se(Ae),q;for(var ge,K=1;K<=Je;){for(var Ge=K;C[K]==0&&K<=Je;)++K;var et=K-Ge;if(et>=16){ge=et>>4;for(var at=1;at<=ge;++at)se(Ne);et&=15}be=32767+C[K],se(oe[(et<<4)+N[be]]),se(S[be]),K++}return Je!=63&&se(Ae),q}function V(A){A=Math.min(Math.max(A,1),100),l!=A&&((function(B){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var oe=u((q[te]*B+50)/100);oe=Math.min(Math.max(oe,1),255),h[ne[te]]=oe}for(var be=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ae=0;Ae<64;Ae++){var Ne=u((be[Ae]*B+50)/100);Ne=Math.min(Math.max(Ne,1),255),f[ne[Ae]]=Ne}for(var Pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],$e=0,Ke=0;Ke<8;Ke++)for(var Je=0;Je<8;Je++)p[$e]=1/(h[ne[$e]]*Pe[Ke]*Pe[Je]*8),y[$e]=1/(f[ne[$e]]*Pe[Ke]*Pe[Je]*8),$e++})(A<50?Math.floor(5e3/A):Math.floor(200-2*A)),l=A)}this.encode=function(A,B){B&&V(B),L=new Array,T=0,k=7,re(65496),re(65504),re(16),le(74),le(70),le(73),le(70),le(0),le(1),le(1),le(0),re(1),re(1),le(0),le(0),(function(){re(65499),re(132),le(0);for(var Lt=0;Lt<64;Lt++)le(h[Lt]);le(1);for(var pt=0;pt<64;pt++)le(f[pt])})(),(function(Lt,pt){re(65472),re(17),le(8),re(pt),re(Lt),le(3),le(1),le(17),le(0),le(2),le(17),le(1),le(3),le(17),le(1)})(A.width,A.height),(function(){re(65476),re(418),le(0);for(var Lt=0;Lt<16;Lt++)le(X[Lt+1]);for(var pt=0;pt<=11;pt++)le(F[pt]);le(16);for(var Bt=0;Bt<16;Bt++)le(de[Bt+1]);for(var Ut=0;Ut<=161;Ut++)le(D[Ut]);le(1);for(var Mt=0;Mt<16;Mt++)le(H[Mt+1]);for(var bn=0;bn<=11;bn++)le(ie[bn]);le(17);for(var Ot=0;Ot<16;Ot++)le(ae[Ot+1]);for(var ft=0;ft<=161;ft++)le(ue[ft])})(),re(65498),re(12),le(3),le(1),le(0),le(2),le(17),le(3),le(17),le(0),le(63),le(0);var q=0,te=0,oe=0;T=0,k=7,this.encode.displayName="_encode_";for(var be,Ae,Ne,Pe,$e,Ke,Je,ge,K,Ge=A.data,et=A.width,at=A.height,Fe=4*et,tt=0;tt<at;){for(be=0;be<Fe;){for($e=Fe*tt+be,Je=-1,ge=0,K=0;K<64;K++)Ke=$e+(ge=K>>3)*Fe+(Je=4*(7&K)),tt+ge>=at&&(Ke-=Fe*(tt+1+ge-at)),be+Je>=Fe&&(Ke-=be+Je-Fe+4),Ae=Ge[Ke++],Ne=Ge[Ke++],Pe=Ge[Ke++],G[K]=(ce[Ae]+ce[Ne+256|0]+ce[Pe+512|0]>>16)-128,M[K]=(ce[Ae+768|0]+ce[Ne+1024|0]+ce[Pe+1280|0]>>16)-128,z[K]=(ce[Ae+1280|0]+ce[Ne+1536|0]+ce[Pe+1792|0]>>16)-128;q=Le(G,p,q,e,r),te=Le(M,y,te,n,o),oe=Le(z,y,oe,n,o),be+=32}tt+=8}if(k>=0){var We=[];We[1]=k+1,We[0]=(1<<k+1)-1,se(We)}return re(65497),new Uint8Array(L)},i=i||50,(function(){for(var A=String.fromCharCode,B=0;B<256;B++)J[B]=A(B)})(),e=W(X,F),n=W(H,ie),r=W(de,D),o=W(ae,ue),(function(){for(var A=1,B=2,q=1;q<=15;q++){for(var te=A;te<B;te++)N[32767+te]=q,S[32767+te]=[],S[32767+te][1]=q,S[32767+te][0]=te;for(var oe=-(B-1);oe<=-A;oe++)N[32767+oe]=q,S[32767+oe]=[],S[32767+oe][1]=q,S[32767+oe][0]=B-1+oe;A<<=1,B<<=1}})(),(function(){for(var A=0;A<256;A++)ce[A]=19595*A,ce[A+256|0]=38470*A,ce[A+512|0]=7471*A+32768,ce[A+768|0]=-11059*A,ce[A+1024|0]=-21709*A,ce[A+1280|0]=32768*A+8421375,ce[A+1536|0]=-27439*A,ce[A+1792|0]=-5329*A})(),V(i)}function hs(i,e){if(this.pos=0,this.buffer=i,this.datav=new DataView(i.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Av(i){function e(F){if(!F)throw Error("assert :P")}function n(F,de,D){for(var H=0;4>H;H++)if(F[de+H]!=D.charCodeAt(H))return!0;return!1}function r(F,de,D,H,ie){for(var ae=0;ae<ie;ae++)F[de+ae]=D[H+ae]}function o(F,de,D,H){for(var ie=0;ie<H;ie++)F[de+ie]=D}function l(F){return new Int32Array(F)}function u(F,de){for(var D=[],H=0;H<F;H++)D.push(new de);return D}function h(F,de){var D=[];return(function H(ie,ae,ue){for(var W=ue[ae],se=0;se<W&&(ie.push(ue.length>ae+1?[]:new de),!(ue.length<ae+1));se++)H(ie[se],ae+1,ue)})(D,0,F),D}var f=function(){var F=this;function de(d,v){for(var _=1<<v-1>>>0;d&_;)_>>>=1;return _?(d&_-1)+_:d}function D(d,v,_,j,R){e(!(j%_));do d[v+(j-=_)]=R;while(0<j)}function H(d,v,_,j,R){if(e(2328>=R),512>=R)var P=l(512);else if((P=l(R))==null)return 0;return(function(U,$,Y,Q,me,je){var Z,ye,_e=$,De=1<<Y,Se=l(16),Re=l(16);for(e(me!=0),e(Q!=null),e(U!=null),e(0<Y),ye=0;ye<me;++ye){if(15<Q[ye])return 0;++Se[Q[ye]]}if(Se[0]==me)return 0;for(Re[1]=0,Z=1;15>Z;++Z){if(Se[Z]>1<<Z)return 0;Re[Z+1]=Re[Z]+Se[Z]}for(ye=0;ye<me;++ye)Z=Q[ye],0<Q[ye]&&(je[Re[Z]++]=ye);if(Re[15]==1)return(Q=new ie).g=0,Q.value=je[0],D(U,_e,1,De,Q),De;var Ue,Ve=-1,qe=De-1,st=0,Ze=1,Rt=1,nt=1<<Y;for(ye=0,Z=1,me=2;Z<=Y;++Z,me<<=1){if(Ze+=Rt<<=1,0>(Rt-=Se[Z]))return 0;for(;0<Se[Z];--Se[Z])(Q=new ie).g=Z,Q.value=je[ye++],D(U,_e+st,me,nt,Q),st=de(st,Z)}for(Z=Y+1,me=2;15>=Z;++Z,me<<=1){if(Ze+=Rt<<=1,0>(Rt-=Se[Z]))return 0;for(;0<Se[Z];--Se[Z]){if(Q=new ie,(st&qe)!=Ve){for(_e+=nt,Ue=1<<(Ve=Z)-Y;15>Ve&&!(0>=(Ue-=Se[Ve]));)++Ve,Ue<<=1;De+=nt=1<<(Ue=Ve-Y),U[$+(Ve=st&qe)].g=Ue+Y,U[$+Ve].value=_e-$-Ve}Q.g=Z-Y,Q.value=je[ye++],D(U,_e+(st>>Y),me,nt,Q),st=de(st,Z)}}return Ze!=2*Re[15]-1?0:De})(d,v,_,j,R,P)}function ie(){this.value=this.g=0}function ae(){this.value=this.g=0}function ue(){this.G=u(5,ie),this.H=l(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Cs,ae)}function W(d,v,_,j){e(d!=null),e(v!=null),e(2147483648>j),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=v,d.pa=_,d.Jd=v,d.Yc=_+j,d.Zc=4<=j?_+j-4+1:_,Ae(d)}function se(d,v){for(var _=0;0<v--;)_|=Pe(d,128)<<v;return _}function le(d,v){var _=se(d,v);return Ne(d)?-_:_}function re(d,v,_,j){var R,P=0;for(e(d!=null),e(v!=null),e(4294967288>j),d.Sb=j,d.Ra=0,d.u=0,d.h=0,4<j&&(j=4),R=0;R<j;++R)P+=v[_+R]<<8*R;d.Ra=P,d.bb=j,d.oa=v,d.pa=_}function Le(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<ji-8>>>0,++d.bb,d.u-=8;te(d)&&(d.h=1,d.u=0)}function V(d,v){if(e(0<=v),!d.h&&v<=rr){var _=q(d)&ur[v];return d.u+=v,Le(d),_}return d.h=1,d.u=0}function A(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function B(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(d){return d.Ra>>>(d.u&ji-1)>>>0}function te(d){return e(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>ji}function oe(d,v){d.u=v,d.h=te(d)}function be(d){d.u>=Ei&&(e(d.u>=Ei),Le(d))}function Ae(d){e(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(e(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function Ne(d){return se(d,1)}function Pe(d,v){var _=d.Ca;0>d.b&&Ae(d);var j=d.b,R=_*v>>>8,P=(d.I>>>j>R)+0;for(P?(_-=R,d.I-=R+1<<j>>>0):_=R+1,j=_,R=0;256<=j;)R+=8,j>>=8;return j=7^R+Zi[j],d.b-=j,d.Ca=(_<<j)-1,P}function $e(d,v,_){d[v+0]=_>>24&255,d[v+1]=_>>16&255,d[v+2]=_>>8&255,d[v+3]=255&_}function Ke(d,v){return d[v+0]|d[v+1]<<8}function Je(d,v){return Ke(d,v)|d[v+2]<<16}function ge(d,v){return Ke(d,v)|Ke(d,v+2)<<16}function K(d,v){var _=1<<v;return e(d!=null),e(0<v),d.X=l(_),d.X==null?0:(d.Mb=32-v,d.Xa=v,1)}function Ge(d,v){e(d!=null),e(v!=null),e(d.Xa==v.Xa),r(v.X,0,d.X,0,1<<v.Xa)}function et(){this.X=[],this.Xa=this.Mb=0}function at(d,v,_,j){e(_!=null),e(j!=null);var R=_[0],P=j[0];return R==0&&(R=(d*P+v/2)/v),P==0&&(P=(v*R+d/2)/d),0>=R||0>=P?0:(_[0]=R,j[0]=P,1)}function Fe(d,v){return d+(1<<v)-1>>>v}function tt(d,v){return((4278255360&d)+(4278255360&v)>>>0&4278255360)+((16711935&d)+(16711935&v)>>>0&16711935)>>>0}function We(d,v){F[v]=function(_,j,R,P,U,$,Y){var Q;for(Q=0;Q<U;++Q){var me=F[d]($[Y+Q-1],R,P+Q);$[Y+Q]=tt(_[j+Q],me)}}}function Lt(){this.ud=this.hd=this.jd=0}function pt(d,v){return((4278124286&(d^v))>>>1)+(d&v)>>>0}function Bt(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function Ut(d,v){return Bt(d+(d-v+.5>>1))}function Mt(d,v,_){return Math.abs(v-_)-Math.abs(d-_)}function bn(d,v,_,j,R,P,U){for(j=P[U-1],_=0;_<R;++_)P[U+_]=j=tt(d[v+_],j)}function Ot(d,v,_,j,R){var P;for(P=0;P<_;++P){var U=d[v+P],$=U>>8&255,Y=16711935&(Y=(Y=16711935&U)+(($<<16)+$));j[R+P]=(4278255360&U)+Y>>>0}}function ft(d,v){v.jd=255&d,v.hd=d>>8&255,v.ud=d>>16&255}function Et(d,v,_,j,R,P){var U;for(U=0;U<j;++U){var $=v[_+U],Y=$>>>8,Q=$,me=255&(me=(me=$>>>16)+((d.jd<<24>>24)*(Y<<24>>24)>>>5));Q=255&(Q=(Q+=(d.hd<<24>>24)*(Y<<24>>24)>>>5)+((d.ud<<24>>24)*(me<<24>>24)>>>5)),R[P+U]=(4278255360&$)+(me<<16)+Q}}function dt(d,v,_,j,R){F[v]=function(P,U,$,Y,Q,me,je,Z,ye){for(Y=je;Y<Z;++Y)for(je=0;je<ye;++je)Q[me++]=R($[j(P[U++])])},F[d]=function(P,U,$,Y,Q,me,je){var Z=8>>P.b,ye=P.Ea,_e=P.K[0],De=P.w;if(8>Z)for(P=(1<<P.b)-1,De=(1<<Z)-1;U<$;++U){var Se,Re=0;for(Se=0;Se<ye;++Se)Se&P||(Re=j(Y[Q++])),me[je++]=R(_e[Re&De]),Re>>=Z}else F["VP8LMapColor"+_](Y,Q,_e,De,me,je,U,$,ye)}}function Ln(d,v,_,j,R){for(_=v+_;v<_;){var P=d[v++];j[R++]=P>>16&255,j[R++]=P>>8&255,j[R++]=255&P}}function Kt(d,v,_,j,R){for(_=v+_;v<_;){var P=d[v++];j[R++]=P>>16&255,j[R++]=P>>8&255,j[R++]=255&P,j[R++]=P>>24&255}}function Xe(d,v,_,j,R){for(_=v+_;v<_;){var P=(U=d[v++])>>16&240|U>>12&15,U=240&U|U>>28&15;j[R++]=P,j[R++]=U}}function xt(d,v,_,j,R){for(_=v+_;v<_;){var P=(U=d[v++])>>16&248|U>>13&7,U=U>>5&224|U>>3&31;j[R++]=P,j[R++]=U}}function Vt(d,v,_,j,R){for(_=v+_;v<_;){var P=d[v++];j[R++]=255&P,j[R++]=P>>8&255,j[R++]=P>>16&255}}function _t(d,v,_,j,R,P){if(P==0)for(_=v+_;v<_;)$e(j,((P=d[v++])[0]>>24|P[1]>>8&65280|P[2]<<8&16711680|P[3]<<24)>>>0),R+=32;else r(j,R,d,v,_)}function Jt(d,v){F[v][0]=F[d+"0"],F[v][1]=F[d+"1"],F[v][2]=F[d+"2"],F[v][3]=F[d+"3"],F[v][4]=F[d+"4"],F[v][5]=F[d+"5"],F[v][6]=F[d+"6"],F[v][7]=F[d+"7"],F[v][8]=F[d+"8"],F[v][9]=F[d+"9"],F[v][10]=F[d+"10"],F[v][11]=F[d+"11"],F[v][12]=F[d+"12"],F[v][13]=F[d+"13"],F[v][14]=F[d+"0"],F[v][15]=F[d+"0"]}function zt(d){return d==zl||d==jc||d==qo||d==Ec}function In(){this.eb=[],this.size=this.A=this.fb=0}function Jn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function mn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new In,this.f.kb=new Jn,this.sd=null}function wt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function nn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Xr(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function Va(d,v){var _=d.T,j=v.ba.f.RGBA,R=j.eb,P=j.fb+d.ka*j.A,U=Ia[v.ba.S],$=d.y,Y=d.O,Q=d.f,me=d.N,je=d.ea,Z=d.W,ye=v.cc,_e=v.dc,De=v.Mc,Se=v.Nc,Re=d.ka,Ue=d.ka+d.T,Ve=d.U,qe=Ve+1>>1;for(Re==0?U($,Y,null,null,Q,me,je,Z,Q,me,je,Z,R,P,null,null,Ve):(U(v.ec,v.fc,$,Y,ye,_e,De,Se,Q,me,je,Z,R,P-j.A,R,P,Ve),++_);Re+2<Ue;Re+=2)ye=Q,_e=me,De=je,Se=Z,me+=d.Rc,Z+=d.Rc,P+=2*j.A,U($,(Y+=2*d.fa)-d.fa,$,Y,ye,_e,De,Se,Q,me,je,Z,R,P-j.A,R,P,Ve);return Y+=d.fa,d.j+Ue<d.o?(r(v.ec,v.fc,$,Y,Ve),r(v.cc,v.dc,Q,me,qe),r(v.Mc,v.Nc,je,Z,qe),_--):1&Ue||U($,Y,null,null,Q,me,je,Z,Q,me,je,Z,R,P+j.A,null,null,Ve),_}function vi(d,v,_){var j=d.F,R=[d.J];if(j!=null){var P=d.U,U=v.ba.S,$=U==Ul||U==qo;v=v.ba.f.RGBA;var Y=[0],Q=d.ka;Y[0]=d.T,d.Kb&&(Q==0?--Y[0]:(--Q,R[0]-=d.width),d.j+d.ka+d.T==d.o&&(Y[0]=d.o-d.j-Q));var me=v.eb;Q=v.fb+Q*v.A,d=Dl(j,R[0],d.width,P,Y,me,Q+($?0:3),v.A),e(_==Y),d&&zt(U)&&io(me,Q,$,P,Y,v.A)}return 0}function Tr(d){var v=d.ma,_=v.ba.S,j=11>_,R=_==Ja||_==Br||_==Ul||_==Io||_==12||zt(_);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!Xi(v.Oa,d,R?11:12))return 0;if(R&&zt(_)&&wc(),d.da)alert("todo:use_scaling");else{if(j){if(v.Ib=Xr,d.Kb){if(_=d.U+1>>1,v.memory=l(d.U+2*_),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+d.U,v.Mc=v.cc,v.Nc=v.dc+_,v.Ib=Va,wc()}}else alert("todo:EmitYUV");R&&(v.Jb=vi,j&&Dr())}if(j&&!Ms){for(d=0;256>d;++d)qa[d]=89858*(d-128)+$o>>Hr,fd[d]=-22014*(d-128)+$o,Rh[d]=-45773*(d-128),Oc[d]=113618*(d-128)+$o>>Hr;for(d=co;d<Ds;++d)v=76283*(d-16)+$o>>Hr,dd[d-co]=Xn(v,255),pd[d-co]=Xn(v+8>>4,15);Ms=1}return 1}function mt(d){var v=d.ma,_=d.U,j=d.T;return e(!(1&d.ka)),0>=_||0>=j?0:(_=v.Ib(d,v),v.Jb!=null&&v.Jb(d,v,_),v.Dc+=_,1)}function zi(d){d.ma.memory=null}function yi(d,v,_,j){return V(d,8)!=47?0:(v[0]=V(d,14)+1,_[0]=V(d,14)+1,j[0]=V(d,1),V(d,3)!=0?0:!d.h)}function br(d,v){if(4>d)return d+1;var _=d-2>>1;return(2+(1&d)<<_)+V(v,_)+1}function wr(d,v){return 120<v?v-120:1<=(_=((_=zr[v-1])>>4)*d+(8-(15&_)))?_:1;var _}function qn(d,v,_){var j=q(_),R=d[v+=255&j].g-8;return 0<R&&(oe(_,_.u+8),j=q(_),v+=d[v].value,v+=j&(1<<R)-1),oe(_,_.u+d[v].g),d[v].value}function ha(d,v,_){return _.g+=d.g,_.value+=d.value<<v>>>0,e(8>=_.g),d.g}function ja(d,v,_){var j=d.xc;return e((v=j==0?0:d.vc[d.md*(_>>j)+(v>>j)])<d.Wb),d.Ya[v]}function xs(d,v,_,j){var R=d.ab,P=d.c*v,U=d.C;v=U+v;var $=_,Y=j;for(j=d.Ta,_=d.Ua;0<R--;){var Q=d.gc[R],me=U,je=v,Z=$,ye=Y,_e=(Y=j,$=_,Q.Ea);switch(e(me<je),e(je<=Q.nc),Q.hc){case 2:sa(Z,ye,(je-me)*_e,Y,$);break;case 0:var De=me,Se=je,Re=Y,Ue=$,Ve=(nt=Q).Ea;De==0&&(Po(Z,ye,null,null,1,Re,Ue),bn(Z,ye+1,0,0,Ve-1,Re,Ue+1),ye+=Ve,Ue+=Ve,++De);for(var qe=1<<nt.b,st=qe-1,Ze=Fe(Ve,nt.b),Rt=nt.K,nt=nt.w+(De>>nt.b)*Ze;De<Se;){var Wt=Rt,Bn=nt,It=1;for(Bo(Z,ye,Re,Ue-Ve,1,Re,Ue);It<Ve;){var Qe=(It&~st)+qe;Qe>Ve&&(Qe=Ve),(0,Qi[Wt[Bn++]>>8&15])(Z,ye+ +It,Re,Ue+It-Ve,Qe-It,Re,Ue+It),It=Qe}ye+=Ve,Ue+=Ve,++De&st||(nt+=Ze)}je!=Q.nc&&r(Y,$-_e,Y,$+(je-me-1)*_e,_e);break;case 1:for(_e=Z,Se=ye,Ve=(Z=Q.Ea)-(Ue=Z&~(Re=(ye=1<<Q.b)-1)),De=Fe(Z,Q.b),qe=Q.K,Q=Q.w+(me>>Q.b)*De;me<je;){for(st=qe,Ze=Q,Rt=new Lt,nt=Se+Ue,Wt=Se+Z;Se<nt;)ft(st[Ze++],Rt),Uo(Rt,_e,Se,ye,Y,$),Se+=ye,$+=ye;Se<Wt&&(ft(st[Ze++],Rt),Uo(Rt,_e,Se,Ve,Y,$),Se+=Ve,$+=Ve),++me&Re||(Q+=De)}break;case 3:if(Z==Y&&ye==$&&0<Q.b){for(Se=Y,Z=_e=$+(je-me)*_e-(Ue=(je-me)*Fe(Q.Ea,Q.b)),ye=Y,Re=$,De=[],Ue=(Ve=Ue)-1;0<=Ue;--Ue)De[Ue]=ye[Re+Ue];for(Ue=Ve-1;0<=Ue;--Ue)Se[Z+Ue]=De[Ue];xc(Q,me,je,Y,_e,Y,$)}else xc(Q,me,je,Z,ye,Y,$)}$=j,Y=_}Y!=_&&r(j,_,$,Y,P)}function tr(d,v){var _=d.V,j=d.Ba+d.c*d.C,R=v-d.C;if(e(v<=d.l.o),e(16>=R),0<R){var P=d.l,U=d.Ta,$=d.Ua,Y=P.width;if(xs(d,R,_,j),R=$=[$],e((_=d.C)<(j=v)),e(P.v<P.va),j>P.o&&(j=P.o),_<P.j){var Q=P.j-_;_=P.j,R[0]+=Q*Y}if(_>=j?_=0:(R[0]+=4*P.v,P.ka=_-P.j,P.U=P.va-P.v,P.T=j-_,_=1),_){if($=$[0],11>(_=d.ca).S){var me=_.f.RGBA,je=(j=_.S,R=P.U,P=P.T,Q=me.eb,me.A),Z=P;for(me=me.fb+d.Ma*me.A;0<Z--;){var ye=U,_e=$,De=R,Se=Q,Re=me;switch(j){case Nc:zo(ye,_e,De,Se,Re);break;case Ja:es(ye,_e,De,Se,Re);break;case zl:es(ye,_e,De,Se,Re),io(Se,Re,0,De,1,0);break;case Ac:ao(ye,_e,De,Se,Re);break;case Br:_t(ye,_e,De,Se,Re,1);break;case jc:_t(ye,_e,De,Se,Re,1),io(Se,Re,0,De,1,0);break;case Ul:_t(ye,_e,De,Se,Re,0);break;case qo:_t(ye,_e,De,Se,Re,0),io(Se,Re,1,De,1,0);break;case Io:ts(ye,_e,De,Se,Re);break;case Ec:ts(ye,_e,De,Se,Re),Pr(Se,Re,De,1,0);break;case Ls:ki(ye,_e,De,Se,Re);break;default:e(0)}$+=Y,me+=je}d.Ma+=P}else alert("todo:EmitRescaledRowsYUVA");e(d.Ma<=_.height)}}d.C=v,e(d.C<=d.i)}function Nn(d){var v;if(0<d.ua)return 0;for(v=0;v<d.Wb;++v){var _=d.Ya[v].G,j=d.Ya[v].H;if(0<_[1][j[1]+0].g||0<_[2][j[2]+0].g||0<_[3][j[3]+0].g)return 0}return 1}function Hn(d,v,_,j,R,P){if(d.Z!=0){var U=d.qd,$=d.rd;for(e(rs[d.Z]!=null);v<_;++v)rs[d.Z](U,$,j,R,j,R,P),U=j,$=R,R+=P;d.qd=U,d.rd=$}}function Ga(d,v){var _=d.l.ma,j=_.Z==0||_.Z==1?d.l.j:d.C;if(j=d.C<j?j:d.C,e(v<=d.l.o),v>j){var R=d.l.width,P=_.ca,U=_.tb+R*j,$=d.V,Y=d.Ba+d.c*j,Q=d.gc;e(d.ab==1),e(Q[0].hc==3),Li(Q[0],j,v,$,Y,P,U),Hn(_,j,v,P,U,R)}d.C=d.Ma=v}function xr(d,v,_,j,R,P,U){var $=d.$/j,Y=d.$%j,Q=d.m,me=d.s,je=_+d.$,Z=je;R=_+j*R;var ye=_+j*P,_e=280+me.ua,De=d.Pb?$:16777216,Se=0<me.ua?me.Wa:null,Re=me.wc,Ue=je<ye?ja(me,Y,$):null;e(d.C<P),e(ye<=R);var Ve=!1;e:for(;;){for(;Ve||je<ye;){var qe=0;if($>=De){var st=je-_;e((De=d).Pb),De.wd=De.m,De.xd=st,0<De.s.ua&&Ge(De.s.Wa,De.s.vb),De=$+ks}if(Y&Re||(Ue=ja(me,Y,$)),e(Ue!=null),Ue.Qb&&(v[je]=Ue.qb,Ve=!0),!Ve)if(be(Q),Ue.jc){qe=Q,st=v;var Ze=je,Rt=Ue.pd[q(qe)&Cs-1];e(Ue.jc),256>Rt.g?(oe(qe,qe.u+Rt.g),st[Ze]=Rt.value,qe=0):(oe(qe,qe.u+Rt.g-256),e(256<=Rt.value),qe=Rt.value),qe==0&&(Ve=!0)}else qe=qn(Ue.G[0],Ue.H[0],Q);if(Q.h)break;if(Ve||256>qe){if(!Ve)if(Ue.nd)v[je]=(Ue.qb|qe<<8)>>>0;else{if(be(Q),Ve=qn(Ue.G[1],Ue.H[1],Q),be(Q),st=qn(Ue.G[2],Ue.H[2],Q),Ze=qn(Ue.G[3],Ue.H[3],Q),Q.h)break;v[je]=(Ze<<24|Ve<<16|qe<<8|st)>>>0}if(Ve=!1,++je,++Y>=j&&(Y=0,++$,U!=null&&$<=P&&!($%16)&&U(d,$),Se!=null))for(;Z<je;)qe=v[Z++],Se.X[(506832829*qe&4294967295)>>>Se.Mb]=qe}else if(280>qe){if(qe=br(qe-256,Q),st=qn(Ue.G[4],Ue.H[4],Q),be(Q),st=wr(j,st=br(st,Q)),Q.h)break;if(je-_<st||R-je<qe)break e;for(Ze=0;Ze<qe;++Ze)v[je+Ze]=v[je+Ze-st];for(je+=qe,Y+=qe;Y>=j;)Y-=j,++$,U!=null&&$<=P&&!($%16)&&U(d,$);if(e(je<=R),Y&Re&&(Ue=ja(me,Y,$)),Se!=null)for(;Z<je;)qe=v[Z++],Se.X[(506832829*qe&4294967295)>>>Se.Mb]=qe}else{if(!(qe<_e))break e;for(Ve=qe-280,e(Se!=null);Z<je;)qe=v[Z++],Se.X[(506832829*qe&4294967295)>>>Se.Mb]=qe;qe=je,e(!(Ve>>>(st=Se).Xa)),v[qe]=st.X[Ve],Ve=!0}Ve||e(Q.h==te(Q))}if(d.Pb&&Q.h&&je<R)e(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&Ge(d.s.vb,d.s.Wa);else{if(Q.h)break e;U!=null&&U(d,$>P?P:$),d.a=0,d.$=je-_}return 1}return d.a=3,0}function Or(d){e(d!=null),d.vc=null,d.yc=null,d.Ya=null;var v=d.Wa;v!=null&&(v.X=null),d.vb=null,e(d!=null)}function Gs(){var d=new lt;return d==null?null:(d.a=0,d.xb=Tu,Jt("Predictor","VP8LPredictors"),Jt("Predictor","VP8LPredictors_C"),Jt("PredictorAdd","VP8LPredictorsAdd"),Jt("PredictorAdd","VP8LPredictorsAdd_C"),sa=Ot,Uo=Et,zo=Ln,es=Kt,ts=Xe,ki=xt,ao=Vt,F.VP8LMapColor32b=Ci,F.VP8LMapColor8b=Ba,d)}function Zr(d,v,_,j,R){var P=1,U=[d],$=[v],Y=j.m,Q=j.s,me=null,je=0;e:for(;;){if(_)for(;P&&V(Y,1);){var Z=U,ye=$,_e=j,De=1,Se=_e.m,Re=_e.gc[_e.ab],Ue=V(Se,2);if(_e.Oc&1<<Ue)P=0;else{switch(_e.Oc|=1<<Ue,Re.hc=Ue,Re.Ea=Z[0],Re.nc=ye[0],Re.K=[null],++_e.ab,e(4>=_e.ab),Ue){case 0:case 1:Re.b=V(Se,3)+2,De=Zr(Fe(Re.Ea,Re.b),Fe(Re.nc,Re.b),0,_e,Re.K),Re.K=Re.K[0];break;case 3:var Ve,qe=V(Se,8)+1,st=16<qe?0:4<qe?1:2<qe?2:3;if(Z[0]=Fe(Re.Ea,st),Re.b=st,Ve=De=Zr(qe,1,0,_e,Re.K)){var Ze,Rt=qe,nt=Re,Wt=1<<(8>>nt.b),Bn=l(Wt);if(Bn==null)Ve=0;else{var It=nt.K[0],Qe=nt.w;for(Bn[0]=nt.K[0][0],Ze=1;Ze<1*Rt;++Ze)Bn[Ze]=tt(It[Qe+Ze],Bn[Ze-1]);for(;Ze<4*Wt;++Ze)Bn[Ze]=0;nt.K[0]=null,nt.K[0]=Bn,Ve=1}}De=Ve;break;case 2:break;default:e(0)}P=De}}if(U=U[0],$=$[0],P&&V(Y,1)&&!(P=1<=(je=V(Y,4))&&11>=je)){j.a=3;break e}var Ye;if(Ye=P)t:{var Vn,Nt,Ht,wn=j,xa=U,Fa=$,On=je,da=_,Xa=wn.m,pa=wn.s,Yt=[null],on=1,Gn=0,fn=Ir[On];n:for(;;){if(da&&V(Xa,1)){var _a=V(Xa,3)+2,Yn=Fe(xa,_a),ln=Fe(Fa,_a),ca=Yn*ln;if(!Zr(Yn,ln,0,wn,Yt))break n;for(Yt=Yt[0],pa.xc=_a,Vn=0;Vn<ca;++Vn){var xn=Yt[Vn]>>8&65535;Yt[Vn]=xn,xn>=on&&(on=xn+1)}}if(Xa.h)break n;for(Nt=0;5>Nt;++Nt){var ma=oo[Nt];!Nt&&0<On&&(ma+=1<<On),Gn<ma&&(Gn=ma)}var ga=u(on*fn,ie),An=on,rn=u(An,ue);if(rn==null)var Za=null;else e(65536>=An),Za=rn;var Qn=l(Gn);if(Za==null||Qn==null||ga==null){wn.a=1;break n}var gt=ga;for(Vn=Ht=0;Vn<on;++Vn){var yt=Za[Vn],cn=yt.G,hr=yt.H,$r=0,sr=1,va=0;for(Nt=0;5>Nt;++Nt){ma=oo[Nt],cn[Nt]=gt,hr[Nt]=Ht,!Nt&&0<On&&(ma+=1<<On);r:{var Ps,Bs=ma,Dc=wn,Rn=Qn,Ru=gt,Du=Ht,Mc=0,is=Dc.m,md=V(is,1);if(o(Rn,0,0,Bs),md){var Mu=V(is,1)+1,Pu=V(is,1),Pc=V(is,Pu==0?1:8);Rn[Pc]=1,Mu==2&&(Rn[Pc=V(is,8)]=1);var Ca=1}else{var ea=l(19),Hl=V(is,4)+4;if(19<Hl){Dc.a=3;var Us=0;break r}for(Ps=0;Ps<Hl;++Ps)ea[Il[Ps]]=V(is,3);var Go=void 0,uo=void 0,Ri=Dc,Bc=ea,Yo=Bs,Uc=Rn,zc=0,ss=Ri.m,Bu=8,Uu=u(128,ie);a:for(;H(Uu,0,7,Bc,19);){if(V(ss,1)){var Dh=2+2*V(ss,3);if((Go=2+V(ss,Dh))>Yo)break a}else Go=Yo;for(uo=0;uo<Yo&&Go--;){be(ss);var zu=Uu[0+(127&q(ss))];oe(ss,ss.u+zu.g);var zs=zu.value;if(16>zs)Uc[uo++]=zs,zs!=0&&(Bu=zs);else{var Mh=zs==16,Ph=zs-16,Bh=Fo[Ph],Iu=V(ss,Ur[Ph])+Bh;if(uo+Iu>Yo)break a;for(var Uh=Mh?Bu:0;0<Iu--;)Uc[uo++]=Uh}}zc=1;break a}zc||(Ri.a=3),Ca=zc}(Ca=Ca&&!is.h)&&(Mc=H(Ru,Du,8,Rn,Bs)),Ca&&Mc!=0?Us=Mc:(Dc.a=3,Us=0)}if(Us==0)break n;if(sr&&Cc[Nt]==1&&(sr=gt[Ht].g==0),$r+=gt[Ht].g,Ht+=Us,3>=Nt){var ho,Ic=Qn[0];for(ho=1;ho<ma;++ho)Qn[ho]>Ic&&(Ic=Qn[ho]);va+=Ic}}if(yt.nd=sr,yt.Qb=0,sr&&(yt.qb=(cn[3][hr[3]+0].value<<24|cn[1][hr[1]+0].value<<16|cn[2][hr[2]+0].value)>>>0,$r==0&&256>cn[0][hr[0]+0].value&&(yt.Qb=1,yt.qb+=cn[0][hr[0]+0].value<<8)),yt.jc=!yt.Qb&&6>va,yt.jc){var $l,Di=yt;for($l=0;$l<Cs;++$l){var os=$l,ls=Di.pd[os],qc=Di.G[0][Di.H[0]+os];256<=qc.value?(ls.g=qc.g+256,ls.value=qc.value):(ls.g=0,ls.value=0,os>>=ha(qc,8,ls),os>>=ha(Di.G[1][Di.H[1]+os],16,ls),os>>=ha(Di.G[2][Di.H[2]+os],0,ls),ha(Di.G[3][Di.H[3]+os],24,ls))}}}pa.vc=Yt,pa.Wb=on,pa.Ya=Za,pa.yc=ga,Ye=1;break t}Ye=0}if(!(P=Ye)){j.a=3;break e}if(0<je){if(Q.ua=1<<je,!K(Q.Wa,je)){j.a=1,P=0;break e}}else Q.ua=0;var Fc=j,fo=U,zh=$,Wo=Fc.s,Ko=Wo.xc;if(Fc.c=fo,Fc.i=zh,Wo.md=Fe(fo,Ko),Wo.wc=Ko==0?-1:(1<<Ko)-1,_){j.xb=Ts;break e}if((me=l(U*$))==null){j.a=1,P=0;break e}P=(P=xr(j,me,0,U,$,$,null))&&!Y.h;break e}return P?(R!=null?R[0]=me:(e(me==null),e(_)),j.$=0,_||Or(Q)):Or(Q),P}function Qr(d,v){var _=d.c*d.i,j=_+v+16*v;return e(d.c<=v),d.V=l(j),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+_+v,1)}function _s(d,v){var _=d.C,j=v-_,R=d.V,P=d.Ba+d.c*_;for(e(v<=d.l.o);0<j;){var U=16<j?16:j,$=d.l.ma,Y=d.l.width,Q=Y*U,me=$.ca,je=$.tb+Y*_,Z=d.Ta,ye=d.Ua;xs(d,U,R,P),Lr(Z,ye,me,je,Q),Hn($,_,_+U,me,je,Y),j-=U,R+=U*d.c,_+=U}e(_==v),d.C=d.Ma=v}function ei(){this.ub=this.yd=this.td=this.Rb=0}function ti(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ys(){this.Fb=this.Bb=this.Cb=0,this.Zb=l(4),this.Lb=l(4)}function bi(){this.Yb=(function(){var d=[];return(function v(_,j,R){for(var P=R[j],U=0;U<P&&(_.push(R.length>j+1?[]:0),!(R.length<j+1));U++)v(_[U],j+1,R)})(d,0,[3,11]),d})()}function aa(){this.jb=l(3),this.Wc=h([4,8],bi),this.Xc=h([4,17],bi)}function vl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new l(4),this.od=new l(4)}function _r(){this.ld=this.La=this.dd=this.tc=0}function ni(){this.Na=this.la=0}function Ii(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function yl(){this.ad=l(384),this.Za=0,this.Ob=l(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function bl(){this.uc=this.M=this.Nb=0,this.wa=Array(new _r),this.Y=0,this.ya=Array(new yl),this.aa=0,this.l=new qi}function wl(){this.y=l(16),this.f=l(8),this.ea=l(8)}function hc(){this.cb=this.a=0,this.sc="",this.m=new A,this.Od=new ei,this.Kc=new ti,this.ed=new vl,this.Qa=new Ys,this.Ic=this.$c=this.Aa=0,this.D=new bl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,A),this.ia=0,this.pb=u(4,Ii),this.Pa=new aa,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new wl),this.Hd=0,this.rb=Array(new ni),this.sb=0,this.wa=Array(new _r),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new yl),this.L=this.aa=0,this.gd=h([4,2],_r),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function qi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Lo(){var d=new hc;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,kr||(kr=Fi)),d}function Sn(d,v,_){return d.a==0&&(d.a=v,d.sc=_,d.cb=0),0}function nr(d,v,_){return 3<=_&&d[v+0]==157&&d[v+1]==1&&d[v+2]==42}function xl(d,v){if(d==null)return 0;if(d.a=0,d.sc="OK",v==null)return Sn(d,2,"null VP8Io passed to VP8GetHeaders()");var _=v.data,j=v.w,R=v.ha;if(4>R)return Sn(d,7,"Truncated header.");var P=_[j+0]|_[j+1]<<8|_[j+2]<<16,U=d.Od;if(U.Rb=!(1&P),U.td=P>>1&7,U.yd=P>>4&1,U.ub=P>>5,3<U.td)return Sn(d,3,"Incorrect keyframe parameters.");if(!U.yd)return Sn(d,4,"Frame not displayable.");j+=3,R-=3;var $=d.Kc;if(U.Rb){if(7>R)return Sn(d,7,"cannot parse picture header");if(!nr(_,j,R))return Sn(d,3,"Bad code word");$.c=16383&(_[j+4]<<8|_[j+3]),$.Td=_[j+4]>>6,$.i=16383&(_[j+6]<<8|_[j+5]),$.Ud=_[j+6]>>6,j+=7,R-=7,d.za=$.c+15>>4,d.Ub=$.i+15>>4,v.width=$.c,v.height=$.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,o((P=d.Pa).jb,0,255,P.jb.length),e((P=d.Qa)!=null),P.Cb=0,P.Bb=0,P.Fb=1,o(P.Zb,0,0,P.Zb.length),o(P.Lb,0,0,P.Lb)}if(U.ub>R)return Sn(d,7,"bad partition length");W(P=d.m,_,j,U.ub),j+=U.ub,R-=U.ub,U.Rb&&($.Ld=Ne(P),$.Kd=Ne(P)),$=d.Qa;var Y,Q=d.Pa;if(e(P!=null),e($!=null),$.Cb=Ne(P),$.Cb){if($.Bb=Ne(P),Ne(P)){for($.Fb=Ne(P),Y=0;4>Y;++Y)$.Zb[Y]=Ne(P)?le(P,7):0;for(Y=0;4>Y;++Y)$.Lb[Y]=Ne(P)?le(P,6):0}if($.Bb)for(Y=0;3>Y;++Y)Q.jb[Y]=Ne(P)?se(P,8):255}else $.Bb=0;if(P.Ka)return Sn(d,3,"cannot parse segment header");if(($=d.ed).zd=Ne(P),$.Tb=se(P,6),$.wb=se(P,3),$.Pc=Ne(P),$.Pc&&Ne(P)){for(Q=0;4>Q;++Q)Ne(P)&&($.vd[Q]=le(P,6));for(Q=0;4>Q;++Q)Ne(P)&&($.od[Q]=le(P,6))}if(d.L=$.Tb==0?0:$.zd?1:2,P.Ka)return Sn(d,3,"cannot parse filter header");var me=R;if(R=Y=j,j=Y+me,$=me,d.Xb=(1<<se(d.m,2))-1,me<3*(Q=d.Xb))_=7;else{for(Y+=3*Q,$-=3*Q,me=0;me<Q;++me){var je=_[R+0]|_[R+1]<<8|_[R+2]<<16;je>$&&(je=$),W(d.Jc[+me],_,Y,je),Y+=je,$-=je,R+=3}W(d.Jc[+Q],_,Y,$),_=Y<j?0:5}if(_!=0)return Sn(d,_,"cannot parse partitions");for(_=se(Y=d.m,7),R=Ne(Y)?le(Y,4):0,j=Ne(Y)?le(Y,4):0,$=Ne(Y)?le(Y,4):0,Q=Ne(Y)?le(Y,4):0,Y=Ne(Y)?le(Y,4):0,me=d.Qa,je=0;4>je;++je){if(me.Cb){var Z=me.Zb[je];me.Fb||(Z+=_)}else{if(0<je){d.pb[je]=d.pb[0];continue}Z=_}var ye=d.pb[je];ye.Sc[0]=qr[Xn(Z+R,127)],ye.Sc[1]=Fr[Xn(Z+0,127)],ye.Eb[0]=2*qr[Xn(Z+j,127)],ye.Eb[1]=101581*Fr[Xn(Z+$,127)]>>16,8>ye.Eb[1]&&(ye.Eb[1]=8),ye.Qc[0]=qr[Xn(Z+Q,117)],ye.Qc[1]=Fr[Xn(Z+Y,127)],ye.lc=Z+Y}if(!U.Rb)return Sn(d,4,"Not a key frame.");for(Ne(P),U=d.Pa,_=0;4>_;++_){for(R=0;8>R;++R)for(j=0;3>j;++j)for($=0;11>$;++$)Q=Pe(P,Pn[_][R][j][$])?se(P,8):Oh[_][R][j][$],U.Wc[_][R].Yb[j][$]=Q;for(R=0;17>R;++R)U.Xc[_][R]=U.Wc[_][Xt[R]]}return d.kc=Ne(P),d.kc&&(d.Bd=se(P,8)),d.cb=1}function Fi(d,v,_,j,R,P,U){var $=v[R].Yb[_];for(_=0;16>R;++R){if(!Pe(d,$[_+0]))return R;for(;!Pe(d,$[_+1]);)if($=v[++R].Yb[0],_=0,R==16)return 16;var Y=v[R+1].Yb;if(Pe(d,$[_+2])){var Q=d,me=0;if(Pe(Q,(Z=$)[(je=_)+3]))if(Pe(Q,Z[je+6])){for($=0,je=2*(me=Pe(Q,Z[je+8]))+(Z=Pe(Q,Z[je+9+me])),me=0,Z=Th[je];Z[$];++$)me+=me+Pe(Q,Z[$]);me+=3+(8<<je)}else Pe(Q,Z[je+7])?(me=7+2*Pe(Q,165),me+=Pe(Q,145)):me=5+Pe(Q,159);else me=Pe(Q,Z[je+4])?3+Pe(Q,Z[je+5]):2;$=Y[2]}else me=1,$=Y[1];Y=U+ku[R],0>(Q=d).b&&Ae(Q);var je,Z=Q.b,ye=(je=Q.Ca>>1)-(Q.I>>Z)>>31;--Q.b,Q.Ca+=ye,Q.Ca|=1,Q.I-=(je+1&ye)<<Z,P[Y]=((me^ye)-ye)*j[(0<R)+0]}return 16}function Hi(d){var v=d.rb[d.sb-1];v.la=0,v.Na=0,o(d.zc,0,0,d.zc.length),d.ja=0}function Rr(d,v,_,j,R){R=d[v+_+32*j]+(R>>3),d[v+_+32*j]=-256&R?0>R?0:255:R}function wi(d,v,_,j,R,P){Rr(d,v,0,_,j+R),Rr(d,v,1,_,j+P),Rr(d,v,2,_,j-P),Rr(d,v,3,_,j-R)}function ra(d){return(20091*d>>16)+d}function Ya(d,v,_,j){var R,P=0,U=l(16);for(R=0;4>R;++R){var $=d[v+0]+d[v+8],Y=d[v+0]-d[v+8],Q=(35468*d[v+4]>>16)-ra(d[v+12]),me=ra(d[v+4])+(35468*d[v+12]>>16);U[P+0]=$+me,U[P+1]=Y+Q,U[P+2]=Y-Q,U[P+3]=$-me,P+=4,v++}for(R=P=0;4>R;++R)$=(d=U[P+0]+4)+U[P+8],Y=d-U[P+8],Q=(35468*U[P+4]>>16)-ra(U[P+12]),Rr(_,j,0,0,$+(me=ra(U[P+4])+(35468*U[P+12]>>16))),Rr(_,j,1,0,Y+Q),Rr(_,j,2,0,Y-Q),Rr(_,j,3,0,$-me),P++,j+=32}function _l(d,v,_,j){var R=d[v+0]+4,P=35468*d[v+4]>>16,U=ra(d[v+4]),$=35468*d[v+1]>>16;wi(_,j,0,R+U,d=ra(d[v+1]),$),wi(_,j,1,R+P,d,$),wi(_,j,2,R-P,d,$),wi(_,j,3,R-U,d,$)}function fc(d,v,_,j,R){Ya(d,v,_,j),R&&Ya(d,v+16,_,j+4)}function Sl(d,v,_,j){ns(d,v+0,_,j,1),ns(d,v+32,_,j+128,1)}function ar(d,v,_,j){var R;for(d=d[v+0]+4,R=0;4>R;++R)for(v=0;4>v;++v)Rr(_,j,v,R,d)}function Nl(d,v,_,j){d[v+0]&&hn(d,v+0,_,j),d[v+16]&&hn(d,v+16,_,j+4),d[v+32]&&hn(d,v+32,_,j+128),d[v+48]&&hn(d,v+48,_,j+128+4)}function Al(d,v,_,j){var R,P=l(16);for(R=0;4>R;++R){var U=d[v+0+R]+d[v+12+R],$=d[v+4+R]+d[v+8+R],Y=d[v+4+R]-d[v+8+R],Q=d[v+0+R]-d[v+12+R];P[0+R]=U+$,P[8+R]=U-$,P[4+R]=Q+Y,P[12+R]=Q-Y}for(R=0;4>R;++R)U=(d=P[0+4*R]+3)+P[3+4*R],$=P[1+4*R]+P[2+4*R],Y=P[1+4*R]-P[2+4*R],Q=d-P[3+4*R],_[j+0]=U+$>>3,_[j+16]=Q+Y>>3,_[j+32]=U-$>>3,_[j+48]=Q-Y>>3,j+=64}function Sr(d,v,_){var j,R=v-32,P=Ka,U=255-d[R-1];for(j=0;j<_;++j){var $,Y=P,Q=U+d[v-1];for($=0;$<_;++$)d[v+$]=Y[Q+d[R+$]];v+=32}}function jl(d,v){Sr(d,v,4)}function dc(d,v){Sr(d,v,8)}function pc(d,v){Sr(d,v,16)}function El(d,v){var _;for(_=0;16>_;++_)r(d,v+32*_,d,v-32,16)}function Cl(d,v){var _;for(_=16;0<_;--_)o(d,v,d[v-1],16),v+=32}function Ws(d,v,_){var j;for(j=0;16>j;++j)o(v,_+32*j,d,16)}function ai(d,v){var _,j=16;for(_=0;16>_;++_)j+=d[v-1+32*_]+d[v+_-32];Ws(j>>5,d,v)}function ri(d,v){var _,j=8;for(_=0;16>_;++_)j+=d[v-1+32*_];Ws(j>>4,d,v)}function $i(d,v){var _,j=8;for(_=0;16>_;++_)j+=d[v+_-32];Ws(j>>4,d,v)}function Ks(d,v){Ws(128,d,v)}function St(d,v,_){return d+2*v+_+2>>2}function Ss(d,v){var _,j=v-32;for(j=new Uint8Array([St(d[j-1],d[j+0],d[j+1]),St(d[j+0],d[j+1],d[j+2]),St(d[j+1],d[j+2],d[j+3]),St(d[j+2],d[j+3],d[j+4])]),_=0;4>_;++_)r(d,v+32*_,j,0,j.length)}function mc(d,v){var _=d[v-1],j=d[v-1+32],R=d[v-1+64],P=d[v-1+96];$e(d,v+0,16843009*St(d[v-1-32],_,j)),$e(d,v+32,16843009*St(_,j,R)),$e(d,v+64,16843009*St(j,R,P)),$e(d,v+96,16843009*St(R,P,P))}function Ll(d,v){var _,j=4;for(_=0;4>_;++_)j+=d[v+_-32]+d[v-1+32*_];for(j>>=3,_=0;4>_;++_)o(d,v+32*_,j,4)}function gc(d,v){var _=d[v-1+0],j=d[v-1+32],R=d[v-1+64],P=d[v-1-32],U=d[v+0-32],$=d[v+1-32],Y=d[v+2-32],Q=d[v+3-32];d[v+0+96]=St(j,R,d[v-1+96]),d[v+1+96]=d[v+0+64]=St(_,j,R),d[v+2+96]=d[v+1+64]=d[v+0+32]=St(P,_,j),d[v+3+96]=d[v+2+64]=d[v+1+32]=d[v+0+0]=St(U,P,_),d[v+3+64]=d[v+2+32]=d[v+1+0]=St($,U,P),d[v+3+32]=d[v+2+0]=St(Y,$,U),d[v+3+0]=St(Q,Y,$)}function Nr(d,v){var _=d[v+1-32],j=d[v+2-32],R=d[v+3-32],P=d[v+4-32],U=d[v+5-32],$=d[v+6-32],Y=d[v+7-32];d[v+0+0]=St(d[v+0-32],_,j),d[v+1+0]=d[v+0+32]=St(_,j,R),d[v+2+0]=d[v+1+32]=d[v+0+64]=St(j,R,P),d[v+3+0]=d[v+2+32]=d[v+1+64]=d[v+0+96]=St(R,P,U),d[v+3+32]=d[v+2+64]=d[v+1+96]=St(P,U,$),d[v+3+64]=d[v+2+96]=St(U,$,Y),d[v+3+96]=St($,Y,Y)}function Da(d,v){var _=d[v-1+0],j=d[v-1+32],R=d[v-1+64],P=d[v-1-32],U=d[v+0-32],$=d[v+1-32],Y=d[v+2-32],Q=d[v+3-32];d[v+0+0]=d[v+1+64]=P+U+1>>1,d[v+1+0]=d[v+2+64]=U+$+1>>1,d[v+2+0]=d[v+3+64]=$+Y+1>>1,d[v+3+0]=Y+Q+1>>1,d[v+0+96]=St(R,j,_),d[v+0+64]=St(j,_,P),d[v+0+32]=d[v+1+96]=St(_,P,U),d[v+1+32]=d[v+2+96]=St(P,U,$),d[v+2+32]=d[v+3+96]=St(U,$,Y),d[v+3+32]=St($,Y,Q)}function kl(d,v){var _=d[v+0-32],j=d[v+1-32],R=d[v+2-32],P=d[v+3-32],U=d[v+4-32],$=d[v+5-32],Y=d[v+6-32],Q=d[v+7-32];d[v+0+0]=_+j+1>>1,d[v+1+0]=d[v+0+64]=j+R+1>>1,d[v+2+0]=d[v+1+64]=R+P+1>>1,d[v+3+0]=d[v+2+64]=P+U+1>>1,d[v+0+32]=St(_,j,R),d[v+1+32]=d[v+0+96]=St(j,R,P),d[v+2+32]=d[v+1+96]=St(R,P,U),d[v+3+32]=d[v+2+96]=St(P,U,$),d[v+3+64]=St(U,$,Y),d[v+3+96]=St($,Y,Q)}function Js(d,v){var _=d[v-1+0],j=d[v-1+32],R=d[v-1+64],P=d[v-1+96];d[v+0+0]=_+j+1>>1,d[v+2+0]=d[v+0+32]=j+R+1>>1,d[v+2+32]=d[v+0+64]=R+P+1>>1,d[v+1+0]=St(_,j,R),d[v+3+0]=d[v+1+32]=St(j,R,P),d[v+3+32]=d[v+1+64]=St(R,P,P),d[v+3+64]=d[v+2+64]=d[v+0+96]=d[v+1+96]=d[v+2+96]=d[v+3+96]=P}function Ar(d,v){var _=d[v-1+0],j=d[v-1+32],R=d[v-1+64],P=d[v-1+96],U=d[v-1-32],$=d[v+0-32],Y=d[v+1-32],Q=d[v+2-32];d[v+0+0]=d[v+2+32]=_+U+1>>1,d[v+0+32]=d[v+2+64]=j+_+1>>1,d[v+0+64]=d[v+2+96]=R+j+1>>1,d[v+0+96]=P+R+1>>1,d[v+3+0]=St($,Y,Q),d[v+2+0]=St(U,$,Y),d[v+1+0]=d[v+3+32]=St(_,U,$),d[v+1+32]=d[v+3+64]=St(j,_,U),d[v+1+64]=d[v+3+96]=St(R,j,_),d[v+1+96]=St(P,R,j)}function Xs(d,v){var _;for(_=0;8>_;++_)r(d,v+32*_,d,v-32,8)}function xi(d,v){var _;for(_=0;8>_;++_)o(d,v,d[v-1],8),v+=32}function Zs(d,v,_){var j;for(j=0;8>j;++j)o(v,_+32*j,d,8)}function Vi(d,v){var _,j=8;for(_=0;8>_;++_)j+=d[v+_-32]+d[v-1+32*_];Zs(j>>4,d,v)}function ko(d,v){var _,j=4;for(_=0;8>_;++_)j+=d[v+_-32];Zs(j>>3,d,v)}function To(d,v){var _,j=4;for(_=0;8>_;++_)j+=d[v-1+32*_];Zs(j>>3,d,v)}function Ea(d,v){Zs(128,d,v)}function jr(d,v,_){var j=d[v-_],R=d[v+0],P=3*(R-j)+as[1020+d[v-2*_]-d[v+_]],U=Bl[112+(P+4>>3)];d[v-_]=Ka[255+j+Bl[112+(P+3>>3)]],d[v+0]=Ka[255+R-U]}function _i(d,v,_,j){var R=d[v+0],P=d[v+_];return Ua[255+d[v-2*_]-d[v-_]]>j||Ua[255+P-R]>j}function Gi(d,v,_,j){return 4*Ua[255+d[v-_]-d[v+0]]+Ua[255+d[v-2*_]-d[v+_]]<=j}function Oo(d,v,_,j,R){var P=d[v-3*_],U=d[v-2*_],$=d[v-_],Y=d[v+0],Q=d[v+_],me=d[v+2*_],je=d[v+3*_];return 4*Ua[255+$-Y]+Ua[255+U-Q]>j?0:Ua[255+d[v-4*_]-P]<=R&&Ua[255+P-U]<=R&&Ua[255+U-$]<=R&&Ua[255+je-me]<=R&&Ua[255+me-Q]<=R&&Ua[255+Q-Y]<=R}function Qs(d,v,_,j){var R=2*j+1;for(j=0;16>j;++j)Gi(d,v+j,_,R)&&jr(d,v+j,_)}function Yi(d,v,_,j){var R=2*j+1;for(j=0;16>j;++j)Gi(d,v+j*_,1,R)&&jr(d,v+j*_,1)}function Ns(d,v,_,j){var R;for(R=3;0<R;--R)Qs(d,v+=4*_,_,j)}function eo(d,v,_,j){var R;for(R=3;0<R;--R)Yi(d,v+=4,_,j)}function Si(d,v,_,j,R,P,U,$){for(P=2*P+1;0<R--;){if(Oo(d,v,_,P,U))if(_i(d,v,_,$))jr(d,v,_);else{var Y=d,Q=v,me=_,je=Y[Q-2*me],Z=Y[Q-me],ye=Y[Q+0],_e=Y[Q+me],De=Y[Q+2*me],Se=27*(Ue=as[1020+3*(ye-Z)+as[1020+je-_e]])+63>>7,Re=18*Ue+63>>7,Ue=9*Ue+63>>7;Y[Q-3*me]=Ka[255+Y[Q-3*me]+Ue],Y[Q-2*me]=Ka[255+je+Re],Y[Q-me]=Ka[255+Z+Se],Y[Q+0]=Ka[255+ye-Se],Y[Q+me]=Ka[255+_e-Re],Y[Q+2*me]=Ka[255+De-Ue]}v+=j}}function Wi(d,v,_,j,R,P,U,$){for(P=2*P+1;0<R--;){if(Oo(d,v,_,P,U))if(_i(d,v,_,$))jr(d,v,_);else{var Y=d,Q=v,me=_,je=Y[Q-me],Z=Y[Q+0],ye=Y[Q+me],_e=Bl[112+(4+(De=3*(Z-je))>>3)],De=Bl[112+(De+3>>3)],Se=_e+1>>1;Y[Q-2*me]=Ka[255+Y[Q-2*me]+Se],Y[Q-me]=Ka[255+je+De],Y[Q+0]=Ka[255+Z-_e],Y[Q+me]=Ka[255+ye-Se]}v+=j}}function vc(d,v,_,j,R,P){Si(d,v,_,1,16,j,R,P)}function yc(d,v,_,j,R,P){Si(d,v,1,_,16,j,R,P)}function Ki(d,v,_,j,R,P){var U;for(U=3;0<U;--U)Wi(d,v+=4*_,_,1,16,j,R,P)}function bc(d,v,_,j,R,P){var U;for(U=3;0<U;--U)Wi(d,v+=4,1,_,16,j,R,P)}function x(d,v,_,j,R,P,U,$){Si(d,v,R,1,8,P,U,$),Si(_,j,R,1,8,P,U,$)}function O(d,v,_,j,R,P,U,$){Si(d,v,1,R,8,P,U,$),Si(_,j,1,R,8,P,U,$)}function ee(d,v,_,j,R,P,U,$){Wi(d,v+4*R,R,1,8,P,U,$),Wi(_,j+4*R,R,1,8,P,U,$)}function pe(d,v,_,j,R,P,U,$){Wi(d,v+4,1,R,8,P,U,$),Wi(_,j+4,1,R,8,P,U,$)}function we(){this.ba=new mn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new nn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Be(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function He(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function rt(){this.ua=0,this.Wa=new et,this.vb=new et,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ue,this.yc=new ie}function lt(){this.xb=this.a=0,this.l=new qi,this.ca=new mn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new B,this.Pb=0,this.wd=new B,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new rt,this.ab=0,this.gc=u(4,He),this.Oc=0}function Ct(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Pt(d,v,_,j,R,P,U){for(d=d==null?0:d[v+0],v=0;v<U;++v)R[P+v]=d+_[j+v]&255,d=R[P+v]}function un(d,v,_,j,R,P,U){var $;if(d==null)Pt(null,null,_,j,R,P,U);else for($=0;$<U;++$)R[P+$]=d[v+$]+_[j+$]&255}function $n(d,v,_,j,R,P,U){if(d==null)Pt(null,null,_,j,R,P,U);else{var $,Y=d[v+0],Q=Y,me=Y;for($=0;$<U;++$)Q=me+(Y=d[v+$])-Q,me=_[j+$]+(-256&Q?0>Q?0:255:Q)&255,Q=Y,R[P+$]=me}}function ia(d,v,_,j){var R=v.width,P=v.o;if(e(d!=null&&v!=null),0>_||0>=j||_+j>P)return null;if(!d.Cc){if(d.ga==null){var U;if(d.ga=new Ct,(U=d.ga==null)||(U=v.width*v.o,e(d.Gb.length==0),d.Gb=l(U),d.Uc=0,d.Gb==null?U=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,U=1),U=!U),!U){U=d.ga;var $=d.Fa,Y=d.P,Q=d.qc,me=d.mb,je=d.nb,Z=Y+1,ye=Q-1,_e=U.l;if(e($!=null&&me!=null&&v!=null),rs[0]=null,rs[1]=Pt,rs[2]=un,rs[3]=$n,U.ca=me,U.tb=je,U.c=v.width,U.i=v.height,e(0<U.c&&0<U.i),1>=Q)v=0;else if(U.$a=3&$[Y+0],U.Z=$[Y+0]>>2&3,U.Lc=$[Y+0]>>4&3,Y=$[Y+0]>>6&3,0>U.$a||1<U.$a||4<=U.Z||1<U.Lc||Y)v=0;else if(_e.put=mt,_e.ac=Tr,_e.bc=zi,_e.ma=U,_e.width=v.width,_e.height=v.height,_e.Da=v.Da,_e.v=v.v,_e.va=v.va,_e.j=v.j,_e.o=v.o,U.$a)e:{e(U.$a==1),v=Gs();t:for(;;){if(v==null){v=0;break e}if(e(U!=null),U.mc=v,v.c=U.c,v.i=U.i,v.l=U.l,v.l.ma=U,v.l.width=U.c,v.l.height=U.i,v.a=0,re(v.m,$,Z,ye),!Zr(U.c,U.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&Nn(v.s)?(U.ic=1,$=v.c*v.i,v.Ta=null,v.Ua=0,v.V=l($),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(U.ic=0,v=Qr(v,U.c)),!v))break t;v=1;break e}U.mc=null,v=0}else v=ye>=U.c*U.i;U=!v}if(U)return null;d.ga.Lc!=1?d.Ga=0:j=P-_}e(d.ga!=null),e(_+j<=P);e:{if(v=($=d.ga).c,P=$.l.o,$.$a==0){if(Z=d.rc,ye=d.Vc,_e=d.Fa,Y=d.P+1+_*v,Q=d.mb,me=d.nb+_*v,e(Y<=d.P+d.qc),$.Z!=0)for(e(rs[$.Z]!=null),U=0;U<j;++U)rs[$.Z](Z,ye,_e,Y,Q,me,v),Z=Q,ye=me,me+=v,Y+=v;else for(U=0;U<j;++U)r(Q,me,_e,Y,v),Z=Q,ye=me,me+=v,Y+=v;d.rc=Z,d.Vc=ye}else{if(e($.mc!=null),v=_+j,e((U=$.mc)!=null),e(v<=U.i),U.C>=v)v=1;else if($.ic||Dr(),$.ic){$=U.V,Z=U.Ba,ye=U.c;var De=U.i,Se=(_e=1,Y=U.$/ye,Q=U.$%ye,me=U.m,je=U.s,U.$),Re=ye*De,Ue=ye*v,Ve=je.wc,qe=Se<Ue?ja(je,Q,Y):null;e(Se<=Re),e(v<=De),e(Nn(je));t:for(;;){for(;!me.h&&Se<Ue;){if(Q&Ve||(qe=ja(je,Q,Y)),e(qe!=null),be(me),256>(De=qn(qe.G[0],qe.H[0],me)))$[Z+Se]=De,++Se,++Q>=ye&&(Q=0,++Y<=v&&!(Y%16)&&Ga(U,Y));else{if(!(280>De)){_e=0;break t}De=br(De-256,me);var st,Ze=qn(qe.G[4],qe.H[4],me);if(be(me),!(Se>=(Ze=wr(ye,Ze=br(Ze,me)))&&Re-Se>=De)){_e=0;break t}for(st=0;st<De;++st)$[Z+Se+st]=$[Z+Se+st-Ze];for(Se+=De,Q+=De;Q>=ye;)Q-=ye,++Y<=v&&!(Y%16)&&Ga(U,Y);Se<Ue&&Q&Ve&&(qe=ja(je,Q,Y))}e(me.h==te(me))}Ga(U,Y>v?v:Y);break t}!_e||me.h&&Se<Re?(_e=0,U.a=me.h?5:3):U.$=Se,v=_e}else v=xr(U,U.V,U.Ba,U.c,U.i,v,_s);if(!v){j=0;break e}}_+j>=P&&(d.Cc=1),j=1}if(!j)return null;if(d.Cc&&((j=d.ga)!=null&&(j.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+_*R}function kn(d,v,_,j,R,P){for(;0<R--;){var U,$=d,Y=v+(_?1:0),Q=d,me=v+(_?0:3);for(U=0;U<j;++U){var je=Q[me+4*U];je!=255&&(je*=32897,$[Y+4*U+0]=$[Y+4*U+0]*je>>23,$[Y+4*U+1]=$[Y+4*U+1]*je>>23,$[Y+4*U+2]=$[Y+4*U+2]*je>>23)}v+=P}}function wa(d,v,_,j,R){for(;0<j--;){var P;for(P=0;P<_;++P){var U=d[v+2*P+0],$=15&(Q=d[v+2*P+1]),Y=4369*$,Q=(240&Q|Q>>4)*Y>>16;d[v+2*P+0]=(240&U|U>>4)*Y>>16&240|(15&U|U<<4)*Y>>16>>4&15,d[v+2*P+1]=240&Q|$}v+=R}}function fa(d,v,_,j,R,P,U,$){var Y,Q,me=255;for(Q=0;Q<R;++Q){for(Y=0;Y<j;++Y){var je=d[v+Y];P[U+4*Y]=je,me&=je}v+=_,U+=$}return me!=255}function Ma(d,v,_,j,R){var P;for(P=0;P<R;++P)_[j+P]=d[v+P]>>8}function Dr(){io=kn,Pr=wa,Dl=fa,Lr=Ma}function cr(d,v,_){F[d]=function(j,R,P,U,$,Y,Q,me,je,Z,ye,_e,De,Se,Re,Ue,Ve){var qe,st=Ve-1>>1,Ze=$[Y+0]|Q[me+0]<<16,Rt=je[Z+0]|ye[_e+0]<<16;e(j!=null);var nt=3*Ze+Rt+131074>>2;for(v(j[R+0],255&nt,nt>>16,De,Se),P!=null&&(nt=3*Rt+Ze+131074>>2,v(P[U+0],255&nt,nt>>16,Re,Ue)),qe=1;qe<=st;++qe){var Wt=$[Y+qe]|Q[me+qe]<<16,Bn=je[Z+qe]|ye[_e+qe]<<16,It=Ze+Wt+Rt+Bn+524296,Qe=It+2*(Wt+Rt)>>3;nt=Qe+Ze>>1,Ze=(It=It+2*(Ze+Bn)>>3)+Wt>>1,v(j[R+2*qe-1],255&nt,nt>>16,De,Se+(2*qe-1)*_),v(j[R+2*qe-0],255&Ze,Ze>>16,De,Se+(2*qe-0)*_),P!=null&&(nt=It+Rt>>1,Ze=Qe+Bn>>1,v(P[U+2*qe-1],255&nt,nt>>16,Re,Ue+(2*qe-1)*_),v(P[U+2*qe+0],255&Ze,Ze>>16,Re,Ue+(2*qe+0)*_)),Ze=Wt,Rt=Bn}1&Ve||(nt=3*Ze+Rt+131074>>2,v(j[R+Ve-1],255&nt,nt>>16,De,Se+(Ve-1)*_),P!=null&&(nt=3*Rt+Ze+131074>>2,v(P[U+Ve-1],255&nt,nt>>16,Re,Ue+(Ve-1)*_)))}}function wc(){Ia[Nc]=lo,Ia[Ja]=Ho,Ia[Ac]=Ou,Ia[Br]=kc,Ia[Ul]=Os,Ia[Io]=Oi,Ia[Ls]=Rs,Ia[zl]=Ho,Ia[jc]=kc,Ia[qo]=Os,Ia[Ec]=Oi}function Ro(d){return d&-16384?0>d?0:255:d>>Tc}function to(d,v){return Ro((19077*d>>8)+(26149*v>>8)-14234)}function Ni(d,v,_){return Ro((19077*d>>8)-(6419*v>>8)-(13320*_>>8)+8708)}function ii(d,v){return Ro((19077*d>>8)+(33050*v>>8)-17685)}function no(d,v,_,j,R){j[R+0]=to(d,_),j[R+1]=Ni(d,v,_),j[R+2]=ii(d,v)}function As(d,v,_,j,R){j[R+0]=ii(d,v),j[R+1]=Ni(d,v,_),j[R+2]=to(d,_)}function Pa(d,v,_,j,R){var P=Ni(d,v,_);v=P<<3&224|ii(d,v)>>3,j[R+0]=248&to(d,_)|P>>5,j[R+1]=v}function js(d,v,_,j,R){var P=240&ii(d,v)|15;j[R+0]=240&to(d,_)|Ni(d,v,_)>>4,j[R+1]=P}function Es(d,v,_,j,R){j[R+0]=255,no(d,v,_,j,R+1)}function Do(d,v,_,j,R){As(d,v,_,j,R),j[R+3]=255}function Ai(d,v,_,j,R){no(d,v,_,j,R),j[R+3]=255}function Xn(d,v){return 0>d?0:d>v?v:d}function Ji(d,v,_){F[d]=function(j,R,P,U,$,Y,Q,me,je){for(var Z=me+(-2&je)*_;me!=Z;)v(j[R+0],P[U+0],$[Y+0],Q,me),v(j[R+1],P[U+0],$[Y+0],Q,me+_),R+=2,++U,++Y,me+=2*_;1&je&&v(j[R+0],P[U+0],$[Y+0],Q,me)}}function Mo(d,v,_){return _==0?d==0?v==0?6:5:v==0?4:0:_}function Tl(d,v,_,j,R){switch(d>>>30){case 3:ns(v,_,j,R,0);break;case 2:Wa(v,_,j,R);break;case 1:hn(v,_,j,R)}}function Er(d,v){var _,j,R=v.M,P=v.Nb,U=d.oc,$=d.pc+40,Y=d.oc,Q=d.pc+584,me=d.oc,je=d.pc+600;for(_=0;16>_;++_)U[$+32*_-1]=129;for(_=0;8>_;++_)Y[Q+32*_-1]=129,me[je+32*_-1]=129;for(0<R?U[$-1-32]=Y[Q-1-32]=me[je-1-32]=129:(o(U,$-32-1,127,21),o(Y,Q-32-1,127,9),o(me,je-32-1,127,9)),j=0;j<d.za;++j){var Z=v.ya[v.aa+j];if(0<j){for(_=-1;16>_;++_)r(U,$+32*_-4,U,$+32*_+12,4);for(_=-1;8>_;++_)r(Y,Q+32*_-4,Y,Q+32*_+4,4),r(me,je+32*_-4,me,je+32*_+4,4)}var ye=d.Gd,_e=d.Hd+j,De=Z.ad,Se=Z.Hc;if(0<R&&(r(U,$-32,ye[_e].y,0,16),r(Y,Q-32,ye[_e].f,0,8),r(me,je-32,ye[_e].ea,0,8)),Z.Za){var Re=U,Ue=$-32+16;for(0<R&&(j>=d.za-1?o(Re,Ue,ye[_e].y[15],4):r(Re,Ue,ye[_e+1].y,0,4)),_=0;4>_;_++)Re[Ue+128+_]=Re[Ue+256+_]=Re[Ue+384+_]=Re[Ue+0+_];for(_=0;16>_;++_,Se<<=2)Re=U,Ue=$+la[_],Zn[Z.Ob[_]](Re,Ue),Tl(Se,De,16*+_,Re,Ue)}else if(Re=Mo(j,R,Z.Ob[0]),ir[Re](U,$),Se!=0)for(_=0;16>_;++_,Se<<=2)Tl(Se,De,16*+_,U,$+la[_]);for(_=Z.Gc,Re=Mo(j,R,Z.Dd),ci[Re](Y,Q),ci[Re](me,je),Se=De,Re=Y,Ue=Q,255&(Z=0|_)&&(170&Z?Mr(Se,256,Re,Ue):an(Se,256,Re,Ue)),Z=me,Se=je,255&(_>>=8)&&(170&_?Mr(De,320,Z,Se):an(De,320,Z,Se)),R<d.Ub-1&&(r(ye[_e].y,0,U,$+480,16),r(ye[_e].f,0,Y,Q+224,8),r(ye[_e].ea,0,me,je+224,8)),_=8*P*d.B,ye=d.sa,_e=d.ta+16*j+16*P*d.R,De=d.qa,Z=d.ra+8*j+_,Se=d.Ha,Re=d.Ia+8*j+_,_=0;16>_;++_)r(ye,_e+_*d.R,U,$+32*_,16);for(_=0;8>_;++_)r(De,Z+_*d.B,Y,Q+32*_,8),r(Se,Re+_*d.B,me,je+32*_,8)}}function si(d,v,_,j,R,P,U,$,Y){var Q=[0],me=[0],je=0,Z=Y!=null?Y.kd:0,ye=Y!=null?Y:new Be;if(d==null||12>_)return 7;ye.data=d,ye.w=v,ye.ha=_,v=[v],_=[_],ye.gb=[ye.gb];e:{var _e=v,De=_,Se=ye.gb;if(e(d!=null),e(De!=null),e(Se!=null),Se[0]=0,12<=De[0]&&!n(d,_e[0],"RIFF")){if(n(d,_e[0]+8,"WEBP")){Se=3;break e}var Re=ge(d,_e[0]+4);if(12>Re||4294967286<Re){Se=3;break e}if(Z&&Re>De[0]-8){Se=7;break e}Se[0]=Re,_e[0]+=12,De[0]-=12}Se=0}if(Se!=0)return Se;for(Re=0<ye.gb[0],_=_[0];;){e:{var Ue=d;De=v,Se=_;var Ve=Q,qe=me,st=_e=[0];if((nt=je=[je])[0]=0,8>Se[0])Se=7;else{if(!n(Ue,De[0],"VP8X")){if(ge(Ue,De[0]+4)!=10){Se=3;break e}if(18>Se[0]){Se=7;break e}var Ze=ge(Ue,De[0]+8),Rt=1+Je(Ue,De[0]+12);if(2147483648<=Rt*(Ue=1+Je(Ue,De[0]+15))){Se=3;break e}st!=null&&(st[0]=Ze),Ve!=null&&(Ve[0]=Rt),qe!=null&&(qe[0]=Ue),De[0]+=18,Se[0]-=18,nt[0]=1}Se=0}}if(je=je[0],_e=_e[0],Se!=0)return Se;if(De=!!(2&_e),!Re&&je)return 3;if(P!=null&&(P[0]=!!(16&_e)),U!=null&&(U[0]=De),$!=null&&($[0]=0),U=Q[0],_e=me[0],je&&De&&Y==null){Se=0;break}if(4>_){Se=7;break}if(Re&&je||!Re&&!je&&!n(d,v[0],"ALPH")){_=[_],ye.na=[ye.na],ye.P=[ye.P],ye.Sa=[ye.Sa];e:{Ze=d,Se=v,Re=_;var nt=ye.gb;Ve=ye.na,qe=ye.P,st=ye.Sa,Rt=22,e(Ze!=null),e(Re!=null),Ue=Se[0];var Wt=Re[0];for(e(Ve!=null),e(st!=null),Ve[0]=null,qe[0]=null,st[0]=0;;){if(Se[0]=Ue,Re[0]=Wt,8>Wt){Se=7;break e}var Bn=ge(Ze,Ue+4);if(4294967286<Bn){Se=3;break e}var It=8+Bn+1&-2;if(Rt+=It,0<nt&&Rt>nt){Se=3;break e}if(!n(Ze,Ue,"VP8 ")||!n(Ze,Ue,"VP8L")){Se=0;break e}if(Wt[0]<It){Se=7;break e}n(Ze,Ue,"ALPH")||(Ve[0]=Ze,qe[0]=Ue+8,st[0]=Bn),Ue+=It,Wt-=It}}if(_=_[0],ye.na=ye.na[0],ye.P=ye.P[0],ye.Sa=ye.Sa[0],Se!=0)break}_=[_],ye.Ja=[ye.Ja],ye.xa=[ye.xa];e:if(nt=d,Se=v,Re=_,Ve=ye.gb[0],qe=ye.Ja,st=ye.xa,Ze=Se[0],Ue=!n(nt,Ze,"VP8 "),Rt=!n(nt,Ze,"VP8L"),e(nt!=null),e(Re!=null),e(qe!=null),e(st!=null),8>Re[0])Se=7;else{if(Ue||Rt){if(nt=ge(nt,Ze+4),12<=Ve&&nt>Ve-12){Se=3;break e}if(Z&&nt>Re[0]-8){Se=7;break e}qe[0]=nt,Se[0]+=8,Re[0]-=8,st[0]=Rt}else st[0]=5<=Re[0]&&nt[Ze+0]==47&&!(nt[Ze+4]>>5),qe[0]=Re[0];Se=0}if(_=_[0],ye.Ja=ye.Ja[0],ye.xa=ye.xa[0],v=v[0],Se!=0)break;if(4294967286<ye.Ja)return 3;if($==null||De||($[0]=ye.xa?2:1),U=[U],_e=[_e],ye.xa){if(5>_){Se=7;break}$=U,Z=_e,De=P,d==null||5>_?d=0:5<=_&&d[v+0]==47&&!(d[v+4]>>5)?(Re=[0],nt=[0],Ve=[0],re(qe=new B,d,v,_),yi(qe,Re,nt,Ve)?($!=null&&($[0]=Re[0]),Z!=null&&(Z[0]=nt[0]),De!=null&&(De[0]=Ve[0]),d=1):d=0):d=0}else{if(10>_){Se=7;break}$=_e,d==null||10>_||!nr(d,v+3,_-3)?d=0:(Z=d[v+0]|d[v+1]<<8|d[v+2]<<16,De=16383&(d[v+7]<<8|d[v+6]),d=16383&(d[v+9]<<8|d[v+8]),1&Z||3<(Z>>1&7)||!(Z>>4&1)||Z>>5>=ye.Ja||!De||!d?d=0:(U&&(U[0]=De),$&&($[0]=d),d=1))}if(!d||(U=U[0],_e=_e[0],je&&(Q[0]!=U||me[0]!=_e)))return 3;Y!=null&&(Y[0]=ye,Y.offset=v-Y.w,e(4294967286>v-Y.w),e(Y.offset==Y.ha-_));break}return Se==0||Se==7&&je&&Y==null?(P!=null&&(P[0]|=ye.na!=null&&0<ye.na.length),j!=null&&(j[0]=U),R!=null&&(R[0]=_e),0):Se}function Xi(d,v,_){var j=v.width,R=v.height,P=0,U=0,$=j,Y=R;if(v.Da=d!=null&&0<d.Da,v.Da&&($=d.cd,Y=d.bd,P=d.v,U=d.j,11>_||(P&=-2,U&=-2),0>P||0>U||0>=$||0>=Y||P+$>j||U+Y>R))return 0;if(v.v=P,v.j=U,v.va=P+$,v.o=U+Y,v.U=$,v.T=Y,v.da=d!=null&&0<d.da,v.da){if(!at($,Y,_=[d.ib],P=[d.hb]))return 0;v.ib=_[0],v.hb=P[0]}return v.ob=d!=null&&d.ob,v.Kb=d==null||!d.Sd,v.da&&(v.ob=v.ib<3*j/4&&v.hb<3*R/4,v.Kb=0),1}function Ol(d){if(d==null)return 2;if(11>d.S){var v=d.f.RGBA;v.fb+=(d.height-1)*v.A,v.A=-v.A}else v=d.f.kb,d=d.height,v.O+=(d-1)*v.fa,v.fa=-v.fa,v.N+=(d-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(d-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(d-1)*v.lb,v.lb=-v.lb);return 0}function oi(d,v,_,j){if(j==null||0>=d||0>=v)return 2;if(_!=null){if(_.Da){var R=_.cd,P=_.bd,U=-2&_.v,$=-2&_.j;if(0>U||0>$||0>=R||0>=P||U+R>d||$+P>v)return 2;d=R,v=P}if(_.da){if(!at(d,v,R=[_.ib],P=[_.hb]))return 2;d=R[0],v=P[0]}}j.width=d,j.height=v;e:{var Y=j.width,Q=j.height;if(d=j.S,0>=Y||0>=Q||!(d>=Nc&&13>d))d=2;else{if(0>=j.Rd&&j.sd==null){U=P=R=v=0;var me=($=Y*Rc[d])*Q;if(11>d||(P=(Q+1)/2*(v=(Y+1)/2),d==12&&(U=(R=Y)*Q)),(Q=l(me+2*P+U))==null){d=1;break e}j.sd=Q,11>d?((Y=j.f.RGBA).eb=Q,Y.fb=0,Y.A=$,Y.size=me):((Y=j.f.kb).y=Q,Y.O=0,Y.fa=$,Y.Fd=me,Y.f=Q,Y.N=0+me,Y.Ab=v,Y.Cd=P,Y.ea=Q,Y.W=0+me+P,Y.Db=v,Y.Ed=P,d==12&&(Y.F=Q,Y.J=0+me+2*P),Y.Tc=U,Y.lb=R)}if(v=1,R=j.S,P=j.width,U=j.height,R>=Nc&&13>R)if(11>R)d=j.f.RGBA,v&=($=Math.abs(d.A))*(U-1)+P<=d.size,v&=$>=P*Rc[R],v&=d.eb!=null;else{d=j.f.kb,$=(P+1)/2,me=(U+1)/2,Y=Math.abs(d.fa),Q=Math.abs(d.Ab);var je=Math.abs(d.Db),Z=Math.abs(d.lb),ye=Z*(U-1)+P;v&=Y*(U-1)+P<=d.Fd,v&=Q*(me-1)+$<=d.Cd,v=(v&=je*(me-1)+$<=d.Ed)&Y>=P&Q>=$&je>=$,v&=d.y!=null,v&=d.f!=null,v&=d.ea!=null,R==12&&(v&=Z>=P,v&=ye<=d.Tc,v&=d.F!=null)}else v=0;d=v?0:2}}return d!=0||_!=null&&_.fd&&(d=Ol(j)),d}var Cs=64,ur=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],rr=24,ji=32,Ei=8,Zi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];We("Predictor0","PredictorAdd0"),F.Predictor0=function(){return 4278190080},F.Predictor1=function(d){return d},F.Predictor2=function(d,v,_){return v[_+0]},F.Predictor3=function(d,v,_){return v[_+1]},F.Predictor4=function(d,v,_){return v[_-1]},F.Predictor5=function(d,v,_){return pt(pt(d,v[_+1]),v[_+0])},F.Predictor6=function(d,v,_){return pt(d,v[_-1])},F.Predictor7=function(d,v,_){return pt(d,v[_+0])},F.Predictor8=function(d,v,_){return pt(v[_-1],v[_+0])},F.Predictor9=function(d,v,_){return pt(v[_+0],v[_+1])},F.Predictor10=function(d,v,_){return pt(pt(d,v[_-1]),pt(v[_+0],v[_+1]))},F.Predictor11=function(d,v,_){var j=v[_+0];return 0>=Mt(j>>24&255,d>>24&255,(v=v[_-1])>>24&255)+Mt(j>>16&255,d>>16&255,v>>16&255)+Mt(j>>8&255,d>>8&255,v>>8&255)+Mt(255&j,255&d,255&v)?j:d},F.Predictor12=function(d,v,_){var j=v[_+0];return(Bt((d>>24&255)+(j>>24&255)-((v=v[_-1])>>24&255))<<24|Bt((d>>16&255)+(j>>16&255)-(v>>16&255))<<16|Bt((d>>8&255)+(j>>8&255)-(v>>8&255))<<8|Bt((255&d)+(255&j)-(255&v)))>>>0},F.Predictor13=function(d,v,_){var j=v[_-1];return(Ut((d=pt(d,v[_+0]))>>24&255,j>>24&255)<<24|Ut(d>>16&255,j>>16&255)<<16|Ut(d>>8&255,j>>8&255)<<8|Ut(255&d,255&j))>>>0};var Po=F.PredictorAdd0;F.PredictorAdd1=bn,We("Predictor2","PredictorAdd2"),We("Predictor3","PredictorAdd3"),We("Predictor4","PredictorAdd4"),We("Predictor5","PredictorAdd5"),We("Predictor6","PredictorAdd6"),We("Predictor7","PredictorAdd7"),We("Predictor8","PredictorAdd8"),We("Predictor9","PredictorAdd9"),We("Predictor10","PredictorAdd10"),We("Predictor11","PredictorAdd11"),We("Predictor12","PredictorAdd12"),We("Predictor13","PredictorAdd13");var Bo=F.PredictorAdd2;dt("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),dt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var sa,xc=F.ColorIndexInverseTransform,Ci=F.MapARGB,Li=F.VP8LColorIndexInverseTransformAlpha,Ba=F.MapAlpha,Qi=F.VP8LPredictorsAdd=[];Qi.length=16,(F.VP8LPredictors=[]).length=16,(F.VP8LPredictorsAdd_C=[]).length=16,(F.VP8LPredictors_C=[]).length=16;var Uo,zo,es,ts,ki,ao,Cr,ns,Wa,Mr,hn,an,Tn,oa,Ti,li,ro,Rl,Eu,Ch,Lh,kh,Cu,Lu,io,Pr,Dl,Lr,so=l(511),_c=l(2041),Ml=l(225),Pl=l(767),Sc=0,as=_c,Bl=Ml,Ka=Pl,Ua=so,Nc=0,Ja=1,Ac=2,Br=3,Ul=4,Io=5,Ls=6,zl=7,jc=8,qo=9,Ec=10,Ur=[2,3,7],Fo=[3,3,11],oo=[280,256,256,256,40],Cc=[0,1,1,1,0],Il=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],zr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ir=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ks=8,qr=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Fr=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],kr=null,Th=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ku=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Lc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Oh=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],za=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Pn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Xt=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ir=[],Zn=[],ci=[],Ts=1,Tu=2,rs=[],Ia=[];cr("UpsampleRgbLinePair",no,3),cr("UpsampleBgrLinePair",As,3),cr("UpsampleRgbaLinePair",Ai,4),cr("UpsampleBgraLinePair",Do,4),cr("UpsampleArgbLinePair",Es,4),cr("UpsampleRgba4444LinePair",js,2),cr("UpsampleRgb565LinePair",Pa,2);var lo=F.UpsampleRgbLinePair,Ou=F.UpsampleBgrLinePair,Ho=F.UpsampleRgbaLinePair,kc=F.UpsampleBgraLinePair,Os=F.UpsampleArgbLinePair,Oi=F.UpsampleRgba4444LinePair,Rs=F.UpsampleRgb565LinePair,Hr=16,$o=1<<Hr-1,co=-227,Ds=482,Tc=6,Ms=0,qa=l(256),Oc=l(256),Rh=l(256),fd=l(256),dd=l(Ds-co),pd=l(Ds-co);Ji("YuvToRgbRow",no,3),Ji("YuvToBgrRow",As,3),Ji("YuvToRgbaRow",Ai,4),Ji("YuvToBgraRow",Do,4),Ji("YuvToArgbRow",Es,4),Ji("YuvToRgba4444Row",js,2),Ji("YuvToRgb565Row",Pa,2);var la=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Vo=[0,2,8],ql=[8,7,6,4,4,2,2,2,1,1,1,1],Fl=1;this.WebPDecodeRGBA=function(d,v,_,j,R){var P=Ja,U=new we,$=new mn;U.ba=$,$.S=P,$.width=[$.width],$.height=[$.height];var Y=$.width,Q=$.height,me=new wt;if(me==null||d==null)var je=2;else e(me!=null),je=si(d,v,_,me.width,me.height,me.Pd,me.Qd,me.format,null);if(je!=0?Y=0:(Y!=null&&(Y[0]=me.width[0]),Q!=null&&(Q[0]=me.height[0]),Y=1),Y){$.width=$.width[0],$.height=$.height[0],j!=null&&(j[0]=$.width),R!=null&&(R[0]=$.height);e:{if(j=new qi,(R=new Be).data=d,R.w=v,R.ha=_,R.kd=1,v=[0],e(R!=null),((d=si(R.data,R.w,R.ha,null,null,null,v,null,R))==0||d==7)&&v[0]&&(d=4),(v=d)==0){if(e(U!=null),j.data=R.data,j.w=R.w+R.offset,j.ha=R.ha-R.offset,j.put=mt,j.ac=Tr,j.bc=zi,j.ma=U,R.xa){if((d=Gs())==null){U=1;break e}if((function(Z,ye){var _e=[0],De=[0],Se=[0];t:for(;;){if(Z==null)return 0;if(ye==null)return Z.a=2,0;if(Z.l=ye,Z.a=0,re(Z.m,ye.data,ye.w,ye.ha),!yi(Z.m,_e,De,Se)){Z.a=3;break t}if(Z.xb=Tu,ye.width=_e[0],ye.height=De[0],!Zr(_e[0],De[0],1,Z,null))break t;return 1}return e(Z.a!=0),0})(d,j)){if(j=(v=oi(j.width,j.height,U.Oa,U.ba))==0){t:{j=d;n:for(;;){if(j==null){j=0;break t}if(e(j.s.yc!=null),e(j.s.Ya!=null),e(0<j.s.Wb),e((_=j.l)!=null),e((R=_.ma)!=null),j.xb!=0){if(j.ca=R.ba,j.tb=R.tb,e(j.ca!=null),!Xi(R.Oa,_,Br)){j.a=2;break n}if(!Qr(j,_.width)||_.da)break n;if((_.da||zt(j.ca.S))&&Dr(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&Dr()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!K(j.s.vb,j.s.Wa.Xa)){j.a=1;break n}j.xb=0}if(!xr(j,j.V,j.Ba,j.c,j.i,_.o,tr))break n;R.Dc=j.Ma,j=1;break t}e(j.a!=0),j=0}j=!j}j&&(v=d.a)}else v=d.a}else{if((d=new Lo)==null){U=1;break e}if(d.Fa=R.na,d.P=R.P,d.qc=R.Sa,xl(d,j)){if((v=oi(j.width,j.height,U.Oa,U.ba))==0){if(d.Aa=0,_=U.Oa,e((R=d)!=null),_!=null){if(0<(Y=0>(Y=_.Md)?0:100<Y?255:255*Y/100)){for(Q=me=0;4>Q;++Q)12>(je=R.pb[Q]).lc&&(je.ia=Y*ql[0>je.lc?0:je.lc]>>3),me|=je.ia;me&&(alert("todo:VP8InitRandom"),R.ia=1)}R.Ga=_.Id,100<R.Ga?R.Ga=100:0>R.Ga&&(R.Ga=0)}(function(Z,ye){if(Z==null)return 0;if(ye==null)return Sn(Z,2,"NULL VP8Io parameter in VP8Decode().");if(!Z.cb&&!xl(Z,ye))return 0;if(e(Z.cb),ye.ac==null||ye.ac(ye)){ye.ob&&(Z.L=0);var _e=Vo[Z.L];if(Z.L==2?(Z.yb=0,Z.zb=0):(Z.yb=ye.v-_e>>4,Z.zb=ye.j-_e>>4,0>Z.yb&&(Z.yb=0),0>Z.zb&&(Z.zb=0)),Z.Va=ye.o+15+_e>>4,Z.Hb=ye.va+15+_e>>4,Z.Hb>Z.za&&(Z.Hb=Z.za),Z.Va>Z.Ub&&(Z.Va=Z.Ub),0<Z.L){var De=Z.ed;for(_e=0;4>_e;++_e){var Se;if(Z.Qa.Cb){var Re=Z.Qa.Lb[_e];Z.Qa.Fb||(Re+=De.Tb)}else Re=De.Tb;for(Se=0;1>=Se;++Se){var Ue=Z.gd[_e][Se],Ve=Re;if(De.Pc&&(Ve+=De.vd[0],Se&&(Ve+=De.od[0])),0<(Ve=0>Ve?0:63<Ve?63:Ve)){var qe=Ve;0<De.wb&&(qe=4<De.wb?qe>>2:qe>>1)>9-De.wb&&(qe=9-De.wb),1>qe&&(qe=1),Ue.dd=qe,Ue.tc=2*Ve+qe,Ue.ld=40<=Ve?2:15<=Ve?1:0}else Ue.tc=0;Ue.La=Se}}}_e=0}else Sn(Z,6,"Frame setup failed"),_e=Z.a;if(_e=_e==0){if(_e){Z.$c=0,0<Z.Aa||(Z.Ic=Fl);t:{_e=Z.Ic,De=4*(qe=Z.za);var st=32*qe,Ze=qe+1,Rt=0<Z.L?qe*(0<Z.Aa?2:1):0,nt=(Z.Aa==2?2:1)*qe;if((Ue=De+832+(Se=3*(16*_e+Vo[Z.L])/2*st)+(Re=Z.Fa!=null&&0<Z.Fa.length?Z.Kc.c*Z.Kc.i:0))!=Ue)_e=0;else{if(Ue>Z.Vb){if(Z.Vb=0,Z.Ec=l(Ue),Z.Fc=0,Z.Ec==null){_e=Sn(Z,1,"no memory during frame initialization.");break t}Z.Vb=Ue}Ue=Z.Ec,Ve=Z.Fc,Z.Ac=Ue,Z.Bc=Ve,Ve+=De,Z.Gd=u(st,wl),Z.Hd=0,Z.rb=u(Ze+1,ni),Z.sb=1,Z.wa=Rt?u(Rt,_r):null,Z.Y=0,Z.D.Nb=0,Z.D.wa=Z.wa,Z.D.Y=Z.Y,0<Z.Aa&&(Z.D.Y+=qe),e(!0),Z.oc=Ue,Z.pc=Ve,Ve+=832,Z.ya=u(nt,yl),Z.aa=0,Z.D.ya=Z.ya,Z.D.aa=Z.aa,Z.Aa==2&&(Z.D.aa+=qe),Z.R=16*qe,Z.B=8*qe,qe=(st=Vo[Z.L])*Z.R,st=st/2*Z.B,Z.sa=Ue,Z.ta=Ve+qe,Z.qa=Z.sa,Z.ra=Z.ta+16*_e*Z.R+st,Z.Ha=Z.qa,Z.Ia=Z.ra+8*_e*Z.B+st,Z.$c=0,Ve+=Se,Z.mb=Re?Ue:null,Z.nb=Re?Ve:null,e(Ve+Re<=Z.Fc+Z.Vb),Hi(Z),o(Z.Ac,Z.Bc,0,De),_e=1}}if(_e){if(ye.ka=0,ye.y=Z.sa,ye.O=Z.ta,ye.f=Z.qa,ye.N=Z.ra,ye.ea=Z.Ha,ye.Vd=Z.Ia,ye.fa=Z.R,ye.Rc=Z.B,ye.F=null,ye.J=0,!Sc){for(_e=-255;255>=_e;++_e)so[255+_e]=0>_e?-_e:_e;for(_e=-1020;1020>=_e;++_e)_c[1020+_e]=-128>_e?-128:127<_e?127:_e;for(_e=-112;112>=_e;++_e)Ml[112+_e]=-16>_e?-16:15<_e?15:_e;for(_e=-255;510>=_e;++_e)Pl[255+_e]=0>_e?0:255<_e?255:_e;Sc=1}Cr=Al,ns=fc,Mr=Sl,hn=ar,an=Nl,Wa=_l,Tn=vc,oa=yc,Ti=x,li=O,ro=Ki,Rl=bc,Eu=ee,Ch=pe,Lh=Qs,kh=Yi,Cu=Ns,Lu=eo,Zn[0]=Ll,Zn[1]=jl,Zn[2]=Ss,Zn[3]=mc,Zn[4]=gc,Zn[5]=Da,Zn[6]=Nr,Zn[7]=kl,Zn[8]=Ar,Zn[9]=Js,ir[0]=ai,ir[1]=pc,ir[2]=El,ir[3]=Cl,ir[4]=ri,ir[5]=$i,ir[6]=Ks,ci[0]=Vi,ci[1]=dc,ci[2]=Xs,ci[3]=xi,ci[4]=To,ci[5]=ko,ci[6]=Ea,_e=1}else _e=0}_e&&(_e=(function(Wt,Bn){for(Wt.M=0;Wt.M<Wt.Va;++Wt.M){var It,Qe=Wt.Jc[Wt.M&Wt.Xb],Ye=Wt.m,Vn=Wt;for(It=0;It<Vn.za;++It){var Nt=Ye,Ht=Vn,wn=Ht.Ac,xa=Ht.Bc+4*It,Fa=Ht.zc,On=Ht.ya[Ht.aa+It];if(Ht.Qa.Bb?On.$b=Pe(Nt,Ht.Pa.jb[0])?2+Pe(Nt,Ht.Pa.jb[2]):Pe(Nt,Ht.Pa.jb[1]):On.$b=0,Ht.kc&&(On.Ad=Pe(Nt,Ht.Bd)),On.Za=!Pe(Nt,145)+0,On.Za){var da=On.Ob,Xa=0;for(Ht=0;4>Ht;++Ht){var pa,Yt=Fa[0+Ht];for(pa=0;4>pa;++pa){Yt=za[wn[xa+pa]][Yt];for(var on=Lc[Pe(Nt,Yt[0])];0<on;)on=Lc[2*on+Pe(Nt,Yt[on])];Yt=-on,wn[xa+pa]=Yt}r(da,Xa,wn,xa,4),Xa+=4,Fa[0+Ht]=Yt}}else Yt=Pe(Nt,156)?Pe(Nt,128)?1:3:Pe(Nt,163)?2:0,On.Ob[0]=Yt,o(wn,xa,Yt,4),o(Fa,0,Yt,4);On.Dd=Pe(Nt,142)?Pe(Nt,114)?Pe(Nt,183)?1:3:2:0}if(Vn.m.Ka)return Sn(Wt,7,"Premature end-of-partition0 encountered.");for(;Wt.ja<Wt.za;++Wt.ja){if(Vn=Qe,Nt=(Ye=Wt).rb[Ye.sb-1],wn=Ye.rb[Ye.sb+Ye.ja],It=Ye.ya[Ye.aa+Ye.ja],xa=Ye.kc?It.Ad:0)Nt.la=wn.la=0,It.Za||(Nt.Na=wn.Na=0),It.Hc=0,It.Gc=0,It.ia=0;else{var Gn,fn;if(Nt=wn,wn=Vn,xa=Ye.Pa.Xc,Fa=Ye.ya[Ye.aa+Ye.ja],On=Ye.pb[Fa.$b],Ht=Fa.ad,da=0,Xa=Ye.rb[Ye.sb-1],Yt=pa=0,o(Ht,da,0,384),Fa.Za)var _a=0,Yn=xa[3];else{on=l(16);var ln=Nt.Na+Xa.Na;if(ln=kr(wn,xa[1],ln,On.Eb,0,on,0),Nt.Na=Xa.Na=(0<ln)+0,1<ln)Cr(on,0,Ht,da);else{var ca=on[0]+3>>3;for(on=0;256>on;on+=16)Ht[da+on]=ca}_a=1,Yn=xa[0]}var xn=15&Nt.la,ma=15&Xa.la;for(on=0;4>on;++on){var ga=1&ma;for(ca=fn=0;4>ca;++ca)xn=xn>>1|(ga=(ln=kr(wn,Yn,ln=ga+(1&xn),On.Sc,_a,Ht,da))>_a)<<7,fn=fn<<2|(3<ln?3:1<ln?2:Ht[da+0]!=0),da+=16;xn>>=4,ma=ma>>1|ga<<7,pa=(pa<<8|fn)>>>0}for(Yn=xn,_a=ma>>4,Gn=0;4>Gn;Gn+=2){for(fn=0,xn=Nt.la>>4+Gn,ma=Xa.la>>4+Gn,on=0;2>on;++on){for(ga=1&ma,ca=0;2>ca;++ca)ln=ga+(1&xn),xn=xn>>1|(ga=0<(ln=kr(wn,xa[2],ln,On.Qc,0,Ht,da)))<<3,fn=fn<<2|(3<ln?3:1<ln?2:Ht[da+0]!=0),da+=16;xn>>=2,ma=ma>>1|ga<<5}Yt|=fn<<4*Gn,Yn|=xn<<4<<Gn,_a|=(240&ma)<<Gn}Nt.la=Yn,Xa.la=_a,Fa.Hc=pa,Fa.Gc=Yt,Fa.ia=43690&Yt?0:On.ia,xa=!(pa|Yt)}if(0<Ye.L&&(Ye.wa[Ye.Y+Ye.ja]=Ye.gd[It.$b][It.Za],Ye.wa[Ye.Y+Ye.ja].La|=!xa),Vn.Ka)return Sn(Wt,7,"Premature end-of-file encountered.")}if(Hi(Wt),Ye=Bn,Vn=1,It=(Qe=Wt).D,Nt=0<Qe.L&&Qe.M>=Qe.zb&&Qe.M<=Qe.Va,Qe.Aa==0)t:{if(It.M=Qe.M,It.uc=Nt,Er(Qe,It),Vn=1,It=(fn=Qe.D).Nb,Nt=(Yt=Vo[Qe.L])*Qe.R,wn=Yt/2*Qe.B,on=16*It*Qe.R,ca=8*It*Qe.B,xa=Qe.sa,Fa=Qe.ta-Nt+on,On=Qe.qa,Ht=Qe.ra-wn+ca,da=Qe.Ha,Xa=Qe.Ia-wn+ca,ma=(xn=fn.M)==0,pa=xn>=Qe.Va-1,Qe.Aa==2&&Er(Qe,fn),fn.uc)for(ga=(ln=Qe).D.M,e(ln.D.uc),fn=ln.yb;fn<ln.Hb;++fn){_a=fn,Yn=ga;var An=(rn=(va=ln).D).Nb;Gn=va.R;var rn=rn.wa[rn.Y+_a],Za=va.sa,Qn=va.ta+16*An*Gn+16*_a,gt=rn.dd,yt=rn.tc;if(yt!=0)if(e(3<=yt),va.L==1)0<_a&&kh(Za,Qn,Gn,yt+4),rn.La&&Lu(Za,Qn,Gn,yt),0<Yn&&Lh(Za,Qn,Gn,yt+4),rn.La&&Cu(Za,Qn,Gn,yt);else{var cn=va.B,hr=va.qa,$r=va.ra+8*An*cn+8*_a,sr=va.Ha,va=va.Ia+8*An*cn+8*_a;An=rn.ld,0<_a&&(oa(Za,Qn,Gn,yt+4,gt,An),li(hr,$r,sr,va,cn,yt+4,gt,An)),rn.La&&(Rl(Za,Qn,Gn,yt,gt,An),Ch(hr,$r,sr,va,cn,yt,gt,An)),0<Yn&&(Tn(Za,Qn,Gn,yt+4,gt,An),Ti(hr,$r,sr,va,cn,yt+4,gt,An)),rn.La&&(ro(Za,Qn,Gn,yt,gt,An),Eu(hr,$r,sr,va,cn,yt,gt,An))}}if(Qe.ia&&alert("todo:DitherRow"),Ye.put!=null){if(fn=16*xn,xn=16*(xn+1),ma?(Ye.y=Qe.sa,Ye.O=Qe.ta+on,Ye.f=Qe.qa,Ye.N=Qe.ra+ca,Ye.ea=Qe.Ha,Ye.W=Qe.Ia+ca):(fn-=Yt,Ye.y=xa,Ye.O=Fa,Ye.f=On,Ye.N=Ht,Ye.ea=da,Ye.W=Xa),pa||(xn-=Yt),xn>Ye.o&&(xn=Ye.o),Ye.F=null,Ye.J=null,Qe.Fa!=null&&0<Qe.Fa.length&&fn<xn&&(Ye.J=ia(Qe,Ye,fn,xn-fn),Ye.F=Qe.mb,Ye.F==null&&Ye.F.length==0)){Vn=Sn(Qe,3,"Could not decode alpha data.");break t}fn<Ye.j&&(Yt=Ye.j-fn,fn=Ye.j,e(!(1&Yt)),Ye.O+=Qe.R*Yt,Ye.N+=Qe.B*(Yt>>1),Ye.W+=Qe.B*(Yt>>1),Ye.F!=null&&(Ye.J+=Ye.width*Yt)),fn<xn&&(Ye.O+=Ye.v,Ye.N+=Ye.v>>1,Ye.W+=Ye.v>>1,Ye.F!=null&&(Ye.J+=Ye.v),Ye.ka=fn-Ye.j,Ye.U=Ye.va-Ye.v,Ye.T=xn-fn,Vn=Ye.put(Ye))}It+1!=Qe.Ic||pa||(r(Qe.sa,Qe.ta-Nt,xa,Fa+16*Qe.R,Nt),r(Qe.qa,Qe.ra-wn,On,Ht+8*Qe.B,wn),r(Qe.Ha,Qe.Ia-wn,da,Xa+8*Qe.B,wn))}if(!Vn)return Sn(Wt,6,"Output aborted.")}return 1})(Z,ye)),ye.bc!=null&&ye.bc(ye),_e&=1}return _e?(Z.cb=0,_e):0})(d,j)||(v=d.a)}}else v=d.a}v==0&&U.Oa!=null&&U.Oa.fd&&(v=Ol(U.ba))}U=v}P=U!=0?null:11>P?$.f.RGBA.eb:$.f.kb.y}else P=null;return P};var Rc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(F,de){for(var D="",H=0;H<4;H++)D+=String.fromCharCode(F[de++]);return D}function y(F,de){return F[de+0]|F[de+1]<<8}function S(F,de){return(F[de+0]|F[de+1]<<8|F[de+2]<<16)>>>0}function N(F,de){return(F[de+0]|F[de+1]<<8|F[de+2]<<16|F[de+3]<<24)>>>0}new f;var w=[0],C=[0],L=[],T=new f,k=i,G=(function(F,de){var D={},H=0,ie=!1,ae=0,ue=0;if(D.frames=[],!(function(A,B){for(var q=0;q<4;q++)if(A[B+q]!="RIFF".charCodeAt(q))return!0;return!1})(F,de)){for(N(F,de+=4),de+=8;de<F.length;){var W=p(F,de),se=N(F,de+=4);de+=4;var le=se+(1&se);switch(W){case"VP8 ":case"VP8L":D.frames[H]===void 0&&(D.frames[H]={}),(V=D.frames[H]).src_off=ie?ue:de-8,V.src_size=ae+se+8,H++,ie&&(ie=!1,ae=0,ue=0);break;case"VP8X":(V=D.header={}).feature_flags=F[de];var re=de+4;V.canvas_width=1+S(F,re),re+=3,V.canvas_height=1+S(F,re),re+=3;break;case"ALPH":ie=!0,ae=le+8,ue=de-8;break;case"ANIM":(V=D.header).bgcolor=N(F,de),re=de+4,V.loop_count=y(F,re),re+=2;break;case"ANMF":var Le,V;(V=D.frames[H]={}).offset_x=2*S(F,de),de+=3,V.offset_y=2*S(F,de),de+=3,V.width=1+S(F,de),de+=3,V.height=1+S(F,de),de+=3,V.duration=S(F,de),de+=3,Le=F[de++],V.dispose=1&Le,V.blend=Le>>1&1}W!="ANMF"&&(de+=le)}return D}})(k,0);G.response=k,G.rgbaoutput=!0,G.dataurl=!1;var M=G.header?G.header:null,z=G.frames?G.frames:null;if(M){M.loop_counter=M.loop_count,w=[M.canvas_height],C=[M.canvas_width];for(var J=0;J<z.length&&z[J].blend!=0;J++);}var ce=z[0],ne=T.WebPDecodeRGBA(k,ce.src_off,ce.src_size,C,w);ce.rgba=ne,ce.imgwidth=C[0],ce.imgheight=w[0];for(var X=0;X<C[0]*w[0]*4;X++)L[X]=ne[X];return this.width=C,this.height=w,this.data=L,this}(function(i){var e,n,r,o,l,u,h,f,p,y=function(A){return A=A||{},this.isStrokeTransparent=A.isStrokeTransparent||!1,this.strokeOpacity=A.strokeOpacity||1,this.strokeStyle=A.strokeStyle||"#000000",this.fillStyle=A.fillStyle||"#000000",this.isFillTransparent=A.isFillTransparent||!1,this.fillOpacity=A.fillOpacity||1,this.font=A.font||"10px sans-serif",this.textBaseline=A.textBaseline||"alphabetic",this.textAlign=A.textAlign||"left",this.lineWidth=A.lineWidth||1,this.lineJoin=A.lineJoin||"miter",this.lineCap=A.lineCap||"butt",this.path=A.path||[],this.transform=A.transform!==void 0?A.transform.clone():new f,this.globalCompositeOperation=A.globalCompositeOperation||"normal",this.globalAlpha=A.globalAlpha||1,this.clip_path=A.clip_path||[],this.currentPoint=A.currentPoint||new u,this.miterLimit=A.miterLimit||10,this.lastPoint=A.lastPoint||new u,this.lineDashOffset=A.lineDashOffset||0,this.lineDash=A.lineDash||[],this.margin=A.margin||[0,0,0,0],this.prevPageLastElemOffset=A.prevPageLastElemOffset||0,this.ignoreClearRect=typeof A.ignoreClearRect!="boolean"||A.ignoreClearRect,this};i.events.push(["initialized",function(){this.context2d=new S(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,o=this.internal.getHorizontalCoordinate,l=this.internal.getVerticalCoordinate,u=this.internal.Point,h=this.internal.Rectangle,f=this.internal.Matrix,p=new y}]);var S=function(A){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var B=A;Object.defineProperty(this,"pdf",{get:function(){return B}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(ge){q=!!ge}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(ge){te=!!ge}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(ge){isNaN(ge)||(oe=ge)}});var be=0;Object.defineProperty(this,"posY",{get:function(){return be},set:function(ge){isNaN(ge)||(be=ge)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(ge){var K;typeof ge=="number"?K=[ge,ge,ge,ge]:((K=new Array(4))[0]=ge[0],K[1]=ge.length>=2?ge[1]:K[0],K[2]=ge.length>=3?ge[2]:K[0],K[3]=ge.length>=4?ge[3]:K[1]),p.margin=K}});var Ae=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ae},set:function(ge){Ae=ge}});var Ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ne},set:function(ge){Ne=ge}});var Pe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Pe},set:function(ge){Pe=ge}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(ge){ge instanceof y&&(p=ge)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(ge){p.path=ge}});var $e=[];Object.defineProperty(this,"ctxStack",{get:function(){return $e},set:function(ge){$e=ge}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ge){var K;K=N(ge),this.ctx.fillStyle=K.style,this.ctx.isFillTransparent=K.a===0,this.ctx.fillOpacity=K.a,this.pdf.setFillColor(K.r,K.g,K.b,{a:K.a}),this.pdf.setTextColor(K.r,K.g,K.b,{a:K.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ge){var K=N(ge);this.ctx.strokeStyle=K.style,this.ctx.isStrokeTransparent=K.a===0,this.ctx.strokeOpacity=K.a,K.a===0?this.pdf.setDrawColor(255,255,255):(K.a,this.pdf.setDrawColor(K.r,K.g,K.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ge){["butt","round","square"].indexOf(ge)!==-1&&(this.ctx.lineCap=ge,this.pdf.setLineCap(ge))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ge){isNaN(ge)||(this.ctx.lineWidth=ge,this.pdf.setLineWidth(ge))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ge){["bevel","round","miter"].indexOf(ge)!==-1&&(this.ctx.lineJoin=ge,this.pdf.setLineJoin(ge))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ge){isNaN(ge)||(this.ctx.miterLimit=ge,this.pdf.setMiterLimit(ge))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ge){this.ctx.textBaseline=ge}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ge){["right","end","center","left","start"].indexOf(ge)!==-1&&(this.ctx.textAlign=ge)}});var Ke=null,Je=null;Object.defineProperty(this,"fontFaces",{get:function(){return Je},set:function(ge){Ke=null,Je=ge}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ge){var K;if(this.ctx.font=ge,(K=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ge))!==null){var Ge=K[1];K[2];var et=K[3],at=K[4];K[5];var Fe=K[6],tt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(at)[2];at=Math.floor(tt==="px"?parseFloat(at)*this.pdf.internal.scaleFactor:tt==="em"?parseFloat(at)*this.pdf.getFontSize():parseFloat(at)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(at);var We=(function(Et){var dt,Ln,Kt=[],Xe=Et.trim();if(Xe==="")return ip;if(Xe in uv)return[uv[Xe]];for(;Xe!=="";){switch(Ln=null,dt=(Xe=fv(Xe)).charAt(0)){case'"':case"'":Ln=aS(Xe.substring(1),dt);break;default:Ln=rS(Xe)}if(Ln===null||(Kt.push(Ln[0]),(Xe=fv(Ln[1]))!==""&&Xe.charAt(0)!==","))return ip;Xe=Xe.replace(/^,/,"")}return Kt})(Fe);if(this.fontFaces){var Lt=(function(Et,dt){if(Ke===null){var Ln=(function(Kt){var Xe=[];return Object.keys(Kt).forEach(function(xt){Kt[xt].forEach(function(Vt){var _t=null;switch(Vt){case"bold":_t={family:xt,weight:"bold"};break;case"italic":_t={family:xt,style:"italic"};break;case"bolditalic":_t={family:xt,weight:"bold",style:"italic"};break;case"":case"normal":_t={family:xt}}_t!==null&&(_t.ref={name:xt,style:Vt},Xe.push(_t))})}),Xe})(Et.getFontList());Ke=(function(Kt){for(var Xe={},xt=0;xt<Kt.length;++xt){var Vt=rp(Kt[xt]),_t=Vt.family,Jt=Vt.stretch,zt=Vt.style,In=Vt.weight;Xe[_t]=Xe[_t]||{},Xe[_t][Jt]=Xe[_t][Jt]||{},Xe[_t][Jt][zt]=Xe[_t][Jt][zt]||{},Xe[_t][Jt][zt][In]=Vt}return Xe})(Ln.concat(dt))}return Ke})(this.pdf,this.fontFaces),pt=We.map(function(Et){return{family:Et,stretch:"normal",weight:et,style:Ge}}),Bt=(function(Et,dt,Ln){for(var Kt=(Ln=Ln||{}).defaultFontFamily||"times",Xe=Object.assign({},nS,Ln.genericFontFamilies||{}),xt=null,Vt=null,_t=0;_t<dt.length;++_t)if(Xe[(xt=rp(dt[_t])).family]&&(xt.family=Xe[xt.family]),Et.hasOwnProperty(xt.family)){Vt=Et[xt.family];break}if(!(Vt=Vt||Et[Kt]))throw new Error("Could not find a font-family for the rule '"+hv(xt)+"' and default family '"+Kt+"'.");if(Vt=(function(Jt,zt){if(zt[Jt])return zt[Jt];var In=Pp[Jt],Jn=In<=Pp.normal?-1:1,mn=cv(zt,Ny,In,Jn);if(!mn)throw new Error("Could not find a matching font-stretch value for "+Jt);return mn})(xt.stretch,Vt),Vt=(function(Jt,zt){if(zt[Jt])return zt[Jt];for(var In=Sy[Jt],Jn=0;Jn<In.length;++Jn)if(zt[In[Jn]])return zt[In[Jn]];throw new Error("Could not find a matching font-style for "+Jt)})(xt.style,Vt),!(Vt=(function(Jt,zt){if(zt[Jt])return zt[Jt];if(Jt===400&&zt[500])return zt[500];if(Jt===500&&zt[400])return zt[400];var In=tS[Jt],Jn=cv(zt,Ay,In,Jt<400?-1:1);if(!Jn)throw new Error("Could not find a matching font-weight for value "+Jt);return Jn})(xt.weight,Vt)))throw new Error("Failed to resolve a font for the rule '"+hv(xt)+"'.");return Vt})(Lt,pt);this.pdf.setFont(Bt.ref.name,Bt.ref.style)}else{var Ut="";(et==="bold"||parseInt(et,10)>=700||Ge==="bold")&&(Ut="bold"),Ge==="italic"&&(Ut+="italic"),Ut.length===0&&(Ut="normal");for(var Mt="",bn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ot=0;Ot<We.length;Ot++){if(this.pdf.internal.getFont(We[Ot],Ut,{noFallback:!0,disableWarning:!0})!==void 0){Mt=We[Ot];break}if(Ut==="bolditalic"&&this.pdf.internal.getFont(We[Ot],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Mt=We[Ot],Ut="bold";else if(this.pdf.internal.getFont(We[Ot],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Mt=We[Ot],Ut="normal";break}}if(Mt===""){for(var ft=0;ft<We.length;ft++)if(bn[We[ft]]){Mt=bn[We[ft]];break}}Mt=Mt===""?"Times":Mt,this.pdf.setFont(Mt,Ut)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ge){this.ctx.globalCompositeOperation=ge}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ge){this.ctx.globalAlpha=ge}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ge){this.ctx.lineDashOffset=ge,V.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ge){this.ctx.lineDash=ge,V.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ge){this.ctx.ignoreClearRect=!!ge}})};S.prototype.setLineDash=function(A){this.lineDash=A},S.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},S.prototype.fill=function(){z.call(this,"fill",!1)},S.prototype.stroke=function(){z.call(this,"stroke",!1)},S.prototype.beginPath=function(){this.path=[{type:"begin"}]},S.prototype.moveTo=function(A,B){if(isNaN(A)||isNaN(B))throw zn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new u(A,B));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new u(A,B)},S.prototype.closePath=function(){var A=new u(0,0),B=0;for(B=this.path.length-1;B!==-1;B--)if(this.path[B].type==="begin"&&Cn(this.path[B+1])==="object"&&typeof this.path[B+1].x=="number"){A=new u(this.path[B+1].x,this.path[B+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(A.x,A.y)},S.prototype.lineTo=function(A,B){if(isNaN(A)||isNaN(B))throw zn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new u(A,B));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new u(q.x,q.y)},S.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),z.call(this,null,!0)},S.prototype.quadraticCurveTo=function(A,B,q,te){if(isNaN(q)||isNaN(te)||isNaN(A)||isNaN(B))throw zn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new u(q,te)),be=this.ctx.transform.applyToPoint(new u(A,B));this.path.push({type:"qct",x1:be.x,y1:be.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new u(oe.x,oe.y)},S.prototype.bezierCurveTo=function(A,B,q,te,oe,be){if(isNaN(oe)||isNaN(be)||isNaN(A)||isNaN(B)||isNaN(q)||isNaN(te))throw zn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ae=this.ctx.transform.applyToPoint(new u(oe,be)),Ne=this.ctx.transform.applyToPoint(new u(A,B)),Pe=this.ctx.transform.applyToPoint(new u(q,te));this.path.push({type:"bct",x1:Ne.x,y1:Ne.y,x2:Pe.x,y2:Pe.y,x:Ae.x,y:Ae.y}),this.ctx.lastPoint=new u(Ae.x,Ae.y)},S.prototype.arc=function(A,B,q,te,oe,be){if(isNaN(A)||isNaN(B)||isNaN(q)||isNaN(te)||isNaN(oe))throw zn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(be=!!be,!this.ctx.transform.isIdentity){var Ae=this.ctx.transform.applyToPoint(new u(A,B));A=Ae.x,B=Ae.y;var Ne=this.ctx.transform.applyToPoint(new u(0,q)),Pe=this.ctx.transform.applyToPoint(new u(0,0));q=Math.sqrt(Math.pow(Ne.x-Pe.x,2)+Math.pow(Ne.y-Pe.y,2))}Math.abs(oe-te)>=2*Math.PI&&(te=0,oe=2*Math.PI),this.path.push({type:"arc",x:A,y:B,radius:q,startAngle:te,endAngle:oe,counterclockwise:be})},S.prototype.arcTo=function(A,B,q,te,oe){throw new Error("arcTo not implemented.")},S.prototype.rect=function(A,B,q,te){if(isNaN(A)||isNaN(B)||isNaN(q)||isNaN(te))throw zn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(A,B),this.lineTo(A+q,B),this.lineTo(A+q,B+te),this.lineTo(A,B+te),this.lineTo(A,B),this.lineTo(A+q,B),this.lineTo(A,B)},S.prototype.fillRect=function(A,B,q,te){if(isNaN(A)||isNaN(B)||isNaN(q)||isNaN(te))throw zn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(A,B,q,te),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},S.prototype.strokeRect=function(A,B,q,te){if(isNaN(A)||isNaN(B)||isNaN(q)||isNaN(te))throw zn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");C.call(this)||(this.beginPath(),this.rect(A,B,q,te),this.stroke())},S.prototype.clearRect=function(A,B,q,te){if(isNaN(A)||isNaN(B)||isNaN(q)||isNaN(te))throw zn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(A,B,q,te))},S.prototype.save=function(A){A=typeof A!="boolean"||A;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(B),A){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new y(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},S.prototype.restore=function(A){A=typeof A!="boolean"||A;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(B),A&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},S.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var N=function(A){var B,q,te,oe;if(A.isCanvasGradient===!0&&(A=A.getColor()),!A)return{r:0,g:0,b:0,a:0,style:A};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(A))B=0,q=0,te=0,oe=0;else{var be=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(A);if(be!==null)B=parseInt(be[1]),q=parseInt(be[2]),te=parseInt(be[3]),oe=1;else if((be=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(A))!==null)B=parseInt(be[1]),q=parseInt(be[2]),te=parseInt(be[3]),oe=parseFloat(be[4]);else{if(oe=1,typeof A=="string"&&A.charAt(0)!=="#"){var Ae=new gy(A);A=Ae.ok?Ae.toHex():"#000000"}A.length===4?(B=A.substring(1,2),B+=B,q=A.substring(2,3),q+=q,te=A.substring(3,4),te+=te):(B=A.substring(1,3),q=A.substring(3,5),te=A.substring(5,7)),B=parseInt(B,16),q=parseInt(q,16),te=parseInt(te,16)}}return{r:B,g:q,b:te,a:oe,style:A}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},C=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};S.prototype.fillText=function(A,B,q,te){if(isNaN(B)||isNaN(q)||typeof A!="string")throw zn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!w.call(this)){var oe=le(this.ctx.transform.rotation),be=this.ctx.transform.scaleX;H.call(this,{text:A,x:B,y:q,scale:be,angle:oe,align:this.textAlign,maxWidth:te})}},S.prototype.strokeText=function(A,B,q,te){if(isNaN(B)||isNaN(q)||typeof A!="string")throw zn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!C.call(this)){te=isNaN(te)?void 0:te;var oe=le(this.ctx.transform.rotation),be=this.ctx.transform.scaleX;H.call(this,{text:A,x:B,y:q,scale:be,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:te})}},S.prototype.measureText=function(A){if(typeof A!="string")throw zn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var B=this.pdf,q=this.pdf.internal.scaleFactor,te=B.internal.getFontSize(),oe=B.getStringUnitWidth(A)*te/B.internal.scaleFactor;return new function(be){var Ae=(be=be||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ae}}),this}({width:oe*=Math.round(96*q/72*1e4)/1e4})},S.prototype.scale=function(A,B){if(isNaN(A)||isNaN(B))throw zn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new f(A,0,0,B,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},S.prototype.rotate=function(A){if(isNaN(A))throw zn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var B=new f(Math.cos(A),Math.sin(A),-Math.sin(A),Math.cos(A),0,0);this.ctx.transform=this.ctx.transform.multiply(B)},S.prototype.translate=function(A,B){if(isNaN(A)||isNaN(B))throw zn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new f(1,0,0,1,A,B);this.ctx.transform=this.ctx.transform.multiply(q)},S.prototype.transform=function(A,B,q,te,oe,be){if(isNaN(A)||isNaN(B)||isNaN(q)||isNaN(te)||isNaN(oe)||isNaN(be))throw zn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ae=new f(A,B,q,te,oe,be);this.ctx.transform=this.ctx.transform.multiply(Ae)},S.prototype.setTransform=function(A,B,q,te,oe,be){A=isNaN(A)?1:A,B=isNaN(B)?0:B,q=isNaN(q)?0:q,te=isNaN(te)?1:te,oe=isNaN(oe)?0:oe,be=isNaN(be)?0:be,this.ctx.transform=new f(A,B,q,te,oe,be)};var L=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};S.prototype.drawImage=function(A,B,q,te,oe,be,Ae,Ne,Pe){var $e=this.pdf.getImageProperties(A),Ke=1,Je=1,ge=1,K=1;te!==void 0&&Ne!==void 0&&(ge=Ne/te,K=Pe/oe,Ke=$e.width/te*Ne/te,Je=$e.height/oe*Pe/oe),be===void 0&&(be=B,Ae=q,B=0,q=0),te!==void 0&&Ne===void 0&&(Ne=te,Pe=oe),te===void 0&&Ne===void 0&&(Ne=$e.width,Pe=$e.height);for(var Ge,et=this.ctx.transform.decompose(),at=le(et.rotate.shx),Fe=new f,tt=(Fe=(Fe=(Fe=Fe.multiply(et.translate)).multiply(et.skew)).multiply(et.scale)).applyToRectangle(new h(be-B*ge,Ae-q*K,te*Ke,oe*Je)),We=T.call(this,tt),Lt=[],pt=0;pt<We.length;pt+=1)Lt.indexOf(We[pt])===-1&&Lt.push(We[pt]);if(M(Lt),this.autoPaging)for(var Bt=Lt[0],Ut=Lt[Lt.length-1],Mt=Bt;Mt<Ut+1;Mt++){this.pdf.setPage(Mt);var bn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ot=Mt===1?this.posY+this.margin[0]:this.margin[0],ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dt=Mt===1?0:ft+(Mt-2)*Et;if(this.ctx.clip_path.length!==0){var Ln=this.path;Ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=G(Ge,this.posX+this.margin[3],-dt+Ot+this.ctx.prevPageLastElemOffset),J.call(this,"fill",!0),this.path=Ln}var Kt=JSON.parse(JSON.stringify(tt));Kt=G([Kt],this.posX+this.margin[3],-dt+Ot+this.ctx.prevPageLastElemOffset)[0];var Xe=(Mt>Bt||Mt<Ut)&&L.call(this);Xe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bn,Et,null).clip().discardPath()),this.pdf.addImage(A,"JPEG",Kt.x,Kt.y,Kt.w,Kt.h,null,null,at),Xe&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(A,"JPEG",tt.x,tt.y,tt.w,tt.h,null,null,at)};var T=function(A,B,q){var te=[];B=B||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(A.type){default:case"mt":case"lt":te.push(Math.floor((A.y+oe)/q)+1);break;case"arc":te.push(Math.floor((A.y+oe-A.radius)/q)+1),te.push(Math.floor((A.y+oe+A.radius)/q)+1);break;case"qct":var be=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x,A.y);te.push(Math.floor((be.y+oe)/q)+1),te.push(Math.floor((be.y+be.h+oe)/q)+1);break;case"bct":var Ae=Le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x2,A.y2,A.x,A.y);te.push(Math.floor((Ae.y+oe)/q)+1),te.push(Math.floor((Ae.y+Ae.h+oe)/q)+1);break;case"rect":te.push(Math.floor((A.y+oe)/q)+1),te.push(Math.floor((A.y+A.h+oe)/q)+1)}for(var Ne=0;Ne<te.length;Ne+=1)for(;this.pdf.internal.getNumberOfPages()<te[Ne];)k.call(this);return te},k=function(){var A=this.fillStyle,B=this.strokeStyle,q=this.font,te=this.lineCap,oe=this.lineWidth,be=this.lineJoin;this.pdf.addPage(),this.fillStyle=A,this.strokeStyle=B,this.font=q,this.lineCap=te,this.lineWidth=oe,this.lineJoin=be},G=function(A,B,q){for(var te=0;te<A.length;te++)switch(A[te].type){case"bct":A[te].x2+=B,A[te].y2+=q;case"qct":A[te].x1+=B,A[te].y1+=q;default:A[te].x+=B,A[te].y+=q}return A},M=function(A){return A.sort(function(B,q){return B-q})},z=function(A,B){for(var q,te,oe=this.fillStyle,be=this.strokeStyle,Ae=this.lineCap,Ne=this.lineWidth,Pe=Math.abs(Ne*this.ctx.transform.scaleX),$e=this.lineJoin,Ke=JSON.parse(JSON.stringify(this.path)),Je=JSON.parse(JSON.stringify(this.path)),ge=[],K=0;K<Je.length;K++)if(Je[K].x!==void 0)for(var Ge=T.call(this,Je[K]),et=0;et<Ge.length;et+=1)ge.indexOf(Ge[et])===-1&&ge.push(Ge[et]);for(var at=0;at<ge.length;at++)for(;this.pdf.internal.getNumberOfPages()<ge[at];)k.call(this);if(M(ge),this.autoPaging)for(var Fe=ge[0],tt=ge[ge.length-1],We=Fe;We<tt+1;We++){this.pdf.setPage(We),this.fillStyle=oe,this.strokeStyle=be,this.lineCap=Ae,this.lineWidth=Pe,this.lineJoin=$e;var Lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],pt=We===1?this.posY+this.margin[0]:this.margin[0],Bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Mt=We===1?0:Bt+(We-2)*Ut;if(this.ctx.clip_path.length!==0){var bn=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=G(q,this.posX+this.margin[3],-Mt+pt+this.ctx.prevPageLastElemOffset),J.call(this,A,!0),this.path=bn}if(te=JSON.parse(JSON.stringify(Ke)),this.path=G(te,this.posX+this.margin[3],-Mt+pt+this.ctx.prevPageLastElemOffset),B===!1||We===0){var Ot=(We>Fe||We<tt)&&L.call(this);Ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Lt,Ut,null).clip().discardPath()),J.call(this,A,B),Ot&&this.pdf.restoreGraphicsState()}this.lineWidth=Ne}else this.lineWidth=Pe,J.call(this,A,B),this.lineWidth=Ne;this.path=Ke},J=function(A,B){if((A!=="stroke"||B||!C.call(this))&&(A==="stroke"||B||!w.call(this))){for(var q,te,oe=[],be=this.path,Ae=0;Ae<be.length;Ae++){var Ne=be[Ae];switch(Ne.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:Ne,deltas:[],abs:[]});break;case"lt":var Pe=oe.length;if(be[Ae-1]&&!isNaN(be[Ae-1].x)&&(q=[Ne.x-be[Ae-1].x,Ne.y-be[Ae-1].y],Pe>0)){for(;Pe>=0;Pe--)if(oe[Pe-1].close!==!0&&oe[Pe-1].begin!==!0){oe[Pe-1].deltas.push(q),oe[Pe-1].abs.push(Ne);break}}break;case"bct":q=[Ne.x1-be[Ae-1].x,Ne.y1-be[Ae-1].y,Ne.x2-be[Ae-1].x,Ne.y2-be[Ae-1].y,Ne.x-be[Ae-1].x,Ne.y-be[Ae-1].y],oe[oe.length-1].deltas.push(q);break;case"qct":var $e=be[Ae-1].x+2/3*(Ne.x1-be[Ae-1].x),Ke=be[Ae-1].y+2/3*(Ne.y1-be[Ae-1].y),Je=Ne.x+2/3*(Ne.x1-Ne.x),ge=Ne.y+2/3*(Ne.y1-Ne.y),K=Ne.x,Ge=Ne.y;q=[$e-be[Ae-1].x,Ke-be[Ae-1].y,Je-be[Ae-1].x,ge-be[Ae-1].y,K-be[Ae-1].x,Ge-be[Ae-1].y],oe[oe.length-1].deltas.push(q);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(Ne)}}te=B?null:A==="stroke"?"stroke":"fill";for(var et=!1,at=0;at<oe.length;at++)if(oe[at].arc)for(var Fe=oe[at].abs,tt=0;tt<Fe.length;tt++){var We=Fe[tt];We.type==="arc"?X.call(this,We.x,We.y,We.radius,We.startAngle,We.endAngle,We.counterclockwise,void 0,B,!et):ie.call(this,We.x,We.y),et=!0}else if(oe[at].close===!0)this.pdf.internal.out("h"),et=!1;else if(oe[at].begin!==!0){var Lt=oe[at].start.x,pt=oe[at].start.y;ae.call(this,oe[at].deltas,Lt,pt),et=!0}te&&F.call(this,te),B&&de.call(this)}},ce=function(A){var B=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=B*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return A-q;case"top":return A+B-q;case"hanging":return A+B-2*q;case"middle":return A+B/2-q;default:return A}},ne=function(A){return A+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};S.prototype.createLinearGradient=function(){var A=function(){};return A.colorStops=[],A.addColorStop=function(B,q){this.colorStops.push([B,q])},A.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},A.isCanvasGradient=!0,A},S.prototype.createPattern=function(){return this.createLinearGradient()},S.prototype.createRadialGradient=function(){return this.createLinearGradient()};var X=function(A,B,q,te,oe,be,Ae,Ne,Pe){for(var $e=W.call(this,q,te,oe,be),Ke=0;Ke<$e.length;Ke++){var Je=$e[Ke];Ke===0&&(Pe?D.call(this,Je.x1+A,Je.y1+B):ie.call(this,Je.x1+A,Je.y1+B)),ue.call(this,A,B,Je.x2,Je.y2,Je.x3,Je.y3,Je.x4,Je.y4)}Ne?de.call(this):F.call(this,Ae)},F=function(A){switch(A){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},de=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(A,B){this.pdf.internal.out(n(A)+" "+r(B)+" m")},H=function(A){var B;switch(A.align){case"right":case"end":B="right";break;case"center":B="center";break;default:B="left"}var q=this.pdf.getTextDimensions(A.text),te=ce.call(this,A.y),oe=ne.call(this,te)-q.h,be=this.ctx.transform.applyToPoint(new u(A.x,te)),Ae=this.ctx.transform.decompose(),Ne=new f;Ne=(Ne=(Ne=Ne.multiply(Ae.translate)).multiply(Ae.skew)).multiply(Ae.scale);for(var Pe,$e,Ke,Je=this.ctx.transform.applyToRectangle(new h(A.x,te,q.w,q.h)),ge=Ne.applyToRectangle(new h(A.x,oe,q.w,q.h)),K=T.call(this,ge),Ge=[],et=0;et<K.length;et+=1)Ge.indexOf(K[et])===-1&&Ge.push(K[et]);if(M(Ge),this.autoPaging)for(var at=Ge[0],Fe=Ge[Ge.length-1],tt=at;tt<Fe+1;tt++){this.pdf.setPage(tt);var We=tt===1?this.posY+this.margin[0]:this.margin[0],Lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[2],Bt=pt-this.margin[0],Ut=this.pdf.internal.pageSize.width-this.margin[1],Mt=Ut-this.margin[3],bn=tt===1?0:Lt+(tt-2)*Bt;if(this.ctx.clip_path.length!==0){var Ot=this.path;Pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=G(Pe,this.posX+this.margin[3],-1*bn+We),J.call(this,"fill",!0),this.path=Ot}var ft=G([JSON.parse(JSON.stringify(ge))],this.posX+this.margin[3],-bn+We+this.ctx.prevPageLastElemOffset)[0];A.scale>=.01&&($e=this.pdf.internal.getFontSize(),this.pdf.setFontSize($e*A.scale),Ke=this.lineWidth,this.lineWidth=Ke*A.scale);var Et=this.autoPaging!=="text";if(Et||ft.y+ft.h<=pt){if(Et||ft.y>=We&&ft.x<=Ut){var dt=Et?A.text:this.pdf.splitTextToSize(A.text,A.maxWidth||Ut-ft.x)[0],Ln=G([JSON.parse(JSON.stringify(Je))],this.posX+this.margin[3],-bn+We+this.ctx.prevPageLastElemOffset)[0],Kt=Et&&(tt>at||tt<Fe)&&L.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Mt,Bt,null).clip().discardPath()),this.pdf.text(dt,Ln.x,Ln.y,{angle:A.angle,align:B,renderingMode:A.renderingMode}),Kt&&this.pdf.restoreGraphicsState()}}else ft.y<pt&&(this.ctx.prevPageLastElemOffset+=pt-ft.y);A.scale>=.01&&(this.pdf.setFontSize($e),this.lineWidth=Ke)}else A.scale>=.01&&($e=this.pdf.internal.getFontSize(),this.pdf.setFontSize($e*A.scale),Ke=this.lineWidth,this.lineWidth=Ke*A.scale),this.pdf.text(A.text,be.x+this.posX,be.y+this.posY,{angle:A.angle,align:B,renderingMode:A.renderingMode,maxWidth:A.maxWidth}),A.scale>=.01&&(this.pdf.setFontSize($e),this.lineWidth=Ke)},ie=function(A,B,q,te){q=q||0,te=te||0,this.pdf.internal.out(n(A+q)+" "+r(B+te)+" l")},ae=function(A,B,q){return this.pdf.lines(A,B,q,null,null)},ue=function(A,B,q,te,oe,be,Ae,Ne){this.pdf.internal.out([e(o(q+A)),e(l(te+B)),e(o(oe+A)),e(l(be+B)),e(o(Ae+A)),e(l(Ne+B)),"c"].join(" "))},W=function(A,B,q,te){for(var oe=2*Math.PI,be=Math.PI/2;B>q;)B-=oe;var Ae=Math.abs(q-B);Ae<oe&&te&&(Ae=oe-Ae);for(var Ne=[],Pe=te?-1:1,$e=B;Ae>1e-5;){var Ke=$e+Pe*Math.min(Ae,be);Ne.push(se.call(this,A,$e,Ke)),Ae-=Math.abs(Ke-$e),$e=Ke}return Ne},se=function(A,B,q){var te=(q-B)/2,oe=A*Math.cos(te),be=A*Math.sin(te),Ae=oe,Ne=-be,Pe=Ae*Ae+Ne*Ne,$e=Pe+Ae*oe+Ne*be,Ke=4/3*(Math.sqrt(2*Pe*$e)-$e)/(Ae*be-Ne*oe),Je=Ae-Ke*Ne,ge=Ne+Ke*Ae,K=Je,Ge=-ge,et=te+B,at=Math.cos(et),Fe=Math.sin(et);return{x1:A*Math.cos(B),y1:A*Math.sin(B),x2:Je*at-ge*Fe,y2:Je*Fe+ge*at,x3:K*at-Ge*Fe,y3:K*Fe+Ge*at,x4:A*Math.cos(q),y4:A*Math.sin(q)}},le=function(A){return 180*A/Math.PI},re=function(A,B,q,te,oe,be){var Ae=A+.5*(q-A),Ne=B+.5*(te-B),Pe=oe+.5*(q-oe),$e=be+.5*(te-be),Ke=Math.min(A,oe,Ae,Pe),Je=Math.max(A,oe,Ae,Pe),ge=Math.min(B,be,Ne,$e),K=Math.max(B,be,Ne,$e);return new h(Ke,ge,Je-Ke,K-ge)},Le=function(A,B,q,te,oe,be,Ae,Ne){var Pe,$e,Ke,Je,ge,K,Ge,et,at,Fe,tt,We,Lt,pt,Bt=q-A,Ut=te-B,Mt=oe-q,bn=be-te,Ot=Ae-oe,ft=Ne-be;for($e=0;$e<41;$e++)at=(Ge=(Ke=A+(Pe=$e/40)*Bt)+Pe*((ge=q+Pe*Mt)-Ke))+Pe*(ge+Pe*(oe+Pe*Ot-ge)-Ge),Fe=(et=(Je=B+Pe*Ut)+Pe*((K=te+Pe*bn)-Je))+Pe*(K+Pe*(be+Pe*ft-K)-et),$e==0?(tt=at,We=Fe,Lt=at,pt=Fe):(tt=Math.min(tt,at),We=Math.min(We,Fe),Lt=Math.max(Lt,at),pt=Math.max(pt,Fe));return new h(Math.round(tt),Math.round(We),Math.round(Lt-tt),Math.round(pt-We))},V=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var A,B,q=(A=this.ctx.lineDash,B=this.ctx.lineDashOffset,JSON.stringify({lineDash:A,lineDashOffset:B}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(ht.API),(function(i){var e=function(u){var h,f,p,y,S,N,w,C,L,T;for(f=[],p=0,y=(u+=h="\0\0\0\0".slice(u.length%4||4)).length;y>p;p+=4)(S=(u.charCodeAt(p)<<24)+(u.charCodeAt(p+1)<<16)+(u.charCodeAt(p+2)<<8)+u.charCodeAt(p+3))!==0?(N=(S=((S=((S=((S=(S-(T=S%85))/85)-(L=S%85))/85)-(C=S%85))/85)-(w=S%85))/85)%85,f.push(N+33,w+33,C+33,L+33,T+33)):f.push(122);return(function(k,G){for(var M=G;M>0;M--)k.pop()})(f,h.length),String.fromCharCode.apply(String,f)+"~>"},n=function(u){var h,f,p,y,S,N=String,w="length",C=255,L="charCodeAt",T="slice",k="replace";for(u[T](-2),u=u[T](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),p=[],y=0,S=(u+=h="uuuuu"[T](u[w]%5||5))[w];S>y;y+=5)f=52200625*(u[L](y)-33)+614125*(u[L](y+1)-33)+7225*(u[L](y+2)-33)+85*(u[L](y+3)-33)+(u[L](y+4)-33),p.push(C&f>>24,C&f>>16,C&f>>8,C&f);return(function(G,M){for(var z=M;z>0;z--)G.pop()})(p,h[w]),N.fromCharCode.apply(N,p)},r=function(u){return u.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">"},o=function(u){var h=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),h.test(u)===!1)return"";for(var f="",p=0;p<u.length;p+=2)f+=String.fromCharCode("0x"+(u[p]+u[p+1]));return f},l=function(u){for(var h=new Uint8Array(u.length),f=u.length;f--;)h[f]=u.charCodeAt(f);return(h=Lp(h)).reduce(function(p,y){return p+String.fromCharCode(y)},"")};i.processDataByFilters=function(u,h){var f=0,p=u||"",y=[];for(typeof(h=h||[])=="string"&&(h=[h]),f=0;f<h.length;f+=1)switch(h[f]){case"ASCII85Decode":case"/ASCII85Decode":p=n(p),y.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":p=e(p),y.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":p=o(p),y.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":p=r(p),y.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":p=l(p),y.push("/FlateDecode");break;default:throw new Error('The filter: "'+h[f]+'" is not implemented')}return{data:p,reverseChain:y.reverse().join(" ")}}})(ht.API),(function(i){i.loadFile=function(e,n,r){return(function(o,l,u){l=l!==!1,u=typeof u=="function"?u:function(){};var h=void 0;try{h=(function(f,p,y){var S=new XMLHttpRequest,N=0,w=function(C){var L=C.length,T=[],k=String.fromCharCode;for(N=0;N<L;N+=1)T.push(k(255&C.charCodeAt(N)));return T.join("")};if(S.open("GET",f,!p),S.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(S.onload=function(){S.status===200?y(w(this.responseText)):y(void 0)}),S.send(null),p&&S.status===200)return w(S.responseText)})(o,l,u)}catch(f){}return h})(e,n,r)},i.loadImageFile=i.loadFile})(ht.API),(function(i){function e(){return(Dt.html2canvas?Promise.resolve(Dt.html2canvas):I0(()=>import("./html2canvas.esm-CkdxXkdF.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load html2canvas: "+h))}).then(function(h){return h.default?h.default:h})}function n(){return(Dt.DOMPurify?Promise.resolve(Dt.DOMPurify):I0(()=>import("./purify.es-D1tj7MWB.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load dompurify: "+h))}).then(function(h){return h.default?h.default:h})}var r=function(h){var f=Cn(h);return f==="undefined"?"undefined":f==="string"||h instanceof String?"string":f==="number"||h instanceof Number?"number":f==="function"||h instanceof Function?"function":h&&h.constructor===Array?"array":h&&h.nodeType===1?"element":f==="object"?"object":"unknown"},o=function(h,f){var p=document.createElement(h);for(var y in f.className&&(p.className=f.className),f.innerHTML&&f.dompurify&&(p.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)p.style[y]=f.style[y];return p},l=function h(f,p){for(var y=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),S=f.firstChild;S;S=S.nextSibling)p!==!0&&S.nodeType===1&&S.nodeName==="SCRIPT"||y.appendChild(h(S,p));return f.nodeType===1&&(f.nodeName==="CANVAS"?(y.width=f.width,y.height=f.height,y.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(y.value=f.value),y.addEventListener("load",function(){y.scrollTop=f.scrollTop,y.scrollLeft=f.scrollLeft},!0)),y},u=function h(f){var p=Object.assign(h.convert(Promise.resolve()),JSON.parse(JSON.stringify(h.template))),y=h.convert(Promise.resolve(),p);return(y=y.setProgress(1,h,1,[h])).set(f)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(h,f){return h.__proto__=f||u.prototype,h},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(h,f){return this.then(function(){switch(f=f||(function(p){switch(r(p)){case"string":return"string";case"element":return p.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(h),f){case"string":return this.then(n).then(function(p){return this.set({src:o("div",{innerHTML:h,dompurify:p})})});case"element":return this.set({src:h});case"canvas":return this.set({canvas:h});case"img":return this.set({img:h});default:return this.error("Unknown source type.")}})},u.prototype.to=function(h){switch(h){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var h={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=l(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(h.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o("div",{className:"html2pdf__container",style:h}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(o("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(f){var p=Object.assign({},this.opt.html2canvas);return delete p.onrendered,f(this.prop.container,p)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(f){var p=this.opt.jsPDF,y=this.opt.fontFaces,S=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,N=Object.assign({async:!0,allowTaint:!0,scale:S,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete N.onrendered,p.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,p.context2d.posX=this.opt.x,p.context2d.posY=this.opt.y,p.context2d.margin=this.opt.margin,p.context2d.fontFaces=y,y)for(var w=0;w<y.length;++w){var C=y[w],L=C.src.find(function(T){return T.format==="truetype"});L&&p.addFont(L.url,C.ref.name,C.ref.style)}return N.windowHeight=N.windowHeight||0,N.windowHeight=N.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):N.windowHeight,p.context2d.save(!0),f(this.prop.container,N)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var h=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=h})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(h,f,p){return(p=p||"pdf").toLowerCase()==="img"||p.toLowerCase()==="image"?this.outputImg(h,f):this.outputPdf(h,f)},u.prototype.outputPdf=function(h,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(h,f)})},u.prototype.outputImg=function(h){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(h){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+h+'" is not supported.'}})},u.prototype.save=function(h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(h?{filename:h}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(h){if(r(h)!=="object")return this;var f=Object.keys(h||{}).map(function(p){if(p in u.template.prop)return function(){this.prop[p]=h[p]};switch(p){case"margin":return this.setMargin.bind(this,h.margin);case"jsPDF":return function(){return this.opt.jsPDF=h.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,h.pageSize);default:return function(){this.opt[p]=h[p]}}},this);return this.then(function(){return this.thenList(f)})},u.prototype.get=function(h,f){return this.then(function(){var p=h in u.template.prop?this.prop[h]:this.opt[h];return f?f(p):p})},u.prototype.setMargin=function(h){return this.then(function(){switch(r(h)){case"number":h=[h,h,h,h];case"array":if(h.length===2&&(h=[h[0],h[1],h[0],h[1]]),h.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=h}).then(this.setPageSize)},u.prototype.setPageSize=function(h){function f(p,y){return Math.floor(p*y/72*96)}return this.then(function(){(h=h||ht.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(h.inner={width:h.width-this.opt.margin[1]-this.opt.margin[3],height:h.height-this.opt.margin[0]-this.opt.margin[2]},h.inner.px={width:f(h.inner.width,h.k),height:f(h.inner.height,h.k)},h.inner.ratio=h.inner.height/h.inner.width),this.prop.pageSize=h})},u.prototype.setProgress=function(h,f,p,y){return h!=null&&(this.progress.val=h),f!=null&&(this.progress.state=f),p!=null&&(this.progress.n=p),y!=null&&(this.progress.stack=y),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(h,f,p,y){return this.setProgress(h?this.progress.val+h:null,f||null,p?this.progress.n+p:null,y?this.progress.stack.concat(y):null)},u.prototype.then=function(h,f){var p=this;return this.thenCore(h,f,function(y,S){return p.updateProgress(null,null,1,[y]),Promise.prototype.then.call(this,function(N){return p.updateProgress(null,y),N}).then(y,S).then(function(N){return p.updateProgress(1),N})})},u.prototype.thenCore=function(h,f,p){p=p||Promise.prototype.then;var y=this;h&&(h=h.bind(y)),f&&(f=f.bind(y));var S=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?y:u.convert(Object.assign({},y),Promise.prototype),N=p.call(S,h,f);return u.convert(N,y.__proto__)},u.prototype.thenExternal=function(h,f){return Promise.prototype.then.call(this,h,f)},u.prototype.thenList=function(h){var f=this;return h.forEach(function(p){f=f.thenCore(p)}),f},u.prototype.catch=function(h){h&&(h=h.bind(this));var f=Promise.prototype.catch.call(this,h);return u.convert(f,this)},u.prototype.catchExternal=function(h){return Promise.prototype.catch.call(this,h)},u.prototype.error=function(h){return this.then(function(){throw new Error(h)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,ht.getPageSize=function(h,f,p){if(Cn(h)==="object"){var y=h;h=y.orientation,f=y.unit||f,p=y.format||p}f=f||"mm",p=p||"a4",h=(""+(h||"P")).toLowerCase();var S,N=(""+p).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":S=1;break;case"mm":S=72/25.4;break;case"cm":S=72/2.54;break;case"in":S=72;break;case"px":S=.75;break;case"pc":case"em":S=12;break;case"ex":S=6;break;default:throw"Invalid unit: "+f}var C,L=0,T=0;if(w.hasOwnProperty(N))L=w[N][1]/S,T=w[N][0]/S;else try{L=p[1],T=p[0]}catch(k){throw new Error("Invalid format: "+p)}if(h==="p"||h==="portrait")h="p",T>L&&(C=T,T=L,L=C);else{if(h!=="l"&&h!=="landscape")throw"Invalid orientation: "+h;h="l",L>T&&(C=T,T=L,L=C)}return{width:T,height:L,unit:f,k:S,orientation:h}},i.html=function(h,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(rp):null;var p=new u(f);return f.worker?p:p.from(h).doCallback()}})(ht.API),ht.API.addJS=function(i){return pv=i,this.internal.events.subscribe("postPutResources",function(){Uf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Uf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),dv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+pv+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Uf!==void 0&&dv!==void 0&&this.internal.out("/Names <</JavaScript "+Uf+" 0 R>>")}),this},(function(i){var e;i.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var o=n.outline.render().split(/\r\n/),l=0;l<o.length;l++){var u=o[l],h=r.exec(u);if(h!=null){var f=h[1];n.internal.newObjectDeferredBegin(f,!1)}n.internal.write(u)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,y=[];for(l=0;l<p;l++){var S=n.internal.newObject();y.push(S);var N=n.internal.getPageInfo(l+1);n.internal.write("<< /D["+N.objId+" 0 R /XYZ null null null]>> endobj")}var w=n.internal.newObject();for(n.internal.write("<< /Names [ "),l=0;l<y.length;l++)n.internal.write("(page_"+(l+1)+")"+y[l]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+w+" 0 R"),n.internal.write(">>","endobj")}}]),i.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),i.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,o,l){var u={title:o,options:l,children:[]};return r==null&&(r=this.root),r.children.push(u),u},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var o=0;o<r.children.length;o++)this.genIds_r(r.children[o])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var o=this.ctx.pdf.internal.getVerticalCoordinateString,l=0;l<r.children.length;l++){var u=r.children[l];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(r)),l>0&&this.line("/Prev "+this.makeRef(r.children[l-1])),l<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[l+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var h=this.count=this.count_r({count:0},u);if(h>0&&this.line("/Count "+h),u.options&&u.options.pageNumber){var f=n.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+o(0)+" 0]")}this.objEnd()}for(var p=0;p<r.children.length;p++)this.renderItems(r.children[p])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,o){for(var l=0;l<o.children.length;l++)r.count++,this.count_r(r,o.children[l]);return r.count}}])})(ht.API),(function(i){var e=[192,193,194,195,196,197,198,199];i.processJPEG=function(n,r,o,l,u,h){var f,p=this.decode.DCT_DECODE,y=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=u||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,f=(function(S){for(var N,w=256*S.charCodeAt(4)+S.charCodeAt(5),C=S.length,L={width:0,height:0,numcomponents:1},T=4;T<C;T+=2){if(T+=w,e.indexOf(S.charCodeAt(T+1))!==-1){N=256*S.charCodeAt(T+5)+S.charCodeAt(T+6),L={width:256*S.charCodeAt(T+7)+S.charCodeAt(T+8),height:N,numcomponents:S.charCodeAt(T+9)};break}w=256*S.charCodeAt(T+2)+S.charCodeAt(T+3)}return L})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),f.numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}y={data:n,width:f.width,height:f.height,colorSpace:h,bitsPerComponent:8,filter:p,index:r,alias:o}}return y}})(ht.API),ht.API.processPNG=function(i,e,n,r){if(this.__addimage__.isArrayBuffer(i)&&(i=new Uint8Array(i)),this.__addimage__.isArrayBufferView(i)){var o,l=q6(i,{checkCrc:!0}),u=l.width,h=l.height,f=l.channels,p=l.palette,y=l.depth;o=p&&f===1?(function(X){for(var F=X.width,de=X.height,D=X.data,H=X.palette,ie=X.depth,ae=!1,ue=[],W=[],se=void 0,le=!1,re=0,Le=0;Le<H.length;Le++){var V=y2(H[Le],4),A=V[0],B=V[1],q=V[2],te=V[3];ue.push(A,B,q),te!=null&&(te===0?(re++,W.length<1&&W.push(Le)):te<255&&(le=!0))}if(le||re>1){ae=!0,W=void 0;var oe=F*de;se=new Uint8Array(oe);for(var be=new DataView(D.buffer),Ae=0;Ae<oe;Ae++){var Ne=sp(be,Ae,ie),Pe=y2(H[Ne],4)[3];se[Ae]=Pe}}else re===0&&(W=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ae?8:void 0,colorBytes:D,alphaBytes:se,needSMask:ae,palette:ue,mask:W}})(l):f===2||f===4?(function(X){for(var F=X.data,de=X.width,D=X.height,H=X.channels,ie=X.depth,ae=H===2?"DeviceGray":"DeviceRGB",ue=H-1,W=de*D,se=ue,le=W*se,re=1*W,Le=Math.ceil(le*ie/8),V=Math.ceil(re*ie/8),A=new Uint8Array(Le),B=new Uint8Array(V),q=new DataView(F.buffer),te=new DataView(A.buffer),oe=new DataView(B.buffer),be=!1,Ae=0;Ae<W;Ae++){for(var Ne=Ae*H,Pe=0;Pe<se;Pe++)Sv(te,sp(q,Ne+Pe,ie),Ae*se+Pe,ie);var $e=sp(q,Ne+se,ie);$e<(1<<ie)-1&&(be=!0),Sv(oe,$e,1*Ae,ie)}return{colorSpace:ae,colorsPerPixel:ue,sMaskBitsPerComponent:be?ie:void 0,colorBytes:A,alphaBytes:B,needSMask:be}})(l):(function(X){var F=X.data,de=X.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:de,colorsPerPixel:de==="DeviceGray"?1:3,colorBytes:F instanceof Uint16Array?(function(D){for(var H=D.length,ie=new Uint8Array(2*H),ae=new DataView(ie.buffer,ie.byteOffset,ie.byteLength),ue=0;ue<H;ue++)ae.setUint16(2*ue,D[ue],!1);return ie})(F):F,needSMask:!1}})(l);var S,N,w,C=o,L=C.colorSpace,T=C.colorsPerPixel,k=C.sMaskBitsPerComponent,G=C.colorBytes,M=C.alphaBytes,z=C.needSMask,J=C.palette,ce=C.mask,ne=null;return r!==ht.API.image_compression.NONE&&typeof Lp=="function"?(ne=(function(X){var F;switch(X){case ht.API.image_compression.FAST:F=11;break;case ht.API.image_compression.MEDIUM:F=13;break;case ht.API.image_compression.SLOW:F=14;break;default:F=12}return F})(r),S=this.decode.FLATE_DECODE,N="/Predictor ".concat(ne," /Colors ").concat(T," /BitsPerComponent ").concat(y," /Columns ").concat(u),i=yv(G,Math.ceil(u*T*y/8),T,y,r),z&&(w=yv(M,Math.ceil(u*k/8),1,k,r))):(S=void 0,N=void 0,i=G,z&&(w=M)),(this.__addimage__.isArrayBuffer(i)||this.__addimage__.isArrayBufferView(i))&&(i=this.__addimage__.arrayBufferToBinaryString(i)),(w&&this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),{alias:n,data:i,index:e,filter:S,decodeParameters:N,transparency:ce,palette:J,sMask:w,predictor:ne,width:u,height:h,bitsPerComponent:y,sMaskBitsPerComponent:k,colorSpace:L}}},(function(i){i.processGIF89A=function(e,n,r,o){var l=new lS(e),u=l.width,h=l.height,f=[];l.decodeAndBlitFrameRGBA(0,f);var p={data:f,width:u,height:h},y=new op(100).encode(p,100);return i.processJPEG.call(this,y,n,r,o)},i.processGIF87A=i.processGIF89A})(ht.API),hs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var i=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(i);for(var e=0;e<i;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:o,green:r,blue:n,quad:l}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},hs.prototype.parseBGR=function(){this.pos=this.offset;try{var i="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[i]()}catch(n){zn.log("bit decode error:"+n)}},hs.prototype.bit1=function(){var i,e=Math.ceil(this.width/8),n=e%4;for(i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,o=0;o<e;o++)for(var l=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+8*o*4,h=0;h<8&&8*o+h<this.width;h++){var f=this.palette[l>>7-h&1];this.data[u+4*h]=f.blue,this.data[u+4*h+1]=f.green,this.data[u+4*h+2]=f.red,this.data[u+4*h+3]=255}n!==0&&(this.pos+=4-n)}},hs.prototype.bit4=function(){for(var i=Math.ceil(this.width/2),e=i%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,o=0;o<i;o++){var l=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+2*o*4,h=l>>4,f=15&l,p=this.palette[h];if(this.data[u]=p.blue,this.data[u+1]=p.green,this.data[u+2]=p.red,this.data[u+3]=255,2*o+1>=this.width)break;p=this.palette[f],this.data[u+4]=p.blue,this.data[u+4+1]=p.green,this.data[u+4+2]=p.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},hs.prototype.bit8=function(){for(var i=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var o=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+4*r;if(o<this.palette.length){var u=this.palette[o];this.data[l]=u.red,this.data[l+1]=u.green,this.data[l+2]=u.blue,this.data[l+3]=255}else this.data[l]=255,this.data[l+1]=255,this.data[l+2]=255,this.data[l+3]=255}i!==0&&(this.pos+=4-i)}},hs.prototype.bit15=function(){for(var i=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(l&e)/e*255|0,h=(l>>5&e)/e*255|0,f=(l>>10&e)/e*255|0,p=l>>15?255:0,y=r*this.width*4+4*o;this.data[y]=f,this.data[y+1]=h,this.data[y+2]=u,this.data[y+3]=p}this.pos+=i}},hs.prototype.bit16=function(){for(var i=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var o=this.bottom_up?r:this.height-1-r,l=0;l<this.width;l++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(u&e)/e*255|0,f=(u>>5&n)/n*255|0,p=(u>>11)/e*255|0,y=o*this.width*4+4*l;this.data[y]=p,this.data[y+1]=f,this.data[y+2]=h,this.data[y+3]=255}this.pos+=i}},hs.prototype.bit24=function(){for(var i=this.height-1;i>=0;i--){for(var e=this.bottom_up?i:this.height-1-i,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*n;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=r,this.data[u+3]=255}this.pos+=this.width%4}},hs.prototype.bit32=function(){for(var i=this.height-1;i>=0;i--)for(var e=this.bottom_up?i:this.height-1-i,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),h=e*this.width*4+4*n;this.data[h]=l,this.data[h+1]=o,this.data[h+2]=r,this.data[h+3]=u}},hs.prototype.getData=function(){return this.data},(function(i){i.processBMP=function(e,n,r,o){var l=new hs(e,!1),u=l.width,h=l.height,f={data:l.getData(),width:u,height:h},p=new op(100).encode(f,100);return i.processJPEG.call(this,p,n,r,o)}})(ht.API),Av.prototype.getData=function(){return this.data},(function(i){i.processWEBP=function(e,n,r,o){var l=new Av(e),u=l.width,h=l.height,f={data:l.getData(),width:u,height:h},p=new op(100).encode(f,100);return i.processJPEG.call(this,p,n,r,o)}})(ht.API),ht.API.processRGBA=function(i,e,n){for(var r=i.data,o=r.length,l=new Uint8Array(o/4*3),u=new Uint8Array(o/4),h=0,f=0,p=0;p<o;p+=4){var y=r[p],S=r[p+1],N=r[p+2],w=r[p+3];l[h++]=y,l[h++]=S,l[h++]=N,u[f++]=w}var C=this.__addimage__.arrayBufferToBinaryString(l);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:C,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:i.width,height:i.height}},ht.API.setLanguage=function(i){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[i]!==void 0&&(this.internal.languageSettings.languageCode=i,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},lu=ht.API,zf=lu.getCharWidthsArray=function(i,e){var n,r,o=(e=e||{}).font||this.internal.getFont(),l=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),h=e.widths?e.widths:o.metadata.Unicode.widths,f=h.fof?h.fof:1,p=e.kerning?e.kerning:o.metadata.Unicode.kerning,y=p.fof?p.fof:1,S=e.doKerning!==!1,N=0,w=i.length,C=0,L=h[0]||f,T=[];for(n=0;n<w;n++)r=i.charCodeAt(n),typeof o.metadata.widthOfString=="function"?T.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(r))+u*(1e3/l)||0)/1e3):(N=S&&Cn(p[r])==="object"&&!isNaN(parseInt(p[r][C],10))?p[r][C]/y:0,T.push((h[r]||L)/f+N)),C=r;return T},mv=lu.getStringUnitWidth=function(i,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),o=e.charSpace||this.internal.getCharSpace();return lu.processArabic&&(i=lu.processArabic(i)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(i,n,o)/n:zf.apply(this,arguments).reduce(function(l,u){return l+u},0)},gv=function(i,e,n,r){for(var o=[],l=0,u=i.length,h=0;l!==u&&h+e[l]<n;)h+=e[l],l++;o.push(i.slice(0,l));var f=l;for(h=0;l!==u;)h+e[l]>r&&(o.push(i.slice(f,l)),h=0,f=l),h+=e[l],l++;return f!==l&&o.push(i.slice(f,l)),o},vv=function(i,e,n){n||(n={});var r,o,l,u,h,f,p,y=[],S=[y],N=n.textIndent||0,w=0,C=0,L=i.split(" "),T=zf.apply(this,[" ",n])[0];if(f=n.lineIndent===-1?L[0].length+2:n.lineIndent||0){var k=Array(f).join(" "),G=[];L.map(function(z){(z=z.split(/\s*\n/)).length>1?G=G.concat(z.map(function(J,ce){return(ce&&J.length?`
`:"")+J})):G.push(z[0])}),L=G,f=mv.apply(this,[k,n])}for(l=0,u=L.length;l<u;l++){var M=0;if(r=L[l],f&&r[0]==`
`&&(r=r.substr(1),M=1),N+w+(C=(o=zf.apply(this,[r,n])).reduce(function(z,J){return z+J},0))>e||M){if(C>e){for(h=gv.apply(this,[r,o,e-(N+w),e]),y.push(h.shift()),y=[h.pop()];h.length;)S.push([h.shift()]);C=o.slice(r.length-(y[0]?y[0].length:0)).reduce(function(z,J){return z+J},0)}else y=[r];S.push(y),N=C+f,w=T}else y.push(r),N+=w+C,w=T}return p=f?function(z,J){return(J?k:"")+z.join(" ")}:function(z){return z.join(" ")},S.map(p)},lu.splitTextToSize=function(i,e,n){var r,o=(n=n||{}).fontSize||this.internal.getFontSize(),l=function(y){if(y.widths&&y.kerning)return{widths:y.widths,kerning:y.kerning};var S=this.internal.getFont(y.fontName,y.fontStyle),N="Unicode";return S.metadata[N]?{widths:S.metadata[N].widths||{0:1},kerning:S.metadata[N].kerning||{}}:{font:S.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(i)?i:String(i).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/o;l.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/o:0,l.lineIndent=n.lineIndent;var h,f,p=[];for(h=0,f=r.length;h<f;h++)p=p.concat(vv.apply(this,[r[h],u,l]));return p},(function(i){i.__fontmetrics__=i.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},o={},l=0;l<16;l++)r[n[l]]=e[l],o[e[l]]=n[l];var u=function(N){return"0x"+parseInt(N,10).toString(16)},h=i.__fontmetrics__.compress=function(N){var w,C,L,T,k=["{"];for(var G in N){if(w=N[G],isNaN(parseInt(G,10))?C="'"+G+"'":(G=parseInt(G,10),C=(C=u(G).slice(2)).slice(0,-1)+o[C.slice(-1)]),typeof w=="number")w<0?(L=u(w).slice(3),T="-"):(L=u(w).slice(2),T=""),L=T+L.slice(0,-1)+o[L.slice(-1)];else{if(Cn(w)!=="object")throw new Error("Don't know what to do with value type "+Cn(w)+".");L=h(w)}k.push(C+L)}return k.push("}"),k.join("")},f=i.__fontmetrics__.uncompress=function(N){if(typeof N!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,C,L,T,k={},G=1,M=k,z=[],J="",ce="",ne=N.length-1,X=1;X<ne;X+=1)(T=N[X])=="'"?w?(L=w.join(""),w=void 0):w=[]:w?w.push(T):T=="{"?(z.push([M,L]),M={},L=void 0):T=="}"?((C=z.pop())[0][C[1]]=M,L=void 0,M=C[0]):T=="-"?G=-1:L===void 0?r.hasOwnProperty(T)?(J+=r[T],L=parseInt(J,16)*G,G=1,J=""):J+=T:r.hasOwnProperty(T)?(ce+=r[T],M[L]=parseInt(ce,16)*G,G=1,L=void 0,ce=""):ce+=T;return k},p={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},y={Unicode:{Courier:p,"Courier-Bold":p,"Courier-BoldOblique":p,"Courier-Oblique":p,Helvetica:p,"Helvetica-Bold":p,"Helvetica-BoldOblique":p,"Helvetica-Oblique":p,"Times-Roman":p,"Times-Bold":p,"Times-BoldItalic":p,"Times-Italic":p}},S={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};i.events.push(["addFont",function(N){var w=N.font,C=S.Unicode[w.postScriptName];C&&(w.metadata.Unicode={},w.metadata.Unicode.widths=C.widths,w.metadata.Unicode.kerning=C.kerning);var L=y.Unicode[w.postScriptName];L&&(w.metadata.Unicode.encoding=L,w.encoding=L.codePages[0])}])})(ht.API),(function(i){var e=function(n){for(var r=n.length,o=new Uint8Array(r),l=0;l<r;l++)o[l]=n.charCodeAt(l);return o};i.API.events.push(["addFont",function(n){var r=void 0,o=n.font,l=n.instance;if(!o.isStandardFont){if(l===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");if(typeof(r=l.existsFileInVFS(o.postScriptName)===!1?l.loadFile(o.postScriptName):l.getFileFromVFS(o.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");(function(u,h){h=/^\x00\x01\x00\x00/.test(h)?e(h):e(Hf(h)),u.metadata=i.API.TTFFont.open(h),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(o,r)}}])})(ht),ht.API.addSvgAsImage=function(i,e,n,r,o,l,u,h){if(isNaN(e)||isNaN(n))throw zn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(o))throw zn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=r,f.height=o;var p=f.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,f.width,f.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},S=this;return(Dt.canvg?Promise.resolve(Dt.canvg):I0(()=>import("./index.es-CLZOzjcp.js"),[])).catch(function(N){return Promise.reject(new Error("Could not load canvg: "+N))}).then(function(N){return N.default?N.default:N}).then(function(N){return N.fromString(p,i,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(N){return N.render(y)}).then(function(){S.addImage(f.toDataURL("image/jpeg",1),e,n,r,o,u,h)})},ht.API.putTotalPages=function(i){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(i,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(i,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var o=0;o<this.internal.pages[r].length;o++)this.internal.pages[r][o]=this.internal.pages[r][o].replace(e,n);return this},ht.API.viewerPreferences=function(i,e){var n;i=i||{},e=e||!1;var r,o,l,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(u),f=[],p=0,y=0,S=0;function N(C,L){var T,k=!1;for(T=0;T<C.length;T+=1)C[T]===L&&(k=!0);return k}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,i==="reset"||e===!0){var w=h.length;for(S=0;S<w;S+=1)n[h[S]].value=n[h[S]].defaultValue,n[h[S]].explicitSet=!1}if(Cn(i)==="object"){for(o in i)if(l=i[o],N(h,o)&&l!==void 0){if(n[o].type==="boolean"&&typeof l=="boolean")n[o].value=l;else if(n[o].type==="name"&&N(n[o].valueSet,l))n[o].value=l;else if(n[o].type==="integer"&&Number.isInteger(l))n[o].value=l;else if(n[o].type==="array"){for(p=0;p<l.length;p+=1)if(r=!0,l[p].length===1&&typeof l[p][0]=="number")f.push(String(l[p]-1));else if(l[p].length>1){for(y=0;y<l[p].length;y+=1)typeof l[p][y]!="number"&&(r=!1);r===!0&&f.push([l[p][0]-1,l[p][1]-1].join(" "))}n[o].value="["+f.join(" ")+"]"}else n[o].value=n[o].defaultValue;n[o].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var C,L=[];for(C in n)n[C].explicitSet===!0&&(n[C].type==="name"?L.push("/"+C+" /"+n[C].value):L.push("/"+C+" "+n[C].value));L.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+L.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(i){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',o=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),l=unescape(encodeURIComponent(r)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),h=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),p=l.length+u.length+h.length+o.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(o+l+u+h+f),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};i.addMetadata=function(r,o){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:o||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})(ht.API),(function(i){var e=i.API,n=e.pdfEscape16=function(l,u){for(var h,f=u.metadata.Unicode.widths,p=["","0","00","000","0000"],y=[""],S=0,N=l.length;S<N;++S){if(h=u.metadata.characterToGlyph(l.charCodeAt(S)),u.metadata.glyIdsUsed.push(h),u.metadata.toUnicode[h]=l.charCodeAt(S),f.indexOf(h)==-1&&(f.push(h),f.push([parseInt(u.metadata.widthOfGlyph(h),10)])),h=="0")return y.join("");h=h.toString(16),y.push(p[4-h.length],h)}return y.join("")},r=function(l){var u,h,f,p,y,S,N;for(y=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],S=0,N=(h=Object.keys(l).sort(function(w,C){return w-C})).length;S<N;S++)u=h[S],f.length>=100&&(y+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),l[u]!==void 0&&l[u]!==null&&typeof l[u].toString=="function"&&(p=("0000"+l[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+p+">"));return f.length&&(y+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),y+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(l){(function(u){var h=u.font,f=u.out,p=u.newObject,y=u.putStream;if(h.metadata instanceof i.API.TTFFont&&h.encoding==="Identity-H"){for(var S=h.metadata.Unicode.widths,N=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),w="",C=0;C<N.length;C++)w+=String.fromCharCode(N[C]);var L=p();y({data:w,addLength1:!0,objectId:L}),f("endobj");var T=p();y({data:r(h.metadata.toUnicode),addLength1:!0,objectId:T}),f("endobj");var k=p();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+fu(h.fontName)),f("/FontFile2 "+L+" 0 R"),f("/FontBBox "+i.API.PDFObject.convert(h.metadata.bbox)),f("/Flags "+h.metadata.flags),f("/StemV "+h.metadata.stemV),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f(">>"),f("endobj");var G=p();f("<<"),f("/Type /Font"),f("/BaseFont /"+fu(h.fontName)),f("/FontDescriptor "+k+" 0 R"),f("/W "+i.API.PDFObject.convert(S)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+h.encoding+")"),f(">>"),f(">>"),f("endobj"),h.objectNumber=p(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+T+" 0 R"),f("/BaseFont /"+fu(h.fontName)),f("/Encoding /"+h.encoding),f("/DescendantFonts ["+G+" 0 R]"),f(">>"),f("endobj"),h.isAlreadyPutted=!0}})(l)}]),e.events.push(["putFont",function(l){(function(u){var h=u.font,f=u.out,p=u.newObject,y=u.putStream;if(h.metadata instanceof i.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var S=h.metadata.rawData,N="",w=0;w<S.length;w++)N+=String.fromCharCode(S[w]);var C=p();y({data:N,addLength1:!0,objectId:C}),f("endobj");var L=p();y({data:r(h.metadata.toUnicode),addLength1:!0,objectId:L}),f("endobj");var T=p();f("<<"),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f("/StemV "+h.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+C+" 0 R"),f("/Flags 96"),f("/FontBBox "+i.API.PDFObject.convert(h.metadata.bbox)),f("/FontName /"+fu(h.fontName)),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f(">>"),f("endobj"),h.objectNumber=p();for(var k=0;k<h.metadata.hmtx.widths.length;k++)h.metadata.hmtx.widths[k]=parseInt(h.metadata.hmtx.widths[k]*(1e3/h.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+L+" 0 R/BaseFont/"+fu(h.fontName)+"/FontDescriptor "+T+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+i.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),f("endobj"),h.isAlreadyPutted=!0}})(l)}]);var o=function(l){var u,h=l.text||"",f=l.x,p=l.y,y=l.options||{},S=l.mutex||{},N=S.pdfEscape,w=S.activeFontKey,C=S.fonts,L=w,T="",k=0,G="",M=C[L].encoding;if(C[L].encoding!=="Identity-H")return{text:h,x:f,y:p,options:y,mutex:S};for(G=h,L=w,Array.isArray(h)&&(G=h[0]),k=0;k<G.length;k+=1)C[L].metadata.hasOwnProperty("cmap")&&(u=C[L].metadata.cmap.unicode.codeMap[G[k].charCodeAt(0)]),u||G[k].charCodeAt(0)<256&&C[L].metadata.hasOwnProperty("Unicode")?T+=G[k]:T+="";var z="";return parseInt(L.slice(1))<14||M==="WinAnsiEncoding"?z=N(T,L).split("").map(function(J){return J.charCodeAt(0).toString(16)}).join(""):M==="Identity-H"&&(z=n(T,C[L])),S.isHex=!0,{text:z,x:f,y:p,options:y,mutex:S}};e.events.push(["postProcessText",function(l){var u=l.text||"",h=[],f={text:u,x:l.x,y:l.y,options:l.options,mutex:l.mutex};if(Array.isArray(u)){var p=0;for(p=0;p<u.length;p+=1)Array.isArray(u[p])&&u[p].length===3?h.push([o(Object.assign({},f,{text:u[p][0]})).text,u[p][1],u[p][2]]):h.push(o(Object.assign({},f,{text:u[p]})).text);l.text=h}else l.text=o(Object.assign({},f,{text:u})).text}])})(ht),(function(i){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};i.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},i.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},i.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(ht.API),(function(i){i.__bidiEngine__=i.prototype.__bidiEngine__=function(r){var o,l,u,h,f,p,y,S=e,N=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],C={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},L={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},T=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],k=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),G=!1,M=0;this.__bidiEngine__={};var z=function(D){var H=D.charCodeAt(),ie=H>>8,ae=L[ie];return ae!==void 0?S[256*ae+(255&H)]:ie===252||ie===253?"AL":k.test(ie)?"L":ie===8?"R":"N"},J=function(D){for(var H,ie=0;ie<D.length;ie++){if((H=z(D.charAt(ie)))==="L")return!1;if(H==="R")return!0}return!1},ce=function(D,H,ie,ae){var ue,W,se,le,re=H[ae];switch(re){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":G=!1;break;case"N":case"AN":break;case"EN":G&&(re="AN");break;case"AL":G=!0,re="R";break;case"WS":case"BN":re="N";break;case"CS":ae<1||ae+1>=H.length||(ue=ie[ae-1])!=="EN"&&ue!=="AN"||(W=H[ae+1])!=="EN"&&W!=="AN"?re="N":G&&(W="AN"),re=W===ue?W:"N";break;case"ES":re=(ue=ae>0?ie[ae-1]:"B")==="EN"&&ae+1<H.length&&H[ae+1]==="EN"?"EN":"N";break;case"ET":if(ae>0&&ie[ae-1]==="EN"){re="EN";break}if(G){re="N";break}for(se=ae+1,le=H.length;se<le&&H[se]==="ET";)se++;re=se<le&&H[se]==="EN"?"EN":"N";break;case"NSM":if(u&&!h){for(le=H.length,se=ae+1;se<le&&H[se]==="NSM";)se++;if(se<le){var Le=D[ae],V=Le>=1425&&Le<=2303||Le===64286;if(ue=H[se],V&&(ue==="R"||ue==="AL")){re="R";break}}}re=ae<1||(ue=H[ae-1])==="B"?"N":ie[ae-1];break;case"B":G=!1,o=!0,re=M;break;case"S":l=!0,re="N"}return re},ne=function(D,H,ie){var ae=D.split("");return ie&&X(ae,ie,{hiLevel:M}),ae.reverse(),H&&H.reverse(),ae.join("")},X=function(D,H,ie){var ae,ue,W,se,le,re=-1,Le=D.length,V=0,A=[],B=M?w:N,q=[];for(G=!1,o=!1,l=!1,ue=0;ue<Le;ue++)q[ue]=z(D[ue]);for(W=0;W<Le;W++){if(le=V,A[W]=ce(D,q,A,W),ae=240&(V=B[le][C[A[W]]]),V&=15,H[W]=se=B[V][5],ae>0)if(ae===16){for(ue=re;ue<W;ue++)H[ue]=1;re=-1}else re=-1;if(B[V][6])re===-1&&(re=W);else if(re>-1){for(ue=re;ue<W;ue++)H[ue]=se;re=-1}q[W]==="B"&&(H[W]=0),ie.hiLevel|=se}l&&(function(te,oe,be){for(var Ae=0;Ae<be;Ae++)if(te[Ae]==="S"){oe[Ae]=M;for(var Ne=Ae-1;Ne>=0&&te[Ne]==="WS";Ne--)oe[Ne]=M}})(q,H,Le)},F=function(D,H,ie,ae,ue){if(!(ue.hiLevel<D)){if(D===1&&M===1&&!o)return H.reverse(),void(ie&&ie.reverse());for(var W,se,le,re,Le=H.length,V=0;V<Le;){if(ae[V]>=D){for(le=V+1;le<Le&&ae[le]>=D;)le++;for(re=V,se=le-1;re<se;re++,se--)W=H[re],H[re]=H[se],H[se]=W,ie&&(W=ie[re],ie[re]=ie[se],ie[se]=W);V=le}V++}}},de=function(D,H,ie){var ae=D.split(""),ue={hiLevel:M};return ie||(ie=[]),X(ae,ie,ue),(function(W,se,le){if(le.hiLevel!==0&&y)for(var re,Le=0;Le<W.length;Le++)se[Le]===1&&(re=T.indexOf(W[Le]))>=0&&(W[Le]=T[re+1])})(ae,ie,ue),F(2,ae,H,ie,ue),F(1,ae,H,ie,ue),ae.join("")};return this.__bidiEngine__.doBidiReorder=function(D,H,ie){if((function(ue,W){if(W)for(var se=0;se<ue.length;se++)W[se]=se;h===void 0&&(h=J(ue)),p===void 0&&(p=J(ue))})(D,H),u||!f||p)if(u&&f&&h^p)M=h?1:0,D=ne(D,H,ie);else if(!u&&f&&p)M=h?1:0,D=de(D,H,ie),D=ne(D,H);else if(!u||h||f||p){if(u&&!f&&h^p)D=ne(D,H),h?(M=0,D=de(D,H,ie)):(M=1,D=de(D,H,ie),D=ne(D,H));else if(u&&h&&!f&&p)M=1,D=de(D,H,ie),D=ne(D,H);else if(!u&&!f&&h^p){var ae=y;h?(M=1,D=de(D,H,ie),M=0,y=!1,D=de(D,H,ie),y=ae):(M=0,D=de(D,H,ie),D=ne(D,H),M=1,y=!1,D=de(D,H,ie),y=ae,D=ne(D,H))}}else M=0,D=de(D,H,ie);else M=h?1:0,D=de(D,H,ie);return D},this.__bidiEngine__.setOptions=function(D){D&&(u=D.isInputVisual,f=D.isOutputVisual,h=D.isInputRtl,p=D.isOutputRtl,y=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new i.__bidiEngine__({isInputVisual:!0});i.API.events.push(["postProcessText",function(r){var o=r.text;r.x,r.y;var l=r.options||{};r.mutex,l.lang;var u=[];if(l.isInputVisual=typeof l.isInputVisual!="boolean"||l.isInputVisual,n.setOptions(l),Object.prototype.toString.call(o)==="[object Array]"){var h=0;for(u=[],h=0;h<o.length;h+=1)Object.prototype.toString.call(o[h])==="[object Array]"?u.push([n.doBidiReorder(o[h][0]),o[h][1],o[h][2]]):u.push([n.doBidiReorder(o[h])]);r.text=u}else r.text=n.doBidiReorder(o);n.setOptions({isInputVisual:!0})}])})(ht),ht.API.TTFFont=(function(){function i(e){var n;if(this.rawData=e,n=this.contents=new ml(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new SS(this),this.registerTTF()}return i.open=function(e){return new i(e)},i.prototype.parse=function(){return this.directory=new cS(this.contents),this.head=new hS(this),this.name=new gS(this),this.cmap=new Ey(this),this.toUnicode={},this.hhea=new fS(this),this.maxp=new vS(this),this.hmtx=new yS(this),this.post=new pS(this),this.os2=new dS(this),this.loca=new _S(this),this.glyf=new bS(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},i.prototype.registerTTF=function(){var e,n,r,o,l;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var u,h,f,p;for(p=[],u=0,h=(f=this.bbox).length;u<h;u++)e=f[u],p.push(Math.round(e*this.scaleFactor));return p}.call(this),this.stemV=0,this.post.exists?(r=255&(o=this.post.italic_angle),32768&(n=o>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(l=this.familyClass)===1||l===2||l===3||l===4||l===5||l===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},i.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},i.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},i.prototype.widthOfString=function(e,n,r){var o,l,u,h;for(u=0,l=0,h=(e=""+e).length;0<=h?l<h:l>h;l=0<=h?++l:--l)o=e.charCodeAt(l),u+=this.widthOfGlyph(this.characterToGlyph(o))+r*(1e3/n)||0;return u*(n/1e3)},i.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},i})();var ws,ml=(function(){function i(e){this.data=e!=null?e:[],this.pos=0,this.length=this.data.length}return i.prototype.readByte=function(){return this.data[this.pos++]},i.prototype.writeByte=function(e){return this.data[this.pos++]=e},i.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},i.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},i.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},i.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},i.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},i.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},i.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},i.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},i.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},i.prototype.writeString=function(e){var n,r,o;for(o=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)o.push(this.writeByte(e.charCodeAt(n)));return o},i.prototype.readShort=function(){return this.readInt16()},i.prototype.writeShort=function(e){return this.writeInt16(e)},i.prototype.readLongLong=function(){var e,n,r,o,l,u,h,f;return e=this.readByte(),n=this.readByte(),r=this.readByte(),o=this.readByte(),l=this.readByte(),u=this.readByte(),h=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^o)+16777216*(255^l)+65536*(255^u)+256*(255^h)+(255^f)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*o+16777216*l+65536*u+256*h+f},i.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},i.prototype.readInt=function(){return this.readInt32()},i.prototype.writeInt=function(e){return this.writeInt32(e)},i.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},i.prototype.write=function(e){var n,r,o,l;for(l=[],r=0,o=e.length;r<o;r++)n=e[r],l.push(this.writeByte(n));return l},i})(),cS=(function(){var i;function e(n){var r,o,l;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},o=0,l=this.tableCount;0<=l?o<l:o>l;o=0<=l?++o:--o)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,o,l,u,h,f,p,y,S,N,w,C,L;for(L in w=Object.keys(n).length,f=Math.log(2),S=16*Math.floor(Math.log(w)/f),u=Math.floor(S/f),y=16*w-S,(o=new ml).writeInt(this.scalarType),o.writeShort(w),o.writeShort(S),o.writeShort(u),o.writeShort(y),l=16*w,p=o.pos+l,h=null,C=[],n)for(N=n[L],o.writeString(L),o.writeInt(i(N)),o.writeInt(p),o.writeInt(N.length),C=C.concat(N),L==="head"&&(h=p),p+=N.length;p%4;)C.push(0),p++;return o.write(C),r=2981146554-i(o.data),o.pos=h+8,o.writeUInt32(r),o.data},i=function(n){var r,o,l,u;for(n=Cy.call(n);n.length%4;)n.push(0);for(l=new ml(n),o=0,r=0,u=n.length;r<u;r=r+=4)o+=l.readUInt32();return 4294967295&o},e})(),uS={}.hasOwnProperty,Vs=function(i,e){for(var n in e)uS.call(e,n)&&(i[n]=e[n]);function r(){this.constructor=i}return r.prototype=e.prototype,i.prototype=new r,i.__super__=e.prototype,i};ws=(function(){function i(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return i.prototype.parse=function(){},i.prototype.encode=function(){},i.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},i})();var hS=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Vs(i,ws),i.prototype.tag="head",i.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},i.prototype.encode=function(e){var n;return(n=new ml).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},i})(),jv=(function(){function i(e,n){var r,o,l,u,h,f,p,y,S,N,w,C,L,T,k,G,M;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),S=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(w=e.readUInt16(),N=w/2,e.pos+=6,l=(function(){var z,J;for(J=[],f=z=0;0<=N?z<N:z>N;f=0<=N?++z:--z)J.push(e.readUInt16());return J})(),e.pos+=2,L=(function(){var z,J;for(J=[],f=z=0;0<=N?z<N:z>N;f=0<=N?++z:--z)J.push(e.readUInt16());return J})(),p=(function(){var z,J;for(J=[],f=z=0;0<=N?z<N:z>N;f=0<=N?++z:--z)J.push(e.readUInt16());return J})(),y=(function(){var z,J;for(J=[],f=z=0;0<=N?z<N:z>N;f=0<=N?++z:--z)J.push(e.readUInt16());return J})(),o=(this.length-e.pos+this.offset)/2,h=(function(){var z,J;for(J=[],f=z=0;0<=o?z<o:z>o;f=0<=o?++z:--z)J.push(e.readUInt16());return J})(),f=k=0,M=l.length;k<M;f=++k)for(T=l[f],r=G=C=L[f];C<=T?G<=T:G>=T;r=C<=T?++G:--G)y[f]===0?u=r+p[f]:(u=h[y[f]/2+(r-C)-(N-f)]||0)!==0&&(u+=p[f]),this.codeMap[r]=65535&u}e.pos=S}return i.encode=function(e,n){var r,o,l,u,h,f,p,y,S,N,w,C,L,T,k,G,M,z,J,ce,ne,X,F,de,D,H,ie,ae,ue,W,se,le,re,Le,V,A,B,q,te,oe,be,Ae,Ne,Pe,$e,Ke;switch(ae=new ml,u=Object.keys(e).sort(function(Je,ge){return Je-ge}),n){case"macroman":for(L=0,T=(function(){var Je=[];for(C=0;C<256;++C)Je.push(0);return Je})(),G={0:0},l={},ue=0,re=u.length;ue<re;ue++)G[Ne=e[o=u[ue]]]==null&&(G[Ne]=++L),l[o]={old:e[o],new:G[e[o]]},T[o]=G[e[o]];return ae.writeUInt16(1),ae.writeUInt16(0),ae.writeUInt32(12),ae.writeUInt16(0),ae.writeUInt16(262),ae.writeUInt16(0),ae.write(T),{charMap:l,subtable:ae.data,maxGlyphID:L+1};case"unicode":for(H=[],S=[],M=0,G={},r={},k=p=null,W=0,Le=u.length;W<Le;W++)G[J=e[o=u[W]]]==null&&(G[J]=++M),r[o]={old:J,new:G[J]},h=G[J]-o,k!=null&&h===p||(k&&S.push(k),H.push(o),p=h),k=o;for(k&&S.push(k),S.push(65535),H.push(65535),de=2*(F=H.length),X=2*Math.pow(Math.log(F)/Math.LN2,2),N=Math.log(X/2)/Math.LN2,ne=2*F-X,f=[],ce=[],w=[],C=se=0,V=H.length;se<V;C=++se){if(D=H[C],y=S[C],D===65535){f.push(0),ce.push(0);break}if(D-(ie=r[D].new)>=32768)for(f.push(0),ce.push(2*(w.length+F-C)),o=le=D;D<=y?le<=y:le>=y;o=D<=y?++le:--le)w.push(r[o].new);else f.push(ie-D),ce.push(0)}for(ae.writeUInt16(3),ae.writeUInt16(1),ae.writeUInt32(12),ae.writeUInt16(4),ae.writeUInt16(16+8*F+2*w.length),ae.writeUInt16(0),ae.writeUInt16(de),ae.writeUInt16(X),ae.writeUInt16(N),ae.writeUInt16(ne),be=0,A=S.length;be<A;be++)o=S[be],ae.writeUInt16(o);for(ae.writeUInt16(0),Ae=0,B=H.length;Ae<B;Ae++)o=H[Ae],ae.writeUInt16(o);for(Pe=0,q=f.length;Pe<q;Pe++)h=f[Pe],ae.writeUInt16(h);for($e=0,te=ce.length;$e<te;$e++)z=ce[$e],ae.writeUInt16(z);for(Ke=0,oe=w.length;Ke<oe;Ke++)L=w[Ke],ae.writeUInt16(L);return{charMap:r,subtable:ae.data,maxGlyphID:M+1}}},i})(),Ey=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Vs(i,ws),i.prototype.tag="cmap",i.prototype.parse=function(e){var n,r,o;for(e.pos=this.offset,this.version=e.readUInt16(),o=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=o?r<o:r>o;r=0<=o?++r:--r)n=new jv(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},i.encode=function(e,n){var r,o;return n==null&&(n="macroman"),r=jv.encode(e,n),(o=new ml).writeUInt16(0),o.writeUInt16(1),r.table=o.data.concat(r.subtable),r},i})(),fS=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Vs(i,ws),i.prototype.tag="hhea",i.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},i})(),dS=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Vs(i,ws),i.prototype.tag="OS/2",i.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r})(),this.charRange=(function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},i})(),pS=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Vs(i,ws),i.prototype.tag="post",i.prototype.parse=function(e){var n,r,o;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var l;for(r=e.readUInt16(),this.glyphNameIndex=[],l=0;0<=r?l<r:l>r;l=0<=r?++l:--l)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],o=[];e.pos<this.offset+this.length;)n=e.readByte(),o.push(this.names.push(e.readString(n)));return o;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=function(){var u,h,f;for(f=[],l=u=0,h=this.file.maxp.numGlyphs;0<=h?u<h:u>h;l=0<=h?++u:--u)f.push(e.readUInt32());return f}.call(this)}},i})(),mS=function(i,e){this.raw=i,this.length=i.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},gS=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Vs(i,ws),i.prototype.tag="name",i.prototype.parse=function(e){var n,r,o,l,u,h,f,p,y,S,N;for(e.pos=this.offset,e.readShort(),n=e.readShort(),h=e.readShort(),r=[],l=0;0<=n?l<n:l>n;l=0<=n?++l:--l)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+h+e.readShort()});for(f={},l=y=0,S=r.length;y<S;l=++y)o=r[l],e.pos=o.offset,p=e.readString(o.length),u=new mS(p,o),f[N=o.nameID]==null&&(f[N]=[]),f[o.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(w){this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},i})(),vS=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Vs(i,ws),i.prototype.tag="maxp",i.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},i})(),yS=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Vs(i,ws),i.prototype.tag="hmtx",i.prototype.parse=function(e){var n,r,o,l,u,h,f;for(e.pos=this.offset,this.metrics=[],n=0,h=this.file.hhea.numberOfMetrics;0<=h?n<h:n>h;n=0<=h?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var p,y;for(y=[],n=p=0;0<=o?p<o:p>o;n=0<=o?++p:--p)y.push(e.readInt16());return y})(),this.widths=function(){var p,y,S,N;for(N=[],p=0,y=(S=this.metrics).length;p<y;p++)l=S[p],N.push(l.advance);return N}.call(this),r=this.widths[this.widths.length-1],f=[],n=u=0;0<=o?u<o:u>o;n=0<=o?++u:--u)f.push(this.widths.push(r));return f},i.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},i})(),Cy=[].slice,bS=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Vs(i,ws),i.prototype.tag="glyf",i.prototype.parse=function(){return this.cache={}},i.prototype.glyphFor=function(e){var n,r,o,l,u,h,f,p,y,S;return e in this.cache?this.cache[e]:(l=this.file.loca,n=this.file.contents,r=l.indexOf(e),(o=l.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,u=(h=new ml(n.read(o))).readShort(),p=h.readShort(),S=h.readShort(),f=h.readShort(),y=h.readShort(),this.cache[e]=u===-1?new xS(h,p,S,f,y):new wS(h,u,p,S,f,y),this.cache[e]))},i.prototype.encode=function(e,n,r){var o,l,u,h,f;for(u=[],l=[],h=0,f=n.length;h<f;h++)o=e[n[h]],l.push(u.length),o&&(u=u.concat(o.encode(r)));return l.push(u.length),{table:u,offsets:l}},i})(),wS=(function(){function i(e,n,r,o,l,u){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=o,this.xMax=l,this.yMax=u,this.compound=!1}return i.prototype.encode=function(){return this.raw.data},i})(),xS=(function(){function i(e,n,r,o,l){var u,h;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=o,this.yMax=l,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;h=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&h;)u.pos+=1&h?4:2,128&h?u.pos+=8:64&h?u.pos+=4:8&h&&(u.pos+=2)}return i.prototype.encode=function(){var e,n,r;for(n=new ml(Cy.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},i})(),_S=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Vs(i,ws),i.prototype.tag="loca",i.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?function(){var o,l;for(l=[],r=0,o=this.length;r<o;r+=2)l.push(2*e.readUInt16());return l}.call(this):function(){var o,l;for(l=[],r=0,o=this.length;r<o;r+=4)l.push(e.readUInt32());return l}.call(this)},i.prototype.indexOf=function(e){return this.offsets[e]},i.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},i.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),o=0,l=0,u=0;u<r.length;++u)if(r[u]=o,l<n.length&&n[l]==u){++l,r[u]=o;var h=this.offsets[u],f=this.offsets[u+1]-h;f>0&&(o+=f)}for(var p=new Array(4*r.length),y=0;y<r.length;++y)p[4*y+3]=255&r[y],p[4*y+2]=(65280&r[y])>>8,p[4*y+1]=(16711680&r[y])>>16,p[4*y]=(4278190080&r[y])>>24;return p},i})(),SS=(function(){function i(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return i.prototype.generateCmap=function(){var e,n,r,o,l;for(n in o=this.font.cmap.tables[0].codeMap,e={},l=this.subset)r=l[n],e[n]=o[r];return e},i.prototype.glyphsFor=function(e){var n,r,o,l,u,h,f;for(o={},u=0,h=e.length;u<h;u++)o[l=e[u]]=this.font.glyf.glyphFor(l);for(l in n=[],o)(r=o[l])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(l in f=this.glyphsFor(n))r=f[l],o[l]=r;return o},i.prototype.encode=function(e,n){var r,o,l,u,h,f,p,y,S,N,w,C,L,T,k;for(o in r=Ey.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),w={0:0},k=r.charMap)w[(f=k[o]).old]=f.new;for(C in N=r.maxGlyphID,u)C in w||(w[C]=N++);return y=(function(G){var M,z;for(M in z={},G)z[G[M]]=M;return z})(w),S=Object.keys(y).sort(function(G,M){return G-M}),L=(function(){var G,M,z;for(z=[],G=0,M=S.length;G<M;G++)h=S[G],z.push(y[h]);return z})(),l=this.font.glyf.encode(u,L,w),p=this.font.loca.encode(l.offsets,L),T={cmap:this.font.cmap.raw(),glyf:l.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(T["OS/2"]=this.font.os2.raw()),this.font.directory.encode(T)},i})();ht.API.PDFObject=(function(){var i;function e(){}return i=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,o,l,u;if(Array.isArray(n))return"["+(function(){var h,f,p;for(p=[],h=0,f=n.length;h<f;h++)r=n[h],p.push(e.convert(r));return p})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+i(n.getUTCFullYear(),4)+i(n.getUTCMonth(),2)+i(n.getUTCDate(),2)+i(n.getUTCHours(),2)+i(n.getUTCMinutes(),2)+i(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(o in l=["<<"],n)u=n[o],l.push("/"+o+" "+e.convert(u));return l.push(">>"),l.join(`
`)}return""+n},e})();function Ly(i,e,n,r,o){r=r||{};var l=1.15,u=o.internal.scaleFactor,h=o.internal.getFontSize()/u,f=o.getLineHeightFactor?o.getLineHeightFactor():l,p=h*f,y=/\r\n|\r|\n/g,S="",N=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(S=typeof i=="string"?i.split(y):i,N=S.length||1),n+=h*(2-l),r.valign==="middle"?n-=N/2*p:r.valign==="bottom"&&(n-=N*p),r.halign==="center"||r.halign==="right"){var w=h;if(r.halign==="center"&&(w*=.5),S&&N>=1){for(var C=0;C<S.length;C++)o.text(S[C],e-o.getStringUnitWidth(S[C])*w,n),n+=p;return o}e-=o.getStringUnitWidth(i)*w}return r.halign==="justify"?o.text(i,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):o.text(i,e,n),o}var Ev={},xu=(function(){function i(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return i.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:Ev=e},i.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},i.prototype.applyStyles=function(e,n){var r,o,l;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var u=this.jsPDFDocument.internal.getFont(),h=u.fontStyle,f=u.fontName;if(e.font&&(f=e.font),e.fontStyle){h=e.fontStyle;var p=this.getFontList()[f];p&&p.indexOf(h)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(p[0]),h=p[0])}if(this.jsPDFDocument.setFont(f,h),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var y=i.unifyColor(e.fillColor);y&&(r=this.jsPDFDocument).setFillColor.apply(r,y),y=i.unifyColor(e.textColor),y&&(o=this.jsPDFDocument).setTextColor.apply(o,y),y=i.unifyColor(e.lineColor),y&&(l=this.jsPDFDocument).setDrawColor.apply(l,y),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},i.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},i.prototype.rect=function(e,n,r,o,l){return this.jsPDFDocument.rect(e,n,r,o,l)},i.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},i.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},i.prototype.getDocument=function(){return this.jsPDFDocument},i.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},i.prototype.addPage=function(){return this.jsPDFDocument.addPage()},i.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},i.prototype.getGlobalOptions=function(){return Ev||{}},i.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},i.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},i.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},i.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},i.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},i.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},i})(),Bp=function(i,e){return Bp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Bp(i,e)};function ky(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Bp(i,e);function n(){this.constructor=i}i.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Ty=(function(i){ky(e,i);function e(n){var r=i.call(this)||this;return r._element=n,r}return e})(Array);function NS(i){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/i,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function AS(i){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[i]}function ad(i,e,n){n.applyStyles(e,!0);var r=Array.isArray(i)?i:[i],o=r.map(function(l){return n.getTextWidth(l)}).reduce(function(l,u){return Math.max(l,u)},0);return o}function Oy(i,e,n,r){var o=e.settings.tableLineWidth,l=e.settings.tableLineColor;i.applyStyles({lineWidth:o,lineColor:l});var u=Ry(o,!1);u&&i.rect(n.x,n.y,e.getWidth(i.pageSize().width),r.y-n.y,u)}function Ry(i,e){var n=i>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function hd(i,e){var n,r,o,l;if(i=i||e,Array.isArray(i)){if(i.length>=4)return{top:i[0],right:i[1],bottom:i[2],left:i[3]};if(i.length===3)return{top:i[0],right:i[1],bottom:i[2],left:i[1]};if(i.length===2)return{top:i[0],right:i[1],bottom:i[0],left:i[1]};i.length===1?i=i[0]:i=e}return typeof i=="object"?(typeof i.vertical=="number"&&(i.top=i.vertical,i.bottom=i.vertical),typeof i.horizontal=="number"&&(i.right=i.horizontal,i.left=i.horizontal),{left:(n=i.left)!==null&&n!==void 0?n:e,top:(r=i.top)!==null&&r!==void 0?r:e,right:(o=i.right)!==null&&o!==void 0?o:e,bottom:(l=i.bottom)!==null&&l!==void 0?l:e}):(typeof i!="number"&&(i=e),{top:i,right:i,bottom:i,left:i})}function Dy(i,e){var n=hd(e.settings.margin,0);return i.pageSize().width-(n.left+n.right)}function jS(i,e,n,r,o){var l={},u=1.3333333333333333,h=lp(e,function(M){return o.getComputedStyle(M).backgroundColor});h!=null&&(l.fillColor=h);var f=lp(e,function(M){return o.getComputedStyle(M).color});f!=null&&(l.textColor=f);var p=CS(r,n);p&&(l.cellPadding=p);var y="borderTopColor",S=u*n,N=r.borderTopWidth;if(r.borderBottomWidth===N&&r.borderRightWidth===N&&r.borderLeftWidth===N){var w=(parseFloat(N)||0)/S;w&&(l.lineWidth=w)}else l.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/S,right:(parseFloat(r.borderRightWidth)||0)/S,bottom:(parseFloat(r.borderBottomWidth)||0)/S,left:(parseFloat(r.borderLeftWidth)||0)/S},l.lineWidth.top||(l.lineWidth.right?y="borderRightColor":l.lineWidth.bottom?y="borderBottomColor":l.lineWidth.left&&(y="borderLeftColor"));var C=lp(e,function(M){return o.getComputedStyle(M)[y]});C!=null&&(l.lineColor=C);var L=["left","right","center","justify"];L.indexOf(r.textAlign)!==-1&&(l.halign=r.textAlign),L=["middle","bottom","top"],L.indexOf(r.verticalAlign)!==-1&&(l.valign=r.verticalAlign);var T=parseInt(r.fontSize||"");isNaN(T)||(l.fontSize=T/u);var k=ES(r);k&&(l.fontStyle=k);var G=(r.fontFamily||"").toLowerCase();return i.indexOf(G)!==-1&&(l.font=G),l}function ES(i){var e="";return(i.fontWeight==="bold"||i.fontWeight==="bolder"||parseInt(i.fontWeight)>=700)&&(e="bold"),(i.fontStyle==="italic"||i.fontStyle==="oblique")&&(e+="italic"),e}function lp(i,e){var n=My(i,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var o=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],l=parseInt(r[4]);return l===0||isNaN(o[0])||isNaN(o[1])||isNaN(o[2])?null:o}function My(i,e){var n=e(i);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?i.parentElement==null?null:My(i.parentElement,e):n}function CS(i,e){var n=[i.paddingTop,i.paddingRight,i.paddingBottom,i.paddingLeft],r=96/(72/e),o=(parseInt(i.lineHeight)-parseInt(i.fontSize))/e/2,l=n.map(function(h){return parseInt(h||"0")/r}),u=hd(l,0);return o>u.top&&(u.top=o),o>u.bottom&&(u.bottom=o),u}function Py(i,e,n,r,o){var l,u;r===void 0&&(r=!1),o===void 0&&(o=!1);var h;typeof e=="string"?h=n.document.querySelector(e):h=e;var f=Object.keys(i.getFontList()),p=i.scaleFactor(),y=[],S=[],N=[];if(!h)return console.error("Html table could not be found with input: ",e),{head:y,body:S,foot:N};for(var w=0;w<h.rows.length;w++){var C=h.rows[w],L=(u=(l=C==null?void 0:C.parentElement)===null||l===void 0?void 0:l.tagName)===null||u===void 0?void 0:u.toLowerCase(),T=LS(f,p,n,C,r,o);T&&(L==="thead"?y.push(T):L==="tfoot"?N.push(T):S.push(T))}return{head:y,body:S,foot:N}}function LS(i,e,n,r,o,l){for(var u=new Ty(r),h=0;h<r.cells.length;h++){var f=r.cells[h],p=n.getComputedStyle(f);if(o||p.display!=="none"){var y=void 0;l&&(y=jS(i,f,e,p,n)),u.push({rowSpan:f.rowSpan,colSpan:f.colSpan,styles:y,_element:f,content:kS(f)})}}var S=n.getComputedStyle(r);if(u.length>0&&(o||S.display!=="none"))return u}function kS(i){var e=i.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function TS(i,e,n){for(var r=0,o=[i,e,n];r<o.length;r++){var l=o[r];l&&typeof l!="object"&&console.error("The options parameter should be of type object, is: "+typeof l),l.startY&&typeof l.startY!="number"&&(console.error("Invalid value for startY option",l.startY),delete l.startY)}}function Eo(i,e,n,r,o){if(i==null)throw new TypeError("Cannot convert undefined or null to object");for(var l=Object(i),u=1;u<arguments.length;u++){var h=arguments[u];if(h!=null)for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(l[f]=h[f])}return l}function By(i,e){var n=new xu(i),r=n.getDocumentOptions(),o=n.getGlobalOptions();TS(o,r,e);var l=Eo({},o,r,e),u;typeof window!="undefined"&&(u=window);var h=OS(o,r,e),f=RS(o,r,e),p=DS(n,l),y=PS(n,l,u);return{id:e.tableId,content:y,hooks:f,styles:h,settings:p}}function OS(i,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},o=function(f){if(f==="columnStyles"){var p=i[f],y=e[f],S=n[f];r.columnStyles=Eo({},p,y,S)}else{var N=[i,e,n],w=N.map(function(C){return C[f]||{}});r[f]=Eo({},w[0],w[1],w[2])}},l=0,u=Object.keys(r);l<u.length;l++){var h=u[l];o(h)}return r}function RS(i,e,n){for(var r=[i,e,n],o={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},l=0,u=r;l<u.length;l++){var h=u[l];h.didParseCell&&o.didParseCell.push(h.didParseCell),h.willDrawCell&&o.willDrawCell.push(h.willDrawCell),h.didDrawCell&&o.didDrawCell.push(h.didDrawCell),h.willDrawPage&&o.willDrawPage.push(h.willDrawPage),h.didDrawPage&&o.didDrawPage.push(h.didDrawPage)}return o}function DS(i,e){var n,r,o,l,u,h,f,p,y,S,N,w,C=hd(e.margin,40/i.scaleFactor()),L=(n=MS(i,e.startY))!==null&&n!==void 0?n:C.top,T;e.showFoot===!0?T="everyPage":e.showFoot===!1?T="never":T=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var k;e.showHead===!0?k="everyPage":e.showHead===!1?k="never":k=(o=e.showHead)!==null&&o!==void 0?o:"everyPage";var G=(l=e.useCss)!==null&&l!==void 0?l:!1,M=e.theme||(G?"plain":"striped"),z=!!e.horizontalPageBreak,J=(u=e.horizontalPageBreakRepeat)!==null&&u!==void 0?u:null;return{includeHiddenHtml:(h=e.includeHiddenHtml)!==null&&h!==void 0?h:!1,useCss:G,theme:M,startY:L,margin:C,pageBreak:(f=e.pageBreak)!==null&&f!==void 0?f:"auto",rowPageBreak:(p=e.rowPageBreak)!==null&&p!==void 0?p:"auto",tableWidth:(y=e.tableWidth)!==null&&y!==void 0?y:"auto",showHead:k,showFoot:T,tableLineWidth:(S=e.tableLineWidth)!==null&&S!==void 0?S:0,tableLineColor:(N=e.tableLineColor)!==null&&N!==void 0?N:200,horizontalPageBreak:z,horizontalPageBreakRepeat:J,horizontalPageBreakBehaviour:(w=e.horizontalPageBreakBehaviour)!==null&&w!==void 0?w:"afterAllRows"}}function MS(i,e){var n=i.getLastAutoTable(),r=i.scaleFactor(),o=i.pageNumber(),l=!1;if(n&&n.startPageNumber){var u=n.startPageNumber+n.pageNumber-1;l=u===o}return typeof e=="number"?e:(e==null||e===!1)&&l&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function PS(i,e,n){var r=e.head||[],o=e.body||[],l=e.foot||[];if(e.html){var u=e.includeHiddenHtml;if(n){var h=Py(i,e.html,n,u,e.useCss)||{};r=h.head||r,o=h.body||r,l=h.foot||r}else console.error("Cannot parse html in non browser environment")}var f=e.columns||BS(r,o,l);return{columns:f,head:r,body:o,foot:l}}function BS(i,e,n){var r=i[0]||e[0]||n[0]||[],o=[];return Object.keys(r).filter(function(l){return l!=="_element"}).forEach(function(l){var u=1,h;Array.isArray(r)?h=r[parseInt(l)]:h=r[l],typeof h=="object"&&!Array.isArray(h)&&(u=(h==null?void 0:h.colSpan)||1);for(var f=0;f<u;f++){var p=void 0;Array.isArray(r)?p=o.length:p=l+(f>0?"_".concat(f):"");var y={dataKey:p};o.push(y)}}),o}var Up=(function(){function i(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return i})(),US=(function(i){ky(e,i);function e(n,r,o,l,u,h){var f=i.call(this,n,r,h)||this;return f.cell=o,f.row=l,f.column=u,f.section=l.section,f}return e})(Up),zS=(function(){function i(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return i.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},i.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},i.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},i.prototype.callCellHooks=function(e,n,r,o,l,u){for(var h=0,f=n;h<f.length;h++){var p=f[h],y=new US(e,this,r,o,l,u),S=p(y)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],S)return!1}return!0},i.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,o=this.hooks.didDrawPage;r<o.length;r++){var l=o[r];l(new Up(e,this,n))}},i.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,o=this.hooks.willDrawPage;r<o.length;r++){var l=o[r];l(new Up(e,this,n))}},i.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(o,l){return o+l.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},i})(),Uy=(function(){function i(e,n,r,o,l){l===void 0&&(l=!1),this.height=0,this.raw=e,e instanceof Ty&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=o,this.spansMultiplePages=l}return i.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,o){var l;return Math.max(r,((l=n.cells[o.index])===null||l===void 0?void 0:l.height)||0)},0)},i.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var o=n.cells[r.index];return o?o.rowSpan>1:!1}).length>0},i.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},i.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(o,l){var u=r.cells[l.index];if(!u)return 0;var h=n.getLineHeight(u.styles.fontSize),f=u.padding("vertical"),p=f+h;return p>o?p:o},0)},i})(),zy=(function(){function i(e,n,r){var o;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var l=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,l=(o=e.content)!==null&&o!==void 0?o:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var u=l!=null?""+l:"",h=/\r\n|\r|\n/g;this.text=u.split(h)}return i.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var o=this.width-this.padding("horizontal");r=this.x+o/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},i.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,o=this.styles.fontSize/e*n,l=r*o+this.padding("vertical");return Math.max(l,this.styles.minCellHeight)},i.prototype.padding=function(e){var n=hd(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},i})(),IS=(function(){function i(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return i.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,o=e.allRows();r<o.length;r++){var l=o[r],u=l.cells[this.index];u&&typeof u.styles.cellWidth=="number"&&(n=Math.max(n,u.styles.cellWidth))}return n},i})();function qS(i,e){FS(i,e);var n=[],r=0;e.columns.forEach(function(l){var u=l.getMaxCustomCellWidth(e);u?l.width=u:(l.width=l.wrappedWidth,n.push(l)),r+=l.width});var o=e.getWidth(i.pageSize().width)-r;o&&(o=zp(n,o,function(l){return Math.max(l.minReadableWidth,l.minWidth)})),o&&(o=zp(n,o,function(l){return l.minWidth})),o=Math.abs(o),!e.settings.horizontalPageBreak&&o>.1/i.scaleFactor()&&(o=o<1?o:Math.round(o),console.warn("Of the table content, ".concat(o," units width could not fit page"))),$S(e),VS(e,i),HS(e)}function FS(i,e){var n=i.scaleFactor(),r=e.settings.horizontalPageBreak,o=Dy(i,e);e.allRows().forEach(function(l){for(var u=0,h=e.columns;u<h.length;u++){var f=h[u],p=l.cells[f.index];if(p){var y=e.hooks.didParseCell;e.callCellHooks(i,y,p,l,f,null);var S=p.padding("horizontal");p.contentWidth=ad(p.text,p.styles,i)+S;var N=ad(p.text.join(" ").split(/[^\S\u00A0]+/),p.styles,i);if(p.minReadableWidth=N+p.padding("horizontal"),typeof p.styles.cellWidth=="number")p.minWidth=p.styles.cellWidth,p.wrappedWidth=p.styles.cellWidth;else if(p.styles.cellWidth==="wrap"||r===!0)p.contentWidth>o?(p.minWidth=o,p.wrappedWidth=o):(p.minWidth=p.contentWidth,p.wrappedWidth=p.contentWidth);else{var w=10/n;p.minWidth=p.styles.minCellWidth||w,p.wrappedWidth=p.contentWidth,p.minWidth>p.wrappedWidth&&(p.wrappedWidth=p.minWidth)}}}}),e.allRows().forEach(function(l){for(var u=0,h=e.columns;u<h.length;u++){var f=h[u],p=l.cells[f.index];if(p&&p.colSpan===1)f.wrappedWidth=Math.max(f.wrappedWidth,p.wrappedWidth),f.minWidth=Math.max(f.minWidth,p.minWidth),f.minReadableWidth=Math.max(f.minReadableWidth,p.minReadableWidth);else{var y=e.styles.columnStyles[f.dataKey]||e.styles.columnStyles[f.index]||{},S=y.cellWidth||y.minCellWidth;S&&typeof S=="number"&&(f.minWidth=S,f.wrappedWidth=S)}p&&(p.colSpan>1&&!f.minWidth&&(f.minWidth=p.minWidth),p.colSpan>1&&!f.wrappedWidth&&(f.wrappedWidth=p.minWidth))}})}function zp(i,e,n){for(var r=e,o=i.reduce(function(w,C){return w+C.wrappedWidth},0),l=0;l<i.length;l++){var u=i[l],h=u.wrappedWidth/o,f=r*h,p=u.width+f,y=n(u),S=p<y?y:p;e-=S-u.width,u.width=S}if(e=Math.round(e*1e10)/1e10,e){var N=i.filter(function(w){return e<0?w.width>n(w):!0});N.length&&(e=zp(N,e,n))}return e}function HS(i){for(var e={},n=1,r=i.allRows(),o=0;o<r.length;o++)for(var l=r[o],u=0,h=i.columns;u<h.length;u++){var f=h[u],p=e[f.index];if(n>1)n--,delete l.cells[f.index];else if(p)p.cell.height+=l.height,n=p.cell.colSpan,delete l.cells[f.index],p.left--,p.left<=1&&delete e[f.index];else{var y=l.cells[f.index];if(!y)continue;if(y.height=l.height,y.rowSpan>1){var S=r.length-o,N=y.rowSpan>S?S:y.rowSpan;e[f.index]={cell:y,left:N,row:l}}}}}function $S(i){for(var e=i.allRows(),n=0;n<e.length;n++)for(var r=e[n],o=null,l=0,u=0,h=0;h<i.columns.length;h++){var f=i.columns[h];if(u-=1,u>1&&i.columns[h+1])l+=f.width,delete r.cells[f.index];else if(o){var p=o;delete r.cells[f.index],o=null,p.width=f.width+l}else{var p=r.cells[f.index];if(!p)continue;if(u=p.colSpan,l=0,p.colSpan>1){o=p,l+=f.width;continue}p.width=f.width+l}}}function VS(i,e){for(var n={count:0,height:0},r=0,o=i.allRows();r<o.length;r++){for(var l=o[r],u=0,h=i.columns;u<h.length;u++){var f=h[u],p=l.cells[f.index];if(p){e.applyStyles(p.styles,!0);var y=p.width-p.padding("horizontal");if(p.styles.overflow==="linebreak")p.text=e.splitTextToSize(p.text,y+1/e.scaleFactor(),{fontSize:p.styles.fontSize});else if(p.styles.overflow==="ellipsize")p.text=Cv(p.text,y,p.styles,e,"...");else if(p.styles.overflow==="hidden")p.text=Cv(p.text,y,p.styles,e,"");else if(typeof p.styles.overflow=="function"){var S=p.styles.overflow(p.text,y);typeof S=="string"?p.text=[S]:p.text=S}p.contentHeight=p.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var N=p.contentHeight/p.rowSpan;p.rowSpan>1&&n.count*n.height<N*p.rowSpan?n={height:N,count:p.rowSpan}:n&&n.count>0&&n.height>N&&(N=n.height),N>l.height&&(l.height=N)}}n.count--}}function Cv(i,e,n,r,o){return i.map(function(l){return GS(l,e,n,r,o)})}function GS(i,e,n,r,o){var l=1e4*r.scaleFactor();if(e=Math.ceil(e*l)/l,e>=ad(i,n,r))return i;for(;e<ad(i+o,n,r)&&!(i.length<=1);)i=i.substring(0,i.length-1);return i.trim()+o}function Iy(i,e){var n=new xu(i),r=YS(e,n.scaleFactor()),o=new zS(e,r);return qS(n,o),n.applyStyles(n.userStyles),o}function YS(i,e){var n=i.content,r=KS(n.columns);if(n.head.length===0){var o=Lv(r,"head");o&&n.head.push(o)}if(n.foot.length===0){var o=Lv(r,"foot");o&&n.foot.push(o)}var l=i.settings.theme,u=i.styles;return{columns:r,head:cp("head",n.head,r,u,l,e),body:cp("body",n.body,r,u,l,e),foot:cp("foot",n.foot,r,u,l,e)}}function cp(i,e,n,r,o,l){var u={},h=e.map(function(f,p){for(var y=0,S={},N=0,w=0,C=0,L=n;C<L.length;C++){var T=L[C];if(u[T.index]==null||u[T.index].left===0)if(w===0){var k=void 0;Array.isArray(f)?k=f[T.index-N-y]:k=f[T.dataKey];var G={};typeof k=="object"&&!Array.isArray(k)&&(G=(k==null?void 0:k.styles)||{});var M=JS(i,T,p,o,r,l,G),z=new zy(k,M,i);S[T.dataKey]=z,S[T.index]=z,w=z.colSpan-1,u[T.index]={left:z.rowSpan-1,times:w}}else w--,N++;else u[T.index].left--,w=u[T.index].times,y++}return new Uy(f,p,i,S)});return h}function Lv(i,e){var n={};return i.forEach(function(r){if(r.raw!=null){var o=WS(e,r.raw);o!=null&&(n[r.dataKey]=o)}}),Object.keys(n).length>0?n:null}function WS(i,e){if(i==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(i==="foot"&&typeof e=="object")return e.footer;return null}function KS(i){return i.map(function(e,n){var r,o;return typeof e=="object"?o=(r=e.dataKey)!==null&&r!==void 0?r:n:o=n,new IS(o,e,n)})}function JS(i,e,n,r,o,l,u){var h=AS(r),f;i==="head"?f=o.headStyles:i==="body"?f=o.bodyStyles:i==="foot"&&(f=o.footStyles);var p=Eo({},h.table,h[i],o.styles,f),y=o.columnStyles[e.dataKey]||o.columnStyles[e.index]||{},S=i==="body"?y:{},N=i==="body"&&n%2===0?Eo({},h.alternateRow,o.alternateRowStyles):{},w=NS(l),C=Eo({},w,p,N,S);return Eo(C,u)}function XS(i,e,n){var r;n===void 0&&(n={});var o=Dy(i,e),l=new Map,u=[],h=[],f=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?f=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(f=[e.settings.horizontalPageBreakRepeat]),f.forEach(function(N){var w=e.columns.find(function(C){return C.dataKey===N||C.index===N});w&&!l.has(w.index)&&(l.set(w.index,!0),u.push(w.index),h.push(e.columns[w.index]),o-=w.wrappedWidth)});for(var p=!0,y=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;y<e.columns.length;){if(l.has(y)){y++;continue}var S=e.columns[y].wrappedWidth;if(p||o>=S)p=!1,u.push(y),h.push(e.columns[y]),o-=S;else break;y++}return{colIndexes:u,columns:h,lastIndex:y-1}}function ZS(i,e){for(var n=[],r=0;r<e.columns.length;r++){var o=XS(i,e,{start:r});o.columns.length&&(n.push(o),r=o.lastIndex)}return n}function qy(i,e){var n=e.settings,r=n.startY,o=n.margin,l={x:o.left,y:r},u=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),h=r+o.bottom+u;if(n.pageBreak==="avoid"){var f=e.body,p=f.reduce(function(N,w){return N+w.height},0);h+=p}var y=new xu(i);(n.pageBreak==="always"||n.startY!=null&&h>y.pageSize().height)&&(Hy(y),l.y=o.top),e.callWillDrawPageHooks(y,l);var S=Eo({},l);e.startPageNumber=y.pageNumber(),n.horizontalPageBreak?QS(y,e,S,l):(y.applyStyles(y.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(N){return Co(y,e,N,l,e.columns)}),y.applyStyles(y.userStyles),e.body.forEach(function(N,w){var C=w===e.body.length-1;rd(y,e,N,C,S,l,e.columns)}),y.applyStyles(y.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(N){return Co(y,e,N,l,e.columns)})),Oy(y,e,S,l),e.callEndPageHooks(y,l),e.finalY=l.y,i.lastAutoTable=e,y.applyStyles(y.userStyles)}function QS(i,e,n,r){var o=ZS(i,e),l=e.settings;if(l.horizontalPageBreakBehaviour==="afterAllRows")o.forEach(function(p,y){i.applyStyles(i.userStyles),y>0?yh(i,e,n,r,p.columns,!0):kv(i,e,r,p.columns),eN(i,e,n,r,p.columns),up(i,e,r,p.columns)});else for(var u=-1,h=o[0],f=function(){var p=u;if(h){i.applyStyles(i.userStyles);var y=h.columns;u>=0?yh(i,e,n,r,y,!0):kv(i,e,r,y),p=Tv(i,e,u+1,r,y),up(i,e,r,y)}var S=p-u;o.slice(1).forEach(function(N){i.applyStyles(i.userStyles),yh(i,e,n,r,N.columns,!0),Tv(i,e,u+1,r,N.columns,S),up(i,e,r,N.columns)}),u=p};u<e.body.length-1;)f()}function kv(i,e,n,r){var o=e.settings;i.applyStyles(i.userStyles),(o.showHead==="firstPage"||o.showHead==="everyPage")&&e.head.forEach(function(l){return Co(i,e,l,n,r)})}function eN(i,e,n,r,o){i.applyStyles(i.userStyles),e.body.forEach(function(l,u){var h=u===e.body.length-1;rd(i,e,l,h,n,r,o)})}function Tv(i,e,n,r,o,l){i.applyStyles(i.userStyles),l=l!=null?l:e.body.length;var u=Math.min(n+l,e.body.length),h=-1;return e.body.slice(n,u).forEach(function(f,p){var y=n+p===e.body.length-1,S=Fy(i,e,y,r);f.canEntireRowFit(S,o)&&(Co(i,e,f,r,o),h=n+p)}),h}function up(i,e,n,r){var o=e.settings;i.applyStyles(i.userStyles),(o.showFoot==="lastPage"||o.showFoot==="everyPage")&&e.foot.forEach(function(l){return Co(i,e,l,n,r)})}function tN(i,e,n){var r=n.getLineHeight(i.styles.fontSize),o=i.padding("vertical"),l=Math.floor((e-o)/r);return Math.max(0,l)}function nN(i,e,n,r){var o={};i.spansMultiplePages=!0,i.height=0;for(var l=0,u=0,h=n.columns;u<h.length;u++){var f=h[u],p=i.cells[f.index];if(p){Array.isArray(p.text)||(p.text=[p.text]);var y=new zy(p.raw,p.styles,p.section);y=Eo(y,p),y.text=[];var S=tN(p,e,r);p.text.length>S&&(y.text=p.text.splice(S,p.text.length));var N=r.scaleFactor(),w=r.getLineHeightFactor();p.contentHeight=p.getContentHeight(N,w),p.contentHeight>=e&&(p.contentHeight=e,y.styles.minCellHeight-=e),p.contentHeight>i.height&&(i.height=p.contentHeight),y.contentHeight=y.getContentHeight(N,w),y.contentHeight>l&&(l=y.contentHeight),o[f.index]=y}}var C=new Uy(i.raw,-1,i.section,o,!0);C.height=l;for(var L=0,T=n.columns;L<T.length;L++){var f=T[L],y=C.cells[f.index];y&&(y.height=C.height);var p=i.cells[f.index];p&&(p.height=i.height)}return C}function aN(i,e,n,r){var o=i.pageSize().height,l=r.settings.margin,u=l.top+l.bottom,h=o-u;e.section==="body"&&(h-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var f=e.getMinimumRowHeight(r.columns,i),p=f<n;if(f>h)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!p)return!1;var y=e.hasRowSpan(r.columns),S=e.getMaxCellHeight(r.columns)>h;return S?(y&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(y||r.settings.rowPageBreak==="avoid")}function rd(i,e,n,r,o,l,u){var h=Fy(i,e,r,l);if(n.canEntireRowFit(h,u))Co(i,e,n,l,u);else if(aN(i,n,h,e)){var f=nN(n,h,e,i);Co(i,e,n,l,u),yh(i,e,o,l,u),rd(i,e,f,r,o,l,u)}else yh(i,e,o,l,u),rd(i,e,n,r,o,l,u)}function Co(i,e,n,r,o){r.x=e.settings.margin.left;for(var l=0,u=o;l<u.length;l++){var h=u[l],f=n.cells[h.index];if(!f){r.x+=h.width;continue}i.applyStyles(f.styles),f.x=r.x,f.y=r.y;var p=e.callCellHooks(i,e.hooks.willDrawCell,f,n,h,r);if(p===!1){r.x+=h.width;continue}rN(i,f,r);var y=f.getTextPos();Ly(f.text,y.x,y.y,{halign:f.styles.halign,valign:f.styles.valign,maxWidth:Math.ceil(f.width-f.padding("left")-f.padding("right"))},i.getDocument()),e.callCellHooks(i,e.hooks.didDrawCell,f,n,h,r),r.x+=h.width}r.y+=n.height}function rN(i,e,n){var r=e.styles;if(i.getDocument().setFillColor(i.getDocument().getFillColor()),typeof r.lineWidth=="number"){var o=Ry(r.lineWidth,r.fillColor);o&&i.rect(e.x,n.y,e.width,e.height,o)}else typeof r.lineWidth=="object"&&(r.fillColor&&i.rect(e.x,n.y,e.width,e.height,"F"),iN(i,e,n,r.lineWidth))}function iN(i,e,n,r){var o,l,u,h;r.top&&(o=n.x,l=n.y,u=n.x+e.width,h=n.y,r.right&&(u+=.5*r.right),r.left&&(o-=.5*r.left),f(r.top,o,l,u,h)),r.bottom&&(o=n.x,l=n.y+e.height,u=n.x+e.width,h=n.y+e.height,r.right&&(u+=.5*r.right),r.left&&(o-=.5*r.left),f(r.bottom,o,l,u,h)),r.left&&(o=n.x,l=n.y,u=n.x,h=n.y+e.height,r.top&&(l-=.5*r.top),r.bottom&&(h+=.5*r.bottom),f(r.left,o,l,u,h)),r.right&&(o=n.x+e.width,l=n.y,u=n.x+e.width,h=n.y+e.height,r.top&&(l-=.5*r.top),r.bottom&&(h+=.5*r.bottom),f(r.right,o,l,u,h));function f(p,y,S,N,w){i.getDocument().setLineWidth(p),i.getDocument().line(y,S,N,w,"S")}}function Fy(i,e,n,r){var o=e.settings.margin.bottom,l=e.settings.showFoot;return(l==="everyPage"||l==="lastPage"&&n)&&(o+=e.getFootHeight(e.columns)),i.pageSize().height-r.y-o}function yh(i,e,n,r,o,l){o===void 0&&(o=[]),l===void 0&&(l=!1),i.applyStyles(i.userStyles),e.settings.showFoot==="everyPage"&&!l&&e.foot.forEach(function(h){return Co(i,e,h,r,o)}),e.callEndPageHooks(i,r);var u=e.settings.margin;Oy(i,e,n,r),Hy(i),e.pageNumber++,r.x=u.left,r.y=u.top,n.y=u.top,e.callWillDrawPageHooks(i,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(h){return Co(i,e,h,r,o)}),i.applyStyles(i.userStyles))}function Hy(i){var e=i.pageNumber();i.setPage(e+1);var n=i.pageNumber();return n===e?(i.addPage(),!0):!1}function sN(i){i.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],o=By(this,r),l=Iy(this,o);return qy(this,l),this},i.API.lastAutoTable=!1,i.API.autoTableText=function(e,n,r,o){Ly(e,n,r,o,this)},i.API.autoTableSetDefaults=function(e){return xu.setDefaults(e,this),this},i.autoTableSetDefaults=function(e,n){xu.setDefaults(e,n)},i.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window=="undefined")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var o=new xu(this),l=Py(o,e,window,n,!1),u=l.head,h=l.body,f=((r=u[0])===null||r===void 0?void 0:r.map(function(p){return p.content}))||[];return{columns:f,rows:h,data:h}}}var hp;function oN(i,e){var n=By(i,e),r=Iy(i,n);qy(i,r)}try{if(typeof window!="undefined"&&window){var Ov=window,Rv=Ov.jsPDF||((hp=Ov.jspdf)===null||hp===void 0?void 0:hp.jsPDF);Rv&&sN(Rv)}}catch(i){console.error("Could not apply autoTable plugin",i)}const lN=({setPage:i})=>{const[e,n]=Te.useState([]),[r,o]=Te.useState([]),[l,u]=Te.useState(!0),[h,f]=Te.useState(null),[p,y]=Te.useState(!1),[S,N]=Te.useState([]),[w,C]=Te.useState([]),[L,T]=Te.useState("all"),[k,G]=Te.useState(""),[M,z]=Te.useState(""),[J,ce]=Te.useState(""),[ne,X]=Te.useState("all"),[F,de]=Te.useState("all");Te.useEffect(()=>{fe(null,null,function*(){console.log(" [Reports] Iniciando fetchTickets..."),u(!0),f(null);try{console.log(" [Reports] Iniciando fetch...");const W=dn||jt;console.log(" [Reports] Usando client:",dn?"ADMIN":"NORMAL");const se=W.from("tickets").select("*").order("created_at",{ascending:!1}),le=new Promise((B,q)=>setTimeout(()=>q(new Error(" Timeout: A consulta demorou mais de 10 segundos")),1e4)),{data:re,error:Le}=yield Promise.race([se,le]);if(console.log(" [Reports] Resultado:",{success:!Le,count:re==null?void 0:re.length}),Le){console.error(" [Reports] Erro ao buscar chamados:",Le),f(Le.message),u(!1);return}if(re&&re.length>0){console.log(" [Reports] Buscando detalhes (profiles e companies)...");const B=[...new Set(re.map(Ae=>Ae.client_id))],q=[...new Set(re.map(Ae=>Ae.company_id))];console.log(" [Reports] IDs nicos:",{clientIds:B.length,companyIds:q.length});const{data:te}=yield W.from("user_profiles").select("id, full_name, email").in("id",B);console.log(" [Reports] Profiles encontrados:",te==null?void 0:te.length);const{data:oe}=yield W.from("companies").select("id, name, cnpj").in("id",q);console.log(" [Reports] Companies encontradas:",oe==null?void 0:oe.length);const be=re.map(Ae=>$t(kt({},Ae),{client:(te==null?void 0:te.find(Ne=>Ne.id===Ae.client_id))||null,company:(oe==null?void 0:oe.find(Ne=>Ne.id===Ae.company_id))||null}));n(be),o(be)}else n([]),o([]);console.log(" [Reports] Buscando todas as empresas...");const{data:V}=yield W.from("companies").select("id, name, cnpj").order("name");V&&(console.log(" [Reports] Empresas para dropdown:",V.length),N(V)),console.log(" [Reports] Buscando todos os usurios...");const{data:A}=yield W.from("user_profiles").select("id, full_name, email").order("full_name");A&&(console.log(" [Reports] Usurios para dropdown:",A.length),C(A))}catch(W){console.error(" [Reports] Erro:",W),f(W instanceof Error?W.message:"Erro inesperado")}finally{console.log(" [Reports] Finalizado"),u(!1)}})},[]),Te.useEffect(()=>{let ue=[...e];if(L!=="all"&&(ue=ue.filter(W=>W.status===L)),k&&(ue=ue.filter(W=>new Date(W.created_at)>=new Date(k))),M){const W=new Date(M);W.setHours(23,59,59,999),ue=ue.filter(se=>new Date(se.created_at)<=W)}J&&(ue=ue.filter(W=>W.equipment_manufacturer.toLowerCase().includes(J.toLowerCase()))),ne&&ne!=="all"&&(ue=ue.filter(W=>W.company_id===ne)),F&&F!=="all"&&(ue=ue.filter(W=>W.client_id===F)),o(ue)},[L,k,M,J,ne,F,e]);const D=()=>{T("all"),G(""),z(""),ce(""),X("all"),de("all")},H=()=>fe(null,null,function*(){var ue,W;y(!0);try{const se=new ht;se.setFontSize(18),se.text("Relatrio de Chamados",14,20),se.setFontSize(10);let le=30;if(se.text(`Data de gerao: ${new Date().toLocaleString("pt-BR")}`,14,le),le+=5,se.text(`Total de chamados: ${r.length}`,14,le),le+=5,L!=="all"&&(se.text(`Filtro de Status: ${L}`,14,le),le+=5),k&&(se.text(`Data Incio: ${new Date(k).toLocaleDateString("pt-BR")}`,14,le),le+=5),M&&(se.text(`Data Fim: ${new Date(M).toLocaleDateString("pt-BR")}`,14,le),le+=5),ne&&ne!=="all"){const q=((ue=S.find(te=>te.id===ne))==null?void 0:ue.name)||ne;se.text(`Filtro de Empresa: ${q}`,14,le),le+=5}if(F&&F!=="all"){const q=((W=w.find(te=>te.id===F))==null?void 0:W.full_name)||F;se.text(`Filtro de Usurio: ${q}`,14,le),le+=5}le+=10,se.setFontSize(12),se.text("Estatsticas:",14,le),le+=7,se.setFontSize(10);const re={aberto:r.filter(q=>q.status==="aberto").length,em_atendimento:r.filter(q=>q.status==="em_atendimento").length,aguardando_cliente:r.filter(q=>q.status==="aguardando_cliente").length,fechado:r.filter(q=>q.status==="fechado").length,cancelado:r.filter(q=>q.status==="cancelado").length},Le=new Set(r.map(q=>{var te;return(te=q.company)==null?void 0:te.name}).filter(Boolean)).size,V=new Set(r.map(q=>{var te;return(te=q.client)==null?void 0:te.full_name}).filter(Boolean)).size;se.text(`Abertos: ${re.aberto}`,14,le),se.text(`Em Atendimento: ${re.em_atendimento}`,70,le),se.text(`Aguardando Cliente: ${re.aguardando_cliente}`,130,le),le+=5,se.text(`Fechados: ${re.fechado}`,14,le),se.text(`Cancelados: ${re.cancelado}`,70,le),le+=5,se.text(`Empresas: ${Le}`,14,le),se.text(`Usurios: ${V}`,70,le),le+=10;const A=r.map(q=>{var te,oe;return[q.id.toString(),new Date(q.created_at).toLocaleDateString("pt-BR"),((te=q.company)==null?void 0:te.name)||"-",((oe=q.client)==null?void 0:oe.full_name)||"-",q.equipment_manufacturer,q.equipment_model,q.equipment_serial_number||"-",q.status.replace("_"," ")]});oN(se,{startY:le,head:[["#","Data","Empresa","Usurio","Fabricante","Modelo","N Srie","Status"]],body:A,theme:"striped",headStyles:{fillColor:[59,130,246]},styles:{fontSize:7},columnStyles:{0:{cellWidth:10},1:{cellWidth:20},2:{cellWidth:28},3:{cellWidth:25},4:{cellWidth:24},5:{cellWidth:24},6:{cellWidth:22},7:{cellWidth:"auto"}}});const B=`relatorio-chamados-${new Date().toISOString().split("T")[0]}.pdf`;se.save(B),alert("Relatrio exportado com sucesso!")}catch(se){console.error("Erro ao exportar PDF:",se),console.error("Detalhes do erro:",se instanceof Error?se.message:String(se)),alert(`Erro ao exportar PDF: ${se instanceof Error?se.message:"Erro desconhecido"}`)}y(!1)}),ie=ue=>{switch(ue){case"aberto":return"bg-green-100 text-green-800";case"em_atendimento":return"bg-blue-100 text-blue-800";case"aguardando_cliente":return"bg-yellow-100 text-yellow-800";case"fechado":return"bg-gray-100 text-gray-800";case"cancelado":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},ae=ue=>{switch(ue){case"aberto":return"Aberto";case"em_atendimento":return"Em Atendimento";case"aguardando_cliente":return"Aguardando Cliente";case"fechado":return"Fechado";case"cancelado":return"Cancelado";default:return ue}};return l?m.jsx("div",{className:"p-6 md:p-10",children:m.jsxs("div",{className:"flex justify-center items-center p-10 bg-white rounded-lg shadow-md",children:[m.jsx(Ra,{className:"h-8 w-8 animate-spin text-blue-600"}),m.jsx("p",{className:"ml-3 text-gray-600",children:"Carregando relatrios..."})]})}):m.jsxs("div",{className:"p-6 md:p-10",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Relatrios de Chamados"}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Visualize e exporte relatrios com filtros personalizados"})]}),m.jsxs("button",{onClick:()=>i("dashboard"),className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Voltar ao Dashboard",children:[m.jsx(gs,{className:"h-5 w-5"}),m.jsx("span",{className:"font-medium",children:"Voltar"})]})]}),h&&m.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md mb-6",role:"alert",children:[m.jsx("strong",{className:"font-bold",children:"Erro ao carregar dados!"}),m.jsxs("span",{className:"block sm:inline",children:[" ",h]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx(u2,{className:"h-6 w-6 text-blue-600 mr-2"}),m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Filtros"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[m.jsxs(Bi,{id:"filterStatus",label:"Status",value:L,onChange:ue=>T(ue.target.value),children:[m.jsx("option",{value:"all",children:"Todos"}),m.jsx("option",{value:"aberto",children:"Aberto"}),m.jsx("option",{value:"em_atendimento",children:"Em Atendimento"}),m.jsx("option",{value:"aguardando_cliente",children:"Aguardando Cliente"}),m.jsx("option",{value:"fechado",children:"Fechado"}),m.jsx("option",{value:"cancelado",children:"Cancelado"})]}),m.jsx(pn,{id:"filterDateStart",label:"Data Incio",type:"date",value:k,onChange:ue=>G(ue.target.value)}),m.jsx(pn,{id:"filterDateEnd",label:"Data Fim",type:"date",value:M,onChange:ue=>z(ue.target.value)}),m.jsx(pn,{id:"filterManufacturer",label:"Fabricante",value:J,onChange:ue=>ce(ue.target.value),placeholder:"Ex: DIMEP"}),m.jsxs(Bi,{id:"filterCompany",label:"Empresa",value:ne,onChange:ue=>X(ue.target.value),children:[m.jsx("option",{value:"all",children:"Todas as empresas"}),S.map(ue=>m.jsxs("option",{value:ue.id,children:[ue.name," - ",ue.cnpj]},ue.id))]}),m.jsxs(Bi,{id:"filterUser",label:"Usurio",value:F,onChange:ue=>de(ue.target.value),children:[m.jsx("option",{value:"all",children:"Todos os usurios"}),w.map(ue=>m.jsxs("option",{value:ue.id,children:[ue.full_name," (",ue.email,")"]},ue.id))]})]}),m.jsxs("div",{className:"flex flex-wrap gap-3 mt-6 items-center",children:[m.jsxs(Oa,{onClick:D,variant:"secondary",className:"shadow-sm hover:shadow transition-shadow",children:[m.jsx(u2,{className:"h-4 w-4 mr-2"}),"Limpar Filtros"]}),m.jsxs("div",{className:"relative group",children:[m.jsxs("button",{onClick:H,disabled:p||r.length===0,className:`
                                relative inline-flex items-center justify-center px-8 py-3.5 
                                font-semibold text-white rounded-lg overflow-hidden
                                transition-all duration-300 ease-out
                                ${r.length===0||p?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-emerald-500 via-green-500 to-teal-500 hover:from-emerald-600 hover:via-green-600 hover:to-teal-600 shadow-lg hover:shadow-xl hover:scale-105 active:scale-95"}
                            `,title:r.length===0?"Nenhum chamado para exportar":"Exportar relatrio em PDF",children:[!p&&r.length>0&&m.jsx("span",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white to-transparent opacity-20 animate-shimmer"}),m.jsx("span",{className:"relative flex items-center gap-2",children:p?m.jsxs(m.Fragment,{children:[m.jsx(Ra,{className:"h-5 w-5 animate-spin"}),m.jsx("span",{children:"Gerando PDF..."})]}):m.jsxs(m.Fragment,{children:[m.jsx(a3,{className:"h-5 w-5"}),m.jsx("span",{children:"Exportar PDF"}),m.jsxs("span",{className:"hidden sm:inline-flex items-center ml-1 px-2 py-0.5 rounded-full text-xs bg-white/20 backdrop-blur-sm",children:[r.length," ",r.length===1?"chamado":"chamados"]})]})})]}),r.length===0&&!p&&m.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:block z-10",children:m.jsxs("div",{className:"bg-gray-900 text-white text-xs rounded-lg py-2 px-3 whitespace-nowrap shadow-xl",children:[m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Nenhum chamado para exportar"]}),m.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})})]})]}),m.jsx("style",{children:`
                    @keyframes shimmer {
                        0% { transform: translateX(-100%); }
                        100% { transform: translateX(100%); }
                    }
                    .animate-shimmer {
                        animation: shimmer 2.5s infinite;
                    }
                `})]}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4 mb-6",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),m.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.length})]}),m.jsxs("div",{className:"bg-green-50 rounded-lg shadow-md p-4",children:[m.jsx("p",{className:"text-sm text-green-600",children:"Abertos"}),m.jsx("p",{className:"text-2xl font-bold text-green-900",children:r.filter(ue=>ue.status==="aberto").length})]}),m.jsxs("div",{className:"bg-blue-50 rounded-lg shadow-md p-4",children:[m.jsx("p",{className:"text-sm text-blue-600",children:"Em Atendimento"}),m.jsx("p",{className:"text-2xl font-bold text-blue-900",children:r.filter(ue=>ue.status==="em_atendimento").length})]}),m.jsxs("div",{className:"bg-yellow-50 rounded-lg shadow-md p-4",children:[m.jsx("p",{className:"text-sm text-yellow-600",children:"Aguardando"}),m.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:r.filter(ue=>ue.status==="aguardando_cliente").length})]}),m.jsxs("div",{className:"bg-gray-50 rounded-lg shadow-md p-4",children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Fechados"}),m.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.filter(ue=>ue.status==="fechado").length})]}),m.jsxs("div",{className:"bg-purple-50 rounded-lg shadow-md p-4",children:[m.jsx("p",{className:"text-sm text-purple-600",children:"Empresas"}),m.jsx("p",{className:"text-2xl font-bold text-purple-900",children:new Set(r.map(ue=>{var W;return(W=ue.company)==null?void 0:W.name}).filter(Boolean)).size})]}),m.jsxs("div",{className:"bg-indigo-50 rounded-lg shadow-md p-4",children:[m.jsx("p",{className:"text-sm text-indigo-600",children:"Usurios"}),m.jsx("p",{className:"text-2xl font-bold text-indigo-900",children:new Set(r.map(ue=>{var W;return(W=ue.client)==null?void 0:W.full_name}).filter(Boolean)).size})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[m.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx(If,{className:"h-5 w-5 text-gray-600 mr-2"}),m.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Chamados Filtrados (",r.length,")"]})]})}),r.length===0?m.jsx("div",{className:"text-center p-10",children:m.jsx("p",{className:"text-gray-500",children:"Nenhum chamado encontrado com os filtros aplicados."})}):m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Empresa"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usurio"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Equipamento"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Local"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(ue=>{var W,se,le,re;return m.jsxs("tr",{className:"hover:bg-gray-50",children:[m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:["#",ue.id]}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[new Date(ue.created_at).toLocaleDateString("pt-BR"),m.jsx("br",{}),m.jsx("span",{className:"text-xs text-gray-500",children:new Date(ue.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),m.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[m.jsx("p",{className:"font-medium",children:((W=ue.company)==null?void 0:W.name)||"-"}),m.jsx("p",{className:"text-xs text-gray-500",children:((se=ue.company)==null?void 0:se.cnpj)||""})]}),m.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[m.jsx("p",{className:"font-medium",children:((le=ue.client)==null?void 0:le.full_name)||"-"}),m.jsx("p",{className:"text-xs text-gray-500",children:((re=ue.client)==null?void 0:re.email)||""})]}),m.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[m.jsx("p",{className:"font-medium",children:ue.equipment_manufacturer}),m.jsx("p",{className:"text-gray-500",children:ue.equipment_model})]}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:ue.internal_location||"-"}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${ie(ue.status)}`,children:ae(ue.status)})})]},ue.id)})})]})})]})]})},$y={DIMEP:["Compact Gate","New BAP","BAP Fancy Line II V2","BAP Black","Face Access Ultra","CM3 Controlador de Acesso","D-REP Facial","Smart Point","Smart Point Bus","Smart Print Facial","PrintPoint III","Biopoint II-S","MicroPoint XP","MicroPoint II","MicroPoint II PCD","MicroPoint ID","MicroPoint Bio","MicroPoint Face","MicroPoint Face PCD"],ControliD:["iDClass Bio","iDClass Bio Prox","iDClass Facial","iDClass Bio Barras","iDClass 373","iDFlex","iDProx Compact","iDProx Slim","iDProx USB","iDFace Max","iDAccess Pro Prox","iDAccess Nano Prox","iDAccess Nano Slave","iDBio","iDUHF","iDUHF Lite","iDLock Bio"],Intelbras:["SS 3530 MF","SS 3510 MF","SS 7500 MF","FR 1211","FR 1311","TF 373"],Hikvision:["DS-K1T341","DS-K1T671","MinMoe","DS-K1T606","ProFace X","ValueFace"],ZKTeco:["F18","F19","SF100","SF400","MB560","MB360","ProFace X"],Topdata:["Inner REP Plus","Inner Ponto 4","Inner 373","Relgio Pontto","Leitor facial F4 / T4","Catraca Revolution Easy","Catraca Revolution Facial","Catraca Fit 4","Catraca Fit Facial","Catraca Box 4","Catraca Box Easy","Catraca Flow","Catraca PNE 4"],GAREN:["Cancela Intense AC","Cancela Intense BLDC","Cancela Intense BLDC (Inox)","Cancela BLDC Pedgio","Cancela Classic AC","Cancela Classic DC","Cancela Compacta","Cancela Flow"],CAME:["Gard GT4","Gard GT8","Gard PT Brushless","Gard PX Brushless","Gard 3250","Gard 5000","Gard 12","GPX","Cancela Alta Segurana (GT8 com Kit)"],Digicon:["MCA Acesso/Painel","MCANET II","MRA","CATRAX PLUS","CATRAX MASTER","TORNIQUETE TX1500","TORNIQUETE DUO","DCLOCK"]},Dv=()=>Object.keys($y).sort(),Mv=i=>$y[i]||[],Vy=({isOpen:i,onClose:e,companies:n,initialEquipment:r=null,onSaved:o})=>{const{profile:l}=ys(),[u,h]=Te.useState({company_id:(r==null?void 0:r.company_id)||"",manufacturer:(r==null?void 0:r.manufacturer)||"",model:(r==null?void 0:r.model)||"",serial_number:(r==null?void 0:r.serial_number)||"",internal_location:(r==null?void 0:r.internal_location)||"",installation_location:(r==null?void 0:r.installation_location)||"",application_type:(r==null?void 0:r.application_type)||"",tecnology:(r==null?void 0:r.tecnology)||""}),[f,p]=Te.useState(!1),[y,S]=Te.useState(!1),[N,w]=Te.useState(!1),[C,L]=Te.useState([]);if(Te.useEffect(()=>{if(!i)return;h({company_id:(r==null?void 0:r.company_id)||"",manufacturer:(r==null?void 0:r.manufacturer)||"",model:(r==null?void 0:r.model)||"",serial_number:(r==null?void 0:r.serial_number)||"",internal_location:(r==null?void 0:r.internal_location)||"",installation_location:(r==null?void 0:r.installation_location)||"",application_type:(r==null?void 0:r.application_type)||"",tecnology:(r==null?void 0:r.tecnology)||""});const M=Dv(),z=r?!M.includes(r.manufacturer):!1;if(S(z),!z&&r){const J=Mv(r.manufacturer);L(J),w(!J.includes(r.model))}else L([]),w(!1)},[i,r]),!i)return null;const T=M=>{if(h($t(kt({},u),{manufacturer:M,model:""})),M==="custom")S(!0),L([]),h($t(kt({},u),{manufacturer:"",model:""}));else{S(!1);const z=Mv(M);L(z),w(!1)}},k=M=>{M==="custom"?(w(!0),h($t(kt({},u),{model:""}))):(w(!1),h($t(kt({},u),{model:M})))},G=M=>fe(null,null,function*(){M.preventDefault(),p(!0);const z=((l==null?void 0:l.role)==="admin"||(l==null?void 0:l.role)==="tecnico")&&dn?dn:jt;try{if(r){const{data:J,error:ce}=yield z.from("equipments").update({company_id:u.company_id,manufacturer:u.manufacturer,model:u.model,serial_number:u.serial_number||null,internal_location:u.internal_location||null,installation_location:u.installation_location||null,application_type:u.application_type||null,tecnology:u.tecnology||null}).eq("id",r.id).select().single();if(ce)throw ce;o&&o(J),e()}else{const{data:J,error:ce}=yield z.from("equipments").insert({company_id:u.company_id,manufacturer:u.manufacturer,model:u.model,serial_number:u.serial_number||null,internal_location:u.internal_location||null,installation_location:u.installation_location||null,application_type:u.application_type||null,tecnology:u.tecnology||null}).select().single();if(ce)throw ce;o&&o(J),e()}}catch(J){console.error("Erro ao salvar equipamento:",J),alert("Erro ao salvar equipamento. Veja o console para detalhes.")}finally{p(!1)}});return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:m.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r?"Editar Equipamento":"Novo Equipamento"}),m.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600","aria-label":"Fechar modal",children:m.jsx(Su,{className:"h-6 w-6"})})]}),m.jsxs("form",{onSubmit:G,className:"space-y-4",children:[m.jsxs(Bi,{label:"Empresa *",value:u.company_id,onChange:M=>h($t(kt({},u),{company_id:M.target.value})),required:!0,children:[m.jsx("option",{value:"",children:"Selecione uma empresa"}),n.map(M=>m.jsx("option",{value:M.id,children:M.name},M.id))]}),m.jsx("div",{className:"space-y-2",children:y?m.jsxs("div",{className:"flex items-end gap-2",children:[m.jsx("div",{className:"flex-1",children:m.jsx(pn,{label:"Fabricante *",value:u.manufacturer,onChange:M=>h($t(kt({},u),{manufacturer:M.target.value})),placeholder:"Digite o nome do fabricante",required:!0})}),m.jsx("button",{type:"button",title:"Voltar para lista de fabricantes",onClick:()=>{S(!1),h($t(kt({},u),{manufacturer:"",model:""})),L([])},className:"px-3 py-2 text-sm text-blue-600 hover:text-blue-800 border border-blue-300 rounded-lg hover:bg-blue-50",children:"Lista"})]}):m.jsx(m.Fragment,{children:m.jsxs(Bi,{label:"Fabricante *",value:u.manufacturer,onChange:M=>T(M.target.value),required:!0,children:[m.jsx("option",{value:"",children:"Selecione um fabricante"}),Dv().map(M=>m.jsx("option",{value:M,children:M},M)),m.jsx("option",{value:"custom",children:" Outro (digitar manualmente)"})]})})}),m.jsx("div",{className:"space-y-2",children:!N&&C.length>0?m.jsxs(Bi,{label:"Modelo *",value:u.model,onChange:M=>k(M.target.value),required:!0,disabled:!u.manufacturer,children:[m.jsx("option",{value:"",children:"Selecione um modelo"}),C.map(M=>m.jsx("option",{value:M,children:M},M)),m.jsx("option",{value:"custom",children:" Outro (digitar manualmente)"})]}):m.jsxs("div",{className:"flex items-end gap-2",children:[m.jsx("div",{className:"flex-1",children:m.jsx(pn,{label:"Modelo *",value:u.model,onChange:M=>h($t(kt({},u),{model:M.target.value})),placeholder:"Digite o modelo do equipamento",required:!0,disabled:!u.manufacturer})}),C.length>0&&m.jsx("button",{type:"button",title:"Voltar para lista de modelos",onClick:()=>{w(!1),h($t(kt({},u),{model:""}))},className:"px-3 py-2 text-sm text-blue-600 hover:text-blue-800 border border-blue-300 rounded-lg hover:bg-blue-50",children:"Lista"})]})}),m.jsx(pn,{label:"Nmero de Srie",value:u.serial_number,onChange:M=>h($t(kt({},u),{serial_number:M.target.value}))}),m.jsxs(Bi,{label:"Tipo de Aplicao",value:u.application_type,onChange:M=>h($t(kt({},u),{application_type:M.target.value})),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"Acesso",children:"Acesso"}),m.jsx("option",{value:"Ponto",children:"Ponto"})]}),m.jsx(pn,{label:"Tecnologia",value:u.tecnology,onChange:M=>h($t(kt({},u),{tecnology:M.target.value})),placeholder:"Ex: Biometria, Proximidade, etc."}),m.jsx(pn,{label:"Localizao Interna",value:u.internal_location,onChange:M=>h($t(kt({},u),{internal_location:M.target.value})),placeholder:"Ex: Portaria Principal"}),m.jsx(pn,{label:"Local de Instalao",value:u.installation_location,onChange:M=>h($t(kt({},u),{installation_location:M.target.value})),placeholder:"Ex: Prximo  recepo"}),m.jsxs("div",{className:"flex gap-3 pt-4",children:[m.jsx(Oa,{type:"button",variant:"secondary",onClick:e,className:"flex-1",children:"Cancelar"}),m.jsx(Oa,{type:"submit",className:"flex-1",disabled:f,children:f?m.jsxs(m.Fragment,{children:[m.jsx(Ra,{className:"h-4 w-4 animate-spin mr-2"}),"Salvando..."]}):r?"Atualizar":"Adicionar"})]})]})]})})})},fl=({title:i,number:e,children:n})=>m.jsxs("fieldset",{className:"border border-gray-300 rounded-lg p-5 mb-6",children:[m.jsxs("legend",{className:"px-2 text-lg font-medium text-gray-800",children:[m.jsx("span",{className:"bg-gray-200 text-blue-700 rounded-full h-8 w-8 flex items-center justify-center font-bold mr-2 shrink-0",children:e}),i]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4",children:n})]}),cN=({setPage:i,onOpenCompanyModal:e})=>{const{profile:n}=ys(),[r,o]=Te.useState("cnpj-search"),[l,u]=Te.useState(null),[h,f]=Te.useState(null),[p,y]=Te.useState(""),[S,N]=Te.useState(!1),[w,C]=Te.useState(null),[L,T]=Te.useState([]),[k,G]=Te.useState([]),[M,z]=Te.useState(!1),[J,ce]=Te.useState(!1),[ne,X]=Te.useState({manufacturer:"",model:"",application_type:"",problem_description:"",card_type:"",previous_procedures:"",address_cep:"",full_address:"",internal_location:"",integration_needed:!1,integration_requirements:"",contact_name:(n==null?void 0:n.full_name)||"",contact_email:(n==null?void 0:n.email)||"",contact_phone:"",company_cnpj:""}),[F,de]=Te.useState(!1),[D,H]=Te.useState(!1),[ie,ae]=Te.useState(null),[ue,W]=Te.useState(null),se=()=>{o("cnpj-search"),u(null),f(null),y(""),N(!1),C(null),G([]),z(!1),ce(!1),X({manufacturer:"",model:"",application_type:"",problem_description:"",card_type:"",previous_procedures:"",address_cep:"",full_address:"",internal_location:"",integration_needed:!1,integration_requirements:"",contact_name:(n==null?void 0:n.full_name)||"",contact_email:(n==null?void 0:n.email)||"",contact_phone:"",company_cnpj:""}),de(!1),H(!1),W(null),ae(null)},le=ge=>fe(null,null,function*(){console.log(" Carregando equipamentos para empresa:",ge.name),z(!0);try{const{data:K,error:Ge}=yield jt.from("equipments").select("*").eq("company_id",ge.id);if(Ge)throw Ge;G(K||[]),o("equipment-selection"),console.log(" Equipamentos carregados:",K==null?void 0:K.length)}catch(K){K instanceof Error?(console.error(" Erro ao carregar equipamentos:",K),alert(`Erro ao carregar equipamentos: ${K.message}`)):(console.error(" Erro ao carregar equipamentos:",K),alert("Erro ao carregar equipamentos: erro desconhecido"))}finally{z(!1)}}),re=ge=>{const Ge=ge.replace(/\D/g,"").slice(0,14);return Ge.length<=2?Ge:Ge.length<=5?`${Ge.slice(0,2)}.${Ge.slice(2)}`:Ge.length<=8?`${Ge.slice(0,2)}.${Ge.slice(2,5)}.${Ge.slice(5)}`:Ge.length<=12?`${Ge.slice(0,2)}.${Ge.slice(2,5)}.${Ge.slice(5,8)}/${Ge.slice(8)}`:`${Ge.slice(0,2)}.${Ge.slice(2,5)}.${Ge.slice(5,8)}/${Ge.slice(8,12)}-${Ge.slice(12)}`},Le=ge=>{const K=re(ge.target.value);y(K),C(null)},V=ge=>ge.replace(/\D/g,"").length===14,A=()=>fe(null,null,function*(){if(!V(p)){C("CNPJ invlido. Deve conter 14 dgitos.");return}N(!0),C(null);const ge=p.replace(/\D/g,"");console.log(" Buscando CNPJ:",ge),console.log(" Perfil do usurio:",{role:n==null?void 0:n.role,company_id:n==null?void 0:n.company_id});let K=jt.from("companies").select("*");if((n==null?void 0:n.role)==="cliente"){const Fe=[];if(n.company_id&&Fe.push(n.company_id),n.additional_company_ids&&n.additional_company_ids.length>0&&Fe.push(...n.additional_company_ids),Fe.length>0)K=K.in("id",Fe),console.log(" Cliente - Buscando apenas empresas vinculadas:",Fe);else{console.log(" Cliente sem empresas vinculadas - bloqueando busca"),C("Voc no possui empresas vinculadas para abrir chamados."),N(!1);return}}else console.log(" Tcnico/Admin - Buscando todas as empresas");const{data:Ge,error:et}=yield K;if(N(!1),et){console.error(" Erro ao buscar empresas:",et),C(`Erro na busca: ${et.message}`);return}const at=Ge==null?void 0:Ge.find(Fe=>{const tt=Fe.cnpj.replace(/\D/g,"");return console.log(" Comparando:",tt,"===",ge),tt===ge});if(!at){console.log(" CNPJ no encontrado. Total de empresas:",Ge==null?void 0:Ge.length),(n==null?void 0:n.role)==="cliente"?C("CNPJ no vinculado a este usurio. Contatar o administrador do sistema."):C("CNPJ no encontrado no sistema.");return}console.log(" Empresa encontrada:",at),u(at),C(null)}),B=()=>fe(null,null,function*(){if(!n)return;const ge=[];n.role==="cliente"&&(n.company_id&&ge.push(n.company_id),n.additional_company_ids&&n.additional_company_ids.length>0&&ge.push(...n.additional_company_ids));try{let K=jt.from("companies").select("*");if(n.role==="cliente"){if(ge.length===0){T([]);return}K=K.in("id",ge)}const{data:Ge,error:et}=yield K;if(et)throw et;T(Ge||[])}catch(K){console.error("Erro ao carregar empresas:",K),T([])}});Te.useEffect(()=>{B()},[n==null?void 0:n.id]);const q=()=>fe(null,null,function*(){l&&(yield le(l))}),te=ge=>{console.log(" Equipamento selecionado:",ge),f(ge),X(K=>$t(kt({},K),{manufacturer:ge.manufacturer,model:ge.model,internal_location:ge.internal_location||"",application_type:ge.application_type||"",card_type:ge.tecnology||"",company_cnpj:p})),o("ticket-form")},oe=ge=>{const{name:K,value:Ge,type:et}=ge.target;let at=Ge;et==="checkbox"&&(at=ge.target.checked),X(Fe=>$t(kt({},Fe),{[K]:at}))},be=()=>fe(null,null,function*(){const ge=ne.address_cep.replace(/\D/g,"");if(ge.length!==8){ae("CEP invlido. Deve conter 8 nmeros.");return}H(!0),ae(null);try{const K=yield fetch(`https://viacep.com.br/ws/${ge}/json/`);if(!K.ok)throw new Error("Erro ao buscar CEP. Verifique a rede.");const Ge=yield K.json();if(Ge.erro)throw new Error("CEP no encontrado.");X(et=>$t(kt({},et),{full_address:`${Ge.logradouro}, ${Ge.bairro}, ${Ge.localidade} - ${Ge.uf}`}))}catch(K){console.error("Erro ao buscar CEP:",K),ae(K instanceof Error?K.message:"No foi possvel buscar o CEP."),X(Ge=>$t(kt({},Ge),{full_address:""}))}finally{H(!1)}}),Ae=()=>!ne.manufacturer||!ne.model?(ae("Fabricante e Modelo so obrigatrios."),!1):ne.problem_description.length<30?(ae("Descrio do problema deve ter no mnimo 30 caracteres."),!1):ne.full_address?!ne.contact_name||!ne.contact_email||!ne.contact_phone?(ae("Todos os campos de contato so obrigatrios."),!1):(ae(null),!0):(ae("Endereo completo  obrigatrio (use a busca por CEP)."),!1),Ne=ge=>fe(null,null,function*(){if(ge.preventDefault(),!Ae()||!l||!h||!n)return;de(!0);const K={client_id:n.id,company_id:l.id,status:"aberto",equipment_manufacturer:ne.manufacturer,equipment_model:ne.model,application_type:ne.application_type,internal_location:ne.internal_location,form_data:ne};console.log(" Criando ticket com payload:",K),console.log(" User ID atual (auth.uid()):",n.id),console.log(" Role do usurio:",n.role);const{data:Ge,error:et}=yield jt.from("tickets").insert([K]).select();if(et)console.error(" Erro ao criar ticket:",et),console.error(" Detalhes do erro:",{message:et.message,details:et.details,hint:et.hint,code:et.code}),ae(`Erro ao criar chamado: ${et.message}`),de(!1);else{console.log(" Chamado criado:",Ge);const at=Ge[0].id;console.log(" Buscando administradores para notificar...");const{data:Fe}=yield jt.from("user_profiles").select("email, full_name").eq("role","admin"),tt=(Fe==null?void 0:Fe.map(Lt=>Lt.email))||[];console.log(` Encontrados ${tt.length} administrador(es)`),console.log(" Enviando notificaes por email...");const We=`${ne.manufacturer} - ${ne.model}`;try{(yield Ap.sendTicketCreatedNotification({ticketId:at,clientName:n.full_name,clientEmail:n.email,clientPhone:n.phone,companyName:l.name,equipmentInfo:We,serialNumber:h==null?void 0:h.serial_number,problemDescription:ne.problem_description,contactName:ne.contact_name,contactEmail:ne.contact_email,contactPhone:ne.contact_phone,internalLocation:ne.internal_location,fullAddress:ne.full_address},tt))?console.log(" Emails enviados com sucesso!"):console.warn(" Erro ao enviar emails (chamado criado com sucesso)")}catch(Lt){console.error(" Erro ao enviar emails:",Lt)}de(!1),alert(` Chamado #${at} criado com sucesso!

 Notificaes enviadas para:
    Voc: ${n.email}
    Responsvel local: ${ne.contact_name} (${ne.contact_email})
    Administradores: ${tt.length} pessoa(s)`),se(),i("dashboard")}}),Pe=()=>m.jsx("div",{className:"mb-8",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:`flex items-center ${r==="cnpj-search"?"text-blue-600":"text-green-600"}`,children:[m.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${r==="cnpj-search"?"bg-blue-600 text-white":"bg-green-600 text-white"}`,children:r==="cnpj-search"?"1":m.jsx(ac,{className:"h-5 w-5"})}),m.jsx("span",{className:"ml-2 font-medium",children:"CNPJ"})]}),m.jsx("div",{className:"flex-1 h-1 mx-4 bg-gray-300",children:m.jsx("div",{className:`h-full transition-all ${r!=="cnpj-search"?"bg-green-600 w-full":"bg-gray-300 w-0"}`})}),m.jsxs("div",{className:`flex items-center ${r==="equipment-selection"?"text-blue-600":r==="ticket-form"?"text-green-600":"text-gray-400"}`,children:[m.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${r==="equipment-selection"?"bg-blue-600 text-white":r==="ticket-form"?"bg-green-600 text-white":"bg-gray-300 text-gray-600"}`,children:r==="ticket-form"?m.jsx(ac,{className:"h-5 w-5"}):"2"}),m.jsx("span",{className:"ml-2 font-medium",children:"Equipamento"})]}),m.jsx("div",{className:"flex-1 h-1 mx-4 bg-gray-300",children:m.jsx("div",{className:`h-full transition-all ${r==="ticket-form"?"bg-green-600 w-full":"bg-gray-300 w-0"}`})}),m.jsxs("div",{className:`flex items-center ${r==="ticket-form"?"text-blue-600":"text-gray-400"}`,children:[m.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${r==="ticket-form"?"bg-blue-600 text-white":"bg-gray-300 text-gray-600"}`,children:"3"}),m.jsx("span",{className:"ml-2 font-medium",children:"Chamado"})]})]})}),$e=()=>m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:m.jsxs("div",{className:"flex items-start",children:[m.jsx(rc,{className:"h-6 w-6 text-blue-600 mt-0.5 mr-3"}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-1",children:"Etapa 1: Identificao da Empresa"}),m.jsx("p",{className:"text-sm text-blue-700",children:"Informe o CNPJ da empresa para a qual o chamado ser aberto."})]})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:m.jsxs("div",{className:"space-y-4",children:[n&&m.jsx("div",{className:"mb-4",children:m.jsxs(Bi,{id:"company_select",label:"Escolha uma empresa (ou deixe em branco para digitar CNPJ)",value:(l==null?void 0:l.id)||"",onChange:ge=>{const K=ge.target.value;if(!K){u(null),y("");return}const Ge=L.find(et=>et.id===K);Ge&&(u(Ge),y(re(Ge.cnpj||"")),C(null))},children:[m.jsx("option",{value:"",children:"-- Selecione uma empresa --"}),L.map(ge=>m.jsxs("option",{value:ge.id,children:[ge.name,"  ",ge.cnpj]},ge.id))]})}),m.jsxs("div",{className:"relative",children:[m.jsx(pn,{id:"cnpj",label:"CNPJ da Empresa",value:p,onChange:Le,placeholder:"00.000.000/0000-00",maxLength:18,disabled:S||!!l}),!l&&m.jsx(Oa,{type:"button",onClick:A,disabled:S||!p,className:"absolute right-1 bottom-1 !py-2 !px-3",children:S?m.jsx(Ra,{className:"h-4 w-4 animate-spin"}):m.jsx(_h,{className:"h-4 w-4"})})]}),w&&m.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:m.jsxs("div",{className:"flex items-start",children:[m.jsx(sc,{className:"h-5 w-5 text-red-600 mt-0.5 mr-3 flex-shrink-0"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"text-sm font-medium text-red-900",children:"Erro na busca"}),m.jsx("p",{className:"text-sm text-red-700 mt-1",children:w}),w.includes("no encontrado")&&(n==null?void 0:n.role)==="admin"&&m.jsxs("button",{type:"button",onClick:()=>e(p,ge=>fe(null,null,function*(){console.log(" Empresa criada recebida:",ge),u(ge),C(null),yield le(ge)})),className:"mt-3 inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[m.jsx(rc,{className:"h-4 w-4"}),"Cadastrar esta empresa"]})]})]})}),l&&m.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex items-start",children:[m.jsx(rc,{className:"h-5 w-5 text-green-600 mt-0.5 mr-3"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-green-900",children:"Empresa encontrada!"}),m.jsx("p",{className:"text-lg font-bold text-green-900 mt-1",children:l.name}),m.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["CNPJ: ",p]})]})]}),m.jsx("button",{type:"button",onClick:()=>{u(null),y("")},className:"text-sm text-green-700 hover:text-green-900 underline",children:"Alterar"})]}),m.jsx("div",{className:"mt-4 pt-4 border-t border-green-200",children:m.jsx(Oa,{type:"button",onClick:q,variant:"primary",className:"w-full",children:"Continuar para Seleo de Equipamentos"})})]})]})}),!l&&m.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:m.jsxs("p",{className:"text-xs text-gray-600",children:[m.jsx("strong",{children:"Nota:"})," Se o CNPJ da sua empresa no for encontrado, entre em contato com o suporte para realizar o cadastro."]})})]}),Ke=()=>m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex items-start",children:[m.jsx(Sh,{className:"h-6 w-6 text-blue-600 mt-0.5 mr-3"}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-1",children:"Etapa 2: Seleo de Equipamento"}),m.jsx("p",{className:"text-sm text-blue-700",children:"Selecione o equipamento com problema ou cadastre um novo."}),m.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Empresa: ",m.jsx("strong",{children:l==null?void 0:l.name})]})]})]}),m.jsxs("button",{type:"button",onClick:()=>o("cnpj-search"),className:"text-sm text-blue-700 hover:text-blue-900 flex items-center",children:[m.jsx(gs,{className:"h-4 w-4 mr-1"}),"Voltar"]})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:M?m.jsx("div",{className:"flex items-center justify-center py-12",children:m.jsx(Ra,{className:"h-8 w-8 animate-spin text-blue-600"})}):m.jsxs("div",{className:"space-y-4",children:[k.length>0?m.jsxs("div",{children:[m.jsxs("h4",{className:"font-semibold text-gray-900 mb-3",children:["Equipamentos Cadastrados (",k.length,")"]}),m.jsx("div",{className:"space-y-2",children:k.map(ge=>m.jsx("button",{type:"button",onClick:()=>te(ge),className:"w-full text-left p-4 border border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("p",{className:"font-bold text-gray-900 text-lg",children:[ge.manufacturer," - ",ge.model]}),ge.internal_location&&m.jsxs("p",{className:"text-sm text-gray-700 mt-1",children:[m.jsx("span",{className:"font-medium",children:"Local:"})," ",ge.internal_location]}),ge.serial_number&&m.jsxs("p",{className:"text-sm text-gray-600 mt-0.5",children:[m.jsx("span",{className:"font-medium",children:"Serial:"})," ",ge.serial_number]})]}),m.jsx(Sh,{className:"h-5 w-5 text-gray-400"})]})},ge.id))})]}):m.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:[m.jsx(sc,{className:"h-12 w-12 text-yellow-600 mx-auto mb-3"}),m.jsx("h4",{className:"font-semibold text-yellow-900 mb-2",children:"Nenhum equipamento cadastrado"}),m.jsxs("p",{className:"text-sm text-yellow-700 mb-4",children:["No encontramos equipamentos cadastrados para ",m.jsx("strong",{children:l==null?void 0:l.name}),".",m.jsx("br",{}),"Cadastre um novo equipamento para continuar."]})]}),J?m.jsx(Vy,{isOpen:J,onClose:()=>{ce(!1),ae(null)},companies:l?[l]:L,onSaved:ge=>{G(K=>[ge,...K]),f(ge),X(K=>$t(kt({},K),{manufacturer:ge.manufacturer,model:ge.model,internal_location:ge.internal_location||"",company_cnpj:p})),ce(!1),o("ticket-form")}}):m.jsxs(Oa,{type:"button",onClick:()=>ce(!0),variant:"secondary",className:"w-full",children:[m.jsx(od,{className:"h-5 w-5 mr-2"}),"Cadastrar Novo Equipamento"]})]})})]}),Je=()=>{let ge=0;const K=!!(h!=null&&h.application_type),Ge=!!(h!=null&&h.tecnology);return m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex items-start",children:[m.jsx(ac,{className:"h-6 w-6 text-blue-600 mt-0.5 mr-3"}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-1",children:"Etapa 3: Detalhes do Chamado"}),m.jsx("p",{className:"text-sm text-blue-700",children:"Preencha as informaes sobre o problema."})]})]}),m.jsxs("button",{type:"button",onClick:()=>o("equipment-selection"),className:"text-sm text-blue-700 hover:text-blue-900 flex items-center",children:[m.jsx(gs,{className:"h-4 w-4 mr-1"}),"Voltar"]})]})}),m.jsxs("form",{onSubmit:Ne,className:"bg-white rounded-lg shadow-xl p-8 space-y-6",children:[m.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[m.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Equipamento Selecionado:"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[h==null?void 0:h.manufacturer," - ",h==null?void 0:h.model]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[(h==null?void 0:h.internal_location)&&m.jsxs("p",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"Local:"})," ",h.internal_location]}),(h==null?void 0:h.serial_number)&&m.jsxs("p",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"N Srie:"})," ",h.serial_number]}),(h==null?void 0:h.application_type)&&m.jsxs("p",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"Aplicao:"})," ",h.application_type]}),(h==null?void 0:h.tecnology)&&m.jsxs("p",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"Tecnologia:"})," ",h.tecnology]})]})]})]}),!K&&m.jsx(fl,{number:++ge,title:"Tipo de aplicao",children:m.jsxs(Bi,{id:"application_type",name:"application_type",label:"Tipo de Aplicao",value:ne.application_type,onChange:oe,required:!0,children:[m.jsx("option",{value:"",children:"Selecione..."}),m.jsx("option",{value:"Acesso",children:"Acesso"}),m.jsx("option",{value:"Ponto",children:"Ponto"})]})}),m.jsx(fl,{number:++ge,title:"Descreva o problema",children:m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("div",{className:"mb-4 p-4 bg-gradient-to-r from-green-50 to-blue-50 border-l-4 border-green-500 rounded-lg shadow-sm",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("div",{className:"flex-shrink-0 mt-0.5",children:m.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"text-sm font-semibold text-gray-800 mb-2",children:" Importante: Envie tambm um vdeo do problema!"}),m.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Se possvel, grave um vdeo mostrando o problema e envie para um dos nossos telefones WhatsApp mencionando o nmero do chamado que voc est abrindo assim como nome da empresa:"}),m.jsxs("div",{className:"flex flex-wrap gap-3 mt-3",children:[m.jsxs("a",{href:"https://wa.me/5519999492176",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium text-sm transition-colors shadow-sm",children:[m.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L0 24l6.304-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"19 99949-2176"]}),m.jsxs("a",{href:"https://wa.me/554730395061",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium text-sm transition-colors shadow-sm",children:[m.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L0 24l6.304-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"47 3039-5061"]})]})]})]})}),m.jsx(qf,{id:"problem_description",name:"problem_description",label:"Descrio Detalhada (mnimo 30 caracteres)",value:ne.problem_description,onChange:oe,minLength:30,required:!0})]})}),!Ge&&m.jsx(fl,{number:++ge,title:"Tipo de carto utilizado",children:m.jsxs(Bi,{id:"card_type",name:"card_type",label:"Tipo de Carto/Tecnologia",value:ne.card_type,onChange:oe,required:!0,children:[m.jsx("option",{value:"",children:"Selecione..."}),m.jsx("option",{value:"Smartcard",children:"Carto smartcard"}),m.jsx("option",{value:"Proximidade HID",children:"Proximidade HID"}),m.jsx("option",{value:"Biometria",children:"Biometria"}),m.jsx("option",{value:"Facial",children:"Facial"})]})}),m.jsx(fl,{number:++ge,title:"Procedimentos j executados",children:m.jsx("div",{className:"md:col-span-2",children:m.jsx(qf,{id:"previous_procedures",name:"previous_procedures",label:"Procedimentos Prvios (opcional)",value:ne.previous_procedures,onChange:oe})})}),m.jsx(fl,{number:++ge,title:"Endereo para atendimento",children:m.jsxs("div",{className:"md:col-span-2 space-y-4",children:[(l==null?void 0:l.full_address)&&m.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[m.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"Endereo cadastrado da empresa:"}),m.jsx("p",{className:"text-gray-900",children:l.full_address})]}),ue===null&&(l==null?void 0:l.full_address)&&m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsx("p",{className:"text-sm font-medium text-gray-900",children:"O atendimento ser realizado neste endereo?"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(Oa,{type:"button",onClick:()=>{W(!0),X(et=>$t(kt({},et),{full_address:l.full_address||""}))},className:"flex-1",children:"Sim, utilizar este endereo"}),m.jsx(Oa,{type:"button",onClick:()=>W(!1),variant:"secondary",className:"flex-1",children:"No, informar outro endereo"})]})]}),(ue===!1||!(l!=null&&l.full_address))&&m.jsxs(m.Fragment,{children:[ue===!1&&(l==null?void 0:l.full_address)&&m.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("p",{className:"text-sm text-blue-900",children:"Voc optou por informar outro endereo"}),m.jsx("button",{type:"button",onClick:()=>W(null),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:" Voltar"})]})}),m.jsxs("div",{className:"relative",children:[m.jsx(pn,{id:"address_cep",name:"address_cep",label:"CEP",value:ne.address_cep,onChange:oe}),m.jsx("button",{type:"button",onClick:be,disabled:D,className:"absolute right-1 bottom-1 bg-gray-200 p-2 rounded-md hover:bg-gray-300 disabled:opacity-50",children:D?m.jsx(Ra,{className:"h-4 w-4 text-gray-600 animate-spin"}):m.jsx(_h,{className:"h-4 w-4 text-gray-600"})})]}),m.jsx(pn,{id:"full_address",name:"full_address",label:"Endereo Completo",value:ne.full_address,onChange:oe,required:!0})]}),ue===!0&&m.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"text-sm font-medium text-green-900 mb-1",children:" Endereo confirmado para atendimento:"}),m.jsx("p",{className:"text-gray-900",children:ne.full_address}),ne.address_cep&&m.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["CEP: ",ne.address_cep]})]}),m.jsx("button",{type:"button",onClick:()=>{W(null),X(et=>$t(kt({},et),{full_address:"",address_cep:""}))},className:"text-sm text-blue-600 hover:text-blue-800 ml-4",children:"Alterar"})]})})]})}),m.jsx(fl,{number:++ge,title:"Local interno",children:m.jsx(pn,{id:"internal_location",name:"internal_location",label:"Ex: Portaria 1, Catraca Refeitrio",value:ne.internal_location,onChange:oe,required:!0})}),m.jsx(fl,{number:++ge,title:"Necessrio integrao?",children:m.jsxs("div",{className:"md:col-span-2 space-y-4",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{id:"integration_needed",name:"integration_needed",type:"checkbox",checked:ne.integration_needed,onChange:oe,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),m.jsx("label",{htmlFor:"integration_needed",className:"ml-2 block text-sm text-gray-900",children:"Sim,  necessrio"})]}),ne.integration_needed&&m.jsx(qf,{id:"integration_requirements",name:"integration_requirements",label:"Quais so as exigncias?",value:ne.integration_requirements,onChange:oe})]})}),m.jsxs(fl,{number:++ge,title:"Responsvel pelo acompanhamento",children:[m.jsx(pn,{id:"contact_name",name:"contact_name",label:"Nome Completo",icon:m.jsx(Qp,{}),value:ne.contact_name,onChange:oe,required:!0}),m.jsx(pn,{id:"contact_email",name:"contact_email",label:"E-mail",type:"email",icon:m.jsx(Xp,{}),value:ne.contact_email,onChange:oe,required:!0}),m.jsx(pn,{id:"contact_phone",name:"contact_phone",label:"Telefone/Celular",type:"tel",icon:m.jsx(D5,{}),value:ne.contact_phone,onChange:oe,required:!0})]}),m.jsxs("div",{className:"mt-8 pt-5 border-t border-gray-200",children:[ie&&m.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md mb-4",children:[m.jsx("strong",{className:"font-bold",children:"Erro!"}),m.jsxs("span",{className:"block sm:inline",children:[" ",ie]})]}),m.jsxs("div",{className:"flex justify-end space-x-3",children:[m.jsx(Oa,{type:"button",variant:"secondary",onClick:()=>i("dashboard"),disabled:F,children:"Cancelar"}),m.jsxs(Oa,{type:"submit",variant:"primary",isLoading:F,disabled:F,children:[m.jsx(ac,{className:"h-5 w-5 mr-2"}),"Enviar Chamado"]})]})]})]})]})};return m.jsxs("div",{className:"p-6 md:p-10 max-w-4xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Abrir Novo Chamado"}),m.jsx("button",{onClick:()=>i("dashboard"),className:"text-gray-600 hover:text-gray-900",title:"Voltar para o dashboard","aria-label":"Voltar para o dashboard",children:m.jsx(gs,{className:"h-6 w-6"})})]}),Pe(),r==="cnpj-search"&&$e(),r==="equipment-selection"&&Ke(),r==="ticket-form"&&Je()]})},uN=({setPage:i,openModal:e,initialCNPJ:n,onModalClose:r,onCompanyCreated:o})=>{const[l,u]=Te.useState([]),[h,f]=Te.useState([]),[p,y]=Te.useState(!0),[S,N]=Te.useState(null),[w,C]=Te.useState(""),[L,T]=Te.useState(!1),[k,G]=Te.useState("create"),[M,z]=Te.useState(null),[J,ce]=Te.useState(!1),[ne,X]=Te.useState(!1),[F,de]=Te.useState(null),[D,H]=Te.useState(!1),[ie,ae]=Te.useState({name:"",cnpj:"",full_address:""});Te.useEffect(()=>{ue()},[]),Te.useEffect(()=>{e&&(G("create"),z(null),ae({name:"",cnpj:n||"",full_address:""}),T(!0))},[e,n]);const ue=()=>fe(null,null,function*(){console.log(" [CompanyManagement] Iniciando fetchCompanies..."),y(!0),N(null);try{const A=dn||jt;console.log(" [CompanyManagement] Usando client:",dn?"ADMIN":"NORMAL");const B=A.from("companies").select("*").order("name",{ascending:!0}),q=new Promise((be,Ae)=>setTimeout(()=>Ae(new Error(" Timeout: A consulta demorou mais de 10 segundos")),1e4)),{data:te,error:oe}=yield Promise.race([B,q]);console.log(" [CompanyManagement] Resultado:",{success:!oe,count:te==null?void 0:te.length}),oe?(console.error(" [CompanyManagement] Erro ao buscar empresas:",oe),N(oe.message)):(u(te||[]),f(te||[]))}catch(A){console.error(" [CompanyManagement] Erro:",A),N(A instanceof Error?A.message:"Erro inesperado")}finally{console.log(" [CompanyManagement] Finalizado"),y(!1)}});Te.useEffect(()=>{if(!w)f(l);else{const A=l.filter(B=>B.name.toLowerCase().includes(w.toLowerCase())||B.cnpj.includes(w));f(A)}},[w,l]);const W=()=>{G("create"),z(null),ae({name:"",cnpj:"",full_address:""}),T(!0)},se=A=>{G("edit"),z(A),ae({name:A.name,cnpj:A.cnpj,full_address:A.full_address||""}),T(!0)},le=()=>{T(!1),z(null),ae({name:"",cnpj:"",full_address:""}),r&&r()},re=()=>fe(null,null,function*(){if(!ie.cnpj||ie.cnpj.replace(/\D/g,"").length!==14){alert("Digite um CNPJ vlido (14 dgitos)");return}X(!0);try{const A=ie.cnpj.replace(/\D/g,""),B=yield fetch(`https://brasilapi.com.br/api/cnpj/v1/${A}`);if(!B.ok)throw new Error("CNPJ no encontrado");const q=yield B.json(),te=`${q.logradouro}, ${q.numero||"S/N"}, ${q.bairro}, ${q.municipio} - ${q.uf}, CEP: ${q.cep}`;ae(oe=>$t(kt({},oe),{name:q.razao_social||q.nome_fantasia||oe.name,full_address:te})),alert("Dados da empresa carregados com sucesso!")}catch(A){console.error("Erro ao buscar CNPJ:",A),alert(`Erro ao buscar CNPJ: ${A instanceof Error?A.message:"CNPJ no encontrado ou invlido"}`)}X(!1)}),Le=()=>fe(null,null,function*(){if(!ie.name.trim()){alert("Nome da empresa  obrigatrio");return}if(!ie.cnpj.trim()){alert("CNPJ  obrigatrio");return}ce(!0);try{if(k==="create"){const{data:A,error:B}=yield jt.from("companies").insert([{name:ie.name,cnpj:ie.cnpj,full_address:ie.full_address||null}]).select().single();if(B)throw B;alert(" Empresa criada com sucesso!"),o&&A&&o(A)}else{const{error:A}=yield jt.from("companies").update({name:ie.name,cnpj:ie.cnpj,full_address:ie.full_address||null}).eq("id",M.id);if(A)throw A;alert("Empresa atualizada com sucesso!")}le(),ue()}catch(A){console.error("Erro ao salvar empresa:",A),alert(`Erro ao salvar empresa: ${A instanceof Error?A.message:"Erro desconhecido"}`)}ce(!1)}),V=A=>fe(null,null,function*(){H(!0);try{const{error:B}=yield jt.from("companies").delete().eq("id",A);if(B)throw B;alert("Empresa excluda com sucesso!"),de(null),ue()}catch(B){console.error("Erro ao excluir empresa:",B),alert(`Erro ao excluir empresa: ${B instanceof Error?B.message:"Erro desconhecido"}`)}H(!1)});return p?m.jsx("div",{className:"p-6 md:p-10",children:m.jsxs("div",{className:"flex justify-center items-center p-10 bg-white rounded-lg shadow-md",children:[m.jsx(Ra,{className:"h-8 w-8 animate-spin text-blue-600"}),m.jsx("p",{className:"ml-3 text-gray-600",children:"Carregando empresas..."})]})}):m.jsxs("div",{className:"p-6 md:p-10",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gerenciamento de Empresas"}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Visualize, crie, edite e exclua empresas cadastradas"})]}),m.jsxs("button",{onClick:()=>i("dashboard"),className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[m.jsx(gs,{className:"h-5 w-5"}),m.jsx("span",{className:"font-medium",children:"Voltar"})]})]}),S&&m.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md mb-6",role:"alert",children:[m.jsx("strong",{className:"font-bold",children:"Erro ao carregar dados!"}),m.jsxs("span",{className:"block sm:inline",children:[" ",S]})]}),m.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:m.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[m.jsxs("div",{className:"relative flex-1 w-full md:max-w-md",children:[m.jsx(_h,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),m.jsx("input",{type:"text",placeholder:"Buscar por nome ou CNPJ...",value:w,onChange:A=>C(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),m.jsxs("button",{onClick:W,className:"relative inline-flex items-center justify-center px-6 py-2.5 font-semibold text-white rounded-lg overflow-hidden transition-all duration-300 ease-out bg-gradient-to-r from-blue-500 via-blue-600 to-indigo-600 hover:from-blue-600 hover:via-blue-700 hover:to-indigo-700 shadow-lg hover:shadow-xl hover:scale-105 active:scale-95",children:[m.jsx(od,{className:"h-5 w-5 mr-2"}),"Nova Empresa"]})]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Total de Empresas"}),m.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.length})]}),m.jsxs("div",{className:"bg-blue-50 rounded-lg shadow-md p-4",children:[m.jsx("p",{className:"text-sm text-blue-600",children:"Resultados Filtrados"}),m.jsx("p",{className:"text-2xl font-bold text-blue-900",children:h.length})]}),m.jsxs("div",{className:"bg-green-50 rounded-lg shadow-md p-4",children:[m.jsx("p",{className:"text-sm text-green-600",children:"Empresas Ativas"}),m.jsx("p",{className:"text-2xl font-bold text-green-900",children:l.length})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[m.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx(rc,{className:"h-5 w-5 text-gray-600 mr-2"}),m.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Empresas Cadastradas (",h.length,")"]})]})}),h.length===0?m.jsx("div",{className:"text-center p-10",children:m.jsx("p",{className:"text-gray-500",children:w?"Nenhuma empresa encontrada com os critrios de busca.":"Nenhuma empresa cadastrada."})}):m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Empresa"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CNPJ"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Endereo Completo"}),m.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(A=>m.jsxs("tr",{className:"hover:bg-gray-50",children:[m.jsx("td",{className:"px-6 py-4",children:m.jsx("p",{className:"text-sm font-medium text-gray-900",children:A.name})}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:A.cnpj}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-md",children:A.full_address||"-"}),m.jsx("td",{className:"px-6 py-4 text-right",children:F===A.id?m.jsxs("div",{className:"flex items-center justify-end gap-2",children:[m.jsx("button",{onClick:()=>V(A.id),disabled:D,className:"px-3 py-1 text-xs font-medium text-white bg-red-600 hover:bg-red-700 rounded-md disabled:bg-red-400",children:D?"Excluindo...":"Confirmar"}),m.jsx("button",{onClick:()=>de(null),disabled:D,className:"px-3 py-1 text-xs font-medium text-gray-700 bg-gray-200 hover:bg-gray-300 rounded-md",children:"Cancelar"})]}):m.jsxs("div",{className:"flex items-center justify-end gap-2",children:[m.jsx("button",{onClick:()=>se(A),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-md transition-colors",title:"Editar empresa",children:m.jsx(Zp,{className:"h-4 w-4"})}),m.jsx("button",{onClick:()=>de(A.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Excluir empresa",children:m.jsx(ld,{className:"h-4 w-4"})})]})})]},A.id))})]})})]}),L&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[m.jsx("div",{className:"p-6 border-b border-gray-200",children:m.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:k==="create"?"Nova Empresa":"Editar Empresa"})}),m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["CNPJ ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",value:ie.cnpj,onChange:A=>ae(B=>$t(kt({},B),{cnpj:A.target.value})),placeholder:"00.000.000/0000-00",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),m.jsx("button",{onClick:re,disabled:ne,className:"px-4 py-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg hover:from-purple-600 hover:to-purple-700 transition-all shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",title:"Buscar dados pelo CNPJ",children:ne?m.jsx(Ra,{className:"h-5 w-5 animate-spin"}):m.jsx(_h,{className:"h-5 w-5"})})]}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Digite o CNPJ e clique na lupa para buscar os dados automaticamente"})]}),m.jsx(pn,{id:"name",label:"Nome da Empresa",value:ie.name,onChange:A=>ae(B=>$t(kt({},B),{name:A.target.value})),placeholder:"Ex: Empresa XYZ Ltda",required:!0}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endereo Completo"}),m.jsx("textarea",{value:ie.full_address,onChange:A=>ae(B=>$t(kt({},B),{full_address:A.target.value})),placeholder:"Rua, nmero, bairro, cidade - UF (ser preenchido automaticamente ao buscar o CNPJ)",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"O endereo ser preenchido automaticamente ao buscar pelo CNPJ"})]})]}),m.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:[m.jsxs("button",{onClick:le,disabled:J,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:[m.jsx(Su,{className:"h-5 w-5 inline mr-2"}),"Cancelar"]}),m.jsx("button",{onClick:Le,disabled:J,className:"px-4 py-2 text-white bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg hover:from-blue-600 hover:to-indigo-700 transition-all shadow-lg hover:shadow-xl disabled:opacity-50",children:J?m.jsxs(m.Fragment,{children:[m.jsx(Ra,{className:"h-5 w-5 inline mr-2 animate-spin"}),"Salvando..."]}):m.jsxs(m.Fragment,{children:[m.jsx(y3,{className:"h-5 w-5 inline mr-2"}),"Salvar"]})})]})]})})]})},hN=({setPage:i})=>{const[e,n]=Te.useState([]),[r,o]=Te.useState([]),[l,u]=Te.useState(!0),[h,f]=Te.useState(""),[p,y]=Te.useState(!1),[S,N]=Te.useState(null),[w,C]=Te.useState(!1),[L,T]=Te.useState(!1),[k,G]=Te.useState(""),[M,z]=Te.useState(""),[J,ce]=Te.useState({full_name:"",email:"",password:"",role:"",company_id:"",additional_company_ids:[]});Te.useEffect(()=>{X(),ne()},[]);const ne=()=>fe(null,null,function*(){try{const{data:re,error:Le}=yield jt.from("companies").select("*").order("name");if(Le)throw Le;o(re||[])}catch(re){console.error("Erro ao buscar empresas:",re)}}),X=()=>fe(null,null,function*(){try{if(u(!0),!dn){console.error("Service Role Key no configurada. Configure VITE_SUPABASE_SERVICE_ROLE_KEY no .env.local"),z(" Erro: Service Role Key no configurada"),setTimeout(()=>z(""),5e3);return}const{data:re,error:Le}=yield dn.from("user_profiles").select(`
                    *,
                    company:companies!company_id(*)
                `).order("full_name");if(Le)throw Le;const V=yield Promise.all((re||[]).map(A=>fe(null,null,function*(){if(A.additional_company_ids&&A.additional_company_ids.length>0&&dn){const{data:B}=yield dn.from("companies").select("*").in("id",A.additional_company_ids);return $t(kt({},A),{companies:[A.company,...B||[]]})}return $t(kt({},A),{companies:[A.company]})})));n(V)}catch(re){console.error("Erro ao buscar usurios:",re)}finally{u(!1)}}),F=re=>{re?(N(re),ce({full_name:re.full_name,email:re.email,password:"",role:re.role,company_id:re.company_id,additional_company_ids:re.additional_company_ids||[]})):(N(null),ce({full_name:"",email:"",password:"",role:"",company_id:"",additional_company_ids:[]})),G(""),T(!1),y(!0)},de=()=>{y(!1),N(null),G("")},D=()=>fe(null,null,function*(){try{if(C(!0),G(""),!J.full_name.trim()){G(" O nome completo  obrigatrio");return}if(!J.email.trim()){G(" O email  obrigatrio");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(J.email)){G(" Por favor, insira um email vlido");return}if(!J.role){G(" Selecione um perfil (Admin, Tcnico ou Cliente)");return}if(!J.company_id){G(" Selecione a empresa principal do usurio");return}if(!S&&!J.password){G(" A senha  obrigatria para novos usurios");return}if(!S&&J.password&&J.password.length<6){G(" A senha deve ter no mnimo 6 caracteres");return}if(S){if(J.password&&J.password.length<6){G(" A nova senha deve ter no mnimo 6 caracteres");return}const{error:Le}=yield jt.from("user_profiles").update({full_name:J.full_name,role:J.role,company_id:J.company_id,additional_company_ids:J.additional_company_ids}).eq("id",S.id);if(Le)throw Le;if(J.password){if(!dn)throw new Error(" Service Role Key no configurada. Configure VITE_SUPABASE_SERVICE_ROLE_KEY no arquivo .env");const{error:V}=yield dn.auth.admin.updateUserById(S.id,{password:J.password});if(V)throw V}}else{if(!dn)throw new Error(` Service Role Key no configurada.

Para criar usurios, voc precisa:
1. Ir no Supabase Dashboard  Settings  API
2. Copiar a "service_role" key
3. Criar arquivo .env na raiz do projeto
4. Adicionar: VITE_SUPABASE_SERVICE_ROLE_KEY=sua_chave_aqui`);const{data:Le,error:V}=yield dn.auth.admin.createUser({email:J.email,password:J.password,email_confirm:!0});if(V)throw console.error("Erro ao criar usurio no Auth:",V),V.message.includes("User not allowed")||V.message.includes("403")?new Error(" Erro de permisso: Configure a Service Role Key no arquivo .env para criar usurios."):V.message.includes("already registered")?new Error(" Este email j est cadastrado no sistema."):new Error(` Erro ao criar usurio: ${V.message}`);const{error:A}=yield dn.from("user_profiles").insert({id:Le.user.id,full_name:J.full_name,email:J.email,role:J.role,company_id:J.company_id,additional_company_ids:J.additional_company_ids,force_password_change:!0});if(A)throw console.error("Erro ao criar perfil:",A),yield dn.auth.admin.deleteUser(Le.user.id),new Error(` Erro ao criar perfil: ${A.message||"Tente novamente"}`);de(),yield X(),z(" Usurio criado com sucesso! Ele precisar trocar a senha no primeiro acesso."),setTimeout(()=>z(""),5e3)}S&&(yield X(),de(),z(" Usurio atualizado com sucesso!"),setTimeout(()=>z(""),5e3))}catch(re){console.error("Erro ao salvar usurio:",re);const Le=re instanceof Error?re.message:" Erro desconhecido ao salvar usurio";G(Le)}finally{C(!1)}}),H=re=>fe(null,null,function*(){if(window.confirm(`Tem certeza que deseja excluir ${re.full_name}?`)){if(!dn){z(" Service Role Key no configurada. No  possvel excluir usurios."),setTimeout(()=>z(""),5e3);return}try{const{error:Le}=yield dn.auth.admin.deleteUser(re.id);if(Le)throw Le;yield X(),z(" Usurio excludo com sucesso!"),setTimeout(()=>z(""),5e3)}catch(Le){console.error("Erro ao excluir usurio:",Le),z(" Erro ao excluir usurio"),setTimeout(()=>z(""),5e3)}}}),ie=re=>{ce(Le=>{const V=Le.additional_company_ids||[];return V.includes(re)?$t(kt({},Le),{additional_company_ids:V.filter(A=>A!==re)}):$t(kt({},Le),{additional_company_ids:[...V,re]})})},ae=()=>{const re=r.filter(A=>A.id!==J.company_id).map(A=>A.id),Le=J.additional_company_ids||[],V=re.every(A=>Le.includes(A));ce(V?A=>$t(kt({},A),{additional_company_ids:[]}):A=>$t(kt({},A),{additional_company_ids:re}))},ue=e.filter(re=>{var Le;return re.full_name.toLowerCase().includes(h.toLowerCase())||re.email.toLowerCase().includes(h.toLowerCase())||((Le=re.company)==null?void 0:Le.name.toLowerCase().includes(h.toLowerCase()))}),W={total:e.length,admins:e.filter(re=>re.role==="admin").length,tecnicos:e.filter(re=>re.role==="tecnico").length,clientes:e.filter(re=>re.role==="cliente").length},se=r.filter(re=>re.id!==J.company_id),le=se.length>0&&se.every(re=>(J.additional_company_ids||[]).includes(re.id));return l?m.jsx("div",{className:"flex justify-center items-center h-96",children:m.jsx("div",{className:"text-gray-600",children:"Carregando usurios..."})}):m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[M&&m.jsxs("div",{className:"fixed top-4 right-4 z-50 bg-green-500 text-white px-6 py-4 rounded-lg shadow-xl flex items-center space-x-3 animate-slide-in",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),m.jsx("p",{className:"font-medium",children:M})]}),m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{children:[m.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[m.jsx(B5,{className:"h-8 w-8 mr-2 text-green-600"}),"Gerenciamento de Usurios"]}),m.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Gerencie usurios do sistema"})]}),m.jsxs("button",{onClick:()=>i("dashboard"),className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Voltar ao Dashboard",children:[m.jsx(gs,{className:"h-5 w-5"}),m.jsx("span",{className:"font-medium",children:"Voltar"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[m.jsx("div",{className:"text-sm text-gray-600",children:"Total de Usurios"}),m.jsx("div",{className:"text-2xl font-bold text-gray-900",children:W.total})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[m.jsx("div",{className:"text-sm text-gray-600",children:"Administradores"}),m.jsx("div",{className:"text-2xl font-bold text-red-600",children:W.admins})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[m.jsx("div",{className:"text-sm text-gray-600",children:"Tcnicos"}),m.jsx("div",{className:"text-2xl font-bold text-blue-600",children:W.tecnicos})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[m.jsx("div",{className:"text-sm text-gray-600",children:"Clientes"}),m.jsx("div",{className:"text-2xl font-bold text-green-600",children:W.clientes})]})]}),m.jsx("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[m.jsx("div",{className:"relative flex-1 w-full sm:max-w-md",children:m.jsx(pn,{label:"",placeholder:"Buscar por nome, email ou empresa...",value:h,onChange:re=>f(re.target.value),className:"w-full"})}),m.jsxs("button",{onClick:()=>F(),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 whitespace-nowrap",children:[m.jsx(od,{className:"h-5 w-5 mr-2"}),"Novo Usurio"]})]})}),m.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Perfil"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Empresas"}),m.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ue.map(re=>{var Le;return m.jsxs("tr",{className:"hover:bg-gray-50",children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"text-sm font-medium text-gray-900",children:re.full_name})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"text-sm text-gray-600",children:re.email})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${re.role==="admin"?"bg-red-100 text-red-800":re.role==="tecnico"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:re.role==="admin"?"Admin":re.role==="tecnico"?"Tcnico":"Cliente"})}),m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:"text-sm text-gray-900",children:[m.jsxs("span",{className:"inline-flex items-center gap-1",children:[(Le=re.company)==null?void 0:Le.name,m.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-green-100 text-green-700 rounded",children:"Principal"})]}),re.companies&&re.companies.length>1&&m.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:[re.companies.slice(1).map(V=>V.name).join(", "),m.jsxs("span",{className:"ml-1 text-gray-400",children:["(+",re.companies.length-1," adicional",re.companies.length-1!==1?"is":"",")"]})]})]})}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[m.jsx("button",{onClick:()=>F(re),className:"text-blue-600 hover:text-blue-900 mr-4",title:"Editar",children:m.jsx(Zp,{className:"h-4 w-4"})}),m.jsx("button",{onClick:()=>H(re),className:"text-red-600 hover:text-red-900",title:"Excluir",children:m.jsx(ld,{className:"h-4 w-4"})})]})]},re.id)})})]}),ue.length===0&&m.jsx("div",{className:"text-center py-8 text-gray-500",children:"Nenhum usurio encontrado"})]}),p&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:m.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl flex flex-col max-h-[90vh]",children:[m.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:S?"Editar Usurio":"Novo Usurio"}),m.jsx("button",{onClick:de,className:"text-gray-400 hover:text-gray-600 transition-colors",title:"Fechar","aria-label":"Fechar modal",children:m.jsx(Su,{className:"h-6 w-6"})})]}),m.jsxs("div",{className:"overflow-y-auto flex-1 p-6",children:[k&&m.jsxs("div",{className:"mb-6 p-4 bg-red-50 border-2 border-red-300 rounded-lg flex items-start shadow-sm animate-shake",children:[m.jsx(sc,{className:"h-6 w-6 text-red-600 mr-3 flex-shrink-0 mt-0.5"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"text-sm font-semibold text-red-900 mb-1",children:"Erro de Validao"}),m.jsx("p",{className:"text-sm text-red-800",children:k})]})]}),m.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:m.jsxs("p",{className:"text-xs text-blue-800",children:[m.jsx("strong",{children:"Campos obrigatrios:"})," Todos os campos marcados com ",m.jsx("span",{className:"text-red-600 font-bold",children:"*"})," devem ser preenchidos."]})}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(pn,{label:"Nome Completo *",value:J.full_name,onChange:re=>ce($t(kt({},J),{full_name:re.target.value})),placeholder:"Joo da Silva"}),m.jsx(pn,{label:"Email *",type:"email",value:J.email,onChange:re=>ce($t(kt({},J),{email:re.target.value})),placeholder:"joao@empresa.com",disabled:!!S}),m.jsxs("div",{className:"relative",children:[m.jsx(pn,{label:S?"Nova Senha (deixe em branco para manter)":"Senha *",type:L?"text":"password",value:J.password,onChange:re=>ce($t(kt({},J),{password:re.target.value})),placeholder:"********"}),m.jsx("button",{type:"button",onClick:()=>T(!L),className:"absolute right-3 top-9 text-gray-400 hover:text-gray-700 hover:bg-gray-100 rounded p-1 transition-colors",title:L?"Ocultar senha":"Mostrar senha",children:L?m.jsx(mu,{className:"h-5 w-5"}):m.jsx(gu,{className:"h-5 w-5"})})]}),m.jsxs(Bi,{label:"Perfil *",value:J.role,onChange:re=>ce($t(kt({},J),{role:re.target.value})),children:[m.jsx("option",{value:"",children:"Selecione..."}),m.jsx("option",{value:"admin",children:"Administrador"}),m.jsx("option",{value:"tecnico",children:"Tcnico"}),m.jsx("option",{value:"cliente",children:"Cliente"})]}),m.jsxs(Bi,{label:"Empresa Principal *",value:J.company_id,onChange:re=>ce($t(kt({},J),{company_id:re.target.value})),children:[m.jsx("option",{value:"",children:"Selecione..."}),r.map(re=>m.jsx("option",{value:re.id,children:re.name},re.id))]}),J.company_id&&se.length>0&&m.jsxs("div",{className:"border-2 border-blue-200 rounded-lg p-4 bg-blue-50",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-800",children:"Empresas Adicionais (opcional)"}),m.jsx("button",{type:"button",onClick:ae,className:"px-3 py-1.5 text-xs font-semibold rounded-md transition-colors bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1",children:le?" Desmarcar todas":" Selecionar todas"})]}),m.jsx("div",{className:"space-y-2.5 max-h-48 overflow-y-auto bg-white rounded-md p-3 border border-gray-200",children:se.map(re=>m.jsxs("label",{className:"flex items-center p-2 rounded hover:bg-blue-50 cursor-pointer transition-colors",children:[m.jsx("input",{type:"checkbox",checked:(J.additional_company_ids||[]).includes(re.id),onChange:()=>ie(re.id),className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 focus:ring-2 cursor-pointer"}),m.jsx("span",{className:"ml-3 text-sm text-gray-700 font-medium",children:re.name})]},re.id))}),m.jsx("p",{className:"mt-2 text-xs text-gray-600 italic",children:"Selecione empresas adicionais alm da empresa principal"})]})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t bg-gray-50",children:[m.jsx("button",{onClick:de,disabled:w,className:"px-4 py-2 rounded-md text-sm font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancelar"}),m.jsx("button",{onClick:D,disabled:w,className:"px-4 py-2 rounded-md text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:w?m.jsxs(m.Fragment,{children:[m.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Salvando..."]}):S?"Atualizar Usurio":"Criar Usurio"})]})]})})]})},fN=({setPage:i})=>{var de;const{profile:e,user:n,refreshProfile:r}=ys(),[o,l]=Te.useState(!1),[u,h]=Te.useState(null),[f,p]=Te.useState((e==null?void 0:e.full_name)||""),[y,S]=Te.useState((e==null?void 0:e.phone)||""),[N,w]=Te.useState(""),[C,L]=Te.useState(""),[T,k]=Te.useState(""),[G,M]=Te.useState(!1),[z,J]=Te.useState(!1),[ce,ne]=Te.useState(!1),X=()=>fe(null,null,function*(){try{if(l(!0),h(null),!f.trim()){h({type:"error",text:"Nome  obrigatrio"});return}const{error:D}=yield jt.from("user_profiles").update({full_name:f,phone:y||null}).eq("id",n==null?void 0:n.id);if(D)throw D;h({type:"success",text:"Perfil atualizado com sucesso!"}),yield new Promise(H=>setTimeout(H,500)),yield r()}catch(D){console.error("Erro ao atualizar perfil:",D),h({type:"error",text:"Erro ao atualizar perfil"})}finally{l(!1)}}),F=()=>fe(null,null,function*(){try{if(l(!0),h(null),!N||!C||!T){h({type:"error",text:"Preencha todos os campos de senha"});return}if(C!==T){h({type:"error",text:"As senhas no coincidem"});return}if(C.length<6){h({type:"error",text:"A nova senha deve ter pelo menos 6 caracteres"});return}const{error:D}=yield jt.auth.signInWithPassword({email:(e==null?void 0:e.email)||"",password:N});if(D){h({type:"error",text:"Senha atual incorreta"});return}const{error:H}=yield jt.auth.updateUser({password:C});if(H)throw H;h({type:"success",text:"Senha alterada com sucesso!"}),w(""),L(""),k("")}catch(D){console.error("Erro ao alterar senha:",D),h({type:"error",text:"Erro ao alterar senha"})}finally{l(!1)}});return e?m.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[m.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[m.jsx(O5,{className:"h-8 w-8 mr-2 text-blue-600"}),"Meu Perfil"]}),m.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Gerencie suas informaes pessoais e senha"})]}),m.jsxs("button",{onClick:()=>i("dashboard"),className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Voltar ao Dashboard",children:[m.jsx(gs,{className:"h-5 w-5"}),m.jsx("span",{className:"font-medium",children:"Voltar"})]})]}),u&&m.jsxs("div",{className:`mb-6 p-4 rounded-md flex items-start ${u.type==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[u.type==="success"?m.jsx(ac,{className:"h-5 w-5 text-green-600 mr-2 flex-shrink-0 mt-0.5"}):m.jsx(sc,{className:"h-5 w-5 text-red-600 mr-2 flex-shrink-0 mt-0.5"}),m.jsx("span",{className:`text-sm ${u.type==="success"?"text-green-800":"text-red-800"}`,children:u.text})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informaes Pessoais"}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(pn,{label:"Nome Completo",value:f,onChange:D=>p(D.target.value),placeholder:"Seu nome completo"}),m.jsx(pn,{label:"Email",type:"email",value:e.email,disabled:!0,className:"bg-gray-50 cursor-not-allowed"}),m.jsx(pn,{label:"Telefone",type:"tel",value:y,onChange:D=>S(D.target.value),placeholder:"(00) 00000-0000"}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Perfil"}),m.jsx("input",{type:"text",value:e.role==="admin"?"Administrador":e.role==="tecnico"?"Tcnico":"Cliente",disabled:!0,title:"Perfil do usurio",className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 cursor-not-allowed"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Empresa"}),m.jsx("input",{type:"text",value:((de=e.company)==null?void 0:de.name)||"N/A",disabled:!0,title:"Empresa do usurio",className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 cursor-not-allowed"})]})]}),m.jsx(Oa,{onClick:X,disabled:o,className:"w-full bg-blue-600 hover:bg-blue-700",children:o?"Salvando...":"Salvar Alteraes"})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Alterar Senha"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx(pn,{label:"Senha Atual",type:G?"text":"password",value:N,onChange:D=>w(D.target.value),placeholder:"Digite sua senha atual"}),m.jsx("button",{type:"button",onClick:()=>M(!G),className:"absolute right-3 top-9 text-gray-400 hover:text-gray-600",title:G?"Ocultar senha":"Mostrar senha",children:G?m.jsx(mu,{className:"h-5 w-5"}):m.jsx(gu,{className:"h-5 w-5"})})]}),m.jsxs("div",{className:"relative",children:[m.jsx(pn,{label:"Nova Senha",type:z?"text":"password",value:C,onChange:D=>L(D.target.value),placeholder:"Digite a nova senha"}),m.jsx("button",{type:"button",onClick:()=>J(!z),className:"absolute right-3 top-9 text-gray-400 hover:text-gray-600",title:z?"Ocultar senha":"Mostrar senha",children:z?m.jsx(mu,{className:"h-5 w-5"}):m.jsx(gu,{className:"h-5 w-5"})})]}),m.jsxs("div",{className:"relative",children:[m.jsx(pn,{label:"Confirmar Nova Senha",type:ce?"text":"password",value:T,onChange:D=>k(D.target.value),placeholder:"Digite a nova senha novamente"}),m.jsx("button",{type:"button",onClick:()=>ne(!ce),className:"absolute right-3 top-9 text-gray-400 hover:text-gray-600",title:ce?"Ocultar senha":"Mostrar senha",children:ce?m.jsx(mu,{className:"h-5 w-5"}):m.jsx(gu,{className:"h-5 w-5"})})]}),m.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:[m.jsx("p",{className:"text-xs text-blue-800",children:m.jsx("strong",{children:"Dicas de segurana:"})}),m.jsxs("ul",{className:"text-xs text-blue-700 mt-1 ml-4 list-disc space-y-1",children:[m.jsx("li",{children:"Use pelo menos 6 caracteres"}),m.jsx("li",{children:"Misture letras, nmeros e smbolos"}),m.jsx("li",{children:"No use senhas bvias ou repetidas"})]})]}),m.jsx(Oa,{onClick:F,disabled:o,className:"w-full bg-purple-600 hover:bg-purple-700",children:o?"Alterando...":"Alterar Senha"})]})]})]})]}):m.jsx("div",{className:"flex justify-center items-center h-96",children:m.jsx("div",{className:"text-gray-600",children:"Carregando perfil..."})})},dN=()=>{const{profile:i,user:e,refreshProfile:n}=ys(),[r,o]=Te.useState(""),[l,u]=Te.useState(""),[h,f]=Te.useState(!1),[p,y]=Te.useState(!1),[S,N]=Te.useState(!1),[w,C]=Te.useState(""),L=()=>fe(null,null,function*(){try{if(N(!0),C(""),!r||!l){C("Preencha todos os campos");return}if(r!==l){C("As senhas no coincidem");return}if(r.length<6){C("A senha deve ter pelo menos 6 caracteres");return}if(!dn){console.error(" supabaseAdmin no est configurado!"),C("Erro de configurao. Entre em contato com o administrador.");return}console.log(" supabaseAdmin est configurado"),console.log(" Atualizando senha para userId:",e==null?void 0:e.id);const{error:T}=yield jt.auth.updateUser({password:r});if(T)throw console.error(" Erro ao atualizar senha:",T),T;console.log(" Senha alterada com sucesso!"),console.log(" Atualizando flag force_password_change para false..."),console.log(" User ID:",e==null?void 0:e.id);const{data:k}=yield dn.from("user_profiles").select("force_password_change").eq("id",e==null?void 0:e.id).single();console.log(" Valor ANTES da atualizao:",k);const{data:G,error:M}=yield dn.from("user_profiles").update({force_password_change:!1}).eq("id",e==null?void 0:e.id).select();if(M)throw console.error(" Erro ao atualizar flag:",M),M;console.log(" Flag atualizada no banco - Resposta do UPDATE:",G);const{data:z}=yield dn.from("user_profiles").select("force_password_change").eq("id",e==null?void 0:e.id).single();console.log(" Valor DEPOIS da atualizao:",z),console.log(" Aguardando 1 segundo para propagao no banco..."),yield new Promise(J=>setTimeout(J,1e3)),console.log(" Atualizando perfil no contexto..."),yield n(),console.log(" Perfil atualizado no contexto!"),console.log(" Verificando perfil atual aps refresh:",i),(i==null?void 0:i.force_password_change)===!0?(console.error(" AVISO: Perfil ainda mostra force_password_change=true aps atualizao!"),console.error(" Tentando recarregar a pgina como fallback..."),yield new Promise(J=>setTimeout(J,500)),window.location.reload()):console.log(" Sucesso! A tela deve mudar para o dashboard agora.")}catch(T){console.error("Erro ao alterar senha:",T),C("Erro ao alterar senha. Tente novamente.")}finally{N(!1)}});return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-8",children:[m.jsx("div",{className:"flex justify-center mb-4",children:m.jsx("div",{className:"bg-yellow-100 rounded-full p-3",children:m.jsx(sc,{className:"h-12 w-12 text-yellow-600"})})}),m.jsx("h1",{className:"text-2xl font-bold text-gray-900 text-center mb-2",children:"Alterao de Senha Obrigatria"}),m.jsx("p",{className:"text-sm text-gray-600 text-center mb-6",children:"Por segurana, voc precisa alterar sua senha no primeiro acesso"}),m.jsxs("div",{className:"bg-gray-50 rounded-md p-4 mb-6",children:[m.jsxs("p",{className:"text-sm text-gray-700",children:[m.jsx("strong",{children:"Nome:"})," ",i==null?void 0:i.full_name]}),m.jsxs("p",{className:"text-sm text-gray-700 mt-1",children:[m.jsx("strong",{children:"Email:"})," ",i==null?void 0:i.email]})]}),w&&m.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md flex items-start",children:[m.jsx(sc,{className:"h-5 w-5 text-red-600 mr-2 flex-shrink-0 mt-0.5"}),m.jsx("span",{className:"text-sm text-red-800",children:w})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx(pn,{label:"Nova Senha",type:h?"text":"password",value:r,onChange:T=>o(T.target.value),placeholder:"Digite sua nova senha"}),m.jsx("button",{type:"button",onClick:()=>f(!h),className:"absolute right-3 top-9 text-gray-400 hover:text-gray-600",title:h?"Ocultar senha":"Mostrar senha",children:h?m.jsx(mu,{className:"h-5 w-5"}):m.jsx(gu,{className:"h-5 w-5"})})]}),m.jsxs("div",{className:"relative",children:[m.jsx(pn,{label:"Confirmar Nova Senha",type:p?"text":"password",value:l,onChange:T=>u(T.target.value),placeholder:"Digite a senha novamente"}),m.jsx("button",{type:"button",onClick:()=>y(!p),className:"absolute right-3 top-9 text-gray-400 hover:text-gray-600",title:p?"Ocultar senha":"Mostrar senha",children:p?m.jsx(mu,{className:"h-5 w-5"}):m.jsx(gu,{className:"h-5 w-5"})})]}),m.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:[m.jsx("p",{className:"text-xs text-blue-800",children:m.jsx("strong",{children:"Requisitos de segurana:"})}),m.jsxs("ul",{className:"text-xs text-blue-700 mt-1 ml-4 list-disc space-y-1",children:[m.jsx("li",{children:"Mnimo de 6 caracteres"}),m.jsx("li",{children:"Use uma combinao de letras, nmeros e smbolos"}),m.jsx("li",{children:"Evite senhas bvias ou fceis de adivinhar"})]})]}),m.jsx(Oa,{onClick:L,disabled:S,className:"w-full bg-blue-600 hover:bg-blue-700",children:S?"Alterando senha...":"Confirmar Nova Senha"})]}),m.jsx("p",{className:"text-xs text-gray-500 text-center mt-6",children:"Esta  uma medida de segurana para proteger sua conta. Aps alterar a senha, voc ter acesso completo ao sistema."})]})})},pN=({setPage:i})=>{const{profile:e}=ys(),[n,r]=Te.useState(!0),[o,l]=Te.useState(!1),[u,h]=Te.useState(!1),[f,p]=Te.useState(null),[y,S]=Te.useState("Portal de Chamados"),[N,w]=Te.useState(null),[C,L]=Te.useState("#2563eb"),[T,k]=Te.useState(null);Te.useEffect(()=>{G()},[]);const G=()=>fe(null,null,function*(){try{console.log(" [SystemSettings] Iniciando fetchSettings..."),r(!0);const ce=dn||jt;console.log(" [SystemSettings] Usando client:",dn?"ADMIN":"NORMAL");const ne=ce.from("system_settings").select("*"),X=new Promise((D,H)=>setTimeout(()=>H(new Error(" Timeout: A consulta demorou mais de 10 segundos")),1e4)),{data:F,error:de}=yield Promise.race([ne,X]);if(console.log(" [SystemSettings] Resultado:",{success:!de,count:F==null?void 0:F.length}),de)throw de;F&&F.forEach(D=>{switch(D.setting_key){case"portal_name":S(D.setting_value||"Portal de Chamados");break;case"logo_url":w(D.setting_value),k(D.setting_value);break;case"primary_color":L(D.setting_value||"#2563eb");break}})}catch(ce){console.error(" [SystemSettings] Erro ao buscar configuraes:",ce),p({type:"error",text:ce instanceof Error?ce.message:"Erro ao carregar configuraes"})}finally{console.log(" [SystemSettings] Finalizado"),r(!1)}}),M=ce=>fe(null,null,function*(){var ne;try{const X=(ne=ce.target.files)==null?void 0:ne[0];if(!X)return;if(!X.type.startsWith("image/")){p({type:"error",text:"Por favor, selecione uma imagem vlida"});return}if(X.size>2*1024*1024){p({type:"error",text:"Imagem muito grande. Mximo 2MB"});return}h(!0),p(null);const F=X.name.split(".").pop(),D=`logos/${`logo-${Date.now()}.${F}`}`,{error:H}=yield jt.storage.from("portal-assets").upload(D,X,{cacheControl:"3600",upsert:!1});if(H)throw console.error("Erro no upload:",H),H;const{data:ie}=jt.storage.from("portal-assets").getPublicUrl(D),ae=ie.publicUrl;if(N){const W=N.split("/").slice(-2).join("/");yield jt.storage.from("portal-assets").remove([W])}const{error:ue}=yield jt.from("system_settings").update({setting_value:ae,updated_at:new Date().toISOString(),updated_by:e==null?void 0:e.id}).eq("setting_key","logo_url");if(ue)throw ue;w(ae),k(ae),p({type:"success",text:"Logo atualizada com sucesso!"})}catch(X){console.error("Erro ao fazer upload:",X),p({type:"error",text:"Erro ao fazer upload da imagem"})}finally{h(!1)}}),z=()=>fe(null,null,function*(){if(!(!N||!confirm("Tem certeza que deseja remover a logo?")))try{h(!0);const ce=N.split("/").slice(-2).join("/");yield jt.storage.from("portal-assets").remove([ce]);const{error:ne}=yield jt.from("system_settings").update({setting_value:null,updated_at:new Date().toISOString(),updated_by:e==null?void 0:e.id}).eq("setting_key","logo_url");if(ne)throw ne;w(null),k(null),p({type:"success",text:"Logo removida com sucesso!"})}catch(ce){console.error("Erro ao remover logo:",ce),p({type:"error",text:"Erro ao remover logo"})}finally{h(!1)}}),J=()=>fe(null,null,function*(){try{l(!0),p(null);const{error:ce}=yield jt.from("system_settings").update({setting_value:y,updated_at:new Date().toISOString(),updated_by:e==null?void 0:e.id}).eq("setting_key","portal_name");if(ce)throw ce;const{error:ne}=yield jt.from("system_settings").update({setting_value:C,updated_at:new Date().toISOString(),updated_by:e==null?void 0:e.id}).eq("setting_key","primary_color");if(ne)throw ne;p({type:"success",text:"Configuraes salvas com sucesso!"})}catch(ce){console.error("Erro ao salvar configuraes:",ce),p({type:"error",text:"Erro ao salvar configuraes"})}finally{l(!1)}});return n?m.jsx("div",{className:"flex justify-center items-center h-96",children:m.jsx(Ra,{className:"h-8 w-8 animate-spin text-blue-600"})}):m.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[m.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[m.jsx(M5,{className:"h-8 w-8 mr-2 text-blue-600"}),"Configuraes do Sistema"]}),m.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Personalize a aparncia e informaes do portal"})]}),m.jsxs("button",{onClick:()=>i("dashboard"),className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Voltar ao Dashboard",children:[m.jsx(gs,{className:"h-5 w-5"}),m.jsx("span",{className:"font-medium",children:"Voltar"})]})]}),f&&m.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-start ${f.type==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[f.type==="success"?m.jsx(c2,{className:"h-5 w-5 text-green-600 mr-2 flex-shrink-0 mt-0.5"}):m.jsx(Su,{className:"h-5 w-5 text-red-600 mr-2 flex-shrink-0 mt-0.5"}),m.jsx("p",{className:`text-sm font-medium ${f.type==="success"?"text-green-800":"text-red-800"}`,children:f.text})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[m.jsx(o3,{className:"h-5 w-5 mr-2 text-blue-600"}),"Logo do Portal"]}),m.jsxs("div",{className:"space-y-4",children:[T&&m.jsx("div",{className:"flex items-center justify-center p-6 bg-gray-50 rounded-lg border-2 border-gray-200",children:m.jsx("img",{src:T,alt:"Logo do Portal",className:"max-h-32 object-contain"})}),m.jsxs("div",{className:"flex gap-3",children:[m.jsxs("label",{className:"flex-1",children:[m.jsx("input",{type:"file",accept:"image/*",onChange:M,disabled:u,className:"hidden"}),m.jsx("div",{className:`
                                    flex items-center justify-center gap-2 px-4 py-3 
                                    bg-blue-600 hover:bg-blue-700 text-white font-medium 
                                    rounded-lg cursor-pointer transition-colors
                                    ${u?"opacity-50 cursor-not-allowed":""}
                                `,children:u?m.jsxs(m.Fragment,{children:[m.jsx(Ra,{className:"h-5 w-5 animate-spin"}),m.jsx("span",{children:"Enviando..."})]}):m.jsxs(m.Fragment,{children:[m.jsx(j3,{className:"h-5 w-5"}),m.jsx("span",{children:T?"Trocar Logo":"Enviar Logo"})]})})]}),T&&m.jsx("button",{onClick:z,disabled:u,className:"px-4 py-3 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50",title:"Remover Logo","aria-label":"Remover Logo",children:m.jsx(Su,{className:"h-5 w-5"})})]}),m.jsx("p",{className:"text-xs text-gray-500",children:"Formatos aceitos: PNG, JPG, SVG. Tamanho mximo: 2MB"})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informaes Gerais"}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(pn,{id:"portal_name",label:"Nome do Portal",value:y,onChange:ce=>S(ce.target.value),placeholder:"Ex: Portal de Chamados"}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cor Primria"}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"h-10 w-20 rounded border border-gray-300 flex-shrink-0 primary-color-preview",style:{"--primary-color":C},"aria-label":"Preview da cor primria"}),m.jsx(pn,{id:"color_hex",label:"",value:C,onChange:ce=>L(ce.target.value),placeholder:"#2563eb",className:"flex-1"})]})]}),m.jsx("div",{className:"pt-4",children:m.jsxs(Oa,{onClick:J,isLoading:o,disabled:o,className:"w-full",children:[m.jsx(c2,{className:"h-5 w-5 mr-2"}),"Salvar Configuraes"]})})]})]})]})]})},mN=({setPage:i})=>{const{profile:e}=ys(),[n,r]=Te.useState([]),[o,l]=Te.useState([]),[u,h]=Te.useState(!0),[f,p]=Te.useState(null),[y,S]=Te.useState(""),[N,w]=Te.useState("all"),[C,L]=Te.useState(!1),[T,k]=Te.useState(null),G=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="tecnico";Te.useEffect(()=>(console.log(" [EquipmentManagement] Componente montado, iniciando loadData..."),r([]),l([]),M(),()=>{console.log(" [EquipmentManagement] Componente desmontado")}),[]);const M=()=>fe(null,null,function*(){console.log(" Carregando dados..."),h(!0),p(null);const X=((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="tecnico")&&dn?dn:jt;console.log(" [loadData] Usando client:",dn&&((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="tecnico")?"ADMIN":"NORMAL");try{console.log(" Buscando empresas...");const F=X.from("companies").select("*").order("name"),{data:de,error:D}=yield F;if(D)throw console.error(" Erro ao carregar empresas:",D),D;console.log(" Empresas carregadas:",de==null?void 0:de.length),l(de||[]),console.log(" Buscando equipamentos...");const H=X.from("equipments").select("*").order("created_at",{ascending:!1}),{data:ie,error:ae}=yield H;if(ae){if(console.error(" Erro ao carregar equipamentos:",ae),console.error(" Cdigo do erro:",ae.code),console.error(" Mensagem:",ae.message),ae.code==="PGRST116"){p("Erro de permisso ao carregar equipamentos. Verifique as polticas RLS.");return}throw ae}console.log(" Equipamentos carregados:",ie==null?void 0:ie.length),r(ie||[])}catch(F){console.error(" Erro geral ao carregar dados:",F),p("Erro ao carregar dados. Verifique o console para mais detalhes.")}finally{console.log(" loadData finalizado, setando loading=false"),h(!1)}}),z=X=>{k(X||null),L(!0)},J=X=>fe(null,null,function*(){if(!G||!confirm(`Tem certeza que deseja excluir o equipamento:
${X.manufacturer} - ${X.model}?`))return;const de=((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="tecnico")&&dn?dn:jt;try{const{error:D}=yield de.from("equipments").delete().eq("id",X.id);if(D)throw D;alert(" Equipamento excludo com sucesso!"),M()}catch(D){console.error("Erro ao excluir equipamento:",D),alert(" Erro ao excluir equipamento. Tente novamente.")}}),ce=n.filter(X=>{var D;const F=X.manufacturer.toLowerCase().includes(y.toLowerCase())||X.model.toLowerCase().includes(y.toLowerCase())||((D=X.serial_number)==null?void 0:D.toLowerCase().includes(y.toLowerCase())),de=N==="all"||X.company_id===N;return F&&de}),ne=X=>{var F;return((F=o.find(de=>de.id===X))==null?void 0:F.name)||"Empresa no encontrada"};return G?m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gerenciamento de Equipamentos"}),m.jsx("p",{className:"text-gray-600 mt-1",children:"Gerencie todos os equipamentos cadastrados no sistema"})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs(Oa,{onClick:()=>z(),className:"flex items-center gap-2",children:[m.jsx(od,{className:"h-5 w-5"}),"Novo Equipamento"]}),m.jsxs("button",{onClick:()=>i("dashboard"),className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[m.jsx(gs,{className:"h-5 w-5"}),m.jsx("span",{className:"font-medium",children:"Voltar"})]})]})]}),f&&m.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:m.jsxs("p",{className:"text-red-800",children:[" ",f]})}),m.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx(_h,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),m.jsx("input",{type:"text",placeholder:"Buscar por fabricante, modelo ou nmero de srie...",value:y,onChange:X=>S(X.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),m.jsx("label",{htmlFor:"company-select",className:"sr-only",children:"Empresa"}),m.jsxs("select",{id:"company-select","aria-label":"Empresa",value:N,onChange:X=>w(X.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[m.jsx("option",{value:"all",children:"Todas as empresas"}),o.map(X=>m.jsx("option",{value:X.id,children:X.name},X.id))]})]})}),u?m.jsx("div",{className:"flex justify-center py-12",children:m.jsx(Ra,{className:"h-8 w-8 animate-spin text-blue-600"})}):ce.length===0?m.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[m.jsx(Sh,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-500 text-lg",children:"Nenhum equipamento encontrado"})]}):m.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Empresa"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fabricante"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Modelo"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nmero de Srie"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Localizao"}),m.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ce.map(X=>m.jsxs("tr",{className:"hover:bg-gray-50",children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx(rc,{className:"h-5 w-5 text-gray-400 mr-2"}),m.jsx("span",{className:"text-sm font-medium text-gray-900",children:ne(X.company_id)})]})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:X.manufacturer}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:X.model}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:X.serial_number||"-"}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:X.application_type?m.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${X.application_type==="Acesso"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:X.application_type}):m.jsx("span",{className:"text-sm text-gray-500",children:"-"})}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:X.internal_location||"-"}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[m.jsx("button",{onClick:()=>z(X),className:"text-blue-600 hover:text-blue-900 mr-4",title:"Editar",children:m.jsx(Zp,{className:"h-5 w-5"})}),m.jsx("button",{onClick:()=>J(X),className:"text-red-600 hover:text-red-900",title:"Excluir",children:m.jsx(ld,{className:"h-5 w-5"})})]})]},X.id))})]})})}),m.jsx(Vy,{isOpen:C,onClose:()=>{L(!1),k(null)},companies:o,initialEquipment:T,onSaved:()=>fe(null,null,function*(){alert(" Equipamento salvo com sucesso!"),yield M()})})]}):m.jsxs("div",{className:"text-center py-12",children:[m.jsx("p",{className:"text-red-600",children:" Acesso negado. Apenas administradores e tcnicos podem gerenciar equipamentos."}),m.jsx(Oa,{onClick:()=>i("dashboard"),className:"mt-4",children:"Voltar ao Dashboard"})]})},gN=()=>{var M;const{profile:i,signOut:e}=ys(),[n,r]=Te.useState("dashboard"),[o,l]=Te.useState(null),[u,h]=Te.useState("Portal de Chamados"),[f,p]=Te.useState(null),[y,S]=Te.useState(!1),[N,w]=Te.useState(""),[C,L]=Te.useState(void 0);if(Te.useEffect(()=>{fe(null,null,function*(){try{const{data:J}=yield jt.from("system_settings").select("setting_key, setting_value").in("setting_key",["portal_name","logo_url"]);if(J){const ce=J.find(X=>X.setting_key==="portal_name"),ne=J.find(X=>X.setting_key==="logo_url");ce!=null&&ce.setting_value&&h(ce.setting_value),ne!=null&&ne.setting_value&&p(ne.setting_value)}}catch(J){console.error("Erro ao buscar configuraes do sistema:",J)}})},[]),i!=null&&i.force_password_change)return m.jsx(dN,{});const T=z=>{l(z),r("ticket-detail")},k=(z="",J)=>{w(z),S(!0),L(()=>J),r("companies")},G=()=>{switch(n){case"dashboard":return m.jsx(z0,{setPage:r,onViewTicket:T},"dashboard");case"new-ticket":return m.jsx(cN,{setPage:r,onOpenCompanyModal:k},"new-ticket");case"ticket-detail":return o?m.jsx(R3,{ticketId:o,setPage:r},`ticket-${o}`):m.jsx(z0,{setPage:r,onViewTicket:T},"dashboard-fallback");case"reports":return m.jsx(lN,{setPage:r},"reports");case"companies":return m.jsx(uN,{setPage:r,openModal:y,initialCNPJ:N,onModalClose:()=>{S(!1),w(""),L(void 0)},onCompanyCreated:z=>{C&&C(z),S(!1),w(""),L(void 0),r("new-ticket")}},"companies");case"users":return m.jsx(hN,{setPage:r},"users");case"equipments":return m.jsx(mN,{setPage:r},"equipments");case"profile":return m.jsx(fN,{setPage:r},"profile");case"settings":return m.jsx(pN,{setPage:r},"settings");default:return m.jsx(z0,{setPage:r,onViewTicket:T},"dashboard-default")}};return m.jsxs("div",{className:"min-h-screen bg-gray-100",children:[m.jsx("header",{className:"bg-white shadow-sm",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"flex justify-between items-center h-16",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[f?m.jsx("img",{src:f,alt:"Logo",className:"h-10 w-auto object-contain"}):m.jsx(P5,{className:"h-8 w-8 text-blue-600"}),m.jsx("span",{className:"text-xl font-semibold text-gray-800",children:u})]}),m.jsxs("div",{className:"flex items-center",children:[(i==null?void 0:i.role)==="admin"&&m.jsxs(m.Fragment,{children:[n!=="reports"&&m.jsxs("button",{onClick:()=>r("reports"),className:"mr-4 flex items-center px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-100 transition-colors",title:"Relatrios",children:[m.jsx(Y_,{className:"h-5 w-5 mr-1"}),"Relatrios"]}),n!=="companies"&&m.jsxs("button",{onClick:()=>r("companies"),className:"mr-4 flex items-center px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-purple-600 hover:bg-gray-100 transition-colors",title:"Gerenciar Empresas",children:[m.jsx(rc,{className:"h-5 w-5 mr-1"}),"Empresas"]}),n!=="users"&&m.jsxs("button",{onClick:()=>r("users"),className:"mr-4 flex items-center px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-green-600 hover:bg-gray-100 transition-colors",title:"Gerenciar Usurios",children:[m.jsx(B5,{className:"h-5 w-5 mr-1"}),"Usurios"]}),n!=="settings"&&m.jsxs("button",{onClick:()=>r("settings"),className:"mr-4 flex items-center px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-orange-600 hover:bg-gray-100 transition-colors",title:"Configuraes do Portal",children:[m.jsx(M5,{className:"h-5 w-5 mr-1"}),"Configuraes"]})]}),((i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="tecnico")&&n!=="equipments"&&m.jsxs("button",{onClick:()=>r("equipments"),className:"mr-4 flex items-center px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-indigo-600 hover:bg-gray-100 transition-colors",title:"Gerenciar Equipamentos",children:[m.jsx(Sh,{className:"h-5 w-5 mr-1"}),"Equipamentos"]}),n!=="profile"&&m.jsxs("button",{onClick:()=>r("profile"),className:"mr-4 flex items-center px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-100 transition-colors",title:"Meu Perfil",children:[m.jsx(O5,{className:"h-5 w-5 mr-1"}),"Meu Perfil"]}),m.jsxs("div",{className:"mr-4 text-right",children:[m.jsx("p",{className:"text-sm font-medium text-gray-800",children:i==null?void 0:i.full_name}),m.jsx("p",{className:"text-xs text-gray-500",children:(M=i==null?void 0:i.company)==null?void 0:M.name})]}),m.jsx("button",{onClick:e,className:"p-2 rounded-full text-gray-500 hover:text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500",title:"Sair",children:m.jsx(R5,{className:"h-5 w-5 transform -scale-x-100"})})]})]})})}),m.jsx("main",{children:G()})]})},vN=()=>{const{user:i,profile:e,loading:n}=ys();return n?m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:m.jsx(Ra,{className:"h-12 w-12 animate-spin text-blue-600"})}):m.jsx(m.Fragment,{children:!i||!e?m.jsx(T3,{}):m.jsx(gN,{})})},yN={clearSession:()=>{console.log(" Limpando sesso do Supabase..."),localStorage.clear(),sessionStorage.clear(),window.location.reload()},showLocalStorage:()=>{console.log(" Dados no localStorage:");for(let i=0;i<localStorage.length;i++){const e=localStorage.key(i);if(e){const n=localStorage.getItem(e);console.log(`  ${e}:`,n)}}},clearSupabaseData:()=>{console.log(" Limpando dados do Supabase..."),Object.keys(localStorage).forEach(e=>{(e.startsWith("sb-")||e.includes("supabase"))&&(localStorage.removeItem(e),console.log(`  Removido: ${e}`))}),console.log(" Dados do Supabase removidos. Recarregue a pgina.")}};typeof window!="undefined"&&(window.debugTools=yN);const bN={testConnection(){return fe(this,null,function*(){console.log(" [Debug] Testando conexo com Supabase...");try{const i=Date.now(),{data:e,error:n}=yield jt.from("user_profiles").select("count").limit(1),r=Date.now()-i;return console.log(" [Debug] Conexo OK!",{duration:`${r}ms`,data:e,error:n}),{success:!0,duration:r,error:null}}catch(i){return console.error(" [Debug] Erro na conexo:",i),{success:!1,duration:0,error:i}}})},checkAuth(){return fe(this,null,function*(){var i;console.log(" [Debug] Verificando autenticao...");try{const{data:{session:e},error:n}=yield jt.auth.getSession();return console.log(" [Debug] Auth Status:",{hasSession:!!e,user:(i=e==null?void 0:e.user)==null?void 0:i.id,expiresAt:e==null?void 0:e.expires_at,error:n}),{session:e,error:n}}catch(e){return console.error(" [Debug] Erro ao verificar auth:",e),{session:null,error:e}}})},clearAll(){return fe(this,null,function*(){console.log(" [Debug] Limpando cache e sesso...");try{yield jt.auth.signOut(),localStorage.clear(),sessionStorage.clear(),console.log(" [Debug] Cache limpo! Recarregue a pgina.")}catch(i){console.error(" [Debug] Erro ao limpar:",i)}})},forceReset(){return fe(this,null,function*(){console.log(" [Debug] Forando reset completo..."),yield this.clearAll(),window.location.reload()})}};typeof window!="undefined"&&(window.supabaseDebug=bN,console.log(" Use supabaseDebug no console para debugar problemas com Supabase"),console.log("Comandos disponveis:"),console.log("  - supabaseDebug.testConnection()  // Testa conexo bsica"),console.log("  - supabaseDebug.checkAuth()       // Verifica status de autenticao"),console.log("  - supabaseDebug.clearAll()        // Limpa cache e sesso"),console.log("  - supabaseDebug.forceReset()      // Reset completo + reload"));pw.createRoot(document.getElementById("root")).render(m.jsx(M_,{children:m.jsx(vN,{})}));export{Cn as _,xN as c,Ip as g};
